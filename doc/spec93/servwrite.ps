%!PS-Adobe-2.0
%%Title: 
%%Creator: FrameMaker
%%CreationDate: Tue Jan 31 18:49:39 1995
%%For: billb
%%DocumentFonts: (atend)
%%Pages: (atend) 1
%%BoundingBox: (atend)
%%DocumentPaperSizes: Letter
%%Orientation: Portrait
%%NXNextStepVersion: 3.0
%%EndComments

%%BeginProcSet: /usr/lib/NextStep/printPackage.ps 3.0
%!
% NeXT Printing Package
% Version: 3.0
% Copyright: 1988, NeXT, Inc.

/__NXdef{1 index where{pop pop pop}{def}ifelse}bind def
/__NXbdef{1 index where{pop pop pop}{bind def}ifelse}bind def
/UserObjects 10 array __NXdef
/defineuserobject{
	exch dup 1 add dup UserObjects length gt{
		array dup 0 UserObjects putinterval
		/UserObjects exch def
	}{pop}ifelse UserObjects exch 3 -1 roll put
}__NXbdef
/undefineuserobject{UserObjects exch null put}__NXbdef
/execuserobject{UserObjects exch get exec}__NXbdef
/__NXRectPath{4 2 roll moveto 1 index 0 rlineto
0 exch rlineto neg 0 rlineto closepath}__NXbdef
/__NXProcessRectArgs{
	1 index type /arraytype eq{
		exch 0 4 2 index length 1 sub{
			dup 3 add 1 exch{1 index exch get exch}for
			5 1 roll 5 index exec
		}for pop pop
	}{exec}ifelse
}__NXbdef
/rectfill{gsave newpath {__NXRectPath fill} __NXProcessRectArgs grestore}__NXbdef
/rectclip{newpath {__NXRectPath} __NXProcessRectArgs clip newpath}__NXbdef
/rectstroke{
	gsave newpath dup type /arraytype eq{dup length 6 eq}{false}ifelse{
		{gsave __NXRectPath null concat stroke grestore}
		dup length array cvx copy dup 2 4 -1 roll put __NXProcessRectArgs
	}{{__NXRectPath stroke} __NXProcessRectArgs}ifelse grestore
}__NXbdef
/_NXLevel2 systemdict /languagelevel known {languagelevel 2 ge}{false}ifelse __NXdef
/xyshow{
	0 1 3 index length 1 sub{
		currentpoint 4 index 3 index 1 getinterval show
		3 index 3 index 2 mul 1 add get add exch
		3 index	3 index 2 mul get add exch moveto pop
	}for pop pop
}__NXbdef
/xshow{
	0 1 3 index length 1 sub{
		currentpoint 4 index 3 index 1 getinterval show
		exch 3 index 3 index get add exch moveto pop
	}for pop pop
}__NXbdef
/yshow{
	0 1 3 index length 1 sub{
		currentpoint 4 index 3 index 1 getinterval show
		3 index 3 index get add moveto pop
	}for pop pop
}__NXbdef
/arct{arcto pop pop pop pop}__NXbdef
/setbbox{pop pop pop pop}__NXbdef
/ucache{}__NXbdef
/ucachestatus{mark 0 0 0 0 0}__NXbdef
/setucacheparams{cleartomark}__NXbdef
/uappend{systemdict begin cvx exec end}__NXbdef
/ueofill{gsave newpath uappend eofill grestore}__NXbdef
/ufill{gsave newpath uappend fill grestore}__NXbdef
/ustroke{
	gsave newpath dup length 6 eq
	{exch uappend concat}{uappend}ifelse
	stroke grestore
}__NXbdef
/__NXustrokepathMatrix dup where {pop pop}{matrix def}ifelse
/ustrokepath{
	newpath dup length 6 eq{
		exch uappend __NXustrokepathMatrix currentmatrix exch concat
		strokepath setmatrix
	}{uappend strokepath}ifelse
} __NXbdef
/upath{
	[exch {/ucache cvx}if pathbbox /setbbox cvx
	 {/moveto cvx}{/lineto cvx}{/curveto cvx}{/closepath cvx}pathforall]cvx
} __NXbdef
/setstrokeadjust{pop}__NXbdef
/currentstrokeadjust{false}__NXbdef
/selectfont{exch findfont exch
dup type /arraytype eq {makefont}{scalefont}ifelse setfont}__NXbdef
/_NXCombineArrays{
	counttomark dup 2 add index dup length 3 -1 roll {
		2 index length sub dup 4 1 roll 1 index exch 4 -1 roll putinterval exch
	}repeat pop pop pop
}__NXbdef
/flushgraphics{}def
/setwindowtype{pop pop}def
/currentwindowtype{pop 0}def
/setalpha{pop}def
/currentalpha{1.0}def
/hidecursor{}def
/obscurecursor{}def
/revealcursor{}def
/setcursor{4 {pop}repeat}bind def
/showcursor{}def
/NextStepEncoding where not{
/NextStepEncoding StandardEncoding 256 array copy def
0 [129/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/Ccedilla/Egrave
/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex/Idieresis
/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis/Ugrave/Uacute
/Ucircumflex/Udieresis/Yacute/Thorn/mu/multiply/divide/copyright
176/registered 181/brokenbar 190/logicalnot 192/onesuperior 201/twosuperior
204/threesuperior 209/plusminus/onequarter/onehalf/threequarters/agrave
/aacute/acircumflex/atilde/adieresis/aring/ccedilla/egrave/eacute
/ecircumflex/edieresis/igrave 226/iacute 228/icircumflex/idieresis/eth
/ntilde 236/ograve/oacute/ocircumflex/otilde/odieresis 242/ugrave/uacute
/ucircumflex 246/udieresis/yacute 252/thorn/ydieresis]
{dup type /nametype eq
 {NextStepEncoding 2 index 2 index put pop 1 add}{exch pop}ifelse
}forall pop
/NextStepEncoding NextStepEncoding readonly def
/_NXfstr 128 string dup 0 (_NX) putinterval def
/_NXfindfont /findfont load def
/findfont{
 % Because we can never let NextStepEncoding get into
 % SharedFontDirectory, we cannot reencode a font to NextStepEncoding
 % if we are in shared mode.  So if currentshared is true,
 % we call the normal findfont and return that
 /currentshared where {pop currentshared} {false} ifelse
 {_NXfindfont}
 {dup _NXfstr 3 125 getinterval cvs length 3 add _NXfstr 0 3 -1 roll
  getinterval cvn exch FontDirectory 2 index known 
  {pop FontDirectory exch get}
  {_NXfindfont dup /Encoding get StandardEncoding eq
   {	dup length dict exch
	{1 index /FID ne {2 index 3 1 roll put}{pop pop}ifelse}forall
	 dup /Encoding NextStepEncoding put definefont
	}{exch pop} ifelse
   }ifelse
 }ifelse
}bind def
}{pop}ifelse
/_NXImageString {/__NXImageString where{pop}{/__NXImageString 4000 string __NXdef}ifelse __NXImageString}__NXbdef
/_NXDoImageOp{
	3 dict begin /parr 5 array def 1 index{dup}{1}ifelse /chans exch def
	chans 2 add 2 roll parr 0 chans getinterval astore pop
	5 index 4 index mul 2 index{1 sub 8 idiv 1 add mul}{mul 1 sub 8 idiv 1 add}ifelse
	4 index mul /totbytes exch def pop exch pop
	gsave matrix invertmatrix concat 0.5 setgray 0 0 4 2 roll rectfill grestore
	{0 1 chans 1 sub{parr exch get exec length totbytes exch sub /totbytes exch def}for totbytes 0 le{exit}if}loop end
}__NXbdef
/alphaimage{1 add _NXDoImageOp}def
_NXLevel2{ 
	/NXCalibratedRGBColorSpace where{pop}{
		/NXCalibratedRGBColorSpace
		{mark /NXCalibratedRGB /ColorSpace findresource exch pop}stopped
		{cleartomark /NXCalibratedRGB[/CIEBasedABC 2 dict dup begin 
		/MatrixLMN[.4124 .2126 .0193 .3576 .7152 .1192 .1805 .0722 .9505]def
		/WhitePoint[.9505 1 1.089] def end] /ColorSpace defineresource}if def}ifelse
	/nxsetrgbcolor{NXCalibratedRGBColorSpace setcolorspace setcolor}__NXbdef
	/nxsetgray{dup dup nxsetrgbcolor}__NXbdef
	/_NXCalibratedImage{exch{array astore dup length true}{false}ifelse
		8 -1 roll{NXCalibratedRGBColorSpace setcolorspace}if
		8 dict dup 9 1 roll begin /ImageType 1 def /MultipleDataSources exch def
		currentcolorspace 0 get /Indexed eq{pop /Decode[0 2 6 index exp 1 sub]def}
		{2 mul dup array /Decode exch def 1 sub 0 1 3 -1 roll{Decode exch dup 2 mod put}for}ifelse
		/DataSource exch def /ImageMatrix exch def 
		/BitsPerComponent exch def /Height exch def /Width exch def end image}__NXbdef
} {
	/setcmykcolor{
		1.0 exch sub dup dup 6 -1 roll sub dup 0 lt{pop 0}if 5 1 roll
		4 -1 roll sub dup 0 lt{pop 0}if 3 1 roll exch sub dup 0 lt{pop 0}if setrgbcolor}__NXbdef
	/currentcmykcolor{currentrgbcolor 3{1.0 exch sub 3 1 roll}repeat 0}__NXbdef
	/colorimage{_NXDoImageOp}__NXbdef
	/nxsetrgbcolor{setrgbcolor}__NXbdef /nxsetgray{setgray}__NXbdef
	/setpattern{pop .5 setgray}__NXbdef
	/_NXCalibratedImage{dup 1 eq {pop pop image}{colorimage}ifelse pop}__NXbdef
} ifelse
/_NXSetCMYKOrRGB where{pop}{
	mark{systemdict /currentwindow get exec}stopped
	{{pop pop pop setcmykcolor}}{{nxsetrgbcolor pop pop pop pop}}ifelse /_NXSetCMYKOrRGB exch def cleartomark
}ifelse
%%EndProcSet

_NXLevel2{/_NXsethsb where{pop}{/_NXsethsb /sethsbcolor load def}ifelse /sethsbcolor{_NXsethsb currentrgbcolor nxsetrgbcolor}def /setrgbcolor{nxsetrgbcolor}bind def /setgray{nxsetgray}bind def
}if
/FMwantcolorprinting true def
%-
%- FrameMaker Postscript Prolog 3.0, for use with FrameMaker 3.0
%- Copyright (c) 1986, 87, 88, 89, 90, 91 by Frame Technology, Inc.
%- All rights reserved.
%-
%-
/landscape false def/t300[0.000 0.006 0.011 0.017 0.022 0.028 0.033 0.039
0.045 0.050 0.056 0.061 0.067 0.073 0.078 0.084 0.089 0.095 0.101 0.117 0.133
0.148 0.164 0.179 0.195 0.210 0.225 0.240 0.255 0.270 0.285 0.299 0.314 0.329
0.344 0.359 0.374 0.389 0.404 0.419 0.435 0.451 0.466 0.482 0.498 0.513 0.529
0.544 0.560 0.576 0.591 0.610 0.632 0.654 0.677 0.699 0.721 0.744 0.766 0.788
0.821 0.866 0.911 0.955 1.000]def/t400[0.000 0.003 0.006 0.009 0.012 0.014
0.017 0.020 0.023 0.026 0.029 0.032 0.035 0.038 0.041 0.043 0.046 0.049 0.056
0.063 0.071 0.079 0.087 0.095 0.104 0.117 0.130 0.143 0.157 0.173 0.189 0.205
0.225 0.245 0.259 0.272 0.285 0.298 0.314 0.329 0.345 0.361 0.376 0.392 0.407
0.423 0.439 0.454 0.470 0.486 0.502 0.528 0.554 0.580 0.605 0.628 0.650 0.672
0.695 0.727 0.762 0.796 0.857 0.922 1.000]def/tlinear[0.000 0.016 0.031 0.047
0.062 0.078 0.094 0.109 0.125 0.141 0.156 0.172 0.188 0.203 0.219 0.234 0.250
0.266 0.281 0.297 0.312 0.328 0.344 0.359 0.375 0.391 0.406 0.422 0.438 0.453
0.469 0.484 0.500 0.516 0.531 0.547 0.562 0.578 0.594 0.609 0.625 0.641 0.656
0.672 0.688 0.703 0.719 0.734 0.750 0.766 0.781 0.797 0.812 0.828 0.844 0.859
0.875 0.891 0.906 0.922 0.938 0.953 0.969 0.984 1.000]def/orgmatrix matrix def
/savematrix{orgmatrix currentmatrix pop}bind def/restorematrix{orgmatrix
setmatrix}bind def/dmatrix matrix def/desiredpat 0 def/dpi 72 0 dmatrix
defaultmatrix dtransform dup mul exch dup mul add sqrt round def/freq dpi
18.75 div 8 div round dup 0 eq{pop 1}if 8 mul dpi exch div def/sangle 1 0
dmatrix defaultmatrix dtransform exch atan def/graymode true def/pats 16 array
def/mymatrix matrix def/savedgray 0 def/F/fill load def/rc/rectclip load def
/GS/gsave load def/GR/grestore load def/SL/setlinewidth load def/SC
/setlinecap load def/CS{closepath S}bind def/A/strokepath load def/TR
/translate load def/L/lineto load def/M/moveto load def/D/curveto load def/C
/closepath load def/T{moveto show}bind def/smat{mymatrix currentmatrix pop}
bind def/rmat{mymatrix setmatrix}bind def/sp{P exch get exec}bind def
systemdict/setshared known{300 dpi eq{/tran t300 def}{/tran t400 def}ifelse}{
/tran tlinear def}ifelse systemdict/xshow known not{/xhow{/pts exch def/str
exch def 0 1 str length 1 sub{currentpoint 3 -1 roll str 1 index 1 getinterval
show 3 1 roll moveto pts exch get 0 rmoveto}for}bind def}{/xhow{checkink xshow
}bind def}ifelse systemdict/xyshow known not{/xyhow{/pts exch def/str exch def
0 1 str length 1 sub{currentpoint 3 -1 roll str 1 index 1 getinterval show 3 1
roll moveto 2 mul pts 1 index get pts 3 -1 roll 1 add get rmoveto}for}bind def
}{/xyhow{checkink xyshow}bind def}ifelse/CR{initclip newpath 4 2 roll M dup 0
exch rlineto exch 0 rlineto 0 exch neg rlineto C clip newpath}bind def
/makecontextpattern{exch pop[null 8 1/setpattern cvx]4 array copy dup 0 5 -1
roll put cvx pats 3 1 roll put}def/P[0 1 15{[/desiredpat 3 -1 roll/store cvx]
cvx}for]def/patoffsetx 0 def/patoffsety 0 def/currentpat null def/FrameDict
250 dict def/FMBEGINPAGE{FrameDict begin}def/FMENDPAGE{end}def/FMLOCAL{
FrameDict begin 0 def end}def FrameDict begin/NaN 0 def/gstring 0 def/gfile 0
def/gindex 0 def/orgxfer 0 def/yscale 0 def/xscale 0 def/FMPrintInColor
systemdict/colorimage known systemdict/currentcolortransfer known or
FMwantcolorprinting and def FMPrintInColor{/HUE 0 def/SAT 0 def/BRIGHT 0 def
/Colors[[0 0][0 0][0.00 1.0][0.37 1.0][0.66 1.0][0.58 1.0][0.83 1.0][0.10 1.0]
]def/K{Colors exch get dup 0 get/HUE exch store 1 get/BRIGHT exch store HUE 0
eq BRIGHT 0 eq and{1.0 SAT sub setgray}{HUE SAT BRIGHT sethsbcolor}ifelse}def
/KT/K load def/mysetgray{/SAT exch 1.0 exch sub store HUE 0 eq BRIGHT 0 eq and
{1.0 SAT sub setgray}{HUE SAT BRIGHT sethsbcolor}ifelse}bind def}{/mysetgray
/setgray load def/K/pop load def/KT/pop load def}ifelse/G{/savedgray exch def
savedgray mysetgray}def/setpattern{/bwidth exch def/bpside exch def/bstring
exch def/onbits 0 def/offbits 0 def freq sangle landscape{90 add}if{/y exch
def/x exch def/xindex x 1 add 2 div bpside mul cvi def/yindex y 1 add 2 div
bpside mul cvi def bstring yindex bwidth mul xindex 8 idiv add get 1 7 xindex
8 mod sub bitshift and 0 ne{/onbits onbits 1 add def 1}{/offbits offbits 1 add
def 0}ifelse}setscreen tran offbits 64 mul offbits onbits add div cvi get
mysetgray}bind def/myfonts[]def/procarray 30 array def 3.86 setmiterlimit
currentscreen cvlit/orgproc exch def/organgle exch def/orgfreq exch def
/currentpat -1 def/checkpat{graymode currentpat desiredpat ne or{pats
desiredpat get exec/graymode false store/currentpat desiredpat store}if}bind
def/Z{checkpat fill}bind def/checkink{graymode not{orgfreq organgle orgproc
cvx setscreen/graymode true store savedgray mysetgray}if}bind def/F{checkink
fill}bind def/dorectfill{checkink rectfill}bind def/dorectstroke{checkink
rectstroke}bind def/S{checkink stroke}bind def/FmEncoding[/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quotesingle/parenleft/parenright/asterisk/plus/comma/hyphen/period
/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon/semicolon/less
/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S/T/U/V/W/X/Y
/Z/bracketleft/backslash/bracketright/asciicircum/underscore/grave/a/b/c/d/e
/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright
/asciitilde/.notdef/Adieresis/Aring/Ccedilla/Eacute/Ntilde/Odieresis
/Udieresis/aacute/agrave/acircumflex/adieresis/atilde/aring/ccedilla/eacute
/egrave/ecircumflex/edieresis/iacute/igrave/icircumflex/idieresis/ntilde
/oacute/ograve/ocircumflex/odieresis/otilde/uacute/ugrave/ucircumflex
/udieresis/dagger/.notdef/cent/sterling/section/bullet/paragraph/germandbls
/registered/copyright/trademark/acute/dieresis/.notdef/AE/Oslash/.notdef
/.notdef/.notdef/.notdef/yen/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/ordfeminine/ordmasculine/.notdef/ae/oslash/questiondown/exclamdown
/logicalnot/.notdef/florin/.notdef/.notdef/guillemotleft/guillemotright
/ellipsis/.notdef/Agrave/Atilde/Otilde/OE/oe/endash/emdash/quotedblleft
/quotedblright/quoteleft/quoteright/.notdef/.notdef/ydieresis/Ydieresis
/fraction/currency/guilsinglleft/guilsinglright/fi/fl/daggerdbl
/periodcentered/quotesinglbase/quotedblbase/perthousand/Acircumflex
/Ecircumflex/Aacute/Edieresis/Egrave/Iacute/Icircumflex/Idieresis/Igrave
/Oacute/Ocircumflex/.notdef/Ograve/Uacute/Ucircumflex/Ugrave/dotlessi
/circumflex/tilde/macron/breve/dotaccent/ring/cedilla/hungarumlaut/ogonek
/caron]def/FmEncode{/basefontdict exch def/newfontdict basefontdict maxlength
3 add dict def basefontdict{exch dup/FID ne{dup/Encoding eq{exch pop
FmEncoding}{exch}ifelse newfontdict 3 1 roll put}{pop pop}ifelse}forall
newfontdict}def/rrectpath{smat 4 2 roll TR/h exch def/w exch def/r exch def
mark r 0 M w 0 w h r arcto w h 0 h r arcto 0 h 0 0 r arcto 0 0 w 0 r arcto C
cleartomark rmat}def/RF{rrectpath F}bind def/RP{checkpat rrectpath fill}bind
def/RS{rrectpath S}bind def/RQ{checkpat rrectpath A fill}bind def/NF{
dorectfill}bind def/NR{checkpat 4 2 roll rectfill}bind def/W{savedgray 5 1
roll 1.0 G dorectfill G}bind def/PP{newpath 3 1 roll M 1 sub{lineto}repeat}
bind def/SP{3 1 roll M 3 div cvi{curveto}repeat}bind def/rectpath{M dup 0 exch
rlineto exch 0 rlineto neg 0 exch rlineto C}def/N{dorectstroke}bind def/NQ{
checkpat 4 2 roll rectstroke}bind def/replbox{M dup 0 exch rlineto exch 0
rlineto neg 0 exch rlineto C currentgray .5 setgray fill setgray pop pop}def
/graybox{currentgray 5 1 roll .6666666 setgray rectfill setgray}bind def
/darkgraybox{currentgray 5 1 roll .333333 setgray rectfill setgray}bind def
/arcpath{newpath TR/h exch def/w exch def/dth exch def/th exch def 90 th dth
add sub 90 th sub dth 0 lt{exch}if 1 h w div neg scale 0 0 w 2 div 5 -2 roll
arc}def/AS{smat arcpath rmat S}bind def/AP{checkpat smat arcpath rmat A fill}
bind def/AF{smat arcpath 0 0 lineto rmat F}bind def/AQ{checkpat smat arcpath 0
0 lineto rmat fill}bind def/mymakefont{/size exch def/name exch def/i exch def
/myfontdict name cvn findfont def myfontdict begin Encoding StandardEncoding
eq/NextStepEncoding where{pop Encoding NextStepEncoding eq or}if end{
myfontdict FmEncode/gfontdict exch def/gfontdict(F   )dup 1 i(   )cvs
putinterval cvn gfontdict definefont def}{/gfontdict myfontdict def}ifelse
/myfonts[myfonts aload pop null]def myfonts i gfontdict[size 0 0 size neg 0 0
]makefont put}def/mymakefontmetric{/BitmapWidths exch 0 eq def mymakefont}def
/FF{myfonts exch get setfont}bind def/cliptowindow{initclip}def
/beginprintcode{GS newpath 1 setlinewidth 0 SL 0 setlinejoin[]0 setdash 0
setgray 10 setmiterlimit/FMdicttop countdictstack 1 add def/FMoptop count 7
sub def 200 dict begin/showpage{}def TR dup neg scale 0.0 0.0 M}def
/endprintcode{count -1 FMoptop{pop pop}for countdictstack -1 FMdicttop{pop
end}for GR}def/beginPSInsetprintcode{/pinsetsave save def newpath 1
setlinewidth 0 setlinecap 0 setlinejoin[]0 setdash 0 setgray 10 setmiterlimit
/FMdicttop countdictstack 1 add def/FMoptop count def 200 dict begin/showpage
{}def/showimage{}def}def/endPSInsetprintcode{count -1 FMoptop{pop pop}for
countdictstack -1 FMdicttop{pop end}for pinsetsave restore}def/cacheimage{
/flip exch def/theta exch def/bps exch def/h exch def/w exch def/destHeight
exch def/destWidth exch def/destY exch def/destX exch def/rowbytes w bps mul 7
add 8 idiv def/buffer rowbytes string def GS destX destY TR theta rotate
destWidth flip{neg}if destHeight scale w h bps[w 0 0 h 0 h]{currentfile buffer
readhexstring pop}bind image GR}def/inch{72 mul}def/paperheight 0 def
/paperwidth 0 def/pagedimen{paperheight sub abs 16 lt exch paperwidth sub abs
16 lt and{/papername exch def}{pop}ifelse}def/setpapername{/papersizedict 14
dict def papersizedict begin/papername/unknown def/Letter 8.5 inch 11.0 inch
pagedimen/LetterSmall 7.68 inch 10.16 inch pagedimen/Tabloid 11.0 inch 17.0
inch pagedimen/Ledger 17.0 inch 11.0 inch pagedimen/Legal 8.5 inch 14.0 inch
pagedimen/Statement 5.5 inch 8.5 inch pagedimen/Executive 7.5 inch 10.0 inch
pagedimen/A3 11.69 inch 16.5 inch pagedimen/A4 8.26 inch 11.69 inch pagedimen
/A4Small 7.47 inch 10.85 inch pagedimen/B4 10.125 inch 14.33 inch pagedimen
/B5 7.16 inch 10.125 inch pagedimen end}def/papersize{papersizedict begin
/Letter{lettertray letter}def/LetterSmall{lettertray lettersmall}def/Tabloid
{11x17tray 11x17}def/Ledger{ledgertray ledger}def/Legal{legaltray legal}def
/Statement{statementtray statement}def/Executive{executivetray executive}def
/A3{a3tray a3}def/A4{a4tray a4}def/A4Small{a4tray a4small}def/B4{b4tray b4}
def/B5{b5tray b5}def/unknown{unknown}def papersizedict dup papername known
{papername}{/unknown}ifelse get end/FMdicttop countdictstack 1 add def
statusdict begin stopped end countdictstack -1 FMdicttop{pop end}for}def
/manualpapersize{papersizedict begin/Letter{letter}def/LetterSmall
{lettersmall}def/Tabloid{11x17}def/Ledger{ledger}def/Legal{legal}def
/Statement{statement}def/Executive{executive}def/A3{a3}def/A4{a4}def/A4Small
{a4small}def/B4{b4}def/B5{b5}def/unknown{unknown}def papersizedict dup
papername known{papername}{/unknown}ifelse get end stopped}def
/desperatepapersize{statusdict/setpageparams known{paperwidth paperheight 0 1
statusdict begin{setpageparams}stopped pop end}if}def/manualfeed false def
/FmHorrible{4 dict begin/execuserobject{pop}def/undefineuserobject{pop}def
/termwindow{}def/currentgstate{null}def}def/FmEndHorrible{end}def end
/FmConfigurePaper{FrameDict begin pop pop/paperheight exch def/paperwidth exch
def setpapername manualfeed{true}{papersize}ifelse{manualpapersize}{false}
ifelse{desperatepapersize}if end}def/ALDsave FMLOCAL/ALDmatrix matrix def
ALDmatrix currentmatrix pop/StartALD{/ALDsave save def savematrix ALDmatrix
setmatrix}bind def/InALD{restorematrix}bind def/DoneALD{ALDsave restore}bind
def
<0f1e3c78f0e1c387> (I2366ec) 8 makecontextpattern
<0f87c3e1f0783c1e> (I236708) 9 makecontextpattern
<cccccccccccccccc> (I2367a8) 10 makecontextpattern
<ffff0000ffff0000> (I2367c4) 11 makecontextpattern
<8142241818244281> (I2367e0) 12 makecontextpattern
<03060c183060c081> (I2367fc) 13 makecontextpattern
<8040201008040201> (I236818) 14 makecontextpattern
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
%%EndProlog
%%BeginSetup
%%PaperSize: Letter
%%BeginPaperSize: Letter
612 792 (Letter) false FmConfigurePaper
%%EndPaperSize
%%EndSetup

%%Page: 1 1
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 SC
0 G
433.01 36 M
71.42 36 L
S
0.5 SL
2 SC
433.01 718.7 M
71.42 718.7 L
S
0 0 612 792 CR
1 G
71.424072 107.136108 359.928009 504.432495 NF
0 G
0 (Times-Bold) 30 1 mymakefontmetric
0 FF
(OSF Mach ) 71.424 128.136 T
1 (Times-BoldItalic) 30 1 mymakefontmetric
1 FF
(Appro) 218.094 128.136 T
(v) 294.324 128.136 T
(ed) 307.194 128.136 T
0 FF
(Ser) 71.424 164.136 T
(v) 114.444 164.136 T
(er Writer\325) 129.144 164.136 T
(s Guide) 260.454 164.136 T
2 (Times-Bold) 18 1 mymakefontmetric
2 FF
(Open Softwar) 71.424 262.16 T
(e F) 178.596 262.16 T
(oundation and) 201.637 262.16 T
(Car) 71.424 282.16 T
(negie Mellon Uni) 101.142 282.16 T
(v) 231.966 282.16 T
(ersity) 240.786 282.16 T
(K) 71.424 322.16 T
(eith Loeper) 84.978 322.16 T
(e, Editor) 173.143 322.16 T
71.424072 173.136108 351 30.024002 CR
1 G
71.424072 173.136108 351 30.024002 NF
0 G
377.42 194.16 M
71.42 194.16 L
S
71.424072 539.568604 150.120361 72 CR
1 G
71.424072 539.568604 150.120361 72 NF
0 G
139.02 573.28 M
139.02 601.56 L
114.71 601.56 L
111.24 598.03 L
111.24 573.28 L
F
1 SL
0 SC
139.02 573.28 M
139.02 601.56 L
114.71 601.56 L
111.24 598.03 L
111.24 573.28 L
CS
1 K
1 G
3 (Helvetica-BoldOblique) 36 1 mymakefontmetric
3 FF
(S) 105.218 604.11 T
0 G
0 K
172.81 573.28 M
172.81 601.56 L
148.5 601.56 L
145.03 598.03 L
145.03 573.28 L
F
172.81 573.28 M
172.81 601.56 L
148.5 601.56 L
145.03 598.03 L
145.03 573.28 L
CS
1 K
1 G
(F) 139.011 604.11 T
0 G
0 K
105.23 573.28 M
105.23 601.56 L
80.92 601.56 L
77.44 598.03 L
77.44 573.28 L
F
105.23 573.28 M
105.23 601.56 L
80.92 601.56 L
77.44 598.03 L
77.44 573.28 L
CS
1 K
1 G
(O) 71.424 604.11 T
0 G
0 K
0 0 612 792 CR
1 G
71.424072 700.704712 361.584351 18 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(June 17, 1993) 377.178 708.371 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 2 2
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
179.136108 107.136108 361.008423 611.568604 NF
0 G
0 (Times-Roman) 10 1 mymakefontmetric
0 FF
(This book is in the ) 179.136 114.803 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
(Open Softwar) 256.086 114.803 T
(e F) 315.626 114.803 T
(oundation Mach) 328.426 114.803 T
0 FF
( series.) 398.716 114.803 T
0 FF
(Books in the OSF Mach series:) 179.136 138.803 T
1 FF
(OSF ) 251.136 162.803 T
(Mach K) 273.086 162.803 T
(er) 307.556 162.803 T
(nel Principles) 316.286 162.803 T
(OSF ) 251.136 186.803 T
(Mach K) 273.086 186.803 T
(er) 307.556 186.803 T
(nel Interfaces) 316.286 186.803 T
(OSF Mach Ser) 251.136 210.803 T
(v) 314.366 210.803 T
(er Writer\325) 319.266 210.803 T
(s Guide) 363.036 210.803 T
(OSF ) 251.136 234.803 T
(Mach Ser) 273.086 234.803 T
(v) 314.366 234.803 T
(er Library Interfaces) 319.266 234.803 T
0 FF
(Re) 179.136 282.803 T
(vision History:) 189.996 282.803 T
(Re) 179.136 306.803 T
(vision 3) 189.996 306.803 T
(Draft: October 7, 1992) 251.136 306.803 T
(Re) 179.136 318.803 T
(vision 3.1) 189.996 318.803 T
(Draft: No) 251.136 318.803 T
(v) 289.586 318.803 T
(ember 13, 1992) 294.436 318.803 T
(Re) 179.136 330.803 T
(vision 3.2) 189.996 330.803 T
(Final Draft: May 3, 1993) 251.136 330.803 T
(Re) 179.136 342.803 T
(vision 4) 189.996 342.803 T
(Appro) 251.136 342.803 T
(v) 276.536 342.803 T
(ed: June 17, 1993) 281.386 342.803 T
179.136108 366.802582 M 0.822525 0 32 (Cop) widthshow
195.706161 366.802582 M 0.822525 0 32 (yright 1991-1993 by the Open Softw) widthshow
347.208862 366.802582 M 0.822525 0 32 (are F) widthshow
368.151459 366.802582 M 0.822525 0 32 (oundation, Inc. and Carne) widthshow
474.059143 366.802582 M 0.822525 0 32 (gie Mellon Uni-) widthshow
(v) 179.136 378.803 T
(ersity) 183.986 378.803 T
(.) 205.557 378.803 T
(All rights reserv) 179.136 402.803 T
(ed.) 243.976 402.803 T
179.136108 426.802551 M 1.095657 0 32 (Permission to reproduce this document without fee is hereby granted, pro) widthshow
483.512787 426.802551 M 1.095657 0 32 (vided that the) widthshow
179.136108 438.802521 M 0.037491 0 32 (cop) widthshow
193.476166 438.802521 M 0.037491 0 32 (yright notice and this permission notice appear in all copies, deri) widthshow
452.181213 438.802521 M 0.037491 0 32 (v) widthshow
456.931366 438.802521 M 0.037491 0 32 (ati) widthshow
466.681519 438.802521 M 0.037491 0 32 (v) widthshow
471.531586 438.802521 M 0.037491 0 32 (e w) widthshow
485.62915 438.802521 M 0.037491 0 32 (orks or modi-) widthshow
<de65642076> 179.136 450.803 T
(ersions.) 201.486 450.803 T
179.136108 474.80249 M 0.902435 0 32 (OSF MAKES NO W) widthshow
265.364075 474.80249 M 0.902435 0 32 (ARRRANTY OF ANY KIND WITH REGARD T) widthshow
473.348816 474.80249 M 0.902435 0 32 (O THIS MA) widthshow
524.594299 474.80249 M 0.902435 0 32 (TE-) widthshow
179.136108 486.80249 M 2.301895 0 32 (RIAL, INCLUDING, B) widthshow
279.179962 486.80249 M 2.301895 0 32 (UT NO) widthshow
311.352081 486.80249 M 2.301895 0 32 (T LIMITED T) widthshow
374.095978 486.80249 M 2.301895 0 32 (O, THE IMPLIED W) widthshow
466.452332 486.80249 M 2.301895 0 32 (ARRANTIES OF) widthshow
(MERCHANT) 179.136 498.802 T
(ABILITY AND FITNESS FOR A P) 234.317 498.802 T
(AR) 379.227 498.802 T
(TICULAR PURPOSE.) 392.517 498.802 T
179.136108 522.802429 M 0.174515 0 32 (OSF shall not be liable for errors contained herein or for an) widthshow
418.355896 522.802429 M 0.174515 0 32 (y direct or indirect, incidental,) widthshow
179.136108 534.802429 M 0.67894 0 32 (special or consequential damages in connection with the furnishing, performance, or use) widthshow
(of this material.) 179.136 546.802 T
179.136108 570.802368 M 1.348114 0 32 (This document is partially deri) widthshow
307.048706 570.802368 M 1.348114 0 32 (v) widthshow
311.898804 570.802368 M 1.348114 0 32 (ed from earlier Mach documents written by Richard P) widthshow
537.644348 570.802368 M 1.348114 0 32 (.) widthshow
(Dra) 179.136 582.802 T
(v) 193.926 582.802 T
(es, Michael B. Jones, Mary R. Thompson, Eric Cooper and Randall Dean.) 198.776 582.802 T
179.136108 606.802368 M 1.229095 0 32 (CHAPTER 4 and CHAPTER 6 are deri) widthshow
344.580811 606.802368 M 1.229095 0 32 (v) widthshow
349.430908 606.802368 M 1.229095 0 32 (ed from a tutorial gi) widthshow
434.087433 606.802368 M 1.229095 0 32 (v) widthshow
438.9375 606.802368 M 1.229095 0 32 (en by Richard Dra) widthshow
516.014893 606.802368 M 1.229095 0 32 (v) widthshow
520.86499 606.802368 M 1.229095 0 32 (es at) widthshow
(the 1991 USENIX Mach symposium.) 179.136 618.802 T
179.136108 642.802368 M 0.377151 0 32 (CHAPTER 7 is deri) widthshow
260.297699 642.802368 M 0.377151 0 32 (v) widthshow
265.147766 642.802368 M 0.377151 0 32 (ed from a tutorial gi) widthshow
346.396545 642.802368 M 0.377151 0 32 (v) widthshow
351.246613 642.802368 M 0.377151 0 32 (en by Da) widthshow
387.901031 642.802368 M 0.377151 0 32 (vid Black at the 1991 USENIX Mach) widthshow
(symposium.) 179.136 654.802 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 3 3
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 207.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
(iii ) 549.66 732.707 T
1 G
72 49.824005 360 12.024002 NF
0 G
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
2 (Times-Italic) 24 1 mymakefontmetric
2 FF
72 124.999969 M -0.479736 0 (Contents) ashow
3 (Times-Roman) 12 1 mymakefontmetric
3 FF
(CHAPTER 1) 72.0 165.0 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(Intr) 153.0 165.0 T
(oduction) 173.448 165.0 T
3 FF
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 219.0 165.0 T
(1) 426.0 165.0 T
(CHAPTER 2) 72.0 201.0 T
4 FF
(Name Ser) 153.0 201.0 T
(v) 203.196 201.0 T
(er) 209.076 201.0 T
3 FF
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 222.0 201.0 T
(3) 426.0 201.0 T
(Local Name Space) 153.0 215.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 246.0 215.0 T
(3) 426.0 215.0 T
(Netw) 153.0 229.0 T
(ork Name Space) 178.872 229.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 261.0 229.0 T
(4) 426.0 229.0 T
(CHAPTER 3) 72.0 265.0 T
4 FF
(Mach Interface Generator \(MIG\)) 153.0 265.0 T
3 FF
( . . . . . . . . . . . . . . . . ) 327.0 265.0 T
(5) 426.0 265.0 T
(Introduction) 153.0 279.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 213.0 279.0 T
(5) 426.0 279.0 T
(MIG Speci\336cation File Basics) 153.0 293.0 T
(. . . . . . . . . . . . . . . . . . . . . ) 300.0 293.0 T
(7) 426.0 293.0 T
(T) 153.0 307.0 T
(ype Speci\336cations) 159.373 307.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 249.0 307.0 T
(12) 420.0 307.0 T
(Operation Descriptions) 153.0 321.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . ) 267.0 321.0 T
(18) 420.0 321.0 T
(Function Prototype Generation) 153.0 335.0 T
( . . . . . . . . . . . . . . . . . . . ) 303.0 335.0 T
(21) 420.0 335.0 T
(Special En) 153.0 349.0 T
(vironment Subsystems) 204.18 349.0 T
( . . . . . . . . . . . . . . . . . ) 315.0 349.0 T
(23) 420.0 349.0 T
(Using the Interf) 153.0 363.0 T
(ace Modules) 228.864 363.0 T
( . . . . . . . . . . . . . . . . . . . . . ) 291.0 363.0 T
(24) 420.0 363.0 T
(Compiling De\336nition Files) 153.0 377.0 T
( . . . . . . . . . . . . . . . . . . . . . . ) 285.0 377.0 T
(25) 420.0 377.0 T
(CHAPTER 4) 72.0 413.0 T
4 FF
(Basic IPC\320Based Ser) 153.0 413.0 T
(v) 260.88 413.0 T
(ers) 266.76 413.0 T
3 FF
( . . . . . . . . . . . . . . . . . . . . . . ) 285.0 413.0 T
(27) 420.0 413.0 T
(Basic Request Processing) 153.0 427.0 T
( . . . . . . . . . . . . . . . . . . . . . . . ) 279.0 427.0 T
(27) 420.0 427.0 T
(Single-Threaded Serv) 153.0 441.0 T
(er Example) 257.796 441.0 T
( . . . . . . . . . . . . . . . . . ) 315.0 441.0 T
(35) 420.0 441.0 T
(CHAPTER 5) 72.0 477.0 T
4 FF
(C Thr) 153.0 477.0 T
(eads) 184.452 477.0 T
3 FF
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 210.0 477.0 T
(49) 420.0 477.0 T
(Naming Con) 153.0 491.0 T
(v) 214.188 491.0 T
(entions) 220.008 491.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 255.0 491.0 T
(49) 420.0 491.0 T
(Initializing the C Threads P) 153.0 505.0 T
(ackage) 285.48 505.0 T
( . . . . . . . . . . . . . . . . ) 321.0 505.0 T
(50) 420.0 505.0 T
(Threads of Control) 153.0 519.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 246.0 519.0 T
(50) 420.0 519.0 T
(Synchronization) 153.0 533.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 234.0 533.0 T
(53) 420.0 533.0 T
(Shared V) 153.0 547.0 T
(ariables) 196.657 547.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 234.0 547.0 T
(56) 420.0 547.0 T
(Using the C Threads P) 153.0 561.0 T
(ackage) 261.48 561.0 T
( . . . . . . . . . . . . . . . . . . . . ) 297.0 561.0 T
(56) 420.0 561.0 T
(Deb) 153.0 575.0 T
(ugging) 172.752 575.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 207.0 575.0 T
(56) 420.0 575.0 T
(Examples) 153.0 589.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 201.0 589.0 T
(57) 420.0 589.0 T
(CHAPTER 6) 72.0 625.0 T
4 FF
(Multi-Thr) 153.0 625.0 T
(eaded IPC\320Based Ser) 205.452 625.0 T
(v) 315.996 625.0 T
(ers) 321.876 625.0 T
3 FF
( . . . . . . . . . . . . . ) 339.0 625.0 T
(61) 420.0 625.0 T
(Basic Multi-Threaded Serv) 153.0 639.0 T
(er Structure) 283.464 639.0 T
(. . . . . . . . . . . . . ) 342.0 639.0 T
(61) 420.0 639.0 T
(Locking, Operation Sequencing and Consistenc) 153.0 653.0 T
(y) 381.792 653.0 T
(. . . . . ) 390.0 653.0 T
(63) 420.0 653.0 T
(Multi-Threaded Object-Oriented Example) 153.0 667.0 T
( . . . . . . . . . . ) 357.0 667.0 T
(67) 420.0 667.0 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 4 4
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(iv ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 315.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
(CHAPTER 7) 180.0 114.984 T
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Exter) 261.0 114.984 T
(nal Memory Managers) 289.476 114.984 T
2 FF
(. . . . . . . . . . . . . . . . . . . . ) 408.0 114.984 T
(87) 528.0 114.984 T
(Ov) 261.0 128.984 T
(ervie) 275.484 128.984 T
(w) 299.172 128.984 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 309.0 128.984 T
(87) 528.0 128.984 T
(Role of a Memory Manager) 261.0 142.984 T
(. . . . . . . . . . . . . . . . . . . . . . ) 396.0 142.984 T
(88) 528.0 142.984 T
(Memory Object State) 261.0 156.984 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . ) 366.0 156.984 T
(88) 528.0 156.984 T
(P) 261.0 170.984 T
(age-in and P) 267.492 170.984 T
(age-out) 327.3 170.984 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . ) 366.0 170.984 T
(90) 528.0 170.984 T
(Strict K) 261.0 184.984 T
(ernel and Manager P) 298.368 184.984 T
(age Consistenc) 397.824 184.984 T
(y) 469.968 184.984 T
( . . . . . . . . ) 477.0 184.984 T
(92) 528.0 184.984 T
(Simple Memory Manager Example) 261.0 198.984 T
(. . . . . . . . . . . . . . . . ) 432.0 198.984 T
(98) 528.0 198.984 T
(Object Cache) 261.0 212.984 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 327.0 212.984 T
(127) 522.0 212.984 T
(Precious P) 261.0 226.984 T
(ages) 311.82 226.984 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 336.0 226.984 T
(127) 522.0 226.984 T
(Synchronization with Multiple Objects, K) 261.0 240.984 T
(ernels and ) 462.36 240.984 T
(Threads) 261.0 254.984 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 300.0 254.984 T
(128) 522.0 254.984 T
(Loose Consistenc) 261.0 268.984 T
(y) 345.816 268.984 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 354.0 268.984 T
(130) 522.0 268.984 T
(CHAPTER 8) 180.0 304.984 T
3 FF
(Netw) 261.0 304.984 T
(ork Shar) 287.532 304.984 T
(ed Memory Ser) 332.988 304.984 T
(v) 412.176 304.984 T
(er) 418.056 304.984 T
2 FF
( . . . . . . . . . . . . . . . ) 429.0 304.984 T
(133) 522.0 304.984 T
(APPENDIX A) 180.0 340.984 T
3 FF
(MIG Language Speci\336cation) 261.0 340.984 T
2 FF
( . . . . . . . . . . . . . . . . . . ) 411.0 340.984 T
(137) 522.0 340.984 T
(APPENDIX B) 180.0 376.984 T
3 FF
(Standard MIG T) 261.0 376.984 T
(ypes) 347.46 376.984 T
2 FF
(. . . . . . . . . . . . . . . . . . . . . . . . . ) 372.0 376.984 T
(145) 522.0 376.984 T
(Pre-de\336ned T) 261.0 390.984 T
(ypenames) 325.693 390.984 T
( . . . . . . . . . . . . . . . . . . . . . . . . ) 375.0 390.984 T
(145) 522.0 390.984 T
(Standard De\336ned T) 261.0 404.984 T
(ypes) 354.025 404.984 T
(. . . . . . . . . . . . . . . . . . . . . . . . ) 378.0 404.984 T
(146) 522.0 404.984 T
(APPENDIX C) 180.0 440.984 T
3 FF
(Ser) 261.0 440.984 T
(vice Ser) 278.208 440.984 T
(v) 318.408 440.984 T
(er) 324.288 440.984 T
2 FF
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 336.0 440.984 T
(149) 522.0 440.984 T
(APPENDIX D) 180.0 476.984 T
3 FF
(Function Index) 261.0 476.984 T
2 FF
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 342.0 476.984 T
(151) 522.0 476.984 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 5 5
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
427 732.706665 M -2.5 0 32 (1 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 115.999969 M 1.19989 0 (CHAPTER 1) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 115.999969 M -0.479736 0 (Introduction) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666626 M 2.284958 0 32 (This document describes information of generic interest to an) widthshow
336.199768 367.666626 M 2.284958 0 32 (yone who is writing a) widthshow
72 379.666565 M 0.893021 0 32 (Mach serv) widthshow
114.673111 379.666565 M 0.893021 0 32 (er) widthshow
122.043335 379.666565 M 0.893021 0 32 (, or an) widthshow
148.949463 379.666565 M 0.893021 0 32 (y Mach task that wishes to communicate with another task. Whereas) widthshow
72 391.666504 M -0.01236 0 32 (the ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
86.707642 391.666504 M -0.01236 0 32 (K) widthshow
93.027832 391.666504 M -0.01236 0 32 (ernel Interfaces) widthshow
4 FF
156.055481 391.666504 M -0.01236 0 32 ( document describes the \322pure k) widthshow
284.473755 391.666504 M -0.01236 0 32 (ernel\323 which an) widthshow
347.609131 391.666504 M -0.01236 0 32 (y task must use \(pos-) widthshow
72 403.666443 M 1.375427 0 32 (sibly hidden under multiple emulation layers\), this document describes f) widthshow
373.698914 403.666443 M 1.375427 0 32 (acilities that a) widthshow
72 415.666382 M 0.542908 0 32 (task does not ) widthshow
5 FF
128.348724 415.666382 M 0.542908 0 32 (need) widthshow
4 FF
147.228729 415.666382 M 0.542908 0 32 ( in an absolute sense, b) widthshow
241.953384 415.666382 M 0.542908 0 32 (ut probably wishes to use to w) widthshow
366.770874 415.666382 M 0.542908 0 32 (ork in the Mach) widthshow
(en) 72.0 427.666 T
(vironment.) 81.04 427.666 T
72 451.66626 M 0.108292 0 32 (Mach subscribes to the client\320serv) widthshow
210.593262 451.66626 M 0.108292 0 32 (er model of computing. The Mach k) widthshow
355.843079 451.66626 M 0.108292 0 32 (ernel pro) widthshow
391.62146 451.66626 M 0.108292 0 32 (vides pro-) widthshow
72 463.666199 M 0.617401 0 32 (tected access to shared hardw) widthshow
192.659683 463.666199 M 0.617401 0 32 (are resources suf) widthshow
260.834656 463.666199 M 0.617401 0 32 <de6369656e7420746f20737570706f72742073657276> widthshow
349.476929 463.666199 M 0.617401 0 32 (er tasks that pro) widthshow
414.779236 463.666199 M 0.617401 0 32 (vide) widthshow
72 475.666138 M 0.299255 0 32 (access to the ph) widthshow
135.887802 475.666138 M 0.299255 0 32 (ysical and logical resources of the system, and the k) widthshow
346.221191 475.666138 M 0.299255 0 32 (ernel pro) widthshow
382.190521 475.666138 M 0.299255 0 32 (vides \322inter) widthshow
428.669891 475.666138 M 0.299255 0 32 (-) widthshow
72 487.666077 M 0.949051 0 32 (process\323 communication \(IPC\) between tasks so that clients may mak) widthshow
359.571533 487.666077 M 0.949051 0 32 (e service requests) widthshow
(upon serv) 72.0 499.666 T
(ers.) 111.01 499.666 T
72 523.665955 M 0.319138 0 32 (Mach IPC is oriented to) widthshow
168.576691 523.665955 M 0.319138 0 32 (w) widthshow
175.696747 523.665955 M 0.319138 0 32 (ards sending discrete messages to destinations named by k) widthshow
412.009918 523.665955 M 0.319138 0 32 (ernel) widthshow
72 535.665894 M 0.414383 0 32 (protected capabilities. The f) widthshow
184.783218 535.665894 M 0.414383 0 32 (acility allo) widthshow
227.447739 535.665894 M 0.414383 0 32 (ws both synchronous and asynchronous communi-) widthshow
72 547.665833 M 0.21904 0 32 (cation. The mechanisms are suf) widthshow
198.986313 547.665833 M 0.21904 0 32 <de6369656e7420746f20636f6e7374727563742072656d6f74652070726f6365647572652063616c6c732028525043292c2070726f> widthshow
414.779694 547.665833 M 0.21904 0 32 (vide) widthshow
72 559.665771 M 0.759964 0 32 (\(system-le) widthshow
113.410141 559.665771 M 0.759964 0 32 (v) widthshow
118.260223 559.665771 M 0.759964 0 32 (el\) object-oriented programming \(using capabilities \(port rights\) to name ob-) widthshow
72 571.66571 M 1.168976 0 32 (jects\) and streaming of data. Cop) widthshow
209.944946 571.66571 M 1.168976 0 32 (y-on-write virtual memory optimizations are pro) widthshow
409.779907 571.66571 M 1.168976 0 32 (vided) widthshow
(for ef) 72.0 583.666 T
<de6369656e742070617373696e67206f66206c6172> 93.68 583.666 T
(ge data. The mechanisms are netw) 174.88 583.666 T
(ork transparent.) 312.52 583.666 T
72 607.665588 M 0.386383 0 32 (The \336ne details of Mach IPC are described in the ) widthshow
5 FF
274.713867 607.665588 M 0.386383 0 32 (K) widthshow
281.034058 607.665588 M 0.386383 0 32 (ernel Principles) widthshow
4 FF
345.580444 607.665588 M 0.386383 0 32 ( document and speci-) widthshow
72 619.665527 M 0.336609 0 32 <de656420696e2074686520> widthshow
5 FF
115.509827 619.665527 M 0.336609 0 32 (K) widthshow
121.830017 619.665527 M 0.336609 0 32 (ernel Interfaces) widthshow
4 FF
185.206635 619.665527 M 0.336609 0 32 ( document. Those documents should be referenced before at-) widthshow
(tempting to read this v) 72.0 631.665 T
(olume.) 161.8 631.665 T
72 655.665405 M 0.509979 0 32 (The precise details of generating messages suitable for Mach IPC, including marshalling) widthshow
72 667.665344 M 1.414597 0 32 (data into and un-marshalling data out of the message, are normally handled by \322stub\323) widthshow
72 679.665283 M 1.056625 0 32 (programs generated by MIG, the Mach Interf) widthshow
259.019836 679.665283 M 1.056625 0 32 (ace Generator) widthshow
315.326782 679.665283 M 1.056625 0 32 (. This tool, described in this) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 6 6
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(2 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Intr) 180.0 56.824 T
(oduction) 195.336 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650635 M 0.331955 0 32 (v) widthshow
184.80011 113.650635 M 0.331955 0 32 (olume, does not hide IPC features; it pro) widthshow
349.183899 113.650635 M 0.331955 0 32 (vides a more con) widthshow
417.819977 113.650635 M 0.331955 0 32 (v) widthshow
422.670044 113.650635 M 0.331955 0 32 (enient syntax in which to e) widthshow
531.669922 113.650635 M 0.331955 0 32 (x-) widthshow
(press the use of these features.) 180.0 125.651 T
180 149.650513 M 1.891052 0 32 (MIG does not pro) widthshow
256.903259 149.650513 M 1.891052 0 32 (vide transparent programming language-le) widthshow
432.566559 149.650513 M 1.891052 0 32 (v) widthshow
437.416626 149.650513 M 1.891052 0 32 (el remote procedure call) widthshow
180 161.650452 M 0.283279 0 32 (support. It is used to specify the operations performed by a serv) widthshow
437.36618 161.650452 M 0.283279 0 32 (er) widthshow
444.736389 161.650452 M 0.283279 0 32 (, and the parameters re-) widthshow
180 173.650391 M 0.042831 0 32 (quired for the messages between clients and serv) widthshow
375.379944 173.650391 M 0.042831 0 32 (ers, in a w) widthshow
416.508484 173.650391 M 0.042831 0 32 (ay usable by multiple languag-) widthshow
(es, b) 180.0 185.65 T
(ut mostly for C.) 198.13 185.65 T
180 209.650269 M 1.130707 0 32 (A Mach serv) widthshow
233.761505 209.650269 M 1.130707 0 32 (er e) widthshow
249.452301 209.650269 M 1.130707 0 32 (x) widthshow
254.302383 209.650269 M 1.130707 0 32 (ecutes a service loop \(pro) widthshow
360.865295 209.650269 M 1.130707 0 32 (vided by library routines\) that recei) widthshow
507.628998 209.650269 M 1.130707 0 32 (v) widthshow
512.479065 209.650269 M 1.130707 0 32 (es IPC) widthshow
180 221.650208 M 0.678406 0 32 (messages from clients, in) widthshow
282.735443 221.650208 M 0.678406 0 32 (v) widthshow
287.535553 221.650208 M 0.678406 0 32 (ok) widthshow
297.435608 221.650208 M 0.678406 0 32 (es the service routine so requested, then sends a reply mes-) widthshow
(sage to the client, returning to the service loop. The generation of a serv) 180.0 233.65 T
(er requires:) 467.29 233.65 T
4 (Times-Roman) 7 1 mymakefontmetric
4 FF
<a5> 180.0 251.65 T
3 FF
193.535995 251.650085 M 0.759537 0 32 (The speci\336cation of the messages that a client will send to the serv) widthshow
469.130554 251.650085 M 0.759537 0 32 (er and the replies) widthshow
193.535995 263.650024 M 0.722427 0 32 (to be returned \(normally in the form of RPCs\), which MIG will translate into appro-) widthshow
(priate stubs.) 193.536 275.65 T
4 FF
<a5> 180.0 290.65 T
3 FF
(The implementation of the service routines to be in) 193.536 290.65 T
(v) 397.556 290.65 T
(ok) 402.356 290.65 T
(ed by the MIG stubs.) 412.256 290.65 T
4 FF
<a5> 180.0 305.65 T
3 FF
193.535995 305.649841 M 0.366928 0 32 (Initialization code to start the serv) widthshow
331.590729 305.649841 M 0.366928 0 32 (er) widthshow
338.960938 305.649841 M 0.366928 0 32 (, create appropriate initial objects, mak) widthshow
496.495667 305.649841 M 0.366928 0 32 (e them po-) widthshow
(tentially kno) 193.536 317.65 T
(wn to clients and in) 243.566 317.65 T
(v) 321.496 317.65 T
(ok) 326.296 317.65 T
(e the service loop code.) 336.197 317.65 T
(The details of these portions of a serv) 180.0 341.65 T
(er are discussed in this v) 330.1 341.65 T
(olume at length.) 427.94 341.65 T
180 365.649658 M 0.2388 0 32 (F) widthshow
185.41008 365.649658 M 0.2388 0 32 (or a serv) widthshow
220.16777 365.649658 M 0.2388 0 32 (er to be kno) widthshow
268.124329 365.649658 M 0.2388 0 32 (wn to client tasks, it must re) widthshow
381.907196 365.649658 M 0.2388 0 32 (gister itself in some client visible name) widthshow
180 377.649597 M 0.26329 0 32 (space. This name space is pro) widthshow
300.02655 377.649597 M 0.26329 0 32 (vided by a Name Serv) widthshow
389.799805 377.649597 M 0.26329 0 32 (er) widthshow
397.170044 377.649597 M 0.26329 0 32 (, the basic interf) widthshow
462.289978 377.649597 M 0.26329 0 32 (ace and support for) widthshow
(which are described in this v) 180.0 389.65 T
(olume.) 294.5 389.65 T
180 413.649475 M 0.941498 0 32 (A serv) widthshow
207.171585 413.649475 M 0.941498 0 32 (er that wishes to process multiple service requests in parallel w) widthshow
468.666626 413.649475 M 0.941498 0 32 (ould use multiple) widthshow
180 425.649414 M 0.300629 0 32 (threads to service the requests. Gi) widthshow
316.223297 425.649414 M 0.300629 0 32 (v) widthshow
321.073364 425.649414 M 0.300629 0 32 (en that most serv) widthshow
389.875366 425.649414 M 0.300629 0 32 (ers are not written in parallel or task-) widthshow
180 437.649353 M 1.355362 0 32 (ing languages, the C threads package is pro) widthshow
362.637634 437.649353 M 1.355362 0 32 (vided. This package, discussed in this v) widthshow
528.889893 437.649353 M 1.355362 0 32 (ol-) widthshow
(ume, supports multi-threaded programming in the C \(or C++\) language.) 180.0 449.649 T
180 473.649231 M 1.170761 0 32 (The C threads package pro) widthshow
291.723145 473.649231 M 1.170761 0 32 (vides a friendly interf) widthshow
381.505493 473.649231 M 1.170761 0 32 (ace to k) widthshow
414.847076 473.649231 M 1.170761 0 32 (ernel-le) widthshow
445.137207 473.649231 M 1.170761 0 32 (v) widthshow
449.987305 473.649231 M 1.170761 0 32 (el threads. It pro) widthshow
518.889648 473.649231 M 1.170761 0 32 (vides) widthshow
180 485.64917 M 0.909912 0 32 (traditional mute) widthshow
244.369995 485.64917 M 0.909912 0 32 (x and condition v) widthshow
316.569885 485.64917 M 0.909912 0 32 (ariable synchronization primiti) widthshow
441.459839 485.64917 M 0.909912 0 32 (v) widthshow
446.309937 485.64917 M 0.909912 0 32 (es. Control is pro) widthshow
517.779724 485.64917 M 0.909912 0 32 (vided) widthshow
180 497.649109 M 0.12352 0 32 (o) widthshow
184.850082 497.649109 M 0.12352 0 32 (v) widthshow
189.700165 497.649109 M 0.12352 0 32 (er the creation and destruction of threads and the multiple) widthshow
421.451965 497.649109 M 0.12352 0 32 (xing of user threads onto k) widthshow
528.899597 497.649109 M 0.12352 0 32 (er-) widthshow
(nel threads.) 180.0 509.649 T
180 533.648987 M 0.541611 0 32 (Subsequent chapters deal with details in) widthshow
342.568298 533.648987 M 0.541611 0 32 (v) widthshow
347.368408 533.648987 M 0.541611 0 32 (olv) widthshow
359.998474 533.648987 M 0.541611 0 32 (ed in serv) widthshow
399.811768 533.648987 M 0.541611 0 32 (er mechanisms and in writing spe-) widthshow
180 545.648926 M 0.057404 0 32 (ci\336c types of serv) widthshow
250.8423 545.648926 M 0.057404 0 32 (ers. Issues in) widthshow
301.937317 545.648926 M 0.057404 0 32 (v) widthshow
306.737427 545.648926 M 0.057404 0 32 (olv) widthshow
319.367523 545.648926 M 0.057404 0 32 (ed in writing a correctly operating multi-threaded serv-) widthshow
(er are also co) 180.0 557.649 T
(v) 232.88 557.649 T
(ered in this v) 237.73 557.649 T
(olume.) 289.47 557.649 T
180 581.648804 M 0.33577 0 32 (This v) widthshow
205.415878 581.648804 M 0.33577 0 32 (olume describes, with e) widthshow
300.703278 581.648804 M 0.33577 0 32 (xamples, the structure of a basic single-threaded serv) widthshow
515.073792 581.648804 M 0.33577 0 32 (er) widthshow
522.44397 581.648804 M 0.33577 0 32 (, the) widthshow
180 593.648743 M 0.959122 0 32 (structure of a multi-threaded object-oriented serv) widthshow
380.985718 593.648743 M 0.959122 0 32 (er and the structure of a basic e) widthshow
512.229675 593.648743 M 0.959122 0 32 (xternal) widthshow
(memory manager) 180.0 605.649 T
(.) 249.71 605.649 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 7 7
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
427 732.706665 M -2.5 0 32 (3 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (CHAPTER 2) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (Name Serv) ashow
282.626587 116 M -0.479736 0 (er) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666626 M 0.031082 0 32 (A task starts life with a limited set of port rights. It can ask for its o) widthshow
340.837463 367.666626 M 0.031082 0 32 (wn port \() widthshow
1 FF
377.559631 367.666626 M 0.031082 0 32 (mach_task_-) widthshow
72 379.666565 M -0.000885 0 32 (self) widthshow
4 FF
86.440002 379.666565 M -0.000885 0 32 (\), that of its e) widthshow
139.336548 379.666565 M -0.000885 0 32 (x) widthshow
144.18663 379.666565 M -0.000885 0 32 (ecuting thread \() widthshow
1 FF
206.94487 379.666565 M -0.000885 0 32 (mach_thr) widthshow
248.424973 379.666565 M -0.000885 0 32 (ead_self) widthshow
4 FF
282.86499 379.666565 M -0.000885 0 32 (\), its host \() widthshow
1 FF
325.642334 379.666565 M -0.000885 0 32 (mach_host_self) widthshow
4 FF
391.192322 379.666565 M -0.000885 0 32 (\) and a re-) widthshow
72 391.666534 M 1.328964 0 32 (ply port \() widthshow
1 FF
111.87793 391.666534 M 1.328964 0 32 (mach_r) widthshow
144.468033 391.666534 M 1.328964 0 32 (eply_port) widthshow
4 FF
185.578033 391.666534 M 1.328964 0 32 (\). It has a handful of special ports \() widthshow
1 FF
335.89978 391.666534 M 1.328964 0 32 (task_get_special_port) widthshow
4 FF
428.669769 391.666534 M 1.328964 0 32 (\)) widthshow
72 403.666504 M 0.895691 0 32 (which name a bootstrap port. The bootstrap port is typically used to name the principal) widthshow
72 415.666504 M 0.281982 0 32 (serv) widthshow
88.510086 415.666504 M 0.281982 0 32 (er controlling the task; in the single-serv) widthshow
251.702072 415.666504 M 0.281982 0 32 (er system, this is the request port for the sin-) widthshow
72 427.666504 M 0.945587 0 32 (gle-serv) widthshow
104.060089 427.666504 M 0.945587 0 32 (er) widthshow
111.280396 427.666504 M 0.945587 0 32 (. The only other ports inherently kno) widthshow
263.634064 427.666504 M 0.945587 0 32 (wn to a ne) widthshow
307.600952 427.666504 M 0.945587 0 32 (w task are the ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
369.143311 427.666504 M 0.945587 0 32 (r) widthshow
372.663513 427.666504 M 0.945587 0 32 (e) widthshow
376.703735 427.666504 M 0.945587 0 32 (gister) widthshow
399.113953 427.666504 M 0.945587 0 32 (ed) widthshow
4 FF
408.553955 427.666504 M 0.945587 0 32 ( ports) widthshow
(\() 72.0 439.666 T
1 FF
(mach_ports_lookup) 75.33 439.666 T
4 FF
(\). It is these re) 160.34 439.666 T
(gistered ports that are used to locate e) 217.12 439.666 T
(xtra services.) 367.77 439.666 T
72 463.666443 M -0.012711 0 32 (The signi\336cant port found in the set of re) widthshow
235.618408 463.666443 M -0.012711 0 32 (gistered ports names a ) widthshow
5 FF
327.21759 463.666443 M -0.012711 0 32 (name service) widthshow
4 FF
379.684875 463.666443 M -0.012711 0 32 (. Since re) widthshow
416.999542 463.666443 M -0.012711 0 32 (gis-) widthshow
72 475.666382 M 0.919952 0 32 (tered ports are inherited by created tasks, all tasks tend \(unless o) widthshow
339.139587 475.666382 M 0.919952 0 32 (v) widthshow
343.989685 475.666382 M 0.919952 0 32 (erridden\) to share the) widthshow
72 487.666321 M 0.749969 0 32 (port to a single name service. The name service pro) widthshow
284.659851 487.666321 M 0.749969 0 32 (vides a common repository of name) widthshow
(to serv) 72.0 499.666 T
(er mappings that allo) 98.79 499.666 T
(w tasks to locate and share access to system serv) 182.7 499.666 T
(ers.) 377.23 499.666 T
72 540.999512 360 3.024002 CR
432 542.51 M
72 542.51 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Local Name Space) 72.0 537.333 T
4 FF
72 561.690125 M 1.190872 0 32 (An application task locates a serv) widthshow
211.944458 561.690125 M 1.190872 0 32 (er with ) widthshow
5 FF
244.876205 561.690125 M 1.190872 0 32 (name_server) widthshow
7 (Symbol) 10 1 mymakefontmetric
7 FF
296.526215 561.690125 M 1.190872 0 32 ( \256) widthshow
1 FF
310.087097 561.690125 M 1.190872 0 32 ( netname_look_up) widthshow
4 FF
389.897949 561.690125 M 1.190872 0 32 (. This call) widthshow
72 573.690063 M 1.023972 0 32 (tak) widthshow
84.120056 573.690063 M 1.023972 0 32 (es an ar) widthshow
116.528107 573.690063 M 1.023972 0 32 (gument of a name string naming the desired service. The call returns a send) widthshow
(right to the port associated with the service.) 72.0 585.69 T
72 609.690002 M 0.592682 0 32 (A serv) widthshow
98.822769 609.690002 M 0.592682 0 32 (er task mak) widthshow
146.008194 609.690002 M 0.592682 0 32 (es itself publicly kno) widthshow
231.146378 609.690002 M 0.592682 0 32 (wn by calling ) widthshow
5 FF
289.864441 609.690002 M 0.592682 0 32 (name_server) widthshow
7 FF
341.514435 609.690002 M 0.592682 0 32 ( \256) widthshow
1 FF
354.477112 609.690002 M 0.592682 0 32 ( netname_check_-) widthshow
72 621.690002 M 0.735962 0 32 (in) widthshow
4 FF
80.339996 621.690002 M 0.735962 0 32 (. This call re) widthshow
132.38797 621.690002 M 0.735962 0 32 (gisters a supplied port \(send right\) with a gi) widthshow
312.455811 621.690002 M 0.735962 0 32 (v) widthshow
317.305908 621.690002 M 0.735962 0 32 (en service name. The serv) widthshow
424.229858 621.690002 M 0.735962 0 32 (er) widthshow
72 633.689941 M 0.199234 0 32 (also supplies a ) widthshow
5 FF
133.427704 633.689941 M 0.199234 0 32 (signatur) widthshow
166.397903 633.689941 M 0.199234 0 32 (e) widthshow
4 FF
170.837906 633.689941 M 0.199234 0 32 ( port of its choosing that the name serv) widthshow
327.821869 633.689941 M 0.199234 0 32 (er requires for subsequent) widthshow
72 645.689941 M 1.158295 0 32 (manipulations of this service mapping so that random tasks cannot af) widthshow
359.973083 645.689941 M 1.158295 0 32 (fect the mapping.) widthshow
72 657.689941 M 1.019974 0 32 (Indeed, since an) widthshow
138.590042 657.689941 M 1.019974 0 32 (y task may use the ) widthshow
1 FF
220.069916 657.689941 M 1.019974 0 32 (netname_check_in) widthshow
4 FF
299.509918 657.689941 M 1.019974 0 32 ( function, it is necessary to pro-) widthshow
72 669.689941 M 0.326233 0 32 (vide unique service names for all of the system serv) widthshow
282.246216 669.689941 M 0.326233 0 32 (ers and to arrange for them to initial-) widthshow
(ize and re) 72.0 681.69 T
(gister themselv) 110.72 681.69 T
(es with the name serv) 171.4 681.69 T
(er prior to running an) 257.9 681.69 T
(y application tasks.) 343.29 681.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 8 8
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(4 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Name Ser) 180.0 56.824 T
(v) 217.647 56.824 T
(er) 222.057 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.337677 0 32 (A serv) widthshow
206.567764 113.650665 M 0.337677 0 32 (er task can de-re) widthshow
273.230896 113.650665 M 0.337677 0 32 (gister itself with   ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
347.419281 113.650665 M 0.337677 0 32 (name_server) widthshow
5 (Symbol) 10 1 mymakefontmetric
5 FF
399.069275 113.650665 M 0.337677 0 32 ( \256) widthshow
0 FF
411.776978 113.650665 M 0.337677 0 32 ( netname_check_out) widthshow
3 FF
499.604645 113.650665 M 0.337677 0 32 (. This call) widthshow
180 125.65062 M 0.696869 0 32 (requires the signature port speci\336ed in the check-in call. Destro) widthshow
439.451904 125.65062 M 0.696869 0 32 (ying the service port has) widthshow
(the same result.) 180.0 137.651 T
180 161.650497 M 1.534958 0 32 (The original name serv) widthshow
276.934967 161.650497 M 1.534958 0 32 (er w) widthshow
295.859985 161.650497 M 1.534958 0 32 (as part of the Net Message Serv) widthshow
432.109833 161.650497 M 1.534958 0 32 (er \(the Net Name serv) widthshow
526.39978 161.650497 M 1.534958 0 32 (er\),) widthshow
180 173.650436 M 0.469971 0 32 (hence the name of these interf) widthshow
302.489929 173.650436 M 0.469971 0 32 (aces. The typical name service used in base Mach systems) widthshow
180 185.650406 M 1.015274 0 32 (is ) widthshow
0 FF
190.185272 185.650406 M 1.015274 0 32 (snames) widthshow
3 FF
221.295273 185.650406 M 1.015274 0 32 (, a simple name serv) widthshow
307.136475 185.650406 M 1.015274 0 32 (er) widthshow
314.35675 185.650406 M 1.015274 0 32 (. Since an) widthshow
355.3974 185.650406 M 1.015274 0 32 (y number of serv) widthshow
426.333313 185.650406 M 1.015274 0 32 (ers could be written to pro-) widthshow
180 197.650391 M 1.049957 0 32 (vide the name serv) widthshow
258.259949 197.650391 M 1.049957 0 32 (er protocol, an additional call, ) widthshow
4 FF
385.989746 197.650391 M 1.049957 0 32 (name_server) widthshow
5 FF
437.639771 197.650391 M 1.049957 0 32 ( \256) widthshow
0 FF
451.059723 197.650391 M 1.049957 0 32 ( netname_v) widthshow
501.169739 197.650391 M 1.049957 0 32 (ersion) widthshow
3 FF
527.279724 197.650391 M 1.049957 0 32 (, is) widthshow
180 209.650345 M 0.909958 0 32 (pro) widthshow
193.180084 209.650345 M 0.909958 0 32 (vided which returns a string describing \(naming\) the name serv) widthshow
454.229797 209.650345 M 0.909958 0 32 (er in use and its v) widthshow
528.899658 209.650345 M 0.909958 0 32 (er-) widthshow
(sion.) 180.0 221.65 T
180 262.983521 360 3.024002 CR
0.25 SL
2 SC
540 264.5 M
180 264.5 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Netw) 180.0 259.317 T
(ork Name Space) 210.954 259.317 T
3 FF
180 283.674194 M 1.694565 0 32 (The ) widthshow
0 FF
199.744568 283.674194 M 1.694565 0 32 (snames) widthshow
3 FF
230.854568 283.674194 M 1.694565 0 32 ( name serv) widthshow
277.413788 283.674194 M 1.694565 0 32 (er pro) widthshow
302.558441 283.674194 M 1.694565 0 32 (vides a single local name space. Only those clients who) widthshow
3 FF
180 295.674164 M 0.166199 0 32 (mak) widthshow
197.120056 295.674164 M 0.166199 0 32 (e use of the same ) widthshow
0 FF
269.321045 295.674164 M 0.166199 0 32 (snames) widthshow
3 FF
300.431061 295.674164 M 0.166199 0 32 ( serv) widthshow
319.607361 295.674164 M 0.166199 0 32 (er \(ha) widthshow
342.613647 295.674164 M 0.166199 0 32 (v) widthshow
347.463745 295.674164 M 0.166199 0 32 (e as their re) widthshow
394.182434 295.674164 M 0.166199 0 32 (gistered name serv) widthshow
469.34491 295.674164 M 0.166199 0 32 (er port the port to) widthshow
3 FF
(the same name serv) 180.0 307.674 T
(er\) will share the gi) 258.44 307.674 T
(v) 335.95 307.674 T
(en name space.) 340.8 307.674 T
3 FF
180 331.674103 M 0.217285 0 32 (The original Net Name serv) widthshow
292.359253 331.674103 M 0.217285 0 32 (er \(part of the Net Message serv) widthshow
421.80304 331.674103 M 0.217285 0 32 (er\) pro) widthshow
448.800415 331.674103 M 0.217285 0 32 (vides a set of per) widthshow
517.229675 331.674103 M 0.217285 0 32 (-node) widthshow
180 343.674042 M 0.791809 0 32 (name spaces. Clients on a node ha) widthshow
321.470978 343.674042 M 0.791809 0 32 (v) widthshow
326.321045 343.674042 M 0.791809 0 32 (e as their re) widthshow
374.916565 343.674042 M 0.791809 0 32 (gistered name serv) widthshow
451.330292 343.674042 M 0.791809 0 32 (er port the port to the) widthshow
180 355.673981 M 1.474228 0 32 (local name serv) widthshow
245.558548 355.673981 M 1.474228 0 32 (er) widthshow
252.778854 355.673981 M 1.474228 0 32 (. W) widthshow
268.293304 355.673981 M 1.474228 0 32 (ith this port the) widthshow
333.406067 355.673981 M 1.474228 0 32 (y can look-up and check-in serv) widthshow
468.647308 355.673981 M 1.474228 0 32 (ers on their local) widthshow
(node.) 180.0 367.674 T
180 391.673859 M 0.861969 0 32 (As part of system / netw) widthshow
281.69989 391.673859 M 0.861969 0 32 (ork initialization, the Net Name serv) widthshow
431.949829 391.673859 M 0.861969 0 32 (er on a gi) widthshow
471.775879 391.673859 M 0.861969 0 32 (v) widthshow
476.625977 391.673859 M 0.861969 0 32 (en node locates) widthshow
180 403.673798 M 0.437958 0 32 (other nodes and announces itself to the name service on the other nodes. W) widthshow
486.343689 403.673798 M 0.437958 0 32 (ith the ) widthshow
4 FF
514.999634 403.673798 M 0.437958 0 32 (host_-) widthshow
180 415.673737 M 0.08075 0 32 (name) widthshow
3 FF
201.660004 415.673737 M 0.08075 0 32 ( parameter to ) widthshow
0 FF
257.162262 415.673737 M 0.08075 0 32 (netname_look_up) widthshow
3 FF
333.282257 415.673737 M 0.08075 0 32 (, clients can locate serv) widthshow
426.485352 415.673737 M 0.08075 0 32 (ers on other nodes. It is nec-) widthshow
180 427.673676 M 0.811188 0 32 (essary for clients to establish a con) widthshow
323.88736 427.673676 M 0.811188 0 32 (v) widthshow
328.737427 427.673676 M 0.811188 0 32 (ention as to what host will check-in a serv) widthshow
503.387024 427.673676 M 0.811188 0 32 (er \(so all) widthshow
180 439.673615 M 1.263687 0 32 (clients kno) widthshow
224.623825 439.673615 M 1.263687 0 32 (w what ) widthshow
4 FF
258.811218 439.673615 M 1.263687 0 32 (host_name) widthshow
3 FF
302.141205 439.673615 M 1.263687 0 32 ( v) widthshow
310.655029 439.673615 M 1.263687 0 32 (alue to use to \336nd it\) or clients must bro) widthshow
481.498352 439.673615 M 1.263687 0 32 (wse the set of) widthshow
(name serv) 180.0 451.674 T
(ers in some unde\336ned manner) 220.67 451.674 T
(.) 340.1 451.674 T
180 475.673492 M 0.23494 0 32 (Each name serv) widthshow
243.629974 475.673492 M 0.23494 0 32 (er is re) widthshow
271.159943 475.673492 M 0.23494 0 32 (gistered in its o) widthshow
333.004883 475.673492 M 0.23494 0 32 (wn name space \(with the string \322NameServ) widthshow
508.114624 475.673492 M 0.23494 0 32 (er\323\). As) widthshow
180 487.673431 M 0.239334 0 32 (such, a client can obtain the port for the local name serv) widthshow
406.322784 487.673431 M 0.239334 0 32 (er on another node \(by supplying) widthshow
180 499.67337 M 0.266876 0 32 (that node\325) widthshow
219.987183 499.67337 M 0.266876 0 32 (s host name to ) widthshow
0 FF
281.054688 499.67337 M 0.266876 0 32 (netname_look_up) widthshow
3 FF
357.174683 499.67337 M 0.266876 0 32 (\). W) widthshow
374.811768 499.67337 M 0.266876 0 32 (ith this port, a client can directly look-up) widthshow
(serv) 180.0 511.673 T
(ers on that node, as well as check in serv) 196.51 511.673 T
(ers on that node.) 359.1 511.673 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 9 9
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 SC
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
427 732.706665 M -2.5 0 32 (5 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (CHAPTER 3) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (Mach Interf) ashow
288.435059 116 M -0.479736 0 (ace Generator ) ashow
3 FF
180 146 M -0.479736 0 (\(MIG\)) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(This chapter describes MIG, the Mach Interf) 72.0 367.667 T
(ace Generator) 250.46 367.667 T
(.) 305.71 367.667 T
72 408.999939 360 3.024002 CR
432 410.51 M
72 410.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Intr) 72.0 405.333 T
(oduction) 95.856 405.333 T
4 FF
72 429.690613 M 0.238297 0 32 (MIG is a program which generates remote procedure call \(RPC\) code for communication) widthshow
72 441.690613 M 0.973969 0 32 (between a client \(hereafter referred to as the user side\) and a serv) widthshow
343.987762 441.690613 M 0.973969 0 32 (er process \(the serv) widthshow
424.229767 441.690613 M 0.973969 0 32 (er) widthshow
4 FF
72 453.690582 M 0.511505 0 32 (side\). Mach serv) widthshow
139.243103 453.690582 M 0.511505 0 32 (ers e) widthshow
158.204697 453.690582 M 0.511505 0 32 (x) widthshow
163.054779 453.690582 M 0.511505 0 32 (ecute as separate tasks and communicate with their users by send-) widthshow
4 FF
72 465.690552 M 0.083618 0 32 (ing Mach inter) widthshow
130.847351 465.690552 M 0.083618 0 32 (-process communication \(IPC\) messages. The IPC interf) widthshow
357.049133 465.690552 M 0.083618 0 32 (ace is language in-) widthshow
72 477.690552 M 1.039047 0 32 (dependent and f) widthshow
137.84816 477.690552 M 1.039047 0 32 (airly comple) widthshow
189.007294 477.690552 M 1.039047 0 32 (x. The MIG program is designed to automatically generate) widthshow
72 489.690552 M 0.463715 0 32 (procedures in C to pack and send, or recei) widthshow
243.469879 489.690552 M 0.463715 0 32 (v) widthshow
248.319962 489.690552 M 0.463715 0 32 (e and unpack the IPC messages used to com-) widthshow
(municate between processes. ) 72.0 501.691 T
72 525.690491 M 0.6353 0 32 (The user must pro) widthshow
146.245987 525.690491 M 0.6353 0 32 (vide a speci\336cation \336le de\336ning parameters of both the message pass-) widthshow
(ing interf) 72.0 537.69 T
(ace and the procedure call interf) 108.84 537.69 T
(ace. MIG then generates \(by def) 237.3 537.69 T
(ault\) three \336les: ) 366.04 537.69 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 72.0 555.69 T
4 FF
85.535995 555.690491 M 1.094543 0 32 (User Interf) widthshow
130.120605 555.690491 M 1.094543 0 32 (ace Module: This module is meant to be link) widthshow
317.657013 555.690491 M 1.094543 0 32 (ed into the user program. It) widthshow
85.535995 567.69043 M 0.568497 0 32 (implements and e) widthshow
157.073074 567.69043 M 0.568497 0 32 (xports procedures and functions to send and recei) widthshow
358.812714 567.69043 M 0.568497 0 32 (v) widthshow
363.662781 567.69043 M 0.568497 0 32 (e the appropriate) widthshow
(messages to and from the serv) 85.536 579.69 T
(er) 206.196 579.69 T
(.) 213.416 579.69 T
6 FF
<a5> 72.0 594.69 T
4 FF
85.535995 594.69043 M 0.600891 0 32 (User Header Module: This module is meant to be included in the user code to de\336ne) widthshow
(the types and routines needed at compilation time.) 85.536 606.69 T
6 FF
<a5> 72.0 621.69 T
4 FF
85.535995 621.69043 M 0.424118 0 32 (Serv) widthshow
103.71608 621.69043 M 0.424118 0 32 (er Interf) widthshow
136.520264 621.69043 M 0.424118 0 32 (ace Module: This module is link) widthshow
268.260925 621.69043 M 0.424118 0 32 (ed into the serv) widthshow
330.763367 621.69043 M 0.424118 0 32 (er process. It e) widthshow
390.195801 621.69043 M 0.424118 0 32 (xtracts the) widthshow
85.535995 633.690369 M 1.156418 0 32 (input parameters from an IPC message, and calls a serv) widthshow
317.413879 633.690369 M 1.156418 0 32 (er procedure to perform the) widthshow
85.535995 645.690369 M 1.005783 0 32 (operation. When the tar) widthshow
182.793457 645.690369 M 1.005783 0 32 (get serv) widthshow
215.029327 645.690369 M 1.005783 0 32 (er procedure or function returns, the generated inter-) widthshow
85.535995 657.690369 M 1.821243 0 32 (f) widthshow
88.766052 657.690369 M 1.821243 0 32 (ace module g) widthshow
145.678574 657.690369 M 1.821243 0 32 (athers the output parameters and correctly formats a reply message.) widthshow
4 FF
85.535995 669.690308 M 0.884125 0 32 (Note that this generated module does not perform the action of recei) widthshow
368.011536 669.690308 M 0.884125 0 32 (ving or sending) widthshow
(messages, only the interpretation and generation of messages.) 85.536 681.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 10 10
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(6 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.694885 0 32 (A gi) widthshow
197.945023 113.650665 M 0.694885 0 32 (v) widthshow
202.795105 113.650665 M 0.694885 0 32 (en MIG speci\336cation \336le de\336nes either some interf) widthshow
411.139374 113.650665 M 0.694885 0 32 (aces to a ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
450.154053 113.650665 M 0.694885 0 32 (subsystem) widthshow
3 FF
490.704041 113.650665 M 0.694885 0 32 (, or the data) widthshow
180 125.65065 M 0.439331 0 32 (types of v) widthshow
220.068802 125.65065 M 0.439331 0 32 (alues to be passed to or returned from that subsystem, or both. By def) widthshow
503.700195 125.65065 M 0.439331 0 32 (ault, gi) widthshow
531.669678 125.65065 M 0.439331 0 32 (v-) widthshow
180 137.650635 M 0.206787 0 32 (en a \336le de\336ning interf) widthshow
271.827209 137.650635 M 0.206787 0 32 (aces with names ) widthshow
4 FF
340.487579 137.650635 M 0.206787 0 32 (foo) widthshow
3 FF
353.267578 137.650635 M 0.206787 0 32 (, ) widthshow
4 FF
358.474365 137.650635 M 0.206787 0 32 (bar) widthshow
3 FF
371.9646 137.650635 M 0.206787 0 32 (, etc. to subsystem ) widthshow
4 FF
448.901733 137.650635 M 0.206787 0 32 (sys) widthshow
3 FF
461.121735 137.650635 M 0.206787 0 32 (, the output of MIG) widthshow
(will be as follo) 180.0 149.651 T
(ws:) 239.47 149.651 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 167.651 T
3 FF
193.535995 167.650604 M 0.484543 0 32 (The user interf) widthshow
253.275146 167.650604 M 0.484543 0 32 (ace module will consist of C functions named ) widthshow
4 FF
442.691498 167.650604 M 0.484543 0 32 (foo) widthshow
3 FF
455.471497 167.650604 M 0.484543 0 32 (, ) widthshow
4 FF
460.956055 167.650604 M 0.484543 0 32 (bar) widthshow
3 FF
474.446259 167.650604 M 0.484543 0 32 (, etc. that g) widthshow
520.009888 167.650604 M 0.484543 0 32 (ather) widthshow
193.535995 179.650589 M 0.440247 0 32 (the parameters de\336ned for these operations and generate a Mach IPC message for the) widthshow
(desired port.) 193.536 191.651 T
5 FF
<a5> 180.0 206.651 T
3 FF
193.535995 206.650558 M 0.545654 0 32 (The user header module will consist of the necessary data descriptions, and the func-) widthshow
193.535995 218.650543 M 0.923615 0 32 (tion prototypes for these C functions. The prototypes for these functions are deri) widthshow
525.709534 218.650543 M 0.923615 0 32 (v) widthshow
530.559631 218.650543 M 0.923615 0 32 (ed) widthshow
(from the MIG speci\336cation in a w) 193.536 230.651 T
(ay described at length belo) 329.526 230.651 T
(w) 436.476 230.651 T
(.) 443.047 230.651 T
5 FF
<a5> 180.0 245.651 T
3 FF
193.535995 245.650513 M 0.750229 0 32 (The serv) widthshow
228.846313 245.650513 M 0.750229 0 32 (er interf) widthshow
261.426605 245.650513 M 0.750229 0 32 (ace module will consist of a top-le) widthshow
403.43811 245.650513 M 0.750229 0 32 (v) widthshow
408.288208 245.650513 M 0.750229 0 32 (el C function whose name is set) widthshow
3 FF
193.535995 257.650513 M 1.241943 0 32 (by the ) widthshow
4 FF
223.239883 257.650513 M 1.241943 0 32 (server) widthshow
247.860092 257.650513 M 1.241943 0 32 (demux) widthshow
3 FF
273.960083 257.650513 M 1.241943 0 32 ( declaration \(or to ) widthshow
4 FF
352.797882 257.650513 M 1.241943 0 32 (sys) widthshow
0 FF
365.017883 257.650513 M 1.241943 0 32 (_ser) widthshow
382.687927 257.650513 M 1.241943 0 32 (v) widthshow
387.588013 257.650513 M 1.241943 0 32 (er) widthshow
3 FF
396.468018 257.650513 M 1.241943 0 32 ( if no name is chosen\) appropriate) widthshow
3 FF
(for use by ) 193.536 269.65 T
0 FF
(mach_msg_ser) 236.026 269.65 T
(v) 299.246 269.65 T
(er) 304.146 269.65 T
3 FF
(. This generated routine has the follo) 312.476 269.65 T
(wing prototype:) 459.147 269.65 T
(boolean_t ) 216.0 293.65 T
4 FF
(sys) 257.94 293.65 T
0 FF
(_ser) 270.16 293.65 T
(v) 287.83 293.65 T
(er) 292.73 293.65 T
3 FF
( \(mach_msg_header_t* ) 301.61 293.65 T
4 FF
(InHeadP) 397.7 293.65 T
3 FF
(, mach_msg_header_t* ) 432.691 293.65 T
4 FF
(OutHeadP) 270.0 305.65 T
3 FF
(\);) 312.77 305.65 T
3 FF
193.535995 323.650452 M 0.982391 0 32 (This routine e) widthshow
250.900864 323.650452 M 0.982391 0 32 (xamines the gi) widthshow
310.945801 323.650452 M 0.982391 0 32 (v) widthshow
315.795868 323.650452 M 0.982391 0 32 (en message header to see if the message is one recog-) widthshow
3 FF
193.535995 335.650421 M 0.297394 0 32 (nized by this subsystem \(by e) widthshow
312.923035 335.650421 M 0.297394 0 32 (xamining the operation ID\). If the message is not recog-) widthshow
193.535995 347.650391 M 0.415222 0 32 (nized, F) widthshow
225.431625 347.650391 M 0.415222 0 32 (ALSE is returned by ) widthshow
4 FF
312.08252 347.650391 M 0.415222 0 32 (sys) widthshow
0 FF
324.302521 347.650391 M 0.415222 0 32 (_ser) widthshow
341.972595 347.650391 M 0.415222 0 32 (v) widthshow
346.87262 347.650391 M 0.415222 0 32 (er) widthshow
3 FF
355.202942 347.650391 M 0.415222 0 32 (. If the message is recognized, the parameters) widthshow
193.535995 359.650391 M 0.263321 0 32 (from the IPC message are unpack) widthshow
329.442688 359.650391 M 0.263321 0 32 (ed and the corresponding routine \(i.e., ) widthshow
4 FF
485.712616 359.650391 M 0.263321 0 32 (foo) widthshow
3 FF
498.492615 359.650391 M 0.263321 0 32 (, ) widthshow
4 FF
503.75592 359.650391 M 0.263321 0 32 (bar) widthshow
3 FF
517.246155 359.650391 M 0.263321 0 32 (, etc.\)) widthshow
193.535995 371.650391 M 1.254074 0 32 (will be called, with TR) widthshow
290.092529 371.650391 M 1.254074 0 32 (UE returned by ) widthshow
4 FF
358.004761 371.650391 M 1.254074 0 32 (sys) widthshow
0 FF
370.224731 371.650391 M 1.254074 0 32 (_ser) widthshow
387.894806 371.650391 M 1.254074 0 32 (v) widthshow
392.794861 371.650391 M 1.254074 0 32 (er) widthshow
3 FF
401.125183 371.650391 M 1.254074 0 32 (. The return code from the called) widthshow
193.535995 383.65036 M 0.717545 0 32 (function will be returned as the \336rst \336eld in the output message. By def) widthshow
487.184143 383.65036 M 0.717545 0 32 (ault, the rou-) widthshow
193.535995 395.65033 M 0.0513 0 32 (tines called in the serv) widthshow
283.021301 395.65033 M 0.0513 0 32 (er ha) widthshow
302.582703 395.65033 M 0.0513 0 32 (v) widthshow
307.4328 395.65033 M 0.0513 0 32 (e the same names as those called by the user since it is as-) widthshow
(sumed that the user and serv) 193.536 407.65 T
(er li) 306.976 407.65 T
(v) 322.556 407.65 T
(e in separate spaces.) 327.406 407.65 T
193.535995 422.65033 M 2.716324 0 32 (The serv) widthshow
230.812408 422.65033 M 2.716324 0 32 (er interf) widthshow
265.358795 422.65033 M 2.716324 0 32 (ace module contains a message typing routine named ) widthshow
4 FF
502.609406 422.65033 M 2.716324 0 32 (server) widthshow
527.229614 422.65033 M 2.716324 0 32 (de-) widthshow
4 FF
193.535995 434.650299 M 1.833038 0 32 (mux) widthshow
0 FF
210.195999 434.650299 M 1.833038 0 32 (_r) widthshow
219.4561 434.650299 M 1.833038 0 32 (outine) widthshow
3 FF
246.126099 434.650299 M 1.833038 0 32 ( \(that is, the same name as the message de-multiple) widthshow
467.443542 434.650299 M 1.833038 0 32 (xing routine with) widthshow
0 FF
193.535995 446.650269 M 0.3685 0 32 (_r) widthshow
202.796097 446.650269 M 0.3685 0 32 (outine) widthshow
3 FF
229.466095 446.650269 M 0.3685 0 32 ( appended\) useful for quickly determining if the gi) widthshow
434.354248 446.650269 M 0.3685 0 32 (v) widthshow
439.204346 446.650269 M 0.3685 0 32 (en message is acceptable) widthshow
3 FF
193.535995 458.650269 M 0.840256 0 32 (to this MIG subsystem \(and which internal stub should be called\). This routine is of) widthshow
3 FF
193.535995 470.650269 M 0.48381 0 32 (use when messages recei) widthshow
294.427582 470.650269 M 0.48381 0 32 (v) widthshow
299.277649 470.650269 M 0.48381 0 32 (ed from a gi) widthshow
349.079224 470.650269 M 0.48381 0 32 (v) widthshow
353.929321 470.650269 M 0.48381 0 32 (en port may be directed to multiple MIG sub-) widthshow
(systems. This generated routine has the follo) 193.536 482.65 T
(wing prototype:) 371.876 482.65 T
(typedef v) 216.0 506.65 T
(oid \(*) 253.29 506.65 T
4 FF
(mig_r) 276.9 506.65 T
(outine_t) 300.34 506.65 T
3 FF
(\) \(mach_msg_header_t* ) 333.12 506.65 T
4 FF
(InHeadP) 432.54 506.65 T
3 FF
(, ) 467.531 506.65 T
(mach_msg_header_t* ) 270.0 518.65 T
4 FF
(OutHeadP) 360.26 518.65 T
3 FF
(\);) 403.03 518.65 T
4 FF
(mig_r) 216.0 542.65 T
(outine_t) 239.44 542.65 T
3 FF
( ) 272.22 542.65 T
4 FF
(sys) 274.72 542.65 T
0 FF
(_ser) 286.94 542.65 T
(v) 304.61 542.65 T
(er_r) 309.51 542.65 T
(outine) 327.65 542.65 T
3 FF
( \(mach_msg_header_t* ) 354.32 542.65 T
4 FF
(InHeadP) 450.41 542.65 T
3 FF
(\);) 486.51 542.65 T
193.535995 560.650146 M 0.982391 0 32 (This routine e) widthshow
250.900864 560.650146 M 0.982391 0 32 (xamines the gi) widthshow
310.945801 560.650146 M 0.982391 0 32 (v) widthshow
315.795868 560.650146 M 0.982391 0 32 (en message header to see if the message is one recog-) widthshow
193.535995 572.650146 M 1.495667 0 32 (nized by this subsystem \(by e) widthshow
318.914429 572.650146 M 1.495667 0 32 (xamining the operation ID\). If the message is recog-) widthshow
(nized, a pointer to a message unpacking routine is returned. The intended use is:) 193.536 584.65 T
3 FF
([1]) 195.34 598.65 T
0 FF
(mig_r) 216.0 598.65 T
(eply_setup) 241.37 598.65 T
3 FF
( \(&) 286.93 598.65 T
4 FF
(r) 300.54 598.65 T
(equest) 304.06 598.65 T
3 FF
(, &) 329.61 598.65 T
4 FF
(r) 342.39 598.65 T
(eply) 345.911 598.65 T
3 FF
(\);) 362.571 598.65 T
3 FF
([2]) 195.34 610.65 T
3 FF
(if \(\() 216.0 610.65 T
4 FF
(r) 231.27 610.65 T
(outine) 234.71 610.65 T
3 FF
( = ) 259.71 610.65 T
4 FF
(sys1) 270.35 610.65 T
0 FF
(_ser) 287.57 610.65 T
(v) 305.24 610.65 T
(er_r) 310.14 610.65 T
(outine) 328.28 610.65 T
3 FF
( \(&) 354.95 610.65 T
4 FF
(r) 368.56 610.65 T
(equest) 372.081 610.65 T
3 FF
(\) != 0\) ||) 397.631 610.65 T
3 FF
([3]) 195.34 622.65 T
3 FF
(\() 288.0 622.65 T
4 FF
(r) 291.33 622.65 T
(outine) 294.77 622.65 T
3 FF
( = ) 319.77 622.65 T
4 FF
(sys2) 330.41 622.65 T
0 FF
(_ser) 347.63 622.65 T
(v) 365.3 622.65 T
(er_r) 370.2 622.65 T
(outine) 388.34 622.65 T
3 FF
( \(&) 415.01 622.65 T
4 FF
(r) 428.62 622.65 T
(equest) 432.141 622.65 T
3 FF
(\) != 0\) ||) 457.691 622.65 T
([4]) 195.34 634.65 T
3 FF
(\() 288.0 634.65 T
4 FF
(r) 291.33 634.65 T
(outine) 294.77 634.65 T
3 FF
( = ) 319.77 634.65 T
4 FF
(sys3) 330.41 634.65 T
0 FF
(_ser) 347.63 634.65 T
(v) 365.3 634.65 T
(er_r) 370.2 634.65 T
(outine) 388.34 634.65 T
3 FF
( \(&) 415.01 634.65 T
4 FF
(r) 428.62 634.65 T
(equest) 432.141 634.65 T
3 FF
(\) != 0\)\)) 457.691 634.65 T
([5]) 195.34 646.65 T
3 FF
(\(*) 252.0 646.65 T
4 FF
(r) 260.33 646.65 T
(outine) 263.77 646.65 T
3 FF
(\) \(&) 288.77 646.65 T
4 FF
(r) 305.71 646.65 T
(equest) 309.23 646.65 T
3 FF
(, &) 334.78 646.65 T
4 FF
(r) 347.56 646.65 T
(eply) 351.081 646.65 T
3 FF
(\);) 367.741 646.65 T
3 FF
193.535995 659.650024 M 2.056686 0 32 (The serv) widthshow
230.152771 659.650024 M 2.056686 0 32 (er interf) widthshow
264.03952 659.650024 M 2.056686 0 32 (ace module also contains a message typing data structure named) widthshow
4 FF
193.535995 671.650024 M 0.47168 0 32 (server) widthshow
218.156204 671.650024 M 0.47168 0 32 (demux) widthshow
0 FF
244.25621 671.650024 M 0.47168 0 32 (_ser) widthshow
261.92627 671.650024 M 0.47168 0 32 (v) widthshow
266.826324 671.650024 M 0.47168 0 32 (er_entry) widthshow
3 FF
303.476318 671.650024 M 0.47168 0 32 ( useful for constructing hash tables for quickly identifying) widthshow
193.535995 683.650024 M 1.350327 0 32 (the de-multiple) widthshow
255.566406 683.650024 M 1.350327 0 32 (xing routine appropriate for a gi) widthshow
390.098206 683.650024 M 1.350327 0 32 (v) widthshow
394.948273 683.650024 M 1.350327 0 32 (en message ID. This data structure) widthshow
(has the follo) 193.536 695.65 T
(wing form:) 242.726 695.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 11 11
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
427 732.706665 M -2.5 0 32 (7 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(MIG Speci\336cation File Basics) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([1]) 87.34 115.667 T
(struct ) 108.0 115.667 T
1 FF
(mig_entry_t) 132.72 115.667 T
3 FF
([2]) 87.34 127.667 T
({) 108.0 127.667 T
([3]) 87.34 139.667 T
(mach_msg_id_t) 144.0 139.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(start) 288.0 139.667 T
3 FF
(;) 306.34 139.667 T
([4]) 87.34 151.667 T
(mach_msg_id_t) 144.0 151.667 T
4 FF
(end) 288.0 151.667 T
3 FF
(;) 302.44 151.667 T
([5]) 87.34 163.667 T
(mig_routine_t*) 144.0 163.667 T
4 FF
(ptr) 288.0 163.667 T
3 FF
(;) 299.67 163.667 T
([6]) 87.34 175.667 T
(mach_msg_size_t) 144.0 175.667 T
4 FF
(maxsize) 288.0 175.667 T
3 FF
(;) 319.66 175.667 T
([7]) 87.34 187.667 T
(} ) 108.0 187.667 T
4 FF
(server) 115.3 187.667 T
(demux) 139.92 187.667 T
1 FF
(_ser) 166.02 187.667 T
(v) 183.69 187.667 T
(er_entry) 188.59 187.667 T
3 FF
(;) 225.24 187.667 T
85.535995 200.66655 M 0.748367 0 32 (containing the starting and ending message ID numbers, de-multiple) widthshow
364.953033 200.66655 M 0.748367 0 32 (xing routine and) widthshow
85.535995 212.666534 M 0.309479 0 32 (the maximum size message an) widthshow
208.274002 212.666534 M 0.309479 0 32 (y of the serv) widthshow
258.762512 212.666534 M 0.309479 0 32 (er interf) widthshow
290.902069 212.666534 M 0.309479 0 32 (aces e) widthshow
315.211639 212.666534 M 0.309479 0 32 (xpect for this MIG de\336nition) widthshow
<de6c652e> 85.536 224.667 T
72 248.666504 M 0.513565 0 32 (MIG pro) widthshow
107.633652 248.666504 M 0.513565 0 32 (vides man) widthshow
148.827301 248.666504 M 0.513565 0 32 (y controls o) widthshow
196.924515 248.666504 M 0.513565 0 32 (v) widthshow
201.774597 248.666504 M 0.513565 0 32 (er this generation process, including changing the names) widthshow
(of the v) 72.0 260.666 T
(arious generated entities.) 102.3 260.666 T
72 301.999786 360 3.024002 CR
432 303.51 M
72 303.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(MIG Speci\336cation File Basics) 72.0 298.333 T
3 FF
72 322.69043 M 0.021469 0 32 (A MIG speci\336cation \336le contains the follo) widthshow
241.30896 322.69043 M 0.021469 0 32 (wing components, some of which may be omit-) widthshow
(ted.) 72.0 334.69 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 72.0 352.69 T
3 FF
(SubSystem identi\336cation) 85.536 352.69 T
6 FF
<a5> 72.0 367.69 T
3 FF
(Serv) 85.536 367.69 T
(erDemux declaration) 103.716 367.69 T
6 FF
<a5> 72.0 382.69 T
3 FF
(RcsId speci\336cation) 85.536 382.69 T
6 FF
<a5> 72.0 397.69 T
3 FF
(T) 85.536 397.69 T
(ype speci\336cations) 90.846 397.69 T
6 FF
<a5> 72.0 412.69 T
3 FF
(Import declarations) 85.536 412.69 T
6 FF
<a5> 72.0 427.69 T
3 FF
(Operation descriptions) 85.536 427.69 T
6 FF
<a5> 72.0 442.69 T
3 FF
(Options declarations) 85.536 442.69 T
3 FF
72 466.690308 M 1.208267 0 32 (A MIG speci\336cation \336le may include comments and preprocessor macros such as) widthshow
1 FF
411.620972 466.690308 M 1.208267 0 32 ( #in-) widthshow
(clude) 72.0 478.69 T
3 FF
( or ) 94.78 478.69 T
1 FF
(#de\336ne) 108.11 478.69 T
3 FF
(. F) 138.67 478.69 T
(or e) 149.08 478.69 T
(xample the statement:) 164.2 478.69 T
(#include) 108.0 502.69 T
1 FF
( <std_types.defs>) 142.44 502.69 T
3 FF
(can be used to include the type de\336nitions for standard Mach and C types.) 72.0 526.69 T
72 550.690247 M 1.07402 0 32 (The subsystem identi\336cation should appear \336rst for clarity) widthshow
312.458496 550.690247 M 1.07402 0 32 (. T) widthshow
323.842957 550.690247 M 1.07402 0 32 (ypes must be declared be-) widthshow
72 562.690247 M 0.200653 0 32 (fore the) widthshow
102.870743 562.690247 M 0.200653 0 32 (y are used. Code is generated for the operations and import declarations in the or-) widthshow
72 574.690186 M 0.426331 0 32 (der in which the) widthshow
137.839081 574.690186 M 0.426331 0 32 (y appear in the de\336nitions \336les. Options af) widthshow
310.563538 574.690186 M 0.426331 0 32 (fect the operations that follo) widthshow
424.778992 574.690186 M 0.426331 0 32 (w) widthshow
(them.) 72.0 586.69 T
7 (Times-Bold) 12 1 mymakefontmetric
7 FF
(SubSystem Identi\336cation) 72.0 618.024 T
3 FF
(The subsystem identi\336cation statement is of the form:) 72.0 634.69 T
(subsystem) 108.0 658.69 T
4 FF
( sys messa) 149.67 658.69 T
(g) 191.23 658.69 T
(e-base-id;) 196.13 658.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 12 12
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(8 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Italic) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.311615 0 32 (sys) widthshow
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
192.220001 113.650665 M 0.311615 0 32 ( is the name of the subsystem. It is used as the pre\336x for all generated \336le names. The) widthshow
180 125.65065 M 0.388138 0 32 (user \336le name will be ) widthshow
3 FF
270.54071 125.65065 M 0.388138 0 32 (sys) widthshow
4 FF
282.760681 125.65065 M 0.388138 0 32 (User) widthshow
301.091003 125.65065 M 0.388138 0 32 (.c, the user header \336le will be) widthshow
3 FF
421.169861 125.65065 M 0.388138 0 32 ( sys) widthshow
4 FF
436.277985 125.65065 M 0.388138 0 32 (.h, and the serv) widthshow
498.112488 125.65065 M 0.388138 0 32 (er \336le will) widthshow
(be ) 180.0 137.651 T
3 FF
(sys) 191.94 137.651 T
4 FF
(Serv) 204.16 137.651 T
(er) 222.34 137.651 T
(.c. These \336le names may be o) 229.56 137.651 T
(v) 347.72 137.651 T
(erridden by command line switches.) 352.571 137.651 T
3 FF
180 161.65062 M 0.060577 0 32 (messa) widthshow
204.340057 161.65062 M 0.060577 0 32 (g) widthshow
209.240112 161.65062 M 0.060577 0 32 (e-base-id) widthshow
4 FF
246.450119 161.65062 M 0.060577 0 32 ( is a decimal inte) widthshow
314.3125 161.65062 M 0.060577 0 32 (ger that is used as the IPC message ID of the \336rst opera-) widthshow
180 173.650604 M 1.328995 0 32 (tion in the speci\336cation \336le. Operations are numbered sequentially be) widthshow
469.551056 173.650604 M 1.328995 0 32 (ginning with this) widthshow
180 185.650589 M 1.75914 0 32 (base. The ) widthshow
3 FF
224.338287 185.650589 M 1.75914 0 32 (messa) widthshow
248.678345 185.650589 M 1.75914 0 32 (g) widthshow
253.5784 185.650589 M 1.75914 0 32 (e-base-id) widthshow
4 FF
290.788391 185.650589 M 1.75914 0 32 ( can be selected arbitrarily by the implementor of the sub-) widthshow
180 197.650574 M 1.128265 0 32 (system, b) widthshow
218.708374 197.650574 M 1.128265 0 32 (ut it is recommended for \322of) widthshow
337.68985 197.650574 M 1.128265 0 32 <de6369616cd32073756273797374656d20696d706c656d656e746f727320746f207265717565737420616e20756e2d> widthshow
180 209.650558 M 0.415802 0 32 (used ) widthshow
3 FF
201.245804 209.650558 M 0.415802 0 32 (messa) widthshow
225.585861 209.650558 M 0.415802 0 32 (g) widthshow
230.485916 209.650558 M 0.415802 0 32 (e-base-id) widthshow
4 FF
267.695923 209.650558 M 0.415802 0 32 ( from the Mach librarian. The only technical requirement is that all) widthshow
180 221.650543 M 0.084305 0 32 (requests sent to a single service port should ha) widthshow
366.004578 221.650543 M 0.084305 0 32 (v) widthshow
370.854645 221.650543 M 0.084305 0 32 (e dif) widthshow
388.739075 221.650543 M 0.084305 0 32 (ferent IDs, to allo) widthshow
459.282166 221.650543 M 0.084305 0 32 (w the serv) widthshow
500.400848 221.650543 M 0.084305 0 32 (er to easi-) widthshow
180 233.650528 M 0.706635 0 32 (ly distinguish them. The IPC message ID for the reply message for an) widthshow
467.459717 233.650528 M 0.706635 0 32 (y gi) widthshow
483.196472 233.650528 M 0.706635 0 32 (v) widthshow
488.04657 233.650528 M 0.706635 0 32 (en user mes-) widthshow
4 FF
(sage is 100 \(decimal\) more than the request ID.) 180.0 245.651 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Ser) 180.0 276.984 T
(v) 197.208 276.984 T
(erDemux Declaration) 203.088 276.984 T
4 FF
180 293.650513 M 0.559189 0 32 (By def) widthshow
207.399246 293.650513 M 0.559189 0 32 (ault, the serv) widthshow
259.747711 293.650513 M 0.559189 0 32 (er de-multiple) widthshow
316.536987 293.650513 M 0.559189 0 32 (xing routine in the serv) widthshow
411.393829 293.650513 M 0.559189 0 32 (er stub for use by ) widthshow
0 FF
486.119781 293.650513 M 0.559189 0 32 (mach_msg_-) widthshow
180 305.650482 M 0.307419 0 32 (ser) widthshow
192.670059 305.650482 M 0.307419 0 32 (v) widthshow
197.570114 305.650482 M 0.307419 0 32 (er) widthshow
4 FF
206.450119 305.650482 M 0.307419 0 32 ( generated by MIG is called) widthshow
3 FF
319.347229 305.650482 M 0.307419 0 32 ( sys) widthshow
0 FF
334.374634 305.650482 M 0.307419 0 32 (_ser) widthshow
352.044708 305.650482 M 0.307419 0 32 (v) widthshow
356.944763 305.650482 M 0.307419 0 32 (er) widthshow
4 FF
365.275085 305.650482 M 0.307419 0 32 (. A dif) widthshow
391.470032 305.650482 M 0.307419 0 32 (ferent name can be used if set by the) widthshow
3 FF
(server) 180.0 317.65 T
(demux) 204.62 317.65 T
4 FF
( declaration, of the form:) 230.72 317.65 T
(serv) 216.0 341.65 T
(erdemux ) 232.51 341.65 T
3 FF
(identi\336er) 270.0 341.65 T
4 FF
(;) 306.11 341.65 T
180 365.650452 M 0.278427 0 32 (The message typing routine al) widthshow
301.553772 365.650452 M 0.278427 0 32 (w) widthshow
308.673828 365.650452 M 0.278427 0 32 (ays has the same name as the serv) widthshow
446.272919 365.650452 M 0.278427 0 32 (er de-multiple) widthshow
502.781433 365.650452 M 0.278427 0 32 (xing rou-) widthshow
(tine with ) 180.0 377.65 T
0 FF
(_r) 217.78 377.65 T
(outine) 227.04 377.65 T
4 FF
( appended.) 253.71 377.65 T
5 FF
(RcsId Speci\336cation) 180.0 408.984 T
4 FF
(The) 180.0 425.65 T
3 FF
( r) 195.55 425.65 T
(csid) 201.57 425.65 T
4 FF
( speci\336cation is of the form:) 217.68 425.65 T
(rcsid \322) 216.0 449.65 T
3 FF
($Header information$) 242.38 449.65 T
4 FF
<d33b> 332.1 449.65 T
180 473.650391 M 0.702621 0 32 (This speci\336cation causes a string v) widthshow
322.413269 473.650391 M 0.702621 0 32 (ariable) widthshow
3 FF
349.62326 473.650391 M 0.702621 0 32 ( Sys_user_r) widthshow
397.165955 473.650391 M 0.702621 0 32 (scid) widthshow
4 FF
413.27594 473.650391 M 0.702621 0 32 ( in the user and ) widthshow
3 FF
480.389038 473.650391 M 0.702621 0 32 (Sys_server_r) widthshow
532.229248 473.650391 M 0.702621 0 32 (c-) widthshow
(sid) 180.0 485.65 T
4 FF
( in the serv) 191.67 485.65 T
(er module to be set to the input string.) 235.68 485.65 T
5 FF
(T) 180.0 516.984 T
(ype Declarations) 187.116 516.984 T
4 FF
(A type declaration is of the form:) 180.0 533.65 T
(type ) 216.0 557.65 T
3 FF
(user) 235.72 557.65 T
(-typename) 252.74 557.65 T
4 FF
( = ) 294.39 557.65 T
0 FF
(type-desc) 305.03 557.65 T
4 FF
( [) 345.02 557.65 T
0 FF
(translation-inf) 350.85 557.65 T
(o) 412.27 557.65 T
4 FF
(];) 417.27 557.65 T
4 FF
180 581.65033 M 0.27919 0 32 (\(The [] indicate that the ) widthshow
0 FF
278.315979 581.65033 M 0.27919 0 32 (translation-inf) widthshow
339.736084 581.65033 M 0.27919 0 32 (o) widthshow
4 FF
344.736084 581.65033 M 0.27919 0 32 ( is optional.\) The purpose of type declarations is) widthshow
4 FF
180 593.650269 M 1.29863 0 32 (to inform MIG about the types to use for the parameters of the v) widthshow
453.532349 593.650269 M 1.29863 0 32 (arious operation rou-) widthshow
180 605.650269 M 0.778534 0 32 (tines, and to inform MIG of the storage requirements for parameters and the method by) widthshow
180 617.650269 M 0.959961 0 32 (which the parameters are to be \322marshalled\323 to form the data for an IPC message. It is) widthshow
180 629.650269 M 0.208664 0 32 (possible to describe the types of the parameters for a routine directly in the declaration of) widthshow
180 641.650269 M 0.251923 0 32 (a routine; b) widthshow
225.853958 641.650269 M 0.251923 0 32 (ut, it is often more con) widthshow
317.263794 641.650269 M 0.251923 0 32 (v) widthshow
322.113892 641.650269 M 0.251923 0 32 (enient to de\336ne the types and their attrib) widthshow
485.047455 641.650269 M 0.251923 0 32 (utes separate-) widthshow
180 653.650208 M 0.931473 0 32 (ly) widthshow
187.130356 653.650208 M 0.931473 0 32 (, gi) widthshow
200.591965 653.650208 M 0.931473 0 32 (ving this collection of information a ) widthshow
0 FF
352.84082 653.650208 M 0.931473 0 32 (user) widthshow
370.801025 653.650208 M 0.931473 0 32 (-typename) widthshow
4 FF
415.791016 653.650208 M 0.931473 0 32 (, and then just simply use this) widthshow
0 FF
(user) 180.0 665.65 T
(-typename) 197.96 665.65 T
4 FF
( when specifying a routine parameter) 242.95 665.65 T
(.) 390.971 665.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 13 13
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
427 732.706665 M -2.5 0 32 (9 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(MIG Speci\336cation File Basics) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.858612 0 32 (The ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
90.908615 115.666656 M 0.858612 0 32 (user) widthshow
107.928726 115.666656 M 0.858612 0 32 (-typename) widthshow
3 FF
149.578735 115.666656 M 0.858612 0 32 ( is the name by which MIG will refer to the type. It must e) widthshow
394.929443 115.666656 M 0.858612 0 32 (v) widthshow
399.779541 115.666656 M 0.858612 0 32 (entually) widthshow
72 127.666641 M 0.409927 0 32 (be de\336ned in terms of b) widthshow
168.559753 127.666641 M 0.409927 0 32 (uilt-in MIG types, although ) widthshow
1 FF
282.699463 127.666641 M 0.409927 0 32 (<mach/std_types.defs>) widthshow
3 FF
379.929443 127.666641 M 0.409927 0 32 ( and ) widthshow
1 FF
400.189331 127.666641 M 0.409927 0 32 (<mach/) widthshow
72 139.666626 M 0.933563 0 32 (mach_types.defs> ) widthshow
3 FF
151.403564 139.666626 M 0.933563 0 32 (already mak) widthshow
201.387192 139.666626 M 0.933563 0 32 (e most of the needed de\336nitions. A MIG type de\336nition) widthshow
(really de\336nes three related notions:) 72.0 151.667 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 72.0 169.667 T
3 FF
(The MIG type name itself, used in making ne) 85.536 169.667 T
(w MIG type declarations.) 267.206 169.667 T
5 FF
<a5> 72.0 184.667 T
3 FF
85.535995 184.66658 M 0.337097 0 32 (A base NDR/IPC type. This type is used in determining the size of the data. The base) widthshow
85.535995 196.666565 M 0.808105 0 32 (type is also rele) widthshow
150.200455 196.666565 M 0.808105 0 32 (v) widthshow
154.950592 196.666565 M 0.808105 0 32 (ant for k) widthshow
190.346863 196.666565 M 0.808105 0 32 (ernel recognized data \(port rights\), in which cases the base) widthshow
(type determines the k) 85.536 208.667 T
(ernel processing to be done.) 171.256 208.667 T
5 FF
<a5> 72.0 223.667 T
3 FF
85.535995 223.666534 M 0.39711 0 32 (The data types used in the generated C code. The MIG type name is used, by def) widthshow
414.499847 223.666534 M 0.39711 0 32 (ault,) widthshow
85.535995 235.666519 M 0.293121 0 32 (whene) widthshow
111.386139 235.666519 M 0.293121 0 32 (v) widthshow
116.236221 235.666519 M 0.293121 0 32 (er a C type name is used. The C types to be used can be directly speci\336ed. Ei-) widthshow
85.535995 247.666504 M 0.41156 0 32 (ther w) widthshow
111.117615 247.666504 M 0.41156 0 32 (ay) widthshow
119.907974 247.666504 M 0.41156 0 32 (, MIG separates the notions of its type name by which it refers to parameters) widthshow
85.535995 259.666504 M 1.493103 0 32 (and the type names used in the generated C code. Re) widthshow
311.107117 259.666504 M 1.493103 0 32 (g) widthshow
316.057159 259.666504 M 1.493103 0 32 (ardless of whether the MIG) widthshow
85.535995 271.666473 M 1.05629 0 32 (type name is used or a user speci\336ed type name is used for the C data types, the C) widthshow
85.535995 283.666443 M 1.932556 0 32 (data types must be speci\336ed in some header \336le \322imported\323 into the generated C) widthshow
(code, as well as the users of this code.) 85.536 295.666 T
72 319.666443 M 0.9328 0 32 (The ) widthshow
1 FF
90.982803 319.666443 M 0.9328 0 32 (type-desc) widthshow
3 FF
130.972809 319.666443 M 0.9328 0 32 ( de\336nes the properties of the MIG type, such as its deri) widthshow
360.393768 319.666443 M 0.9328 0 32 (v) widthshow
365.143921 319.666443 M 0.9328 0 32 (ation from basic) widthshow
72 331.666412 M 0.632812 0 32 (MIG types, the storage attrib) widthshow
189.59137 331.666412 M 0.632812 0 32 (utes for the type and the mode of data transmission \(in-line) widthshow
3 FF
(or out-of-line\).) 72.0 343.666 T
72 367.666382 M 0.576096 0 32 (The optional ) widthshow
1 FF
126.482193 367.666382 M 0.576096 0 32 (translation-inf) widthshow
187.902328 367.666382 M 0.576096 0 32 (o) widthshow
3 FF
192.902328 367.666382 M 0.576096 0 32 ( de\336nes the C types to use, as well as translation functions) widthshow
(to be called to translate data types in the generated serv) 72.0 379.666 T
(er stub) 292.91 379.666 T
(.) 319.45 379.666 T
72 403.666351 M 0.218613 0 32 (MIG understands a basic set of scalar types as b) widthshow
265.667664 403.666351 M 0.218613 0 32 (uilt-in types. It allo) widthshow
342.743622 403.666351 M 0.218613 0 32 (ws the construction of) widthshow
72 415.666321 M 1.216888 0 32 (types from these b) widthshow
149.050781 415.666321 M 1.216888 0 32 (uilt-in types as structures of, arrays of and \322pointers\323 to \(out-of-line) widthshow
3 FF
(references to\) these basic or generated types.) 72.0 427.666 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Import Declarations) 72.0 459.0 T
3 FF
72 475.666321 M 0.289993 0 32 (If an) widthshow
90.740082 475.666321 M 0.289993 0 32 (y of the type names to be used in the generated C code are other than the standard C) widthshow
72 487.66629 M 0.374298 0 32 (types \(e.g. int, char) widthshow
149.373123 487.66629 M 0.374298 0 32 (, etc.\), C type de\336nition \336les must be imported into the user and serv-) widthshow
72 499.66626 M 2.177429 0 32 (er interf) widthshow
106.007492 499.66626 M 2.177429 0 32 (ace modules so that the) widthshow
207.887299 499.66626 M 2.177429 0 32 (y will compile. The) widthshow
4 FF
292.749573 499.66626 M 2.177429 0 32 ( import) widthshow
3 FF
324.097015 499.66626 M 2.177429 0 32 ( declarations specify \336les) widthshow
(which are imported into the modules generated by MIG. ) 72.0 511.666 T
(An) 72.0 535.666 T
4 FF
( import) 84.22 535.666 T
3 FF
( declaration is of one of the follo) 113.39 535.666 T
(wing forms: ) 243.95 535.666 T
(import ) 108.0 559.666 T
1 FF
<de6c652d6e616d65> 137.17 559.666 T
3 FF
(;) 176.61 559.666 T
(uimport ) 108.0 583.666 T
1 FF
<de6c652d6e616d65> 142.17 583.666 T
3 FF
(;) 181.61 583.666 T
(simport) 108.0 607.666 T
4 FF
( ) 138.56 607.666 T
1 FF
<de6c652d6e616d65> 141.06 607.666 T
3 FF
(;) 180.5 607.666 T
72 631.666199 M 0.279922 0 32 (where) widthshow
4 FF
96.430008 631.666199 M 0.279922 0 32 ( ) widthshow
1 FF
99.20993 631.666199 M 0.279922 0 32 <de6c652d6e616d65> widthshow
3 FF
138.649933 631.666199 M 0.279922 0 32 ( is in a form acceptable by) widthshow
1 FF
245.859482 631.666199 M 0.279922 0 32 ( cpp) widthshow
3 FF
264.199402 631.666199 M 0.279922 0 32 ( in ) widthshow
1 FF
277.539246 631.666199 M 0.279922 0 32 (#include) widthshow
3 FF
313.659241 631.666199 M 0.279922 0 32 ( statements, e.g. ) widthshow
1 FF
381.158997 631.666199 M 0.279922 0 32 (<\336le-name>) widthshow
3 FF
(or ) 72.0 643.666 T
1 FF
<d2de6c652d6e616d65d3> 82.83 643.666 T
3 FF
(.) 132.27 643.666 T
(F) 72.0 667.666 T
(or e) 77.41 667.666 T
(xample:) 92.53 667.666 T
(import \322) 108.0 691.666 T
1 FF
(my_defs.h) 141.61 691.666 T
3 FF
<d33b> 185.22 691.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 14 14
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(10 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(import \322) 216.0 113.651 T
0 FF
(/usr/mach/include/cthr) 249.61 113.651 T
(eads.h) 346.66 113.651 T
3 FF
<d33b> 373.61 113.651 T
(import ) 216.0 137.651 T
0 FF
(<cthr) 245.17 137.651 T
(eads.h>) 268.46 137.651 T
3 FF
(;) 301.11 137.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
180 161.650635 M 0.872269 0 32 (import) widthshow
3 FF
206.669998 161.650635 M 0.872269 0 32 ( declarations are included in both the user and serv) widthshow
417.380524 161.650635 M 0.872269 0 32 (er side code. ) widthshow
4 FF
472.757324 161.650635 M 0.872269 0 32 (uimport) widthshow
3 FF
504.427338 161.650635 M 0.872269 0 32 ( declara-) widthshow
180 173.65062 M 0.447311 0 32 (tions are included in just the user side. ) widthshow
4 FF
339.398499 173.65062 M 0.447311 0 32 (simport) widthshow
3 FF
369.958496 173.65062 M 0.447311 0 32 ( declarations are included in just the serv-) widthshow
(er side.) 180.0 185.651 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Standard Operations) 180.0 216.984 T
3 FF
(There are tw) 180.0 233.651 T
(o types of standard operations that may be speci\336ed:) 230.43 233.651 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 180.0 251.651 T
3 FF
(Routine) 193.536 251.651 T
6 FF
<a5> 180.0 266.651 T
3 FF
(Simple Routine) 193.536 266.651 T
180 290.650543 M 1.296616 0 32 (Also, the k) widthshow
226.103287 290.650543 M 1.296616 0 32 (e) widthshow
230.393372 290.650543 M 1.296616 0 32 (yw) widthshow
242.513428 290.650543 M 1.296616 0 32 (ord) widthshow
4 FF
255.84343 290.650543 M 1.296616 0 32 ( skip) widthshow
3 FF
275.750061 290.650543 M 1.296616 0 32 ( is pro) widthshow
303.193359 290.650543 M 1.296616 0 32 (vided to allo) widthshow
355.536743 290.650543 M 1.296616 0 32 (wed a procedure to be remo) widthshow
473.21991 290.650543 M 1.296616 0 32 (v) widthshow
478.070007 290.650543 M 1.296616 0 32 (ed from a sub-) widthshow
180 302.650513 M 0.592453 0 32 (system without causing all the subsequent message interf) widthshow
412.637238 302.650513 M 0.592453 0 32 (aces to be renumbered. It caus-) widthshow
(es no code to be generated, b) 180.0 314.651 T
(ut uses up an operation ID number) 295.6 314.651 T
(.) 433.36 314.651 T
(An operation de\336nition has the syntax:) 180.0 338.65 T
4 FF
(oper) 216.0 362.65 T
(ation-type) 234.18 362.65 T
3 FF
( ) 274.73 362.65 T
0 FF
(operation-name) 277.23 362.65 T
3 FF
( \() 345.0 362.65 T
0 FF
(parameter) 350.83 362.65 T
(-list) 395.44 362.65 T
4 FF
(\)) 411.55 362.65 T
3 FF
(;) 414.88 362.65 T
180 386.650452 M 0.549316 0 32 (The) widthshow
4 FF
195.550003 386.650452 M 0.549316 0 32 ( ) widthshow
0 FF
198.599319 386.650452 M 0.549316 0 32 (parameter) widthshow
243.209534 386.650452 M 0.549316 0 32 (-list) widthshow
3 FF
259.319519 386.650452 M 0.549316 0 32 ( is a list of parameter names and types separated by \322;\323. The form of) widthshow
(each parameter is:) 180.0 398.65 T
0 FF
(speci\336cation) 216.0 422.65 T
4 FF
( var) 268.78 422.65 T
(-name:) 284.41 422.65 T
3 FF
( ) 312.73 422.65 T
0 FF
(type-description) 315.23 422.65 T
3 FF
(where) 180.0 446.65 T
4 FF
( ) 204.43 446.65 T
0 FF
(speci\336cation) 206.93 446.65 T
3 FF
( may either be omitted or one of the follo) 259.71 446.65 T
(wing:) 424.16 446.65 T
6 FF
<a5> 180.0 464.65 T
3 FF
(the direction of the parameter \() 193.536 464.65 T
4 FF
(in) 317.666 464.65 T
3 FF
(,) 325.446 464.65 T
4 FF
( out) 327.946 464.65 T
3 FF
( or ) 343.226 464.65 T
4 FF
(inout) 356.556 464.65 T
3 FF
(\)) 377.116 464.65 T
6 FF
<a5> 180.0 479.65 T
3 FF
(the e) 193.536 479.65 T
(xplicit speci\336cation of which parameter supplies the request port \() 212.546 479.65 T
4 FF
(r) 477.226 479.65 T
(equestport) 480.746 479.65 T
3 FF
(\)) 522.966 479.65 T
6 FF
<a5> 180.0 494.65 T
3 FF
(the e) 193.536 494.65 T
(xplicit speci\336cation of the reply port to use \() 212.546 494.65 T
4 FF
(r) 390.306 494.65 T
(eplyport, sr) 393.826 494.65 T
(eplyport, ur) 439.566 494.65 T
(eplyport) 486.417 494.65 T
3 FF
(\)) 519.747 494.65 T
6 FF
<a5> 180.0 509.65 T
3 FF
193.535995 509.65036 M 0.089371 0 32 (a property of the generated ) widthshow
0 FF
304.22287 509.65036 M 0.089371 0 32 (mach_msg) widthshow
3 FF
349.772888 509.65036 M 0.089371 0 32 ( call \() widthshow
4 FF
372.721619 509.65036 M 0.089371 0 32 (waittime) widthshow
407.071655 509.65036 M 0.089371 0 32 (, msgseqno, msgoption) widthshow
3 FF
498.360413 509.65036 M 0.089371 0 32 (, ) widthshow
4 FF
503.449768 509.65036 M 0.089371 0 32 (server) widthshow
528.339844 509.65036 M 0.089371 0 32 (se-) widthshow
(cid) 193.536 521.65 T
3 FF
(, ) 205.756 521.65 T
4 FF
(user) 210.756 521.65 T
(secid) 227.876 521.65 T
3 FF
(\)) 248.426 521.65 T
0 FF
180 545.65033 M 0.010757 0 32 (type-description) widthshow
3 FF
249.440002 545.65033 M 0.010757 0 32 ( can be an) widthshow
289.582367 545.65033 M 0.010757 0 32 (y) widthshow
4 FF
294.582367 545.65033 M 0.010757 0 32 ( ) widthshow
0 FF
297.09314 545.65033 M 0.010757 0 32 (user) widthshow
315.053345 545.65033 M 0.010757 0 32 (-typename) widthshow
3 FF
360.043335 545.65033 M 0.010757 0 32 ( that w) widthshow
387.184906 545.65033 M 0.010757 0 32 (as declared in the type de\336nitions sec-) widthshow
180 557.65033 M 0.444061 0 32 (tion or can be a complete) widthshow
4 FF
283.030334 557.65033 M 0.444061 0 32 ( type description) widthshow
3 FF
350.57843 557.65033 M 0.444061 0 32 ( in the same form as in the type de\336nition sec-) widthshow
180 569.650269 M 2.269089 0 32 (tion. The ) widthshow
0 FF
223.148178 569.650269 M 2.269089 0 32 (type-description) widthshow
3 FF
292.588196 569.650269 M 2.269089 0 32 ( may be appended with additional IPC \337ags to af) widthshow
508.020142 569.650269 M 2.269089 0 32 (fect the) widthshow
3 FF
(parameter structure or data transmission.) 180.0 581.65 T
3 FF
180 605.650269 M 0.137405 0 32 (A) widthshow
4 FF
187.220001 605.650269 M 0.137405 0 32 ( simpler) widthshow
219.407654 605.650269 M 0.137405 0 32 (outine) widthshow
3 FF
244.407654 605.650269 M 0.137405 0 32 ( sends a message to the serv) widthshow
357.282166 605.650269 M 0.137405 0 32 (er b) widthshow
372.489685 605.650269 M 0.137405 0 32 (ut does not e) widthshow
423.582001 605.650269 M 0.137405 0 32 (xpect a reply) widthshow
474.857178 605.650269 M 0.137405 0 32 (. The return v) widthshow
529.449524 605.650269 M 0.137405 0 32 (al-) widthshow
180 617.650269 M 0.414536 0 32 (ue of a) widthshow
4 FF
208.039078 617.650269 M 0.414536 0 32 ( simpler) widthshow
240.50386 617.650269 M 0.414536 0 32 (outine) widthshow
3 FF
265.503845 617.650269 M 0.414536 0 32 ( \(type ) widthshow
4 FF
291.882935 617.650269 M 0.414536 0 32 (k) widthshow
296.222992 617.650269 M 0.414536 0 32 (ern_r) widthshow
318.073181 617.650269 M 0.414536 0 32 (eturn_t) widthshow
3 FF
346.963196 617.650269 M 0.414536 0 32 (\) is the v) widthshow
382.676941 617.650269 M 0.414536 0 32 (alue returned by the ) widthshow
0 FF
466.535095 617.650269 M 0.414536 0 32 (mach_msg) widthshow
3 FF
512.085083 617.650269 M 0.414536 0 32 ( primi-) widthshow
180 629.650269 M 1.039917 0 32 (ti) widthshow
185.310135 629.650269 M 1.039917 0 32 (v) widthshow
190.160217 629.650269 M 1.039917 0 32 (e send operation. A) widthshow
4 FF
271.039978 629.650269 M 1.039917 0 32 ( simpler) widthshow
304.130127 629.650269 M 1.039917 0 32 (outine) widthshow
3 FF
329.130127 629.650269 M 1.039917 0 32 ( is used when asynchronous communication with a) widthshow
180 641.650208 M 1.250763 0 32 (serv) widthshow
196.510086 641.650208 M 1.250763 0 32 (er is desired \(or to declare the asynchronous response from the serv) widthshow
479.768616 641.650208 M 1.250763 0 32 (er\).) widthshow
4 FF
493.368591 641.650208 M 1.250763 0 32 ( simpler) widthshow
526.669617 641.650208 M 1.250763 0 32 (ou-) widthshow
(tine) 180.0 653.65 T
3 FF
(s cannot ha) 195.0 653.65 T
(v) 239.79 653.65 T
(e ) 244.64 653.65 T
4 FF
(out) 251.58 653.65 T
3 FF
( or ) 264.36 653.65 T
4 FF
(inout) 277.69 653.65 T
3 FF
( parameters.) 298.25 653.65 T
180 677.650208 M 0.621185 0 32 (A) widthshow
4 FF
187.220001 677.650208 M 0.621185 0 32 ( r) widthshow
193.781433 677.650208 M 0.621185 0 32 (outine) widthshow
3 FF
218.781433 677.650208 M 0.621185 0 32 ( operation w) widthshow
269.913879 677.650208 M 0.621185 0 32 (aits for a reply message from the serv) widthshow
424.352264 677.650208 M 0.621185 0 32 (er) widthshow
431.572571 677.650208 M 0.621185 0 32 (. It is a function whose re-) widthshow
180 689.650146 M 1.185791 0 32 (sult is of type) widthshow
4 FF
237.727371 689.650146 M 1.185791 0 32 ( k) widthshow
245.75322 689.650146 M 1.185791 0 32 (ern_r) widthshow
267.603424 689.650146 M 1.185791 0 32 (eturn_t) widthshow
3 FF
296.493408 689.650146 M 1.185791 0 32 (. This result indicates whether the requested operation w) widthshow
531.6698 689.650146 M 1.185791 0 32 (as) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 15 15
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (11 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(MIG Speci\336cation File Basics) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.59494 0 32 (successfully completed. If a ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
188.519775 115.666656 M 0.59494 0 32 (r) widthshow
191.960022 115.666656 M 0.59494 0 32 (outine) widthshow
3 FF
216.960022 115.666656 M 0.59494 0 32 ( returns a v) widthshow
263.204987 115.666656 M 0.59494 0 32 (alue other than KERN_SUCCESS the re-) widthshow
(ply message will not include an) 72.0 127.667 T
(y of the reply parameters e) 198.23 127.667 T
(xcept the error code. ) 304.99 127.667 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Ser) 72.0 159.0 T
(v) 89.208 159.0 T
(erPr) 95.088 159.0 T
(e\336x Speci\336cation) 118.188 159.0 T
3 FF
(The) 72.0 175.667 T
4 FF
( serverpr) 87.55 175.667 T
(e\336x) 123.56 175.667 T
3 FF
( speci\336cation is of the form:) 137.44 175.667 T
(serv) 108.0 199.667 T
(erpre\336x) 124.51 199.667 T
4 FF
( string;) 155.61 199.667 T
3 FF
72 223.666595 M 0.265228 0 32 (The w) widthshow
97.435287 223.666595 M 0.265228 0 32 (ord) widthshow
4 FF
110.765289 223.666595 M 0.265228 0 32 ( serverpr) widthshow
147.040726 223.666595 M 0.265228 0 32 (e\336x) widthshow
3 FF
160.920731 223.666595 M 0.265228 0 32 ( is follo) widthshow
191.761322 223.666595 M 0.265228 0 32 (wed by an identi\336er) widthshow
4 FF
272.267029 223.666595 M 0.265228 0 32 ( string) widthshow
3 FF
298.372253 223.666595 M 0.265228 0 32 ( which will be pre\336x) widthshow
382.053223 223.666595 M 0.265228 0 32 (ed to the ac-) widthshow
72 235.66658 M 1.28746 0 32 (tual names of all the follo) widthshow
180.677444 235.66658 M 1.28746 0 32 (wing serv) widthshow
220.974991 235.66658 M 1.28746 0 32 (er side functions implementing the message opera-) widthshow
72 247.666565 M 2.852127 0 32 (tions. This is particularly useful when it is necessary for the user and serv) widthshow
402.767761 247.666565 M 2.852127 0 32 (er side) widthshow
72 259.666565 M 0.996429 0 32 (functions to ha) widthshow
133.232971 259.666565 M 0.996429 0 32 (v) widthshow
138.083054 259.666565 M 0.996429 0 32 (e dif) widthshow
156.879623 259.666565 M 0.996429 0 32 (ferent names, as must be the case when a serv) widthshow
348.9776 259.666565 M 0.996429 0 32 (er is also a client of) widthshow
3 FF
72 271.666534 M 0.26825 0 32 (the same interf) widthshow
131.866562 271.666534 M 0.26825 0 32 (ace. This speci\336cation applies to all operations de\336ned after this speci\336ca-) widthshow
3 FF
(tion in the de\336nition \336le.) 72.0 283.667 T
5 FF
(UserPr) 72.0 315.0 T
(e\336x Speci\336cation) 108.432 315.0 T
3 FF
(The) 72.0 331.667 T
4 FF
( userpr) 87.55 331.667 T
(e\336x) 115.79 331.667 T
3 FF
( speci\336cation is of the form:) 129.67 331.667 T
(userpre\336x) 108.0 355.666 T
4 FF
( string;) 147.99 355.666 T
3 FF
72 379.666473 M 0.264542 0 32 (The w) widthshow
97.434601 379.666473 M 0.264542 0 32 (ord) widthshow
4 FF
110.764603 379.666473 M 0.264542 0 32 ( userpr) widthshow
139.269348 379.666473 M 0.264542 0 32 (e\336x) widthshow
3 FF
153.149353 379.666473 M 0.264542 0 32 ( is follo) widthshow
183.988571 379.666473 M 0.264542 0 32 (wed by an identi\336er) widthshow
4 FF
264.492188 379.666473 M 0.264542 0 32 ( string) widthshow
3 FF
290.596741 379.666473 M 0.264542 0 32 ( which will be pre\336x) widthshow
374.274994 379.666473 M 0.264542 0 32 (ed to the actu-) widthshow
72 391.666443 M 0.749969 0 32 (al names of all the follo) widthshow
170.209991 391.666443 M 0.749969 0 32 (wing user side functions calling the message operations. ) widthshow
4 FF
403.679749 391.666443 M 0.749969 0 32 (server-) widthshow
72 403.666443 M 1.292068 0 32 (pr) widthshow
80.520203 403.666443 M 1.292068 0 32 (e\336x) widthshow
3 FF
94.400208 403.666443 M 1.292068 0 32 ( should usually be used when dif) widthshow
233.002762 403.666443 M 1.292068 0 32 (ferent names are needed for the user and serv) widthshow
424.229431 403.666443 M 1.292068 0 32 (er) widthshow
72 415.666443 M 1.394424 0 32 (functions, b) widthshow
120.414536 415.666443 M 1.394424 0 32 (ut) widthshow
4 FF
128.194534 415.666443 M 1.394424 0 32 ( userpr) widthshow
157.829163 415.666443 M 1.394424 0 32 (e\336x) widthshow
3 FF
171.709167 415.666443 M 1.394424 0 32 ( is also a) widthshow
210.412552 415.666443 M 1.394424 0 32 (v) widthshow
215.162689 415.666443 M 1.394424 0 32 (ailable for completeness sak) widthshow
332.276031 415.666443 M 1.394424 0 32 (e. This speci\336cation ap-) widthshow
(plies to all operations de\336ned after this speci\336cation in the de\336nition \336le.) 72.0 427.666 T
5 FF
(Options Declarations) 72.0 459.0 T
3 FF
72 475.666382 M 0.093842 0 32 (Along with ) widthshow
4 FF
119.967682 475.666382 M 0.093842 0 32 (serverpr) widthshow
153.47789 475.666382 M 0.093842 0 32 (e\336x) widthshow
3 FF
167.357895 475.666382 M 0.093842 0 32 ( and ) widthshow
4 FF
186.98558 475.666382 M 0.093842 0 32 (userpr) widthshow
212.725784 475.666382 M 0.093842 0 32 (e\336x) widthshow
3 FF
226.605789 475.666382 M 0.093842 0 32 (, se) widthshow
239.77977 475.666382 M 0.093842 0 32 (v) widthshow
244.629852 475.666382 M 0.093842 0 32 (eral special-purpose options about the generat-) widthshow
72 487.666382 M 1.08493 0 32 (ed code may be speci\336ed. Def) widthshow
197.844727 487.666382 M 1.08493 0 32 (aults are a) widthshow
240.354706 487.666382 M 1.08493 0 32 (v) widthshow
245.104843 487.666382 M 1.08493 0 32 (ailable for each, and simple interf) widthshow
384.839569 487.666382 M 1.08493 0 32 (aces do not) widthshow
72 499.666382 M 0.778534 0 32 (usually need to change them. These options may occur more than once in the speci\336ca-) widthshow
72 511.666351 M 0.685272 0 32 (tion \336le. Each time an option declaration appears it sets that option for all the follo) widthshow
411.999237 511.666351 M 0.685272 0 32 (wing) widthshow
(operations.) 72.0 523.666 T
3 FF
(The) 72.0 547.666 T
4 FF
( waittime) 87.55 547.666 T
3 FF
( speci\336cation has tw) 124.5 547.666 T
(o forms:) 205.78 547.666 T
(w) 108.0 571.666 T
(aittime ) 115.12 571.666 T
4 FF
(time;) 145.4 571.666 T
3 FF
(no) 108.0 595.666 T
(w) 117.75 595.666 T
(aittime;) 124.87 595.666 T
72 619.66626 M 0.67276 0 32 (The w) widthshow
97.842819 619.66626 M 0.67276 0 32 (ord) widthshow
4 FF
111.172821 619.66626 M 0.67276 0 32 ( waittime) widthshow
3 FF
148.795578 619.66626 M 0.67276 0 32 ( is follo) widthshow
180.451233 619.66626 M 0.67276 0 32 (wed by an inte) widthshow
240.919601 619.66626 M 0.67276 0 32 (ger or an identi\336er that speci\336es the maximum) widthshow
72 631.66626 M 0.21347 0 32 (time in milliseconds that the user code will w) widthshow
255.267822 631.66626 M 0.21347 0 32 (ait for a reply from the serv) widthshow
366.368744 631.66626 M 0.21347 0 32 (er) widthshow
373.58905 631.66626 M 0.21347 0 32 (. If an identi\336-) widthshow
72 643.66626 M 0.211639 0 32 (er is used, it should be declared as an e) widthshow
229.274857 643.66626 M 0.211639 0 32 (xtern v) widthshow
257.286621 643.66626 M 0.211639 0 32 (ariable by some module in the user code. If) widthshow
72 655.66626 M 0.795319 0 32 (the) widthshow
4 FF
84.220001 655.66626 M 0.795319 0 32 ( waittime) widthshow
3 FF
121.965317 655.66626 M 0.795319 0 32 ( option is omitted, or if the ) widthshow
4 FF
236.982544 655.66626 M 0.795319 0 32 (nowaittime) widthshow
3 FF
281.432556 655.66626 M 0.795319 0 32 ( statement is seen, the RPC does not) widthshow
72 667.666199 M 0.375671 0 32 (return until a message is recei) widthshow
192.768509 667.666199 M 0.375671 0 32 (v) widthshow
197.618591 667.666199 M 0.375671 0 32 (ed. This v) widthshow
237.840073 667.666199 M 0.375671 0 32 (alue sets the ) widthshow
4 FF
290.347107 667.666199 M 0.375671 0 32 (timeout) widthshow
3 FF
320.347107 667.666199 M 0.375671 0 32 ( ar) widthshow
330.812866 667.666199 M 0.375671 0 32 (gument to the \(user) widthshow
409.22998 667.666199 M 0.375671 0 32 (-side\)) widthshow
1 FF
(mach_msg) 72.0 679.666 T
3 FF
( call.) 117.55 679.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 16 16
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(12 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(The) 180.0 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
( msgoption ) 195.55 113.651 T
3 FF
(speci\336cation is of the form:) 242.22 113.651 T
(msgoption ) 216.0 137.651 T
4 FF
(manifest-constant;) 260.73 137.651 T
3 FF
180 161.650635 M 0.449173 0 32 (where the) widthshow
4 FF
219.599182 161.650635 M 0.449173 0 32 ( manifest-constant) widthshow
3 FF
293.658356 161.650635 M 0.449173 0 32 ( may be one of the option v) widthshow
406.262695 161.650635 M 0.449173 0 32 (alues from the \336le ) widthshow
0 FF
483.049408 161.650635 M 0.449173 0 32 (<message.h>) widthshow
3 FF
537.49939 161.650635 M 0.449173 0 32 (.) widthshow
180 173.65062 M 0.403519 0 32 (This v) widthshow
205.433655 173.65062 M 0.403519 0 32 (alue is OR\325ed into the ) widthshow
4 FF
297.721252 173.65062 M 0.403519 0 32 (option) widthshow
3 FF
323.28125 173.65062 M 0.403519 0 32 ( ar) widthshow
333.774872 173.65062 M 0.403519 0 32 (gument to the \(user) widthshow
412.275543 173.65062 M 0.403519 0 32 (-side\) ) widthshow
0 FF
437.949066 173.65062 M 0.403519 0 32 (mach_msg) widthshow
3 FF
483.499084 173.65062 M 0.403519 0 32 ( call. The v) widthshow
529.449768 173.65062 M 0.403519 0 32 (al-) widthshow
180 185.650604 M 0.219955 0 32 (ue MA) widthshow
207.870178 185.650604 M 0.219955 0 32 (CH_MSG_OPTION_NONE can be used to reset the ) widthshow
4 FF
422.429871 185.650604 M 0.219955 0 32 (msgoption) widthshow
3 FF
464.099884 185.650604 M 0.219955 0 32 ( v) widthshow
471.569977 185.650604 M 0.219955 0 32 (alue. Most of the) widthshow
180 197.650589 M 1.185379 0 32 (option v) widthshow
213.995514 197.650589 M 1.185379 0 32 (alues to ) widthshow
0 FF
249.696274 197.650589 M 1.185379 0 32 (mach_msg) widthshow
3 FF
295.246277 197.650589 M 1.185379 0 32 ( cannot be speci\336ed since the) widthshow
417.943268 197.650589 M 1.185379 0 32 (y w) widthshow
433.748718 197.650589 M 1.185379 0 32 (ould require manipulating) widthshow
180 209.650574 M 2.040665 0 32 (the ar) widthshow
204.350769 209.650574 M 2.040665 0 32 (guments to the ) widthshow
0 FF
271.862762 209.650574 M 2.040665 0 32 (mach_msg) widthshow
3 FF
317.412781 209.650574 M 2.040665 0 32 ( call itself. T) widthshow
373.285217 209.650574 M 2.040665 0 32 (w) widthshow
380.405273 209.650574 M 2.040665 0 32 (o that may be speci\336ed are MA) widthshow
517.77948 209.650574 M 2.040665 0 32 (CH_-) widthshow
180 221.650558 M 2.106964 0 32 (SEND_INTERR) widthshow
246.820221 221.650558 M 2.106964 0 32 (UPT and MA) widthshow
305.074371 221.650558 M 2.106964 0 32 (CH_RCV_INTERR) widthshow
385.234589 221.650558 M 2.106964 0 32 (UPT) widthshow
403.38501 221.650558 M 2.106964 0 32 (, which cause ) widthshow
0 FF
466.355896 221.650558 M 2.106964 0 32 (mach_msg) widthshow
3 FF
511.905884 221.650558 M 2.106964 0 32 ( to re-) widthshow
180 233.650543 M 0.828629 0 32 (turn to the caller if the send or recei) widthshow
329.119202 233.650543 M 0.828629 0 32 (v) widthshow
333.969269 233.650543 M 0.828629 0 32 (e operations are interrupted instead of retrying the) widthshow
(calls.) 180.0 245.651 T
180 286.983826 360 3.024002 CR
0.25 SL
2 SC
540 288.5 M
180 288.5 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(T) 180.0 283.317 T
(ype Speci\336cations) 188.303 283.317 T
3 FF
180 307.6745 M 0.476151 0 32 (All types referenced in a de\336nition \336le must be de\336ned if the) widthshow
428.667755 307.6745 M 0.476151 0 32 (y are other than the b) widthshow
515.548645 307.6745 M 0.476151 0 32 (uilt-in) widthshow
(IPC types.) 180.0 319.674 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Simple T) 180.0 351.008 T
(ypes) 225.456 351.008 T
3 FF
180 367.674438 M 0.298538 0 32 (A simple type declaration declares a ) widthshow
4 FF
329.53125 367.674438 M 0.298538 0 32 (user) widthshow
346.551361 367.674438 M 0.298538 0 32 (-typename) widthshow
3 FF
388.201355 367.674438 M 0.298538 0 32 ( which names a MIG type that can be) widthshow
(used for parameters of the de\336ned operations. The declaration is of the form:) 180.0 379.674 T
3 FF
(type ) 216.0 403.674 T
4 FF
(user) 235.72 403.674 T
(-typename) 252.74 403.674 T
3 FF
( = ) 294.39 403.674 T
0 FF
(type-desc) 305.03 403.674 T
3 FF
( [) 345.02 403.674 T
0 FF
(translation-inf) 350.85 403.674 T
(o) 412.27 403.674 T
3 FF
(];) 417.27 403.674 T
3 FF
180 427.674408 M 0.058517 0 32 (\(the [] indicate that the ) widthshow
0 FF
273.882599 427.674408 M 0.058517 0 32 (translation-inf) widthshow
335.302734 427.674408 M 0.058517 0 32 (o) widthshow
3 FF
340.302734 427.674408 M 0.058517 0 32 ( is optional\). A simple ) widthshow
0 FF
432.26532 427.674408 M 0.058517 0 32 (type-desc) widthshow
3 FF
472.25531 427.674408 M 0.058517 0 32 ( is either a pre) widthshow
528.889526 427.674408 M 0.058517 0 32 (vi-) widthshow
180 439.674377 M 0.276566 0 32 (ously de\336ned) widthshow
4 FF
233.886566 439.674377 M 0.276566 0 32 ( user) widthshow
253.683243 439.674377 M 0.276566 0 32 (-typename) widthshow
3 FF
295.333252 439.674377 M 0.276566 0 32 ( or a pre-de\336ned MIG type \(de\336ned in APPENDIX B\). MIG) widthshow
3 FF
180 451.674377 M 0.462982 0 32 (pre-de\336ned types co) widthshow
261.866058 451.674377 M 0.462982 0 32 (v) widthshow
266.716125 451.674377 M 0.462982 0 32 (er the basic scalar data v) widthshow
366.801208 451.674377 M 0.462982 0 32 (alues supported by the Netw) widthshow
482.423218 451.674377 M 0.462982 0 32 (ork Data Rep-) widthshow
(resentation as well as the Mach IPC port right types.) 180.0 463.674 T
(Some e) 180.0 487.674 T
(xamples of simple type declarations are:) 209.57 487.674 T
3 FF
(type) 216.0 511.674 T
4 FF
( int) 233.22 511.674 T
3 FF
( = MA) 246.28 511.674 T
(CH_MSG_TYPE_INTEGER_32;) 272.63 511.674 T
3 FF
(type) 216.0 535.674 T
4 FF
( k) 233.22 535.674 T
(ern_r) 240.06 535.674 T
(eturn_t) 261.91 535.674 T
3 FF
( = ) 290.8 535.674 T
4 FF
(int) 301.44 535.674 T
3 FF
(;) 312.0 535.674 T
180 559.674316 M 0.498611 0 32 (The MIG generated code assumes that the C types) widthshow
4 FF
385.058899 559.674316 M 0.498611 0 32 ( int) widthshow
3 FF
398.617523 559.674316 M 0.498611 0 32 ( and ) widthshow
4 FF
419.054749 559.674316 M 0.498611 0 32 (k) widthshow
423.394806 559.674316 M 0.498611 0 32 (ern_r) widthshow
445.244995 559.674316 M 0.498611 0 32 (eturn_t ) widthshow
3 FF
477.133606 559.674316 M 0.498611 0 32 (are de\336ned in a) widthshow
180 571.674316 M 1.489899 0 32 (compatible w) widthshow
235.549957 571.674316 M 1.489899 0 32 (ay by a user pro) widthshow
305.229645 571.674316 M 1.489899 0 32 (vided include \336le. The \336les ) widthshow
0 FF
424.339142 571.674316 M 1.489899 0 32 (<mach/std_types.defs>) widthshow
3 FF
521.569153 571.674316 M 1.489899 0 32 ( and) widthshow
0 FF
(<mach/mach_types.defs>) 180.0 583.674 T
3 FF
( de\336ne the basic C and Mach types.) 287.78 583.674 T
6 FF
(Structur) 180.0 615.008 T
(ed T) 223.776 615.008 T
(ypes) 245.893 615.008 T
3 FF
(F) 180.0 631.674 T
(our kinds of structured types are recognized: arrays, C strings, structures and \322pointers\323.) 185.41 631.674 T
0 FF
(Basic Arrays and Structur) 180.0 655.674 T
(es) 292.87 655.674 T
3 FF
(De\336nitions of arrays and structures follo) 180.0 668.674 T
(w the P) 341.67 668.674 T
(ascal-style syntax of:) 371.52 668.674 T
3 FF
(struct [) 216.0 692.674 T
4 FF
(size) 244.05 692.674 T
3 FF
(] of ) 259.05 692.674 T
0 FF
(comp-type-desc) 275.71 692.674 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 17 17
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (13 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(T) 72.0 56.824 T
(ype Speci\336cations) 77.338 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(array [) 108.0 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(size) 134.37 115.667 T
3 FF
(] of) 149.37 115.667 T
4 FF
( ) 163.53 115.667 T
1 FF
(comp-type-desc) 166.03 115.667 T
3 FF
72 139.666641 M 0.292618 0 32 (where ) widthshow
1 FF
99.222626 139.666641 M 0.292618 0 32 (comp-type-desc ) widthshow
3 FF
168.665253 139.666641 M 0.292618 0 32 (may be a simple ) widthshow
1 FF
237.605728 139.666641 M 0.292618 0 32 (type-desc) widthshow
3 FF
277.595734 139.666641 M 0.292618 0 32 ( or may be an) widthshow
4 FF
333.196228 139.666641 M 0.292618 0 32 ( arr) widthshow
348.618896 139.666641 M 0.292618 0 32 (ay) widthshow
3 FF
358.058899 139.666641 M 0.292618 0 32 ( or ) widthshow
4 FF
371.974152 139.666641 M 0.292618 0 32 (struct) widthshow
3 FF
394.75415 139.666641 M 0.292618 0 32 ( type and) widthshow
4 FF
(size) 72.0 151.667 T
3 FF
( may be a decimal inte) 87.0 151.667 T
(ger constant or e) 177.11 151.667 T
(xpression.) 243.33 151.667 T
72 175.666611 M 1.119949 0 32 (If a type is declared as an array the C type must also be an array) widthshow
343.909637 175.666611 M 1.119949 0 32 (, since the MIG RPC) widthshow
72 187.666595 M 0.087616 0 32 (code will treat the user type as an array \(i.e. assuming it is passed by reference and gener-) widthshow
72 199.66658 M 0.995667 0 32 (ating special code for array assignments\). A v) widthshow
262.009827 199.66658 M 0.995667 0 32 (ariable declared as a) widthshow
4 FF
346.346863 199.66658 M 0.995667 0 32 ( struct) widthshow
3 FF
372.622498 199.66658 M 0.995667 0 32 ( is assumed to) widthshow
72 211.666565 M 0.613281 0 32 (be passed by v) widthshow
132.189987 211.666565 M 0.613281 0 32 (alue and treated as a C structure in assignment statements. Other than the) widthshow
72 223.66655 M 0.510712 0 32 (dif) widthshow
82.860138 223.66655 M 0.510712 0 32 (ference in ar) widthshow
133.671677 223.66655 M 0.510712 0 32 (gument passing, the \336x) widthshow
227.833893 223.66655 M 0.510712 0 32 (ed size ) widthshow
4 FF
258.845337 223.66655 M 0.510712 0 32 (struct) widthshow
3 FF
281.625305 223.66655 M 0.510712 0 32 ( and ) widthshow
4 FF
302.086731 223.66655 M 0.510712 0 32 (arr) widthshow
314.716827 223.66655 M 0.510712 0 32 (ay) widthshow
3 FF
324.15683 223.66655 M 0.510712 0 32 ( declarations are the same.) widthshow
72 235.666534 M 0.402603 0 32 (There is no w) widthshow
127.817871 235.666534 M 0.402603 0 32 (ay to specify the \336elds of a C structure to MIG. That is, all elements of the) widthshow
3 FF
72 247.666519 M 0.090561 0 32 (structure must deri) widthshow
146.921265 247.666519 M 0.090561 0 32 (v) widthshow
151.771347 247.666519 M 0.090561 0 32 (e from the same basic C type, as an) widthshow
293.705933 247.666519 M 0.090561 0 32 (y data con) widthshow
334.58728 247.666519 M 0.090561 0 32 (v) widthshow
339.437378 247.666519 M 0.090561 0 32 (ersion that may be per-) widthshow
3 FF
72 259.666504 M 0.421402 0 32 (formed when crossing machine boundaries will be based on the base MIG type. The) widthshow
4 FF
414.078247 259.666504 M 0.421402 0 32 ( size) widthshow
3 FF
(and) 72.0 271.666 T
4 FF
( ) 86.44 271.666 T
1 FF
(comp-type-desc) 88.94 271.666 T
3 FF
( are just used to gi) 155.59 271.666 T
(v) 228.39 271.666 T
(e the size of the structure.) 233.24 271.666 T
3 FF
(If ) 72.0 295.666 T
1 FF
(comp-type-desc) 81.16 295.666 T
3 FF
( describes an array) 147.81 295.666 T
(, it must be of \336x) 221.85 295.666 T
(ed sized.) 290.04 295.666 T
1 FF
(V) 72.0 319.666 T
(ariable Sized Arrays) 78.301 319.666 T
3 FF
(The array form:) 72.0 332.666 T
(array [*: ) 108.0 356.666 T
4 FF
(maxsize) 144.65 356.666 T
3 FF
(] of ) 176.31 356.666 T
1 FF
(comp-type-desc) 192.97 356.666 T
3 FF
(array [] of ) 108.0 380.666 T
1 FF
(comp-type-desc) 151.03 380.666 T
3 FF
72 404.666382 M 1.216812 0 32 (speci\336es that a v) widthshow
141.780579 404.666382 M 1.216812 0 32 (ariable length array is to be passed in-line in the message. In the \336rst) widthshow
3 FF
72 416.666382 M 1.410751 0 32 (form) widthshow
4 FF
91.440002 416.666382 M 1.410751 0 32 ( maxsize) widthshow
3 FF
127.010757 416.666382 M 1.410751 0 32 ( is the maximum length of the array; specifying this upper bound allo) widthshow
420.889923 416.666382 M 1.410751 0 32 (ws) widthshow
3 FF
72 428.666382 M 0.283279 0 32 (MIG to produce more ef) widthshow
170.63327 428.666382 M 0.283279 0 32 <de6369656e7420636f64652e20546865736520666f726d732067656e657261746520616e206164646974696f6e616c20636f756e7420706172616d65746572> widthshow
72 440.666351 M 0.518494 0 32 (to specify ho) widthshow
124.447128 440.666351 M 0.518494 0 32 (w much of the array is actually being used. V) widthshow
309.634216 440.666351 M 0.518494 0 32 (ariable-length in-line ) widthshow
4 FF
397.321198 440.666351 M 0.518494 0 32 (inout) widthshow
3 FF
417.881195 440.666351 M 0.518494 0 32 ( ar-) widthshow
(guments are not supported.) 72.0 452.666 T
3 FF
72 476.666321 M 0.448639 0 32 (If no upper bound is supplied, MIG currently assumes the type to be a \322pointer\323 \(out-of-) widthshow
(line\) type whether speci\336ed as such or not.) 72.0 488.666 T
72 512.66626 M 0.504639 0 32 (If a bound is speci\336ed b) widthshow
170.143311 512.66626 M 0.504639 0 32 (ut the base type is a port type, MIG transmits the speci\336ed ) widthshow
4 FF
412.008972 512.66626 M 0.504639 0 32 (max-) widthshow
72 524.66626 M 2.644913 0 32 (size) widthshow
3 FF
87 524.66626 M 2.644913 0 32 ( number of rights, using MA) widthshow
214.264786 524.66626 M 2.644913 0 32 (CH_POR) widthshow
252.005112 524.66626 M 2.644913 0 32 (T_NULL for rights be) widthshow
348.939941 524.66626 M 2.644913 0 32 (yond those actually) widthshow
(passed.) 72.0 536.666 T
(If ) 72.0 560.666 T
1 FF
(comp-type-desc) 81.16 560.666 T
3 FF
( describes an array) 147.81 560.666 T
(, it must be of \336x) 221.85 560.666 T
(ed size.) 290.04 560.666 T
1 FF
(C Strings) 72.0 584.666 T
3 FF
(C strings ha) 72.0 597.666 T
(v) 119.58 597.666 T
(e the format:) 124.43 597.666 T
(c_string [) 108.0 621.666 T
4 FF
(size) 146.05 621.666 T
3 FF
(]) 161.05 621.666 T
(c_string [*: ) 108.0 645.666 T
4 FF
(size) 156.33 645.666 T
3 FF
(]) 171.33 645.666 T
3 FF
72 669.666138 M 0.942719 0 32 (\(V) widthshow
81.440613 669.666138 M 0.942719 0 32 (ariable sized strings cannot be speci\336ed as ) widthshow
4 FF
259.949646 669.666138 M 0.942719 0 32 (inout) widthshow
3 FF
280.509644 669.666138 M 0.942719 0 32 (.\) The \336x) widthshow
319.185181 669.666138 M 0.942719 0 32 (ed sized C string is equi) widthshow
419.478912 669.666138 M 0.942719 0 32 (v) widthshow
424.229065 669.666138 M 0.942719 0 32 (a-) widthshow
(lent to an array of characters:) 72.0 681.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 18 18
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(14 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(array [) 216.0 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(size) 242.37 113.651 T
3 FF
(] of MA) 257.37 113.651 T
(CH_MSG_TYPE_CHAR;) 289.74 113.651 T
180 137.65065 M 0.223953 0 32 (The v) widthshow
203.024094 137.65065 M 0.223953 0 32 (ariable sized C string presents the semantics of C strings \(as presented by the ANSI) widthshow
180 149.650635 M 0.840714 0 32 (C library\), namely) widthshow
254.63179 149.650635 M 0.840714 0 32 (, a null-byte terminated string. A v) widthshow
397.746216 149.650635 M 0.840714 0 32 (ariable sized C string will transmit) widthshow
180 161.65062 M 0.499954 0 32 (the \(v) widthshow
203.300095 161.65062 M 0.499954 0 32 (ariable sized\) v) widthshow
265.140137 161.65062 M 0.499954 0 32 (alid portion of the string \(all characters up to and including the null) widthshow
180 173.650604 M 1.32579 0 32 (byte\) in the message. No additional parameter is generated requesting from the sender) widthshow
180 185.650589 M 1.000549 0 32 (nor pro) widthshow
210.010635 185.650589 M 1.000549 0 32 (viding to the recei) widthshow
285.252441 185.650589 M 1.000549 0 32 (v) widthshow
290.102509 185.650589 M 1.000549 0 32 (er the current size of the string; this size is deri) widthshow
487.048157 185.650589 M 1.000549 0 32 (v) widthshow
491.898254 185.650589 M 1.000549 0 32 (ed from the) widthshow
(string itself.) 180.0 197.651 T
0 FF
<d250> 180.0 221.651 T
(ointer\323 \(Out-of-Line\) T) 190.91 221.651 T
(ypes) 290.161 221.651 T
3 FF
180 234.650543 M 0.662109 0 32 (In the de\336nition of \322pointer\323 types, the symbol \322^\323 precedes a simple, array or structure) widthshow
(de\336nition.) 180.0 246.651 T
(^ ) 216.0 270.651 T
0 FF
(comp-type-desc) 223.19 270.651 T
3 FF
180 294.650513 M 0.834122 0 32 (Data types declared as \322pointers\323 are al) widthshow
342.624817 294.650513 M 0.834122 0 32 (w) widthshow
349.744873 294.650513 M 0.834122 0 32 (ays sent out-of-line in the message. \322Pointers\323) widthshow
180 306.650482 M 1.672699 0 32 (to v) widthshow
196.702835 306.650482 M 1.672699 0 32 (ariable sized arrays \(unbounded or otherwise\) generate an additional parameter to) widthshow
3 FF
180 318.650452 M 1.800766 0 32 (contain the actual size. A call that returns an out-of-line item allocates the necessary) widthshow
3 FF
180 330.650452 M 0.213272 0 32 (space in the user\325) widthshow
249.790131 330.650452 M 0.213272 0 32 (s virtual memory \(as if with ) widthshow
0 FF
364.949768 330.650452 M 0.213272 0 32 (vm_allocate) widthshow
3 FF
416.049774 330.650452 M 0.213272 0 32 (, c.f. ) widthshow
4 FF
436.746338 330.650452 M 0.213272 0 32 (o) widthshow
441.646362 330.650452 M 0.213272 0 32 (verwrite) widthshow
3 FF
474.976379 330.650452 M 0.213272 0 32 ( option\). It is up) widthshow
3 FF
(to the application to de-allocate this memory when it is \336nished with the data.) 180.0 342.65 T
180 366.650421 M 1.286423 0 32 (The C type name is assumed to resolv) widthshow
340.785034 366.650421 M 1.286423 0 32 (e to a C type of form ) widthshow
4 FF
435.610016 366.650421 M 1.286423 0 32 (type) widthshow
3 FF
452.27002 366.650421 M 1.286423 0 32 (*. MIG will generate) widthshow
3 FF
(code to indirect through the parameters of these types to access the actual data.) 180.0 378.65 T
3 FF
(Out-of-line data cannot contain nested out-of-line data.) 180.0 402.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Examples of Complex T) 180.0 433.984 T
(ypes:) 302.112 433.984 T
3 FF
([1]) 195.34 450.65 T
(type) 216.0 450.65 T
4 FF
( pr) 233.22 450.65 T
(ocids) 244.16 450.65 T
3 FF
( =) 265.27 450.65 T
(array [10] of) 396.0 450.65 T
4 FF
( ) 446.53 450.65 T
3 FF
(int;) 449.03 450.65 T
([2]) 195.34 462.65 T
(type) 216.0 462.65 T
4 FF
( pr) 233.22 462.65 T
(ocidinfo) 244.16 462.65 T
3 FF
( =) 276.94 462.65 T
(struct [5*10] of ) 396.0 462.65 T
(MA) 270.0 472.65 T
(CH_MSG_TYPE_INTEGER_32;) 285.71 472.65 T
([3]) 195.34 484.65 T
(type) 216.0 484.65 T
4 FF
( var) 233.22 484.65 T
(data) 248.68 484.65 T
3 FF
( =) 266.46 484.65 T
(array [*: 1024] of) 396.0 484.65 T
4 FF
( ) 466.81 484.65 T
3 FF
(int;) 469.31 484.65 T
([4]) 195.34 496.65 T
(type) 216.0 496.65 T
4 FF
( arr) 233.22 496.65 T
(ay_by_value) 248.35 496.65 T
3 FF
( =) 298.89 496.65 T
(struct [1] of array [20] of ) 396.0 496.65 T
(MA) 270.0 506.65 T
(CH_MSG_TYPE_CHAR;) 285.71 506.65 T
([5]) 195.34 518.65 T
(type) 216.0 518.65 T
4 FF
( pa) 233.22 518.65 T
(g) 245.62 518.65 T
(e_ptr) 250.52 518.65 T
3 FF
( =) 271.63 518.65 T
(^ array [4096] of ) 396.0 518.65 T
(MA) 270.0 528.65 T
(CH_MSG_TYPE_INTEGER_32;) 285.71 528.65 T
([6]) 195.34 540.65 T
(type) 216.0 540.65 T
4 FF
( var_arr) 233.22 540.65 T
(ay) 266.68 540.65 T
3 FF
( =) 276.12 540.65 T
(^ array [] of) 396.0 540.65 T
4 FF
( ) 443.72 540.65 T
3 FF
(int;) 446.22 540.65 T
5 FF
(P) 180.0 569.984 T
(olymor) 187.092 569.984 T
(phic T) 223.632 569.984 T
(ypes) 255.757 569.984 T
3 FF
180 586.650269 M 0.784103 0 32 (MIG supports polymorphic port right types. F) widthshow
368.164703 586.650269 M 0.784103 0 32 (or e) widthshow
384.068909 586.650269 M 0.784103 0 32 (xample, one may specify an ar) widthshow
509.999512 586.650269 M 0.784103 0 32 (gument) widthshow
180 598.650208 M 0.967941 0 32 (which can be either a send or recei) widthshow
325.085754 598.650208 M 0.967941 0 32 (v) widthshow
329.935852 598.650208 M 0.967941 0 32 (e right, with the e) widthshow
403.927673 598.650208 M 0.967941 0 32 (xact type \(and disposition\) deter-) widthshow
180 610.650208 M 1.276886 0 32 (mined at run-time. The type information is passed in an auxiliary ar) widthshow
464.385864 610.650208 M 1.276886 0 32 (gument, similar to) widthshow
180 622.650208 M 0.319244 0 32 (the w) widthshow
202.159302 622.650208 M 0.319244 0 32 (ay size information in v) widthshow
298.176422 622.650208 M 0.319244 0 32 (ariable-sized arrays is handled. \(If an ar) widthshow
458.462036 622.650208 M 0.319244 0 32 (gument is both v) widthshow
526.119873 622.650208 M 0.319244 0 32 (ari-) widthshow
180 634.650146 M 1.352692 0 32 (able-sized and polymorphic, the auxiliary type ar) widthshow
384.286255 634.650146 M 1.352692 0 32 (gument comes before the count ar) widthshow
526.669861 634.650146 M 1.352692 0 32 (gu-) widthshow
(ment.\) ) 180.0 646.65 T
([1]) 195.34 664.65 T
(type ) 216.0 664.65 T
4 FF
(poly_t) 235.72 664.65 T
3 FF
( = MA) 260.72 664.65 T
(CH_MSG_TYPE_POL) 287.07 664.65 T
(YMORPHIC;) 380.521 664.65 T
([2]) 195.34 676.65 T
(simpleroutine) 216.0 676.65 T
0 FF
( SendP) 271.0 676.65 T
(ort) 300.53 676.65 T
3 FF
([3]) 195.34 688.65 T
(\() 216.0 688.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 19 19
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (15 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(T) 72.0 56.824 T
(ype Speci\336cations) 77.338 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([4]) 87.34 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(server:) 288.0 115.667 T
3 FF
( ) 316.32 115.667 T
4 FF
(mac) 318.82 115.667 T
(h_port_t) 335.33 115.667 T
3 FF
(;) 369.78 115.667 T
([5]) 87.34 127.667 T
4 FF
(poly) 288.0 127.667 T
3 FF
(: ) 305.22 127.667 T
4 FF
(poly_t) 310.5 127.667 T
3 FF
([6]) 87.34 139.667 T
3 FF
(\);) 108.0 139.667 T
3 FF
(and then in user C code) 72.0 161.667 T
([1]) 87.34 179.667 T
4 FF
(mac) 108.0 179.667 T
(h_port_t) 124.51 179.667 T
(server) 288.0 179.667 T
3 FF
(, ) 312.59 179.667 T
4 FF
(port1) 317.59 179.667 T
3 FF
(, ) 339.26 179.667 T
4 FF
(port2) 344.26 179.667 T
3 FF
(;) 365.93 179.667 T
([2]) 87.34 191.667 T
4 FF
(k) 108.0 191.667 T
(ern_r) 112.34 191.667 T
(eturn_t) 134.19 191.667 T
(kr) 288.0 191.667 T
3 FF
(;) 296.33 191.667 T
([3]) 87.34 203.667 T
4 FF
(kr) 108.0 203.667 T
3 FF
( = ) 116.33 203.667 T
1 FF
(SendP) 126.97 203.667 T
(ort ) 154.0 203.667 T
3 FF
(\() 169.27 203.667 T
4 FF
(server) 172.6 203.667 T
3 FF
(, ) 197.19 203.667 T
4 FF
(port1) 202.19 203.667 T
3 FF
(, MA) 223.86 203.667 T
(CH_MSG_TYPE_MO) 244.571 203.667 T
(VE_RECEIVE\);) 335.741 203.667 T
3 FF
([4]) 87.34 215.667 T
4 FF
(kr) 108.0 215.667 T
3 FF
( = ) 116.33 215.667 T
1 FF
(SendP) 126.97 215.667 T
(ort ) 154.0 215.667 T
3 FF
(\() 169.27 215.667 T
4 FF
(server) 172.6 215.667 T
3 FF
(, ) 197.19 215.667 T
4 FF
(port2) 202.19 215.667 T
3 FF
(, MA) 223.86 215.667 T
(CH_MSG_TYPE_MO) 244.571 215.667 T
(VE_SEND\);) 335.741 215.667 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(T) 72.0 245.0 T
(ype T) 79.116 245.0 T
(ranslation Inf) 107.233 245.0 T
(ormation) 177.277 245.0 T
3 FF
72 261.666534 M 0.817947 0 32 (Optional information describing procedures for translating the type or destro) widthshow
385.601624 261.666534 M 0.817947 0 32 (ying v) widthshow
411.449707 261.666534 M 0.817947 0 32 (alues) widthshow
72 273.666504 M 0.679092 0 32 (may appear after the type de\336nition information. T) widthshow
279.703857 273.666504 M 0.679092 0 32 (ranslation functions allo) widthshow
377.472168 273.666504 M 0.679092 0 32 (w the type as) widthshow
72 285.666504 M 0.967819 0 32 (seen by the user process and the serv) widthshow
226.084839 285.666504 M 0.967819 0 32 (er process to be dif) widthshow
305.796265 285.666504 M 0.967819 0 32 (ferent. Destructor functions al-) widthshow
72 297.666504 M 0.652237 0 32 (lo) widthshow
79.530136 297.666504 M 0.652237 0 32 (w the serv) widthshow
121.784698 297.666504 M 0.652237 0 32 (er code to automatically de-allocate input or translated types after the) widthshow
405.3172 297.666504 M 0.652237 0 32 (y ha) widthshow
422.709534 297.666504 M 0.652237 0 32 (v) widthshow
427.559631 297.666504 M 0.652237 0 32 (e) widthshow
(been used.) 72.0 309.666 T
(F) 72.0 333.666 T
(or each MIG type, there are up to three corresponding C types. These are:) 77.41 333.666 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 72.0 351.666 T
3 FF
85.535995 351.666443 M 0.27771 0 32 (The type used in the user stub module \(the ) widthshow
4 FF
260.515381 351.666443 M 0.27771 0 32 (UserT) widthshow
284.775818 351.666443 M 0.27771 0 32 (ype) widthshow
3 FF
298.655823 351.666443 M 0.27771 0 32 (\), which is the v) widthshow
363.676788 351.666443 M 0.27771 0 32 (alue that will de-) widthshow
85.535995 363.666443 M 0.594894 0 32 <de6e65207468652074797065207365656e20696e207468652070726f746f7479706520746f20746865207573657220736964652073747562206d6f64756c6520616e64207468652074797065207573656420666f72> widthshow
(inserting data into the outgoing IPC message to the serv) 85.536 375.666 T
(er) 308.986 375.666 T
(.) 316.206 375.666 T
6 FF
<a5> 72.0 390.666 T
3 FF
85.535995 390.666382 M 0.717346 0 32 (The type seen by the serv) widthshow
190.892822 390.666382 M 0.717346 0 32 (er stub module \(the ) widthshow
4 FF
273.752197 390.666382 M 0.717346 0 32 (ServerT) widthshow
304.672607 390.666382 M 0.717346 0 32 (ype) widthshow
3 FF
318.552612 390.666382 M 0.717346 0 32 (\) when it e) widthshow
363.044739 390.666382 M 0.717346 0 32 (xtracts this v) widthshow
415.3396 390.666382 M 0.717346 0 32 (alue) widthshow
85.535995 402.666382 M 0.780212 0 32 (from the incoming IPC message. It is also the type used by the serv) widthshow
364.948853 402.666382 M 0.780212 0 32 (er stub when in-) widthshow
85.535995 414.666382 M 1.281128 0 32 (serting a v) widthshow
129.508392 414.666382 M 1.281128 0 32 (alue into an outgoing \(return\) IPC message. No con) widthshow
345.717651 414.666382 M 1.281128 0 32 (v) widthshow
350.567749 414.666382 M 1.281128 0 32 (ersion functions are) widthshow
85.535995 426.666351 M 0.102493 0 32 (called to con) widthshow
136.441208 426.666351 M 0.102493 0 32 (v) widthshow
141.29129 426.666351 M 0.102493 0 32 (ert between the ) widthshow
4 FF
205.188782 426.666351 M 0.102493 0 32 (UserT) widthshow
229.449188 426.666351 M 0.102493 0 32 (ype) widthshow
3 FF
243.329193 426.666351 M 0.102493 0 32 ( and the ) widthshow
4 FF
277.796692 426.666351 M 0.102493 0 32 (ServerT) widthshow
308.717102 426.666351 M 0.102493 0 32 (ype) widthshow
3 FF
322.597107 426.666351 M 0.102493 0 32 (; these types must be ef) widthshow
416.459717 426.666351 M 0.102493 0 32 (fec-) widthshow
85.535995 438.666321 M 0.197754 0 32 (ti) widthshow
90.84613 438.666321 M 0.197754 0 32 (v) widthshow
95.696213 438.666321 M 0.197754 0 32 (ely equi) widthshow
127.584106 438.666321 M 0.197754 0 32 (v) widthshow
132.334244 438.666321 M 0.197754 0 32 (alent \(at least in storage requirements\) and are simply dif) widthshow
361.874207 438.666321 M 0.197754 0 32 (ferent names gi) widthshow
423.669861 438.666321 M 0.197754 0 32 (v-) widthshow
(en by the dif) 85.536 450.666 T
(ferent en) 135.556 450.666 T
(vironments to the same storage.) 170.416 450.666 T
6 FF
<a5> 72.0 465.666 T
3 FF
85.535995 465.666321 M 1.284821 0 32 (The translated type used by the serv) widthshow
236.955017 465.666321 M 1.284821 0 32 (er procedure \(the ) widthshow
4 FF
311.609497 465.666321 M 1.284821 0 32 (T) widthshow
316.619812 465.666321 M 1.284821 0 32 (r) widthshow
320.359863 465.666321 M 1.284821 0 32 (ansT) widthshow
339.070282 465.666321 M 1.284821 0 32 (ype) widthshow
3 FF
352.950287 465.666321 M 1.284821 0 32 (\). This is the v) widthshow
415.339722 465.666321 M 1.284821 0 32 (alue) widthshow
(used to de\336ne the type seen by the tar) 85.536 477.666 T
(get routine called in the serv) 235.886 477.666 T
(er) 349.326 477.666 T
(.) 356.547 477.666 T
(By def) 72.0 501.666 T
(ault these three types are all the same, and ha) 98.84 501.666 T
(v) 279.15 501.666 T
(e the same name as the MIG type. ) 284.0 501.666 T
72 525.66626 M 1.056549 0 32 (The ) widthshow
4 FF
91.106552 525.66626 M 1.056549 0 32 (UserT) widthshow
115.366959 525.66626 M 1.056549 0 32 (ype) widthshow
3 FF
129.246964 525.66626 M 1.056549 0 32 ( and ) widthshow
4 FF
150.800064 525.66626 M 1.056549 0 32 (ServerT) widthshow
181.720474 525.66626 M 1.056549 0 32 (ype) widthshow
3 FF
195.600479 525.66626 M 1.056549 0 32 ( may be speci\336ed with the ) widthshow
4 FF
309.14978 525.66626 M 1.056549 0 32 (cusertype) widthshow
3 FF
347.469788 525.66626 M 1.056549 0 32 ( and) widthshow
4 FF
365.466339 525.66626 M 1.056549 0 32 ( cservertype) widthshow
3 FF
415.112915 525.66626 M 1.056549 0 32 ( op-) widthshow
72 537.66626 M 1.252319 0 32 (tions, respecti) widthshow
128.55246 537.66626 M 1.252319 0 32 (v) widthshow
133.402542 537.66626 M 1.252319 0 32 (ely) widthshow
144.9729 537.66626 M 1.252319 0 32 (, or both speci\336ed together with the) widthshow
4 FF
294.416809 537.66626 M 1.252319 0 32 ( ctype) widthshow
3 FF
319.269165 537.66626 M 1.252319 0 32 ( option. The ) widthshow
4 FF
374.136108 537.66626 M 1.252319 0 32 (T) widthshow
379.146423 537.66626 M 1.252319 0 32 (r) widthshow
382.886475 537.66626 M 1.252319 0 32 (ansT) widthshow
401.596893 537.66626 M 1.252319 0 32 (ype) widthshow
3 FF
415.476898 537.66626 M 1.252319 0 32 ( de-) widthshow
72 549.66626 M 3.677292 0 32 (f) widthshow
75.230057 549.66626 M 3.677292 0 32 (aults to the ) widthshow
4 FF
132.651932 549.66626 M 3.677292 0 32 (ServerT) widthshow
163.572342 549.66626 M 3.677292 0 32 (ype) widthshow
3 FF
177.452347 549.66626 M 3.677292 0 32 (; it can not be set e) widthshow
274.356201 549.66626 M 3.677292 0 32 (xplicitly; it is set implicitly by the) widthshow
(speci\336cation of translation functions.) 72.0 561.666 T
(Examples:) 72.0 585.666 T
(type) 108.0 609.666 T
4 FF
( mac) 125.22 609.666 T
(h_port_mo) 144.23 609.666 T
(ve_r) 188.02 609.666 T
(eceive_t) 205.42 609.666 T
3 FF
( = MA) 238.18 609.666 T
(CH_MSG_TYPE_MO) 264.531 609.666 T
(VE_RECEIVE) 355.701 609.666 T
(ctype: ) 162.0 621.666 T
4 FF
(mac) 188.94 621.666 T
(h_port_t) 205.45 621.666 T
3 FF
(;) 239.9 621.666 T
(type) 108.0 645.666 T
4 FF
( funny_int) 125.22 645.666 T
3 FF
( = ) 165.5 645.666 T
4 FF
(int) 176.14 645.666 T
3 FF
(cusertype: ) 162.0 657.666 T
4 FF
(user_int) 205.6 657.666 T
3 FF
(cserv) 162.0 669.666 T
(ertype: ) 182.95 669.666 T
4 FF
(server_int) 213.22 669.666 T
3 FF
(;) 253.77 669.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 20 20
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(16 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 1.046021 0 32 (If the ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
205.972046 113.650665 M 1.046021 0 32 (ServerT) widthshow
236.892456 113.650665 M 1.046021 0 32 (ype) widthshow
3 FF
250.772461 113.650665 M 1.046021 0 32 ( and the ) widthshow
4 FF
288.070526 113.650665 M 1.046021 0 32 (T) widthshow
293.080811 113.650665 M 1.046021 0 32 (r) widthshow
296.820923 113.650665 M 1.046021 0 32 (ansT) widthshow
315.531311 113.650665 M 1.046021 0 32 (ype) widthshow
3 FF
329.411316 113.650665 M 1.046021 0 32 ( are to be dif) widthshow
383.885559 113.650665 M 1.046021 0 32 (ferent, then translation functions must) widthshow
180 125.65065 M 0.517609 0 32 (be de\336ned to perform the con) widthshow
300.218262 125.65065 M 0.517609 0 32 (v) widthshow
305.068359 125.65065 M 0.517609 0 32 (ersion. All data type translations \(and the destructor func-) widthshow
(tion as well\) are performed on the serv) 180.0 137.651 T
(er side.) 334.53 137.651 T
180 161.65062 M 1.592361 0 32 (T) widthshow
185.760193 161.65062 M 1.592361 0 32 (ranslation from the ) widthshow
4 FF
269.137268 161.65062 M 1.592361 0 32 (ServerT) widthshow
300.057678 161.65062 M 1.592361 0 32 (ype) widthshow
3 FF
313.937683 161.65062 M 1.592361 0 32 ( to the ) widthshow
4 FF
346.214783 161.65062 M 1.592361 0 32 (T) widthshow
351.225098 161.65062 M 1.592361 0 32 (r) widthshow
354.965149 161.65062 M 1.592361 0 32 (ansT) widthshow
373.675568 161.65062 M 1.592361 0 32 (ype) widthshow
3 FF
387.555573 161.65062 M 1.592361 0 32 ( is performed by an ) widthshow
4 FF
475.777405 161.65062 M 1.592361 0 32 (intr) widthshow
490.077454 161.65062 M 1.592361 0 32 (an) widthshow
3 FF
500.077454 161.65062 M 1.592361 0 32 ( function.) widthshow
(The syntax is:) 180.0 173.651 T
(intran: ) 216.0 197.651 T
4 FF
(T) 244.61 197.651 T
(r) 249.62 197.651 T
(ansT) 253.36 197.651 T
(ype) 272.071 197.651 T
3 FF
( ) 285.951 197.651 T
0 FF
(intran-function) 288.451 197.651 T
3 FF
( \(S) 354.011 197.651 T
4 FF
(erverT) 365.401 197.651 T
(ype\)) 391.321 197.651 T
3 FF
180 221.650574 M 0.404053 0 32 (Note that specifying an ) widthshow
4 FF
277.156219 221.650574 M 0.404053 0 32 (intr) widthshow
291.456299 221.650574 M 0.404053 0 32 (an) widthshow
3 FF
301.456299 221.650574 M 0.404053 0 32 ( function implicitly sets both ) widthshow
4 FF
420.986572 221.650574 M 0.404053 0 32 (ServerT) widthshow
451.906982 221.650574 M 0.404053 0 32 (ype) widthshow
3 FF
465.786987 221.650574 M 0.404053 0 32 ( and ) widthshow
4 FF
486.035095 221.650574 M 0.404053 0 32 (T) widthshow
491.04538 221.650574 M 0.404053 0 32 (r) widthshow
494.785461 221.650574 M 0.404053 0 32 (ansT) widthshow
513.49585 221.650574 M 0.404053 0 32 (ype) widthshow
3 FF
527.375854 221.650574 M 0.404053 0 32 (. A) widthshow
180 233.650558 M 0.895309 0 32 (call to the ) widthshow
4 FF
224.625931 233.650558 M 0.895309 0 32 (intr) widthshow
238.92601 233.650558 M 0.895309 0 32 (an) widthshow
3 FF
248.92601 233.650558 M 0.895309 0 32 ( function is inserted automatically by MIG before the call to the tar) widthshow
527.779846 233.650558 M 0.895309 0 32 (get) widthshow
180 245.650543 M 0.069305 0 32 (serv) widthshow
196.510086 245.650543 M 0.069305 0 32 (er routine. The actual translation function must be \322hand coded\323 \(that is, it is not gen-) widthshow
3 FF
(erated by MIG\) and imported, with the follo) 180.0 257.651 T
(wing prototype:) 356.39 257.651 T
4 FF
(T) 216.0 281.651 T
(r) 221.01 281.651 T
(ansT) 224.75 281.651 T
(ype ) 243.461 281.651 T
0 FF
(intran-function ) 259.841 281.651 T
3 FF
(\() 327.901 281.651 T
4 FF
(ServerT) 331.231 281.651 T
(ype x) 362.151 281.651 T
3 FF
(\);) 382.971 281.651 T
180 305.650513 M 0.57373 0 32 (T) widthshow
185.760193 305.650513 M 0.57373 0 32 (ranslation back from the ) widthshow
4 FF
288.035126 305.650513 M 0.57373 0 32 (T) widthshow
293.04541 305.650513 M 0.57373 0 32 (r) widthshow
296.785522 305.650513 M 0.57373 0 32 (ansT) widthshow
315.495911 305.650513 M 0.57373 0 32 (ype) widthshow
3 FF
329.375916 305.650513 M 0.57373 0 32 ( to the ) widthshow
4 FF
358.597107 305.650513 M 0.57373 0 32 (ServerT) widthshow
389.517517 305.650513 M 0.57373 0 32 (ype) widthshow
3 FF
403.397522 305.650513 M 0.57373 0 32 ( is performed by an ) widthshow
4 FF
486.526184 305.650513 M 0.57373 0 32 (outtr) widthshow
505.826263 305.650513 M 0.57373 0 32 (an) widthshow
3 FF
515.826294 305.650513 M 0.57373 0 32 ( func-) widthshow
(tion. The syntax is:) 180.0 317.65 T
(outtran: ) 216.0 341.65 T
4 FF
(ServerT) 249.61 341.65 T
(ype) 280.53 341.65 T
3 FF
( ) 294.41 341.65 T
0 FF
(outtran-function) 296.91 341.65 T
3 FF
( \(T) 368.02 341.65 T
4 FF
(r) 379.411 341.65 T
(ansT) 383.151 341.65 T
(ype\)) 401.861 341.65 T
3 FF
180 365.650452 M 0.869858 0 32 (Note that specifying an ) widthshow
4 FF
279.01944 365.650452 M 0.869858 0 32 (outtr) widthshow
298.319519 365.650452 M 0.869858 0 32 (an) widthshow
3 FF
308.319519 365.650452 M 0.869858 0 32 ( function implicitly sets both ) widthshow
4 FF
430.178802 365.650452 M 0.869858 0 32 (ServerT) widthshow
461.099213 365.650452 M 0.869858 0 32 (ype) widthshow
3 FF
474.979218 365.650452 M 0.869858 0 32 ( and ) widthshow
4 FF
496.158936 365.650452 M 0.869858 0 32 (T) widthshow
501.16925 365.650452 M 0.869858 0 32 (r) widthshow
504.909302 365.650452 M 0.869858 0 32 (ansT) widthshow
523.619751 365.650452 M 0.869858 0 32 (ype) widthshow
3 FF
537.499756 365.650452 M 0.869858 0 32 (.) widthshow
180 377.650452 M 0.37059 0 32 (A call to the ) widthshow
4 FF
233.142365 377.650452 M 0.37059 0 32 (outtr) widthshow
252.442444 377.650452 M 0.37059 0 32 (an) widthshow
3 FF
262.442444 377.650452 M 0.37059 0 32 ( function is inserted automatically by MIG after the call to the tar) widthshow
527.779663 377.650452 M 0.37059 0 32 (get) widthshow
180 389.650421 M 0.665817 0 32 (serv) widthshow
196.510086 389.650421 M 0.665817 0 32 (er routine. The actual translation function must be \322hand coded\323 and imported, with) widthshow
(the follo) 180.0 401.65 T
(wing prototype:) 213.36 401.65 T
4 FF
(ServerT) 216.0 425.65 T
(ype ) 246.92 425.65 T
0 FF
(outtran-function ) 263.3 425.65 T
3 FF
(\() 336.91 425.65 T
4 FF
(T) 340.24 425.65 T
(r) 345.251 425.65 T
(ansT) 348.991 425.65 T
(ype) 367.701 425.65 T
3 FF
( ) 381.581 425.65 T
4 FF
(x) 384.081 425.65 T
3 FF
(\);) 388.521 425.65 T
(Consider an e) 180.0 449.65 T
(xample for task related k) 234.84 449.65 T
(ernel primiti) 334.16 449.65 T
(v) 383.63 449.65 T
(es:) 388.48 449.65 T
([1]) 195.34 467.65 T
(type) 216.0 467.65 T
4 FF
( task_t) 233.22 467.65 T
3 FF
( = ) 259.61 467.65 T
4 FF
(task_port_t) 270.25 467.65 T
3 FF
([2]) 195.34 479.65 T
(intran: ) 252.0 479.65 T
4 FF
(task_t) 280.61 479.65 T
3 FF
( ) 304.5 479.65 T
0 FF
(con) 307.0 479.65 T
(v) 321.6 479.65 T
(ert_port_to_task) 326.5 479.65 T
3 FF
(\() 398.15 479.65 T
4 FF
(task_port_t) 401.48 479.65 T
3 FF
(\)) 447.04 479.65 T
([3]) 195.34 491.65 T
(outtran: ) 252.0 491.65 T
4 FF
(task_port_t ) 285.61 491.65 T
0 FF
(con) 333.67 491.65 T
(v) 348.27 491.65 T
(ert_task_to_port) 353.17 491.65 T
3 FF
(\() 424.82 491.65 T
4 FF
(task_t) 428.15 491.65 T
3 FF
(\)) 452.04 491.65 T
([4]) 195.34 503.65 T
(destructor: ) 252.0 503.65 T
0 FF
(task_deallocate ) 297.27 503.65 T
3 FF
(\() 365.32 503.65 T
4 FF
(task_t) 368.65 503.65 T
3 FF
(\);) 392.54 503.65 T
180 525.650269 M 0.244095 0 32 (\(The destructor function will be e) widthshow
315.210571 525.650269 M 0.244095 0 32 (xplained shortly) widthshow
379.525024 525.650269 M 0.244095 0 32 (.\) In this e) widthshow
420.65741 525.650269 M 0.244095 0 32 (xample, ) widthshow
4 FF
455.341492 525.650269 M 0.244095 0 32 (task_port_t) widthshow
3 FF
500.901489 525.650269 M 0.244095 0 32 (, which is) widthshow
180 537.650269 M 0.573654 0 32 (the type seen by the user code, is de\336ned as a port in the message. The type seen by the) widthshow
180 549.650269 M 0.329971 0 32 (tar) widthshow
190.370102 549.650269 M 0.329971 0 32 (get serv) widthshow
221.930161 549.650269 M 0.329971 0 32 (er code is ) widthshow
4 FF
263.740082 549.650269 M 0.329971 0 32 (task_t) widthshow
3 FF
287.630066 549.650269 M 0.329971 0 32 (, which is \(a pointer to\) some data structure used by the serv) widthshow
532.229858 549.650269 M 0.329971 0 32 (er) widthshow
180 561.650269 M 1.445312 0 32 (\(the k) widthshow
204.39537 561.650269 M 1.445312 0 32 (ernel, in this case\) to store information about each task it is serving. The) widthshow
4 FF
511.754456 561.650269 M 1.445312 0 32 ( intr) widthshow
529.999878 561.650269 M 1.445312 0 32 (an) widthshow
3 FF
180 573.650269 M 1.856949 0 32 (function, ) widthshow
0 FF
220.186951 573.650269 M 1.856949 0 32 (con) widthshow
234.78717 573.650269 M 1.856949 0 32 (v) widthshow
239.687225 573.650269 M 1.856949 0 32 (ert_port_to_task) widthshow
3 FF
311.337219 573.650269 M 1.856949 0 32 (, translates v) widthshow
365.071289 573.650269 M 1.856949 0 32 (alues of type) widthshow
4 FF
419.885193 573.650269 M 1.856949 0 32 ( task_port_t ) widthshow
3 FF
474.159058 573.650269 M 1.856949 0 32 (to ) widthshow
4 FF
486.296021 573.650269 M 1.856949 0 32 (task_t) widthshow
3 FF
510.186035 573.650269 M 1.856949 0 32 ( on re-) widthshow
180 585.650208 M 0.916931 0 32 (ceipt by the serv) widthshow
248.420883 585.650208 M 0.916931 0 32 (er process. The ) widthshow
4 FF
314.481689 585.650208 M 0.916931 0 32 (outtr) widthshow
333.781769 585.650208 M 0.916931 0 32 (an) widthshow
3 FF
343.781769 585.650208 M 0.916931 0 32 ( function, ) widthshow
0 FF
386.445618 585.650208 M 0.916931 0 32 (con) widthshow
401.045837 585.650208 M 0.916931 0 32 (v) widthshow
405.945923 585.650208 M 0.916931 0 32 (ert_task_to_port) widthshow
3 FF
477.595917 585.650208 M 0.916931 0 32 (, translates v) widthshow
529.449951 585.650208 M 0.916931 0 32 (al-) widthshow
(ues of type ) 180.0 597.65 T
4 FF
(task_t) 226.38 597.65 T
3 FF
( to type ) 250.27 597.65 T
4 FF
(task_port_t ) 282.77 597.65 T
3 FF
(before return.) 330.83 597.65 T
180 621.650208 M 1.234924 0 32 (F) widthshow
185.41008 621.650208 M 1.234924 0 32 (or this e) widthshow
219.950012 621.650208 M 1.234924 0 32 (xample to w) widthshow
271.759918 621.650208 M 1.234924 0 32 (ork within the k) widthshow
338.974731 621.650208 M 1.234924 0 32 (ernel, the k) widthshow
386.054657 621.650208 M 1.234924 0 32 (ernel must hold some v) widthshow
484.074493 621.650208 M 1.234924 0 32 (alid reference) widthshow
180 633.650146 M 0.251389 0 32 (\(and therefore, some lock\) upon its ) widthshow
4 FF
323.978333 633.650146 M 0.251389 0 32 (task_t) widthshow
3 FF
347.868347 633.650146 M 0.251389 0 32 ( object. Imagine that the ) widthshow
4 FF
448.555298 633.650146 M 0.251389 0 32 (intr) widthshow
462.855377 633.650146 M 0.251389 0 32 (an) widthshow
3 FF
472.855377 633.650146 M 0.251389 0 32 ( function will do) widthshow
180 645.650146 M 0.318527 0 32 (this. This reference must be released after the tar) widthshow
377.028351 645.650146 M 0.318527 0 32 (get serv) widthshow
408.576965 645.650146 M 0.318527 0 32 (er routine is called. When ) widthshow
4 FF
515.699585 645.650146 M 0.318527 0 32 (intr) widthshow
529.999695 645.650146 M 0.318527 0 32 (an) widthshow
3 FF
180 657.650146 M 0.929977 0 32 (functions are called, it is f) widthshow
288.419952 657.650146 M 0.929977 0 32 (airly common that the translation results in allocated storage,) widthshow
180 669.650146 M 1.256134 0 32 (or perhaps additional reference counts for some objects that must be released. F) widthshow
513.463745 669.650146 M 1.256134 0 32 (or this) widthshow
(purpose, there are ) 180.0 681.65 T
4 FF
(destructor) 253.86 681.65 T
3 FF
( functions. The syntax is:) 294.97 681.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 21 21
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (17 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(T) 72.0 56.824 T
(ype Speci\336cations) 77.338 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(destructor: ) 108.0 115.667 T
1 FF
(destructor) 153.27 115.667 T
(-function) 197.33 115.667 T
3 FF
( \(T) 236.22 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(r) 247.611 115.667 T
(ansT) 251.351 115.667 T
(ype\)) 270.061 115.667 T
3 FF
72 139.666641 M 0.026855 0 32 (Note that specifying a) widthshow
4 FF
160.120575 139.666641 M 0.026855 0 32 ( destructor ) widthshow
3 FF
206.284286 139.666641 M 0.026855 0 32 (function implicitly sets ) widthshow
4 FF
301.094849 139.666641 M 0.026855 0 32 (T) widthshow
306.105164 139.666641 M 0.026855 0 32 (r) widthshow
309.845215 139.666641 M 0.026855 0 32 (ansT) widthshow
328.555634 139.666641 M 0.026855 0 32 (ype) widthshow
3 FF
342.435638 139.666641 M 0.026855 0 32 (. A call to the ) widthshow
4 FF
399.229919 139.666641 M 0.026855 0 32 (destruc-) widthshow
72 151.666626 M 1.079254 0 32 (tor ) widthshow
3 FF
87.249252 151.666626 M 1.079254 0 32 (function is inserted automatically by MIG after the call to the tar) widthshow
357.511169 151.666626 M 1.079254 0 32 (get serv) widthshow
389.820496 151.666626 M 1.079254 0 32 (er routine.) widthshow
72 163.666611 M 1.20578 0 32 (The actual destructor function must be \322hand coded\323 and imported, with the follo) widthshow
411.999512 163.666611 M 1.20578 0 32 (wing) widthshow
(prototype:) 72.0 175.667 T
(v) 108.0 199.667 T
(oid) 112.8 199.667 T
4 FF
( ) 125.58 199.667 T
1 FF
(destructor) 128.08 199.667 T
(-function ) 172.14 199.667 T
3 FF
(\() 213.53 199.667 T
4 FF
(T) 216.86 199.667 T
(r) 221.871 199.667 T
(ansT) 225.611 199.667 T
(ype) 244.321 199.667 T
3 FF
( ) 258.201 199.667 T
4 FF
(x) 260.701 199.667 T
3 FF
(\);) 265.141 199.667 T
72 223.666565 M 0.722458 0 32 (In the e) widthshow
103.285004 223.666565 M 0.722458 0 32 (xample, ) widthshow
1 FF
138.447464 223.666565 M 0.722458 0 32 (task_deallocate ) widthshow
3 FF
207.219925 223.666565 M 0.722458 0 32 (is called on the translated input parameter) widthshow
378.34491 223.666565 M 0.722458 0 32 (, ) widthshow
4 FF
384.067383 223.666565 M 0.722458 0 32 (task_t) widthshow
3 FF
407.957367 223.666565 M 0.722458 0 32 (, after) widthshow
72 235.66655 M 0.301743 0 32 (the return from the serv) widthshow
167.477066 235.66655 M 0.301743 0 32 (er procedure and can be used to de-allocate an) widthshow
354.671143 235.66655 M 0.301743 0 32 (y or all parts of the) widthshow
(internal v) 72.0 247.667 T
(ariable.) 109.8 247.667 T
4 FF
72 271.666504 M 0.314972 0 32 (Destructor) widthshow
3 FF
115.330002 271.666504 M 0.314972 0 32 ( functions are called only for ) widthshow
4 FF
234.969849 271.666504 M 0.314972 0 32 (in) widthshow
3 FF
242.749847 271.666504 M 0.314972 0 32 ( parameters. The) widthshow
310.149902 271.666504 M 0.314972 0 32 (y are not called if the parame-) widthshow
72 283.666504 M 0.208084 0 32 (ter is also an ) widthshow
4 FF
125.602341 283.666504 M 0.208084 0 32 (out) widthshow
3 FF
138.382339 283.666504 M 0.208084 0 32 ( ar) widthshow
148.680527 283.666504 M 0.208084 0 32 (gument, because the correct time to de-allocate an ) widthshow
4 FF
353.345215 283.666504 M 0.208084 0 32 (out) widthshow
3 FF
366.125244 283.666504 M 0.208084 0 32 ( parameter is af-) widthshow
72 295.666504 M 0.348206 0 32 (ter the reply message has been sent, which is not code that can be generated by MIG. \(In) widthshow
(these circumstances, ) 72.0 307.666 T
4 FF
(dealloc) 156.7 307.666 T
3 FF
( \337ags are needed.\)) 186.14 307.666 T
72 331.666443 M 1.142609 0 32 (A ) widthshow
4 FF
82.86261 331.666443 M 1.142609 0 32 (destructor) widthshow
3 FF
123.97261 331.666443 M 1.142609 0 32 ( function can be used e) widthshow
221.355804 331.666443 M 1.142609 0 32 (v) widthshow
226.205887 331.666443 M 1.142609 0 32 (en if no translation is speci\336ed. F) widthshow
365.961609 331.666443 M 1.142609 0 32 (or e) widthshow
382.224304 331.666443 M 1.142609 0 32 (xample, if a) widthshow
72 343.666443 M 0.313293 0 32 (lar) widthshow
82.370102 343.666443 M 0.313293 0 32 (ge out-of-line data se) widthshow
167.860077 343.666443 M 0.313293 0 32 (gment is passed to the serv) widthshow
276.766632 343.666443 M 0.313293 0 32 (er it could use a ) widthshow
4 FF
344.153107 343.666443 M 0.313293 0 32 (destructor) widthshow
3 FF
385.263123 343.666443 M 0.313293 0 32 ( function to) widthshow
(de-allocate the memory after the data w) 72.0 355.666 T
(as used. ) 230.74 355.666 T
72 379.666412 M 1.156876 0 32 (Note that translation functions are called only for scalar v) widthshow
312.392029 379.666412 M 1.156876 0 32 (alues; MIG will not generate) widthshow
(code to translate the multiple elements of an array) 72.0 391.666 T
(.) 271.31 391.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(T) 72.0 423.0 T
(ransmission T) 79.116 423.0 T
(ype Changes) 150.577 423.0 T
3 FF
(MIG supports types which change during transmission. The syntax is:) 72.0 439.666 T
(type) 108.0 463.666 T
4 FF
( type-name) 125.22 463.666 T
3 FF
( = ) 169.37 463.666 T
4 FF
(sending-IPCT) 180.01 463.666 T
(ype) 235.38 463.666 T
3 FF
( | ) 249.26 463.666 T
4 FF
(r) 256.26 463.666 T
(eceiving-IPCT) 259.781 463.666 T
(ype) 317.361 463.666 T
3 FF
(;) 331.241 463.666 T
72 487.666351 M 0.038406 0 32 (This syntax indicates that the data type is ) widthshow
4 FF
239.517258 487.666351 M 0.038406 0 32 (sending-IPCT) widthshow
294.887665 487.666351 M 0.038406 0 32 (ype ) widthshow
3 FF
311.306091 487.666351 M 0.038406 0 32 (when the message is transmit-) widthshow
72 499.666321 M 0.658035 0 32 (ted, and that, in some magic w) widthshow
198.058273 499.666321 M 0.658035 0 32 (ay) widthshow
206.848633 499.666321 M 0.658035 0 32 (, the data type will be ) widthshow
4 FF
299.396851 499.666321 M 0.658035 0 32 (r) widthshow
302.917053 499.666321 M 0.658035 0 32 (eceiving-IPCT) widthshow
360.497467 499.666321 M 0.658035 0 32 (ype) widthshow
3 FF
374.377472 499.666321 M 0.658035 0 32 ( when it is re-) widthshow
72 511.666321 M 1.233826 0 32 (cei) widthshow
83.410141 511.666321 M 1.233826 0 32 (v) widthshow
88.260223 511.666321 M 1.233826 0 32 (ed. Such an IPC type change clearly only occurs when the associated parameter is) widthshow
(handled by some intermediary) 72.0 523.666 T
(, or when it is handled by the k) 192.72 523.666 T
(ernel.) 316.22 523.666 T
72 547.66626 M 0.668106 0 32 (In cases other than a ) widthshow
4 FF
159.480545 547.66626 M 0.668106 0 32 (K) widthshow
165.800735 547.66626 M 0.668106 0 32 (ernelServer) widthshow
3 FF
212.450745 547.66626 M 0.668106 0 32 ( subsystem, when this type is sent \(either as an ) widthshow
4 FF
408.281799 547.66626 M 0.668106 0 32 (in) widthshow
3 FF
416.061829 547.66626 M 0.668106 0 32 ( pa-) widthshow
72 559.66626 M 0.543091 0 32 (rameter or the return of an ) widthshow
4 FF
182.998566 559.66626 M 0.543091 0 32 (out) widthshow
3 FF
195.778564 559.66626 M 0.543091 0 32 ( or ) widthshow
4 FF
210.194748 559.66626 M 0.543091 0 32 (inout) widthshow
3 FF
230.754745 559.66626 M 0.543091 0 32 ( parameter\), the data sent is of type ) widthshow
4 FF
378.119507 559.66626 M 0.543091 0 32 (sending-IPC-) widthshow
4 FF
72 571.66626 M 1.824188 0 32 (T) widthshow
76.820404 571.66626 M 1.824188 0 32 (ype) widthshow
3 FF
90.700409 571.66626 M 1.824188 0 32 ( and the recei) widthshow
149.513123 571.66626 M 1.824188 0 32 (v) widthshow
154.363205 571.66626 M 1.824188 0 32 (er e) widthshow
170.747482 571.66626 M 1.824188 0 32 (xpects the data to be of type ) widthshow
4 FF
298.216797 571.66626 M 1.824188 0 32 (r) widthshow
301.737 571.66626 M 1.824188 0 32 (eceiving-IPCT) widthshow
359.317444 571.66626 M 1.824188 0 32 (ype) widthshow
3 FF
373.197449 571.66626 M 1.824188 0 32 (. This has the) widthshow
72 583.66626 M 0.742065 0 32 (e) widthshow
76.290085 583.66626 M 0.742065 0 32 (xpected beha) widthshow
129.312271 583.66626 M 0.742065 0 32 (vior for ) widthshow
4 FF
163.566406 583.66626 M 0.742065 0 32 (in) widthshow
3 FF
171.346405 583.66626 M 0.742065 0 32 ( and ) widthshow
4 FF
192.270538 583.66626 M 0.742065 0 32 (out) widthshow
3 FF
205.050537 583.66626 M 0.742065 0 32 ( parameters, namely) widthshow
286.695038 583.66626 M 0.742065 0 32 (, that the sender and recei) widthshow
392.34552 583.66626 M 0.742065 0 32 (v) widthshow
397.195618 583.66626 M 0.742065 0 32 (er of the) widthshow
72 595.66626 M 0.288239 0 32 (parameter sees the sending and recei) widthshow
219.531357 595.66626 M 0.288239 0 32 (ving types, respecti) widthshow
297.347961 595.66626 M 0.288239 0 32 (v) widthshow
302.198059 595.66626 M 0.288239 0 32 (ely) widthshow
313.768433 595.66626 M 0.288239 0 32 (. F) widthshow
324.466736 595.66626 M 0.288239 0 32 (or ) widthshow
4 FF
335.584961 595.66626 M 0.288239 0 32 (inout) widthshow
3 FF
356.144958 595.66626 M 0.288239 0 32 ( parameters, this is) widthshow
72 607.666199 M 0.194962 0 32 (probably not what is desired, since the user will see the ) widthshow
4 FF
297.44458 607.666199 M 0.194962 0 32 (inout) widthshow
3 FF
318.004578 607.666199 M 0.194962 0 32 ( parameter return with a dif-) widthshow
(ferent type then that with which it w) 72.0 619.666 T
(as sent.) 217.16 619.666 T
72 643.666199 M 1.574356 0 32 (Note that this syntax only e) widthshow
189.441864 643.666199 M 1.574356 0 32 (xpresses that the type, as seen in the data stream, will be) widthshow
72 655.666138 M 0.71933 0 32 (changed; it does not e) widthshow
161.937408 655.666138 M 0.71933 0 32 (xpress an actual data con) widthshow
264.384949 655.666138 M 0.71933 0 32 (v) widthshow
269.235046 655.666138 M 0.71933 0 32 (ersion as seen by the user stub or tar) widthshow
419.779785 655.666138 M 0.71933 0 32 (get) widthshow
72 667.666138 M 0.985947 0 32 (serv) widthshow
88.510086 667.666138 M 0.985947 0 32 (er routine, nor does it e) widthshow
186.049911 667.666138 M 0.985947 0 32 (xpress ho) widthshow
224.835999 667.666138 M 0.985947 0 32 (w such a con) widthshow
279.324066 667.666138 M 0.985947 0 32 (v) widthshow
284.174133 667.666138 M 0.985947 0 32 (ersion occurs. If this feature is used) widthshow
72 679.666138 M 1.410706 0 32 (with other than port types, it will probably be used in conjunction with ) widthshow
4 FF
375.329163 679.666138 M 1.410706 0 32 (cusertype) widthshow
3 FF
413.64917 679.666138 M 1.410706 0 32 ( and) widthshow
4 FF
(cservertype) 72.0 691.666 T
3 FF
( to e) 118.09 691.666 T
(xpress the probable \(magic\) type con) 135.16 691.666 T
(v) 282.78 691.666 T
(ersions that will be occurring.) 287.63 691.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 22 22
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(18 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 1.538086 0 32 (The b) widthshow
204.388199 113.650665 M 1.538086 0 32 (uilt-in port right types ef) widthshow
308.620667 113.650665 M 1.538086 0 32 (fecti) widthshow
326.140808 113.650665 M 1.538086 0 32 (v) widthshow
330.990906 113.650665 M 1.538086 0 32 (ely in) widthshow
354.629211 113.650665 M 1.538086 0 32 (v) widthshow
359.429321 113.650665 M 1.538086 0 32 (olv) widthshow
372.059387 113.650665 M 1.538086 0 32 (e transmission type changes since Mach) widthshow
(IPC will cause the recipient of a right to see a dif) 180.0 125.651 T
(ferent IPC type.) 375.55 125.651 T
180 149.650635 M 0.281403 0 32 (The major use of transmission type changes is to specify a parameter that is polymorphic) widthshow
3 FF
180 161.65062 M 0.589935 0 32 (on the sender\325) widthshow
237.280182 161.65062 M 0.589935 0 32 (s side \(user side for ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
320.489868 161.65062 M 0.589935 0 32 (in) widthshow
3 FF
328.269867 161.65062 M 0.589935 0 32 ( parameters, serv) widthshow
397.329834 161.65062 M 0.589935 0 32 (er side for ) widthshow
4 FF
442.139648 161.65062 M 0.589935 0 32 (out) widthshow
3 FF
454.919647 161.65062 M 0.589935 0 32 ( parameters, both for) widthshow
4 FF
180 173.650604 M 0.057449 0 32 (inout) widthshow
3 FF
200.559998 173.650604 M 0.057449 0 32 ( parameters\) b) widthshow
257.675018 173.650604 M 0.057449 0 32 (ut of a kno) widthshow
300.647522 173.650604 M 0.057449 0 32 (wn type on the recei) widthshow
381.717468 173.650604 M 0.057449 0 32 (v) widthshow
386.567535 173.650604 M 0.057449 0 32 (er\325) widthshow
397.117859 173.650604 M 0.057449 0 32 (s side. That is, the sender will spec-) widthshow
3 FF
180 185.650589 M 0.581543 0 32 (ify a port and a port type, b) widthshow
292.740906 185.650589 M 0.581543 0 32 (ut the result of sending this port will be to generate a kno) widthshow
527.779602 185.650589 M 0.581543 0 32 (wn) widthshow
(port type. The follo) 180.0 197.651 T
(wing standard de\336nitions ha) 257.52 197.651 T
(v) 370.37 197.651 T
(e such a speci\336cation:) 375.22 197.651 T
([1]) 195.34 215.651 T
(type MA) 216.0 215.651 T
(CH_MSG_TYPE_POR) 251.43 215.651 T
(T_RECEIVE =) 345.841 215.651 T
3 FF
( ) 407.311 215.651 T
(MA) 270.0 225.651 T
(CH_MSG_TYPE_POL) 285.71 225.651 T
(YMORPHIC | ) 379.161 225.651 T
(MA) 270.0 235.651 T
(CH_MSG_TYPE_MO) 285.71 235.651 T
(VE_RECEIVE;) 376.88 235.651 T
3 FF
([2]) 195.34 247.651 T
(type MA) 216.0 247.651 T
(CH_MSG_TYPE_POR) 251.43 247.651 T
(T_SEND =) 345.841 247.651 T
3 FF
( ) 396.0 247.651 T
(MA) 270.0 257.65 T
(CH_MSG_TYPE_POL) 285.71 257.65 T
(YMORPHIC | ) 379.161 257.65 T
(MA) 270.0 267.65 T
(CH_MSG_TYPE_MO) 285.71 267.65 T
(VE_SEND;) 376.88 267.65 T
3 FF
([3]) 195.34 279.65 T
(type MA) 216.0 279.65 T
(CH_MSG_TYPE_POR) 251.43 279.65 T
(T_SEND_ONCE =) 345.841 279.65 T
3 FF
( ) 423.421 279.65 T
(MA) 270.0 289.65 T
(CH_MSG_TYPE_POL) 285.71 289.65 T
(YMORPHIC | ) 379.161 289.65 T
(MA) 270.0 299.65 T
(CH_MSG_TYPE_MO) 285.71 299.65 T
(VE_SEND_ONCE;) 376.88 299.65 T
3 FF
(As an e) 180.0 321.65 T
(xample, ) 209.84 321.65 T
0 FF
(std_types.defs) 244.28 321.65 T
3 FF
( mak) 304.0 321.65 T
(es the follo) 323.62 321.65 T
(wing de\336nition:) 367.81 321.65 T
(type ) 216.0 345.65 T
4 FF
<de6c7465725f706f72745f74> 235.72 345.65 T
3 FF
( = MA) 284.06 345.65 T
(CH_MSG_TYPE_POR) 310.41 345.65 T
(T_SEND) 404.821 345.65 T
(ctype: ) 270.0 357.65 T
4 FF
<de6c7465725f706f72745f74> 296.94 357.65 T
3 FF
(;) 345.28 357.65 T
(The \(k) 180.0 381.65 T
(ernel\) function ) 206.28 381.65 T
0 FF
(de) 267.93 381.65 T
(vice_set_\336lter) 277.78 381.65 T
3 FF
( is de\336ned as follo) 336.65 381.65 T
(ws:) 409.73 381.65 T
([1]) 195.34 399.65 T
(routine ) 216.0 399.65 T
0 FF
(de) 246.83 399.65 T
(vice_set_\336lter) 256.68 399.65 T
3 FF
([2]) 195.34 411.65 T
(\() 216.0 411.65 T
([3]) 195.34 423.65 T
3 FF
(de) 252.0 423.65 T
(vice:) 261.19 423.65 T
(de) 396.0 423.65 T
(vice_t;) 405.19 423.65 T
3 FF
([4]) 195.34 435.65 T
4 FF
(r) 252.0 435.65 T
(eceive_port) 255.52 435.65 T
3 FF
(:) 302.17 435.65 T
4 FF
<de6c7465725f706f72745f74> 396.0 435.65 T
3 FF
(;) 444.34 435.65 T
([5]) 195.34 447.65 T
4 FF
(priority:) 252.0 447.65 T
(net_priority_t) 396.0 447.65 T
3 FF
(;) 451.56 447.65 T
([6]) 195.34 459.65 T
4 FF
<de6c7465723a> 252.0 459.65 T
<de6c7465725f617272> 396.0 459.65 T
(ay_t) 432.52 459.65 T
3 FF
([7]) 195.34 471.65 T
(\);) 216.0 471.65 T
180 493.650269 M 2.11319 0 32 (On the sending side, ) widthshow
4 FF
272.612762 493.650269 M 2.11319 0 32 (r) widthshow
276.132965 493.650269 M 2.11319 0 32 (eceive_port) widthshow
3 FF
322.782959 493.650269 M 2.11319 0 32 ( is of MIG type MA) widthshow
413.219147 493.650269 M 2.11319 0 32 (CH_MSG_TYPE_POL) widthshow
506.669678 493.650269 M 2.11319 0 32 (YMOR-) widthshow
180 505.650238 M 0.295944 0 32 (PHIC, so it e) widthshow
232.407913 505.650238 M 0.295944 0 32 (xpands into an ar) widthshow
301.715851 505.650238 M 0.295944 0 32 (gument of type ) widthshow
4 FF
365.653687 505.650238 M 0.295944 0 32 <de6c7465725f706f72745f74> widthshow
3 FF
413.993683 505.650238 M 0.295944 0 32 ( \(the ) widthshow
4 FF
435.135559 505.650238 M 0.295944 0 32 (ctype) widthshow
3 FF
456.235596 505.650238 M 0.295944 0 32 (\) and an ar) widthshow
499.423523 505.650238 M 0.295944 0 32 (gument to) widthshow
180 517.650208 M 0.629044 0 32 (specify the MIG type for the message header \() widthshow
4 FF
370.532379 517.650208 M 0.629044 0 32 (mac) widthshow
387.04248 517.650208 M 0.629044 0 32 (h_msg_type_name_t) widthshow
3 FF
469.252472 517.650208 M 0.629044 0 32 (\). The sender can) widthshow
3 FF
180 529.650208 M 3.819916 0 32 (supply a recei) widthshow
242.929977 529.650208 M 3.819916 0 32 (v) widthshow
247.78006 529.650208 M 3.819916 0 32 (e or send right, specifying MA) widthshow
389.239868 529.650208 M 3.819916 0 32 (CH_MSG_TYPE_MAKE_SEND or) widthshow
180 541.650208 M 0.166504 0 32 (MA) widthshow
195.71022 541.650208 M 0.166504 0 32 (CH_MSG_TYPE_COPY_SEND, respecti) widthshow
365.066864 541.650208 M 0.166504 0 32 (v) widthshow
369.916931 541.650208 M 0.166504 0 32 (ely) widthshow
381.487305 541.650208 M 0.166504 0 32 (, for the port type parameter) widthshow
493.960144 541.650208 M 0.166504 0 32 (. On the re-) widthshow
180 553.650146 M 1.245453 0 32 (cei) widthshow
191.410141 553.650146 M 1.245453 0 32 (v) widthshow
196.260223 553.650146 M 1.245453 0 32 (e side, ) widthshow
4 FF
226.801132 553.650146 M 1.245453 0 32 (r) widthshow
230.321335 553.650146 M 1.245453 0 32 (eceive_port ) widthshow
3 FF
280.716797 553.650146 M 1.245453 0 32 (will automatically become of IPC type MA) widthshow
461.109741 553.650146 M 1.245453 0 32 (CH_MSG_TYPE_-) widthshow
(MO) 180.0 565.65 T
(VE_SEND, and the recei) 195.61 565.65 T
(v) 295.89 565.65 T
(er will only see a single parameter) 300.741 565.65 T
(, of C type ) 437.531 565.65 T
4 FF
<de6c7465725f706f72745f74> 482.251 565.65 T
3 FF
(.) 530.591 565.65 T
180 606.983459 360 3.024002 CR
0.25 SL
2 SC
540 608.5 M
180 608.5 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Operation Descriptions) 180.0 603.317 T
3 FF
(An operation description has the syntax:) 180.0 627.674 T
4 FF
(oper) 216.0 651.674 T
(ation-type) 234.18 651.674 T
3 FF
( ) 274.73 651.674 T
0 FF
(operation-name) 277.23 651.674 T
3 FF
( \() 345.0 651.674 T
0 FF
(parameter) 350.83 651.674 T
(-list) 395.44 651.674 T
4 FF
(\)) 411.55 651.674 T
3 FF
(;) 414.88 651.674 T
180 675.674072 M 0.549316 0 32 (The) widthshow
4 FF
195.550003 675.674072 M 0.549316 0 32 ( ) widthshow
0 FF
198.599319 675.674072 M 0.549316 0 32 (parameter) widthshow
243.209534 675.674072 M 0.549316 0 32 (-list) widthshow
3 FF
259.319519 675.674072 M 0.549316 0 32 ( is a list of parameter names and types separated by \322;\323. The form of) widthshow
(each parameter is:) 180.0 687.674 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 23 23
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (19 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Operation Descriptions) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Italic) 10 1 mymakefontmetric
3 FF
(speci\336cation var) 108.0 115.667 T
(-name:) 174.18 115.667 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
( ) 202.5 115.667 T
1 FF
(type-description) 205.0 115.667 T
4 FF
( [,) 274.44 115.667 T
1 FF
(IPC-\337ags) 282.77 115.667 T
4 FF
(]) 322.77 115.667 T
72 139.666641 M 0.413284 0 32 (where) widthshow
3 FF
96.430008 139.666641 M 0.413284 0 32 ( speci\336cation) widthshow
4 FF
149.893295 139.666641 M 0.413284 0 32 ( may either be omitted or be one of the follo) widthshow
330.41629 139.666641 M 0.413284 0 32 (wing: ) widthshow
3 FF
356.109558 139.666641 M 0.413284 0 32 (in) widthshow
4 FF
363.889587 139.666641 M 0.413284 0 32 ( | ) widthshow
3 FF
371.716125 139.666641 M 0.413284 0 32 (out) widthshow
4 FF
384.496155 139.666641 M 0.413284 0 32 ( | ) widthshow
3 FF
392.322693 139.666641 M 0.413284 0 32 (inout) widthshow
4 FF
412.88269 139.666641 M 0.413284 0 32 ( | ) widthshow
3 FF
420.70929 139.666641 M 0.413284 0 32 (r) widthshow
424.229492 139.666641 M 0.413284 0 32 (e-) widthshow
72 151.666626 M 0.603485 0 32 (questport) widthshow
4 FF
109.779999 151.666626 M 0.603485 0 32 ( |) widthshow
3 FF
114.883484 151.666626 M 0.603485 0 32 ( r) widthshow
121.507172 151.666626 M 0.603485 0 32 (eplyport) widthshow
4 FF
154.837173 151.666626 M 0.603485 0 32 ( | ) widthshow
3 FF
163.044144 151.666626 M 0.603485 0 32 (server) widthshow
187.934204 151.666626 M 0.603485 0 32 (secid) widthshow
4 FF
208.484207 151.666626 M 0.603485 0 32 ( | ) widthshow
3 FF
216.691177 151.666626 M 0.603485 0 32 (user) widthshow
233.811234 151.666626 M 0.603485 0 32 (secid) widthshow
4 FF
254.361237 151.666626 M 0.603485 0 32 ( |) widthshow
3 FF
259.464722 151.666626 M 0.603485 0 32 ( sr) widthshow
269.978394 151.666626 M 0.603485 0 32 (eplyport ) widthshow
4 FF
306.411896 151.666626 M 0.603485 0 32 (|) widthshow
3 FF
308.411896 151.666626 M 0.603485 0 32 ( ur) widthshow
320.035583 151.666626 M 0.603485 0 32 (eplyport ) widthshow
4 FF
356.469055 151.666626 M 0.603485 0 32 (| ) widthshow
3 FF
361.572571 151.666626 M 0.603485 0 32 (waittime) widthshow
4 FF
396.022552 151.666626 M 0.603485 0 32 ( | ) widthshow
3 FF
404.229523 151.666626 M 0.603485 0 32 (msgse-) widthshow
72 163.666611 M 1.565781 0 32 (qno) widthshow
4 FF
87 163.666611 M 1.565781 0 32 ( | ) widthshow
3 FF
97.131561 163.666611 M 1.565781 0 32 (msgoption) widthshow
4 FF
138.801559 163.666611 M 1.565781 0 32 (. ) widthshow
1 FF
145.36734 163.666611 M 1.565781 0 32 (type-description) widthshow
4 FF
214.807343 163.666611 M 1.565781 0 32 ( can be an) widthshow
259.614777 163.666611 M 1.565781 0 32 (y) widthshow
3 FF
264.614777 163.666611 M 1.565781 0 32 ( user) widthshow
285.700684 163.666611 M 1.565781 0 32 (-typename) widthshow
4 FF
327.350677 163.666611 M 1.565781 0 32 ( that w) widthshow
357.602295 163.666611 M 1.565781 0 32 (as declared in the) widthshow
72 175.666595 M 0.280609 0 32 (type de\336nitions section or can be a complete) widthshow
3 FF
251.994278 175.666595 M 0.280609 0 32 ( ) widthshow
1 FF
254.774887 175.666595 M 0.280609 0 32 (type-description) widthshow
4 FF
324.214905 175.666595 M 0.280609 0 32 ( in the same form as in the) widthshow
72 187.66658 M 0.302994 0 32 (type de\336nition section. The ) widthshow
1 FF
185.151978 187.66658 M 0.302994 0 32 (IPC-\337ags) widthshow
4 FF
225.151978 187.66658 M 0.302994 0 32 ( are either omitted or consist of a comma separated) widthshow
72 199.666565 M 2.093277 0 32 (list of ) widthshow
3 FF
101.746552 199.666565 M 2.093277 0 32 (dealloc) widthshow
4 FF
131.186554 199.666565 M 2.093277 0 32 (, ) widthshow
3 FF
138.279831 199.666565 M 2.093277 0 32 (dealloc) widthshow
4 FF
167.719833 199.666565 M 2.093277 0 32 ( [], ) widthshow
3 FF
186.066391 199.666565 M 2.093277 0 32 (notdealloc) widthshow
4 FF
228.286392 199.666565 M 2.093277 0 32 (, ) widthshow
3 FF
235.379669 199.666565 M 2.093277 0 32 (physicalcopy) widthshow
4 FF
286.940033 199.666565 M 2.093277 0 32 (, ) widthshow
3 FF
294.033325 199.666565 M 2.093277 0 32 (countinout,) widthshow
4 FF
339.313293 199.666565 M 2.093277 0 32 ( ) widthshow
3 FF
343.906586 199.666565 M 2.093277 0 32 (samecount) widthshow
4 FF
386.676575 199.666565 M 2.093277 0 32 (, ) widthshow
3 FF
393.769867 199.666565 M 2.093277 0 32 (o) widthshow
398.669922 199.666565 M 2.093277 0 32 (verwrite) widthshow
4 FF
(and ) 72.0 211.667 T
3 FF
(r) 88.94 211.667 T
(etcode) 92.46 211.667 T
4 FF
(.) 118.56 211.667 T
4 FF
72 235.666534 M 0.659943 0 32 (The ) widthshow
3 FF
90.709946 235.666534 M 0.659943 0 32 (oper) widthshow
108.89003 235.666534 M 0.659943 0 32 (ation-type) widthshow
4 FF
149.440033 235.666534 M 0.659943 0 32 ( is either ) widthshow
3 FF
188.359863 235.666534 M 0.659943 0 32 (r) widthshow
191.80011 235.666534 M 0.659943 0 32 (outine) widthshow
4 FF
216.80011 235.666534 M 0.659943 0 32 (, to specify an operation that e) widthshow
341.419861 235.666534 M 0.659943 0 32 (xpects a reply) widthshow
397.630127 235.666534 M 0.659943 0 32 (, or ) widthshow
3 FF
414.779999 235.666534 M 0.659943 0 32 (sim-) widthshow
(pler) 72.0 247.667 T
(outine) 87.66 247.667 T
4 FF
(, for an operation that does not recei) 112.66 247.667 T
(v) 256.82 247.667 T
(e a reply) 261.67 247.667 T
(.) 295.451 247.667 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(IPC Flags) 72.0 279.0 T
4 FF
72 295.666504 M 0.072403 0 32 (There are \336v) widthshow
123.0849 295.666504 M 0.072403 0 32 (e sets of IPC \337ags: one set pertains to de-allocation of the parameter) widthshow
396.283997 295.666504 M 0.072403 0 32 (, the sec-) widthshow
72 307.666504 M 0.679962 0 32 (ond pertains to handling v) widthshow
178.909988 307.666504 M 0.679962 0 32 (ariable sized data, the third to forcing ph) widthshow
345.809753 307.666504 M 0.679962 0 32 (ysical copies for out-) widthshow
72 319.666473 M 0.494949 0 32 (of-line data, the fourth for requesting out-of-line o) widthshow
276.384766 319.666473 M 0.494949 0 32 (v) widthshow
281.234833 319.666473 M 0.494949 0 32 (erwrite reception, the \336fth for return-) widthshow
4 FF
(ing error status.) 72.0 331.666 T
4 FF
72 355.666443 M 0.412247 0 32 (The de-allocation \337ag is used to describe the treatment of \322pointers\323 \(out-of-line data re-) widthshow
72 367.666443 M 0.771484 0 32 (gions\) after the messages with which the) widthshow
239.229004 367.666443 M 0.771484 0 32 (y are associated ha) widthshow
316.593567 367.666443 M 0.771484 0 32 (v) widthshow
321.443665 367.666443 M 0.771484 0 32 (e been sent. ) widthshow
3 FF
373.18811 367.666443 M 0.771484 0 32 (dealloc) widthshow
4 FF
402.628113 367.666443 M 0.771484 0 32 ( causes) widthshow
72 379.666412 M 0.331192 0 32 (the de-allocation \337ag in the memory descriptor to be set on, otherwise it is of) widthshow
384.40686 379.666412 M 0.331192 0 32 (f. If) widthshow
3 FF
399.728027 379.666412 M 0.331192 0 32 ( dealloc) widthshow
4 FF
72 391.666382 M 0.264282 0 32 (is used, the memory that the pointer references will be de-allocated after the message has) widthshow
72 403.666382 M 0.215607 0 32 (been sent. An error will result if ) widthshow
3 FF
204.039261 403.666382 M 0.215607 0 32 (dealloc) widthshow
4 FF
233.479263 403.666382 M 0.215607 0 32 ( is used with an) widthshow
296.411774 403.666382 M 0.215607 0 32 (y ar) widthshow
311.717468 403.666382 M 0.215607 0 32 (gument other than a \322pointer\323) widthshow
(to pure data. ) 72.0 415.666 T
(The dynamic de-allocation \337ag:) 72.0 439.666 T
(dealloc []) 108.0 463.666 T
72 487.666321 M 0.283539 0 32 (causes the generated stub to accept an additional parameter \(of C type ) widthshow
3 FF
357.55249 487.666321 M 0.283539 0 32 (boolean_t) widthshow
4 FF
397.55249 487.666321 M 0.283539 0 32 (\) that al-) widthshow
72 499.666321 M 0.52063 0 32 (lo) widthshow
79.530136 499.666321 M 0.52063 0 32 (ws the caller to specify whether the de-allocation \337ag should be set in the memory de-) widthshow
(scriptor \(TR) 72.0 511.666 T
(UE meaning that the data should be de-allocated\).) 120.76 511.666 T
72 535.66626 M 0.34996 0 32 (The ) widthshow
3 FF
90.399963 535.66626 M 0.34996 0 32 (countinout) widthshow
4 FF
133.179962 535.66626 M 0.34996 0 32 ( k) widthshow
140.929977 535.66626 M 0.34996 0 32 (e) widthshow
145.220062 535.66626 M 0.34996 0 32 (yw) widthshow
157.340118 535.66626 M 0.34996 0 32 (ord applies to v) widthshow
220.080139 535.66626 M 0.34996 0 32 (ariable length ) widthshow
3 FF
277.990051 535.66626 M 0.34996 0 32 (out) widthshow
4 FF
290.770081 535.66626 M 0.34996 0 32 ( parameters. It does what the name) widthshow
72 547.66626 M 0.605316 0 32 (implies: the count parameter that the user side must specify to recei) widthshow
348.088623 547.66626 M 0.605316 0 32 (v) widthshow
352.938721 547.66626 M 0.605316 0 32 (e the number of re-) widthshow
72 559.66626 M 0.736649 0 32 (turned elements is also considered as an input parameter to be sent to the serv) widthshow
392.663208 559.66626 M 0.736649 0 32 (er routine) widthshow
72 571.66626 M 0.540543 0 32 (so that the serv) widthshow
133.741714 571.66626 M 0.540543 0 32 (er does not attempt to return too man) widthshow
285.415588 571.66626 M 0.540543 0 32 (y v) widthshow
298.206299 571.66626 M 0.540543 0 32 (alues. In the absence of this k) widthshow
419.379608 571.66626 M 0.540543 0 32 (e) widthshow
423.669678 571.66626 M 0.540543 0 32 (y-) widthshow
72 583.666199 M 0.113251 0 32 (w) widthshow
79.120056 583.666199 M 0.113251 0 32 (ord, the number of elements in the user\325) widthshow
239.33313 583.666199 M 0.113251 0 32 (s b) widthshow
250.63649 583.666199 M 0.113251 0 32 (uf) widthshow
258.716614 583.666199 M 0.113251 0 32 (fer is not sent to the serv) widthshow
357.566223 583.666199 M 0.113251 0 32 (er) widthshow
364.78653 583.666199 M 0.113251 0 32 (. If the serv) widthshow
410.516357 583.666199 M 0.113251 0 32 (er re-) widthshow
72 595.666199 M 0.851929 0 32 (turns a message with more v) widthshow
190.15979 595.666199 M 0.851929 0 32 (alues than for which the user allo) widthshow
327.771515 595.666199 M 0.851929 0 32 (wed, the user\325) widthshow
385.295685 595.666199 M 0.851929 0 32 (s MIG stub) widthshow
(will discard the data and return MIG_ARRA) 72.0 607.666 T
(Y_T) 249.811 607.666 T
(OO_LARGE.) 267.961 607.666 T
72 631.666138 M 0.201492 0 32 (The ) widthshow
3 FF
90.251495 631.666138 M 0.201492 0 32 (samecount) widthshow
4 FF
133.0215 631.666138 M 0.201492 0 32 ( k) widthshow
140.623047 631.666138 M 0.201492 0 32 (e) widthshow
144.913132 631.666138 M 0.201492 0 32 (yw) widthshow
157.033188 631.666138 M 0.201492 0 32 (ord indicates that the v) widthshow
248.689301 631.666138 M 0.201492 0 32 (ariable sized parameter is of the same bounds) widthshow
72 643.666138 M 0.403091 0 32 (as the pre) widthshow
110.876328 643.666138 M 0.403091 0 32 (vious parameter in the parameter list and so it can share the count parameter of) widthshow
(that pre) 72.0 655.666 T
(vious parameter) 102.02 655.666 T
(.) 165.62 655.666 T
72 679.666138 M 0.607941 0 32 (The ) widthshow
3 FF
90.657944 679.666138 M 0.607941 0 32 (physicalcopy) widthshow
4 FF
142.86795 679.666138 M 0.607941 0 32 ( k) widthshow
150.875946 679.666138 M 0.607941 0 32 (e) widthshow
155.166031 679.666138 M 0.607941 0 32 (yw) widthshow
167.286087 679.666138 M 0.607941 0 32 (ord causes ) widthshow
1 FF
212.931976 679.666138 M 0.607941 0 32 (mach_msg) widthshow
4 FF
258.481995 679.666138 M 0.607941 0 32 ( to forcibly cop) widthshow
321.585876 679.666138 M 0.607941 0 32 (y the associated out-of-line) widthshow
72 691.666138 M 0.356857 0 32 (re) widthshow
79.620087 691.666138 M 0.356857 0 32 (gion \(as opposed to possibly performing a virtual cop) widthshow
296.244995 691.666138 M 0.356857 0 32 (y\). This k) widthshow
335.468781 691.666138 M 0.356857 0 32 (e) widthshow
339.75885 691.666138 M 0.356857 0 32 (yw) widthshow
351.878906 691.666138 M 0.356857 0 32 (ord w) widthshow
375.185852 691.666138 M 0.356857 0 32 (ould be speci-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 24 24
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(20 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.536758 0 32 <de6564206966206974206973206b6e6f> widthshow
240.237167 113.650665 M 0.536758 0 32 (wn that a ph) widthshow
290.957458 113.650665 M 0.536758 0 32 (ysical cop) widthshow
331.664307 113.650665 M 0.536758 0 32 (y w) widthshow
346.821106 113.650665 M 0.536758 0 32 (ould be more ef) widthshow
411.221527 113.650665 M 0.536758 0 32 <de6369656e74206769> widthshow
446.788422 113.650665 M 0.536758 0 32 (v) widthshow
451.638489 113.650665 M 0.536758 0 32 (en the e) widthshow
483.662109 113.650665 M 0.536758 0 32 (xpected refer-) widthshow
180 125.65065 M 0.828629 0 32 (ence patterns of the memory or if deterministic access time by the sender or recei) widthshow
516.270996 125.65065 M 0.828629 0 32 (v) widthshow
521.121094 125.65065 M 0.828629 0 32 (er to) widthshow
(the memory w) 180.0 137.651 T
(as required.) 237.67 137.651 T
180 161.65062 M 0.717422 0 32 (The ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
198.767426 161.65062 M 0.717422 0 32 (o) widthshow
203.66748 161.65062 M 0.717422 0 32 (verwrite) widthshow
3 FF
236.997482 161.65062 M 0.717422 0 32 ( k) widthshow
245.11496 161.65062 M 0.717422 0 32 (e) widthshow
249.405045 161.65062 M 0.717422 0 32 (yw) widthshow
261.525085 161.65062 M 0.717422 0 32 (ord causes ) widthshow
0 FF
307.389954 161.65062 M 0.717422 0 32 (mach_msg) widthshow
3 FF
352.939941 161.65062 M 0.717422 0 32 ( to specify the o) widthshow
419.539734 161.65062 M 0.717422 0 32 (v) widthshow
424.389832 161.65062 M 0.717422 0 32 (erwrite option for the recep-) widthshow
180 173.650604 M 0.650742 0 32 (tion of the data. This k) widthshow
273.703766 173.650604 M 0.650742 0 32 (e) widthshow
277.993835 173.650604 M 0.650742 0 32 (yw) widthshow
290.113892 173.650604 M 0.650742 0 32 (ord applies only to out-of-line \(\322pointer\323\) ) widthshow
4 FF
462.878357 173.650604 M 0.650742 0 32 (out) widthshow
3 FF
475.658386 173.650604 M 0.650742 0 32 ( parameters. By) widthshow
180 185.650589 M 0.184586 0 32 (def) widthshow
192.670059 185.650589 M 0.184586 0 32 (ault, an out-of-line output parameter contained in the reply message is placed in fresh-) widthshow
180 197.650574 M 0.26535 0 32 (ly allocated memory \(as if by ) widthshow
0 FF
301.572113 197.650574 M 0.26535 0 32 (vm_allocate) widthshow
3 FF
352.672119 197.650574 M 0.26535 0 32 (\). F) widthshow
366.677551 197.650574 M 0.26535 0 32 (or an output pointer ar) widthshow
456.989075 197.650574 M 0.26535 0 32 (gument, MIG gener-) widthshow
180 209.650558 M 1.592819 0 32 (ates an output parameter for the generated stub to return the location of the allocated) widthshow
180 221.650543 M 0.427811 0 32 (storage \(and a parameter for its size if v) widthshow
342.012634 221.650543 M 0.427811 0 32 (ariable\). When ) widthshow
4 FF
404.788269 221.650543 M 0.427811 0 32 (o) widthshow
409.688354 221.650543 M 0.427811 0 32 (verwrite) widthshow
3 FF
443.018341 221.650543 M 0.427811 0 32 ( is speci\336ed, the pointer) widthshow
180 233.650528 M 0.242264 0 32 (parameter becomes an input parameter to the MIG generated stub\321it speci\336es an area of) widthshow
180 245.650513 M 0.897095 0 32 (memory o) widthshow
221.577179 245.650513 M 0.897095 0 32 (v) widthshow
226.427261 245.650513 M 0.897095 0 32 (er which the output out-of-line data will be written. If the parameter is v) widthshow
526.119629 245.650513 M 0.897095 0 32 (ari-) widthshow
180 257.650513 M 0.58075 0 32 (able sized, the count parameter becomes an input/output parameter to the stub; on input,) widthshow
(it is the maximum size of the b) 180.0 269.65 T
(uf) 303.41 269.65 T
(fer) 311.49 269.65 T
(, on output it is the actual size.) 322.19 269.65 T
3 FF
180 293.650452 M 0.537445 0 32 (The ) widthshow
4 FF
198.587448 293.650452 M 0.537445 0 32 (r) widthshow
202.107651 293.650452 M 0.537445 0 32 (etcode) widthshow
3 FF
228.207657 293.650452 M 0.537445 0 32 ( k) widthshow
236.145157 293.650452 M 0.537445 0 32 (e) widthshow
240.435242 293.650452 M 0.537445 0 32 (yw) widthshow
252.555298 293.650452 M 0.537445 0 32 (ord is used when asynchronously generating a return from what w) widthshow
522.219849 293.650452 M 0.537445 0 32 (ould) widthshow
180 305.650452 M 0.232422 0 32 (otherwise be a synchronous in) widthshow
301.619934 305.650452 M 0.232422 0 32 (v) widthshow
306.420044 305.650452 M 0.232422 0 32 (ocation. When generating the reply message for a ) widthshow
4 FF
509.059448 305.650452 M 0.232422 0 32 (r) widthshow
512.499695 305.650452 M 0.232422 0 32 (outine) widthshow
3 FF
537.499695 305.650452 M 0.232422 0 32 (,) widthshow
180 317.650452 M 0.21373 0 32 (if the return code from the MIG called serv) widthshow
354.289948 317.650452 M 0.21373 0 32 (er interf) widthshow
386.33374 317.650452 M 0.21373 0 32 (ace is zero, MIG generates a full mes-) widthshow
180 329.650421 M 1.426392 0 32 (sage with all parameters \(e) widthshow
292.745667 329.650421 M 1.426392 0 32 (xcept the return code\); if the return code is non-zero, MIG) widthshow
180 341.650391 M 0.075256 0 32 (generates a simple message containing just the return code. T) widthshow
425.387756 341.650391 M 0.075256 0 32 (o get this ef) widthshow
472.30368 341.650391 M 0.075256 0 32 (fect when the re-) widthshow
180 353.650391 M 0.658417 0 32 (ply message is being e) widthshow
272.473755 353.650391 M 0.658417 0 32 (xplicitly described, an additional parameter is declared for the re-) widthshow
180 365.650391 M 0.926056 0 32 (ply \() widthshow
4 FF
199.536057 365.650391 M 0.926056 0 32 (simpler) widthshow
229.086304 365.650391 M 0.926056 0 32 (outine) widthshow
3 FF
254.086304 365.650391 M 0.926056 0 32 ( message\) with the ) widthshow
4 FF
335.000549 365.650391 M 0.926056 0 32 (r) widthshow
338.520752 365.650391 M 0.926056 0 32 (etcode) widthshow
3 FF
364.620728 365.650391 M 0.926056 0 32 ( k) widthshow
372.946838 365.650391 M 0.926056 0 32 (e) widthshow
377.236938 365.650391 M 0.926056 0 32 (yw) widthshow
389.356995 365.650391 M 0.926056 0 32 (ord. If the v) widthshow
439.095306 365.650391 M 0.926056 0 32 (alue of this parameter to) widthshow
180 377.65036 M 0.969269 0 32 (the ) widthshow
4 FF
195.68927 377.65036 M 0.969269 0 32 (simpler) widthshow
225.239517 377.65036 M 0.969269 0 32 (outine) widthshow
3 FF
250.239517 377.65036 M 0.969269 0 32 ( is zero, it is ignored; if it is non-zero, the ) widthshow
4 FF
428.941467 377.65036 M 0.969269 0 32 (simpler) widthshow
458.49173 377.65036 M 0.969269 0 32 (outine) widthshow
3 FF
483.49173 377.65036 M 0.969269 0 32 ( sends a mes-) widthshow
(sage just containing this v) 180.0 389.65 T
(alue.) 283.64 389.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Request and Reply P) 180.0 420.984 T
(orts) 286.764 420.984 T
3 FF
180 437.65033 M 1.35994 0 32 (The \336rst \(not otherwise speci\336ed\) parameter in an) widthshow
389.049683 437.65033 M 1.35994 0 32 (y operation statement is assumed be) widthshow
180 449.65033 M 0.709915 0 32 (the ) widthshow
4 FF
195.429916 449.65033 M 0.709915 0 32 (r) widthshow
198.950119 449.65033 M 0.709915 0 32 (equestport) widthshow
3 FF
241.17012 449.65033 M 0.709915 0 32 ( unless a) widthshow
4 FF
277.029968 449.65033 M 0.709915 0 32 ( r) widthshow
283.760071 449.65033 M 0.709915 0 32 (equestport) widthshow
3 FF
325.980072 449.65033 M 0.709915 0 32 ( parameter is speci\336ed. This is the port to which the) widthshow
(message will be sent.) 180.0 461.65 T
180 485.650269 M 0.657303 0 32 (By def) widthshow
207.49736 485.650269 M 0.657303 0 32 (ault, MIG user stub routines use a MIG internal reply port for recei) widthshow
483.135162 485.650269 M 0.657303 0 32 (ving the reply) widthshow
180 497.650269 M 1.804916 0 32 (message. The ) widthshow
4 FF
240.539841 497.650269 M 1.804916 0 32 (r) widthshow
244.060043 497.650269 M 1.804916 0 32 (eplyport) widthshow
3 FF
277.390045 497.650269 M 1.804916 0 32 ( speci\336cation allo) widthshow
351.300018 497.650269 M 1.804916 0 32 (ws one of the parameters to be an e) widthshow
506.659454 497.650269 M 1.804916 0 32 (xplicitly) widthshow
180 509.650269 M 0.789062 0 32 (named reply port. The ) widthshow
4 FF
274.526245 509.650269 M 0.789062 0 32 (sr) widthshow
281.936462 509.650269 M 0.789062 0 32 (eplyport) widthshow
3 FF
315.266479 509.650269 M 0.789062 0 32 ( and ) widthshow
4 FF
336.284607 509.650269 M 0.789062 0 32 (ur) widthshow
344.80481 509.650269 M 0.789062 0 32 (eplyport) widthshow
3 FF
378.134796 509.650269 M 0.789062 0 32 ( speci\336cations ha) widthshow
448.393036 509.650269 M 0.789062 0 32 (v) widthshow
453.243103 509.650269 M 0.789062 0 32 (e a related ef) widthshow
506.720459 509.650269 M 0.789062 0 32 (fect that) widthshow
(is related to the generation of the actual function interf) 180.0 521.65 T
(ace prototypes, as e) 397.91 521.65 T
(xplained belo) 476.07 521.65 T
(w) 529.98 521.65 T
(.) 536.551 521.65 T
5 FF
(P) 180.0 552.984 T
(arameter Dir) 187.212 552.984 T
(ection) 254.628 552.984 T
3 FF
180 569.650208 M 0.822784 0 32 (The k) widthshow
203.772842 569.650208 M 0.822784 0 32 (e) widthshow
208.062927 569.650208 M 0.822784 0 32 (yw) widthshow
220.182983 569.650208 M 0.822784 0 32 (ords) widthshow
4 FF
237.402985 569.650208 M 0.822784 0 32 ( in) widthshow
3 FF
248.505768 569.650208 M 0.822784 0 32 (, ) widthshow
4 FF
254.328552 569.650208 M 0.822784 0 32 (out) widthshow
3 FF
267.108551 569.650208 M 0.822784 0 32 ( and) widthshow
4 FF
284.871338 569.650208 M 0.822784 0 32 ( inout) widthshow
3 FF
308.75412 569.650208 M 0.822784 0 32 ( are optional and indicate the direction of the parameter) widthshow
537.499512 569.650208 M 0.822784 0 32 (.) widthshow
180 581.650208 M 0.171692 0 32 (If no such k) widthshow
227.905136 581.650208 M 0.171692 0 32 (e) widthshow
232.195221 581.650208 M 0.171692 0 32 (yw) widthshow
244.315277 581.650208 M 0.171692 0 32 (ord is gi) widthshow
277.188782 581.650208 M 0.171692 0 32 (v) widthshow
282.038879 581.650208 M 0.171692 0 32 (en the def) widthshow
321.712341 581.650208 M 0.171692 0 32 (ault is ) widthshow
4 FF
348.725708 581.650208 M 0.171692 0 32 (in) widthshow
3 FF
356.505707 581.650208 M 0.171692 0 32 (. The k) widthshow
384.799133 581.650208 M 0.171692 0 32 (e) widthshow
389.089233 581.650208 M 0.171692 0 32 (yw) widthshow
401.20929 581.650208 M 0.171692 0 32 (ord) widthshow
4 FF
414.539307 581.650208 M 0.171692 0 32 ( in) widthshow
3 FF
424.990967 581.650208 M 0.171692 0 32 ( is used with parameters that) widthshow
180 593.650208 M 0.915833 0 32 (are to be sent to the serv) widthshow
282.545105 593.650208 M 0.915833 0 32 (er) widthshow
289.765381 593.650208 M 0.915833 0 32 (. The k) widthshow
319.547119 593.650208 M 0.915833 0 32 (e) widthshow
323.837219 593.650208 M 0.915833 0 32 (yw) widthshow
335.957275 593.650208 M 0.915833 0 32 (ord) widthshow
4 FF
349.287262 593.650208 M 0.915833 0 32 ( out) widthshow
3 FF
365.483093 593.650208 M 0.915833 0 32 ( is used with parameters to be returned by) widthshow
(the serv) 180.0 605.65 T
(er) 211.23 605.65 T
(. The k) 218.45 605.65 T
(e) 246.4 605.65 T
(yw) 250.691 605.65 T
(ord) 262.811 605.65 T
4 FF
( inout) 276.141 605.65 T
3 FF
( is used with parameters to be both sent and returned.) 299.201 605.65 T
5 FF
(W) 180.0 636.984 T
(aitT) 191.22 636.984 T
(ime P) 212.341 636.984 T
(arameter) 241.213 636.984 T
3 FF
180 653.650146 M 0.881607 0 32 (The) widthshow
4 FF
195.550003 653.650146 M 0.881607 0 32 ( waittime) widthshow
3 FF
233.381607 653.650146 M 0.881607 0 32 ( k) widthshow
241.663269 653.650146 M 0.881607 0 32 (e) widthshow
245.953354 653.650146 M 0.881607 0 32 (yw) widthshow
258.073425 653.650146 M 0.881607 0 32 (ord indicates that the corresponding ar) widthshow
415.881561 653.650146 M 0.881607 0 32 (gument to the user stub speci-) widthshow
180 665.650146 M 1.033936 0 32 <de6573207468652074696d652d6f75742076> widthshow
255.351944 665.650146 M 1.033936 0 32 (alue to be used. The v) widthshow
348.031769 665.650146 M 1.033936 0 32 (alue is the maximum time in milliseconds that) widthshow
3 FF
180 677.650146 M 0.38829 0 32 (the user code will w) widthshow
261.993225 677.650146 M 0.38829 0 32 (ait for a reply from the serv) widthshow
374.143066 677.650146 M 0.38829 0 32 (er) widthshow
381.363373 677.650146 M 0.38829 0 32 (. If no ) widthshow
4 FF
409.188232 677.650146 M 0.38829 0 32 (waittime) widthshow
3 FF
443.638245 677.650146 M 0.38829 0 32 ( parameter is used, or if) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 25 25
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (21 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Function Pr) 72.0 56.824 T
(ototype Generation) 118.089 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 1.484329 0 32 (no w) widthshow
93.104385 115.666656 M 1.484329 0 32 (ait time statement has been seen, the RPC does not return until a message is re-) widthshow
3 FF
(cei) 72.0 127.667 T
(v) 83.41 127.667 T
(ed. This v) 88.26 127.667 T
(alue sets the ) 127.73 127.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(timeout) 179.11 127.667 T
3 FF
( ar) 209.11 127.667 T
(gument to the ) 219.2 127.667 T
1 FF
(mach_msg) 276.7 127.667 T
3 FF
( call.) 322.25 127.667 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(MsgOption P) 72.0 159.0 T
(arameter) 140.22 159.0 T
3 FF
72 175.666626 M 0.279953 0 32 (The) widthshow
4 FF
87.550003 175.666626 M 0.279953 0 32 ( msgoption) widthshow
3 FF
131.999954 175.666626 M 0.279953 0 32 ( k) widthshow
139.679962 175.666626 M 0.279953 0 32 (e) widthshow
143.970047 175.666626 M 0.279953 0 32 (yw) widthshow
156.090103 175.666626 M 0.279953 0 32 (ord indicates that the corresponding ar) widthshow
310.889984 175.666626 M 0.279953 0 32 (gument to the user stub speci-) widthshow
72 187.666611 M 1.204224 0 32 <de6573206d657373616765206f7074696f6e7320666f722074686520> widthshow
1 FF
191.621124 187.666611 M 1.204224 0 32 (mach_msg) widthshow
3 FF
237.171127 187.666611 M 1.204224 0 32 ( call. The v) widthshow
285.523926 187.666611 M 1.204224 0 32 (alue is OR\325ed into the ) widthshow
4 FF
381.815063 187.666611 M 1.204224 0 32 (option) widthshow
3 FF
407.375061 187.666611 M 1.204224 0 32 ( ar) widthshow
418.669373 187.666611 M 1.204224 0 32 (gu-) widthshow
(ment to the ) 72.0 199.667 T
1 FF
(mach_msg) 119.5 199.667 T
3 FF
( call.) 165.05 199.667 T
5 FF
(MsgSeqno P) 72.0 231.0 T
(arameter) 135.552 231.0 T
3 FF
72 247.66658 M 0.573044 0 32 (Messages recei) widthshow
133.133194 247.66658 M 0.573044 0 32 (v) widthshow
137.983276 247.66658 M 0.573044 0 32 (ed from a port contain a sequence number indicating the order of recep-) widthshow
72 259.666565 M 1.202805 0 32 (tion. This information can be of use to multi-threaded serv) widthshow
316.535339 259.666565 M 1.202805 0 32 (ers to order the acti) widthshow
398.296692 259.666565 M 1.202805 0 32 (vities of) widthshow
72 271.666565 M 0.401489 0 32 (multiple threads recei) widthshow
159.203125 271.666565 M 0.401489 0 32 (ving from the same port. This sequence number can be made a) widthshow
413.919647 271.666565 M 0.401489 0 32 (v) widthshow
418.6698 271.666565 M 0.401489 0 32 (ail-) widthshow
72 283.666534 M 1.169006 0 32 (able with the ) widthshow
4 FF
129.667023 283.666534 M 1.169006 0 32 (msgseqno) widthshow
3 FF
169.107025 283.666534 M 1.169006 0 32 ( k) widthshow
177.676086 283.666534 M 1.169006 0 32 (e) widthshow
181.966171 283.666534 M 1.169006 0 32 (yw) widthshow
194.086227 283.666534 M 1.169006 0 32 (ord. The associated serv) widthshow
294.083344 283.666534 M 1.169006 0 32 (er) widthshow
301.653442 283.666534 M 1.169006 0 32 (-side parameter will recei) widthshow
406.820618 283.666534 M 1.169006 0 32 (v) widthshow
411.670715 283.666534 M 1.169006 0 32 (e the) widthshow
(message\325) 72.0 295.667 T
(s sequence number) 108.66 295.667 T
(.) 184.201 295.667 T
5 FF
(Ser) 72.0 327.0 T
(v) 89.208 327.0 T
(erSecID and UserSecID P) 95.088 327.0 T
(arameters) 226.608 327.0 T
3 FF
72 343.666504 M 0.411377 0 32 (Messages recei) widthshow
132.971527 343.666504 M 0.411377 0 32 (v) widthshow
137.821609 343.666504 M 0.411377 0 32 (ed from a port contain the security ID of the message sender) widthshow
383.127075 343.666504 M 0.411377 0 32 (. This infor-) widthshow
72 355.666504 M 0.037491 0 32 (mation can be of use to tasks who wish to perform security mediation based on the identi-) widthshow
72 367.666473 M 1.118622 0 32 (ty of the message sender) widthshow
174.234802 367.666473 M 1.118622 0 32 (. This sender identity can be made a) widthshow
325.725281 367.666473 M 1.118622 0 32 (v) widthshow
330.475403 367.666473 M 1.118622 0 32 (ailable to the serv) widthshow
404.501373 367.666473 M 1.118622 0 32 (er side) widthshow
72 379.666443 M 0.180618 0 32 (\(that is, it is the identity of the sending client\) with the ) widthshow
4 FF
293.887421 379.666443 M 0.180618 0 32 (server) widthshow
318.777466 379.666443 M 0.180618 0 32 (secid) widthshow
3 FF
339.327484 379.666443 M 0.180618 0 32 ( k) widthshow
346.908142 379.666443 M 0.180618 0 32 (e) widthshow
351.198242 379.666443 M 0.180618 0 32 (yw) widthshow
363.318298 379.666443 M 0.180618 0 32 (ord; the associat-) widthshow
72 391.666443 M 0.796585 0 32 (ed serv) widthshow
101.246674 391.666443 M 0.796585 0 32 (er) widthshow
108.816788 391.666443 M 0.796585 0 32 (-side parameter will recei) widthshow
212.866699 391.666443 M 0.796585 0 32 (v) widthshow
217.716782 391.666443 M 0.796585 0 32 (e the message sender\325) widthshow
307.026855 391.666443 M 0.796585 0 32 (s security ID. The ) widthshow
4 FF
384.36322 391.666443 M 0.796585 0 32 (user) widthshow
401.483276 391.666443 M 0.796585 0 32 (secid) widthshow
3 FF
422.033264 391.666443 M 0.796585 0 32 ( is) widthshow
(similar for the client side, to recei) 72.0 403.666 T
(v) 206.45 403.666 T
(e the identity of the sending serv) 211.3 403.666 T
(er) 341.69 403.666 T
(.) 348.911 403.666 T
72 444.999725 360 3.024002 CR
432 446.51 M
72 446.51 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Function Pr) 72.0 441.333 T
(ototype Generation) 143.694 441.333 T
3 FF
72 465.690369 M 0.368607 0 32 (The prototype for a user stub or tar) widthshow
214.090363 465.690369 M 0.368607 0 32 (get serv) widthshow
245.689056 465.690369 M 0.368607 0 32 (er function is deri) widthshow
317.365021 465.690369 M 0.368607 0 32 (v) widthshow
322.215088 465.690369 M 0.368607 0 32 (ed from the MIG operation) widthshow
72 477.690369 M 0.302887 0 32 (de\336nition. In a general w) widthshow
173.371613 477.690369 M 0.302887 0 32 (ay) widthshow
182.161972 477.690369 M 0.302887 0 32 (, the ar) widthshow
210.07785 477.690369 M 0.302887 0 32 (gument list for the prototype is the same as that for the) widthshow
72 489.690369 M 0.279114 0 32 (MIG operation, with the MIG type names replaced by the ) widthshow
4 FF
307.801147 489.690369 M 0.279114 0 32 (UserT) widthshow
332.061584 489.690369 M 0.279114 0 32 (ype) widthshow
3 FF
345.941589 489.690369 M 0.279114 0 32 ( or ) widthshow
4 FF
359.829803 489.690369 M 0.279114 0 32 (T) widthshow
364.840088 489.690369 M 0.279114 0 32 (r) widthshow
368.5802 489.690369 M 0.279114 0 32 (ansT) widthshow
387.290588 489.690369 M 0.279114 0 32 (ype) widthshow
3 FF
401.170593 489.690369 M 0.279114 0 32 ( names,) widthshow
(when de\336ned.) 72.0 501.69 T
5 FF
(P) 72.0 533.024 T
(arameter Order) 79.212 533.024 T
3 FF
72 549.690308 M 0.761414 0 32 (A single parameter or possibly a set of parameters will be generated for each parameter) widthshow
3 FF
72 561.690308 M 0.278473 0 32 (listed in the operation de\336nition, in the order speci\336ed in the operation de\336nition, in both) widthshow
(the user and serv) 72.0 573.69 T
(er sides, with the follo) 139.33 573.69 T
(wing e) 228.24 573.69 T
(xceptions.) 255.03 573.69 T
7 (Times-Roman) 7 1 mymakefontmetric
7 FF
<a5> 72.0 591.69 T
3 FF
85.535995 591.690308 M 0.481033 0 32 (The presence of the ) widthshow
4 FF
168.540146 591.690308 M 0.481033 0 32 (r) widthshow
172.060349 591.690308 M 0.481033 0 32 (eplyport) widthshow
3 FF
205.39035 591.690308 M 0.481033 0 32 ( parameter causes an e) widthshow
297.124573 591.690308 M 0.481033 0 32 (xplicit parameter to appear in the) widthshow
3 FF
85.535995 603.690247 M 0.868103 0 32 (ar) widthshow
93.126099 603.690247 M 0.868103 0 32 (gument list for the user stub routine, as well as the corresponding ar) widthshow
374.71344 603.690247 M 0.868103 0 32 (gument to ap-) widthshow
3 FF
85.535995 615.690247 M 0.785217 0 32 (pear in the call to the tar) widthshow
187.26741 615.690247 M 0.785217 0 32 (get serv) widthshow
219.282715 615.690247 M 0.785217 0 32 (er routine, to pass an e) widthshow
313.038879 615.690247 M 0.785217 0 32 (xplicitly named reply port. If) widthshow
4 FF
85.535995 627.690247 M 1.22879 0 32 (r) widthshow
89.056198 627.690247 M 1.22879 0 32 (eplyport) widthshow
3 FF
122.3862 627.690247 M 1.22879 0 32 ( is not speci\336ed, a reply port pri) widthshow
257.947876 627.690247 M 1.22879 0 32 (v) widthshow
262.697998 627.690247 M 1.22879 0 32 (ate to the MIG interf) widthshow
350.273254 627.690247 M 1.22879 0 32 (ace routines will be) widthshow
85.535995 639.690186 M 0.420227 0 32 (used; it will not appear as a parameter in an) widthshow
263.298157 639.690186 M 0.420227 0 32 (y calls. The ) widthshow
4 FF
313.438843 639.690186 M 0.420227 0 32 (sr) widthshow
320.84903 639.690186 M 0.420227 0 32 (eplyport) widthshow
3 FF
354.179016 639.690186 M 0.420227 0 32 ( and ) widthshow
4 FF
374.459473 639.690186 M 0.420227 0 32 (ur) widthshow
382.979675 639.690186 M 0.420227 0 32 (eplyport) widthshow
3 FF
416.309692 639.690186 M 0.420227 0 32 ( pa-) widthshow
85.535995 651.690186 M 0.425827 0 32 (rameters can be used if only the user or serv) widthshow
265.558533 651.690186 M 0.425827 0 32 (er side parameter is needed. When a ) widthshow
4 FF
415.709351 651.690186 M 0.425827 0 32 (ur) widthshow
424.229553 651.690186 M 0.425827 0 32 (e-) widthshow
85.535995 663.690186 M 2.692795 0 32 (plyport) widthshow
3 FF
114.425995 663.690186 M 2.692795 0 32 ( parameter is present, the user stub routine will ha) widthshow
337.871277 663.690186 M 2.692795 0 32 (v) widthshow
342.721375 663.690186 M 2.692795 0 32 (e an e) widthshow
371.277039 663.690186 M 2.692795 0 32 (xtra parameter) widthshow
85.535995 675.690186 M 1.026382 0 32 (through which it can name an e) widthshow
217.074387 675.690186 M 1.026382 0 32 (xplicit reply port. Ho) widthshow
304.343689 675.690186 M 1.026382 0 32 (we) widthshow
315.753815 675.690186 M 1.026382 0 32 (v) widthshow
320.603882 675.690186 M 1.026382 0 32 (er) widthshow
327.974121 675.690186 M 1.026382 0 32 (, the tar) widthshow
360.117004 675.690186 M 1.026382 0 32 (get serv) widthshow
392.373474 675.690186 M 1.026382 0 32 (er routine) widthshow
85.535995 687.690186 M 0.418961 0 32 (will not ha) widthshow
128.954025 687.690186 M 0.418961 0 32 (v) widthshow
133.804108 687.690186 M 0.418961 0 32 (e this e) widthshow
162.822113 687.690186 M 0.418961 0 32 (xtra parameter; the reply port will be kno) widthshow
330.195007 687.690186 M 0.418961 0 32 (wn only to the MIG gen-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 26 26
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(22 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
193.535995 113.650665 M 1.097794 0 32 (erated serv) widthshow
238.073883 113.650665 M 1.097794 0 32 (er function. When a ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
324.385071 113.650665 M 1.097794 0 32 (sr) widthshow
331.795288 113.650665 M 1.097794 0 32 (eplyport) widthshow
3 FF
365.125275 113.650665 M 1.097794 0 32 ( parameter is named, the user stub routine) widthshow
193.535995 125.65065 M 1.167374 0 32 (will not ha) widthshow
238.450851 125.65065 M 1.167374 0 32 (v) widthshow
243.300934 125.65065 M 1.167374 0 32 (e an e) widthshow
268.805786 125.65065 M 1.167374 0 32 (xtra parameter through which an e) widthshow
411.952759 125.65065 M 1.167374 0 32 (xplicit reply port is named. In-) widthshow
193.535995 137.650635 M 0.981628 0 32 (stead, the MIG local reply port will be used. Ho) widthshow
393.480804 137.650635 M 0.981628 0 32 (we) widthshow
404.89093 137.650635 M 0.981628 0 32 (v) widthshow
409.741028 137.650635 M 0.981628 0 32 (er) widthshow
417.111267 137.650635 M 0.981628 0 32 (, the tar) widthshow
449.164612 137.650635 M 0.981628 0 32 (get serv) widthshow
481.376343 137.650635 M 0.981628 0 32 (er routine will) widthshow
193.535995 149.65062 M 0.601578 0 32 (be passed this reply port as an e) widthshow
324.517151 149.65062 M 0.601578 0 32 (xplicit ar) widthshow
360.768799 149.65062 M 0.601578 0 32 (gument \(instead of its being kno) widthshow
492.686829 149.65062 M 0.601578 0 32 (wn only in-) widthshow
(side the MIG serv) 193.536 161.651 T
(er stub\).) 265.316 161.651 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 176.651 T
3 FF
(The ) 193.536 176.651 T
4 FF
(waittime) 211.586 176.651 T
3 FF
(, ) 246.036 176.651 T
4 FF
(msgoption ) 251.036 176.651 T
3 FF
(and) 295.206 176.651 T
4 FF
( user) 309.646 176.651 T
(secid ) 329.266 176.651 T
3 FF
(parameters appear only on the user side.) 352.316 176.651 T
5 FF
<a5> 180.0 191.651 T
3 FF
(The ) 193.536 191.651 T
4 FF
(msgseqno) 211.586 191.651 T
3 FF
( and ) 251.026 191.651 T
4 FF
(server) 270.466 191.651 T
(secid ) 295.356 191.651 T
3 FF
(parameters appear only on the serv) 318.406 191.651 T
(er side.) 457.936 191.651 T
3 FF
180 215.650558 M 0.233536 0 32 (The ) widthshow
4 FF
198.283539 215.650558 M 0.233536 0 32 (r) widthshow
201.803741 215.650558 M 0.233536 0 32 (equestport) widthshow
3 FF
244.023743 215.650558 M 0.233536 0 32 ( parameter) widthshow
286.337524 215.650558 M 0.233536 0 32 (, whether implicitly or e) widthshow
383.50174 215.650558 M 0.233536 0 32 (xplicitly speci\336ed, is al) widthshow
476.882385 215.650558 M 0.233536 0 32 (w) widthshow
484.002441 215.650558 M 0.233536 0 32 (ays a parame-) widthshow
180 227.650543 M 0.576096 0 32 (ter to both the user and serv) widthshow
294.396667 227.650543 M 0.576096 0 32 (er side routines. The ) widthshow
4 FF
380.851074 227.650543 M 0.576096 0 32 (r) widthshow
384.371277 227.650543 M 0.576096 0 32 (equestport) widthshow
3 FF
426.591248 227.650543 M 0.576096 0 32 ( speci\336cation merely allo) widthshow
528.889709 227.650543 M 0.576096 0 32 (ws) widthshow
3 FF
180 239.650528 M 0.703049 0 32 (the speci\336cation of which parameter in the list is the request port; the def) widthshow
480.939697 239.650528 M 0.703049 0 32 (ault is the \336rst) widthshow
(parameter) 180.0 251.651 T
(.) 219.43 251.651 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Data P) 180.0 282.984 T
(arameter T) 214.872 282.984 T
(ype) 272.293 282.984 T
3 FF
180 299.650513 M 0.919952 0 32 (The data parameter generated by a gi) widthshow
333.549866 299.650513 M 0.919952 0 32 (v) widthshow
338.399963 299.650513 M 0.919952 0 32 (en MIG ar) widthshow
381.709961 299.650513 M 0.919952 0 32 (gument de\336nition has a C type chosen) widthshow
(from the MIG declared ) 180.0 311.65 T
4 FF
(ctype) 274.97 311.65 T
3 FF
( as follo) 296.07 311.65 T
(ws:) 328.04 311.65 T
5 FF
<a5> 180.0 329.65 T
3 FF
193.535995 329.650452 M 0.331528 0 32 (A ) widthshow
4 FF
203.587524 329.650452 M 0.331528 0 32 (type-name) widthshow
3 FF
245.237534 329.650452 M 0.331528 0 32 ( that is a b) widthshow
287.473755 329.650452 M 0.331528 0 32 (uilt-in ) widthshow
4 FF
314.75528 329.650452 M 0.331528 0 32 (IPCT) widthshow
335.685669 329.650452 M 0.331528 0 32 (ype) widthshow
3 FF
349.565674 329.650452 M 0.331528 0 32 ( has ) widthshow
4 FF
368.558746 329.650452 M 0.331528 0 32 (type-name) widthshow
3 FF
410.20874 329.650452 M 0.331528 0 32 ( as its C data parameter type for) widthshow
4 FF
(in) 193.536 341.65 T
3 FF
( parameters, and ) 201.316 341.65 T
4 FF
(type-name) 269.626 341.65 T
3 FF
(* for ) 311.276 341.65 T
4 FF
(out) 332.936 341.65 T
3 FF
( or ) 345.716 341.65 T
4 FF
(inout) 359.046 341.65 T
3 FF
( parameters.) 379.606 341.65 T
5 FF
<a5> 180.0 356.65 T
3 FF
193.535995 356.650452 M 0.46669 0 32 (A ) widthshow
4 FF
203.722687 356.650452 M 0.46669 0 32 (type-name) widthshow
3 FF
245.372696 356.650452 M 0.46669 0 32 ( that is an array type or a C string has ) widthshow
4 FF
402.4263 356.650452 M 0.46669 0 32 (type-name) widthshow
3 FF
444.076294 356.650452 M 0.46669 0 32 ( as its C data parameter) widthshow
193.535995 368.650421 M 0.318176 0 32 (type, re) widthshow
223.69426 368.650421 M 0.318176 0 32 (g) widthshow
228.644287 368.650421 M 0.318176 0 32 (ardless of the direction of the parameter) widthshow
389.403687 368.650421 M 0.318176 0 32 (. This type is assumed to con) widthshow
506.74295 368.650421 M 0.318176 0 32 (v) widthshow
511.593018 368.650421 M 0.318176 0 32 (ert to a) widthshow
3 FF
(C pointer type) 193.536 380.65 T
5 FF
<a5> 180.0 395.65 T
3 FF
193.535995 395.650391 M 0.408966 0 32 (A ) widthshow
4 FF
203.664963 395.650391 M 0.408966 0 32 (type-name) widthshow
3 FF
245.314972 395.650391 M 0.408966 0 32 ( that is a structure type has ) widthshow
4 FF
357.327759 395.650391 M 0.408966 0 32 (type-name) widthshow
3 FF
398.977753 395.650391 M 0.408966 0 32 ( as its C data parameter type for ) widthshow
4 FF
532.219482 395.650391 M 0.408966 0 32 (in) widthshow
3 FF
(parameters, and ) 193.536 407.65 T
4 FF
(type-name) 259.346 407.65 T
3 FF
(* for ) 300.996 407.65 T
4 FF
(out) 322.656 407.65 T
3 FF
( or ) 335.436 407.65 T
4 FF
(inout) 348.766 407.65 T
3 FF
( parameters.) 369.326 407.65 T
5 FF
<a5> 180.0 422.65 T
3 FF
193.535995 422.65036 M 0.270233 0 32 (A ) widthshow
4 FF
203.52623 422.65036 M 0.270233 0 32 (type-name) widthshow
3 FF
245.176239 422.65036 M 0.270233 0 32 ( that is a \322pointer\323 type has ) widthshow
4 FF
358.437866 422.65036 M 0.270233 0 32 (type-name) widthshow
3 FF
400.087891 422.65036 M 0.270233 0 32 ( as its C data parameter type for ) widthshow
4 FF
532.219788 422.65036 M 0.270233 0 32 (in) widthshow
3 FF
193.535995 434.65033 M 0.27034 0 32 (parameters or ) widthshow
4 FF
251.276688 434.65033 M 0.27034 0 32 (o) widthshow
256.176758 434.65033 M 0.27034 0 32 (verwrite) widthshow
3 FF
289.506744 434.65033 M 0.27034 0 32 ( parameters \(re) widthshow
349.867523 434.65033 M 0.27034 0 32 (g) widthshow
354.817566 434.65033 M 0.27034 0 32 (ardless of direction\), and ) widthshow
4 FF
457.818909 434.65033 M 0.27034 0 32 (type-name) widthshow
3 FF
499.468933 434.65033 M 0.27034 0 32 (* for non-) widthshow
4 FF
(o) 193.536 446.65 T
(verwrite) 198.436 446.65 T
3 FF
( ) 231.766 446.65 T
4 FF
(out) 234.266 446.65 T
3 FF
( or ) 247.046 446.65 T
4 FF
(inout) 260.376 446.65 T
3 FF
( parameters.) 280.936 446.65 T
6 FF
(Pseudo P) 180.0 477.984 T
(arameters) 226.884 477.984 T
3 FF
180 494.65033 M 1.18782 0 32 (A MIG parameter can e) widthshow
279.561401 494.65033 M 1.18782 0 32 (xpand into up to four actual parameters. The \336rst parameter in) widthshow
(the prototype is the data parameter deri) 180.0 506.65 T
(v) 336.38 506.65 T
(ed from the MIG type, as e) 341.23 506.65 T
(xplained abo) 449.11 506.65 T
(v) 500.34 506.65 T
(e.) 505.191 506.65 T
180 530.650269 M 0.383987 0 32 (The ne) widthshow
207.724075 530.650269 M 0.383987 0 32 (xt parameter is added for polymorphic types, to supply the actual IPC type at run-) widthshow
180 542.650269 M 1.189957 0 32 (time. Whether such a parameter is added to the user or to the serv) widthshow
457.479553 542.650269 M 1.189957 0 32 (er side, or both, de-) widthshow
(pends on the nature and direction of the polymorphic parameter) 180.0 554.65 T
(.) 434.12 554.65 T
3 FF
180 578.650269 M 0.709946 0 32 (A parameter which is polymorphic to both the sender and recei) widthshow
439.019623 578.650269 M 0.709946 0 32 (v) widthshow
443.86969 578.650269 M 0.709946 0 32 (er of the parameter \(for) widthshow
180 590.650208 M 2.003632 0 32 (e) widthshow
184.290085 590.650208 M 2.003632 0 32 (xample, MA) widthshow
236.443939 590.650208 M 2.003632 0 32 (CH_MSG_TYPE_POL) widthshow
329.89447 590.650208 M 2.003632 0 32 (YMORPHIC itself\), will add a parameter of type) widthshow
4 FF
180 602.650208 M 0.813293 0 32 (mac) widthshow
196.510086 602.650208 M 0.813293 0 32 (h_msg_type_name_t) widthshow
3 FF
278.720093 602.650208 M 0.813293 0 32 ( for ) widthshow
4 FF
297.006683 602.650208 M 0.813293 0 32 (in) widthshow
3 FF
304.786682 602.650208 M 0.813293 0 32 ( parameters and of type ) widthshow
4 FF
405.213165 602.650208 M 0.813293 0 32 (mac) widthshow
421.723267 602.650208 M 0.813293 0 32 (h_msg_type_name_t) widthshow
3 FF
503.933258 602.650208 M 0.813293 0 32 (* for ) widthshow
4 FF
527.219849 602.650208 M 0.813293 0 32 (out) widthshow
3 FF
(or ) 180.0 614.65 T
4 FF
(inout) 190.83 614.65 T
3 FF
( parameters to both the user and serv) 211.39 614.65 T
(er sides.) 358.15 614.65 T
3 FF
180 638.650146 M 5.725403 0 32 (A parameter which is polymorphic only on the sender\325) widthshow
444.103546 638.650146 M 5.725403 0 32 (s side \(for e) widthshow
508.059845 638.650146 M 5.725403 0 32 (xample,) widthshow
180 650.650146 M 1.304321 0 32 (MA) widthshow
195.71022 650.650146 M 1.304321 0 32 (CH_MSG_TYPE_POR) widthshow
290.120544 650.650146 M 1.304321 0 32 (T_S) widthshow
306.790527 650.650146 M 1.304321 0 32 (END\), will add the e) widthshow
394.897919 650.650146 M 1.304321 0 32 (xtra parameter only to the sender\325) widthshow
536.109863 650.650146 M 1.304321 0 32 (s) widthshow
180 662.650146 M 0.74913 0 32 (side. That is, for ) widthshow
4 FF
250.766525 662.650146 M 0.74913 0 32 (in) widthshow
3 FF
258.546509 662.650146 M 0.74913 0 32 ( parameters, an e) widthshow
328.394012 662.650146 M 0.74913 0 32 (xtra parameter of type ) widthshow
4 FF
422.470551 662.650146 M 0.74913 0 32 (mac) widthshow
438.980652 662.650146 M 0.74913 0 32 (h_msg_type_name_t) widthshow
3 FF
521.190674 662.650146 M 0.74913 0 32 ( will) widthshow
3 FF
180 674.650146 M 0.462189 0 32 (be added to the user side to specify the outgoing type, b) widthshow
407.634216 674.650146 M 0.462189 0 32 (ut not the serv) widthshow
465.810852 674.650146 M 0.462189 0 32 (er side. F) widthshow
503.52533 674.650146 M 0.462189 0 32 (or an ) widthshow
4 FF
527.219727 674.650146 M 0.462189 0 32 (out) widthshow
3 FF
180 686.650146 M 0.043289 0 32 (parameter) widthshow
219.580231 686.650146 M 0.043289 0 32 (, an e) widthshow
240.896896 686.650146 M 0.043289 0 32 (xtra parameter of type ) widthshow
4 FF
332.150085 686.650146 M 0.043289 0 32 (mac) widthshow
348.660156 686.650146 M 0.043289 0 32 (h_msg_type_name_t) widthshow
3 FF
430.870178 686.650146 M 0.043289 0 32 (* will be added to the serv-) widthshow
3 FF
180 698.650085 M 0.004959 0 32 (er side to allo) widthshow
233.925018 698.650085 M 0.004959 0 32 (w the return of the outgoing type, b) widthshow
375.409851 698.650085 M 0.004959 0 32 (ut not the user side. F) widthshow
461.394714 698.650085 M 0.004959 0 32 (or an ) widthshow
4 FF
484.174652 698.650085 M 0.004959 0 32 (inout) widthshow
3 FF
504.73465 698.650085 M 0.004959 0 32 ( parame-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 27 27
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (23 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Special En) 72.0 56.824 T
(vir) 112.402 56.824 T
(onment Subsystems) 123.238 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.670654 0 32 (ter) widthshow
82.150223 115.666656 M 0.670654 0 32 (, an e) widthshow
104.721619 115.666656 M 0.670654 0 32 (xtra parameter of type ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
198.484253 115.666656 M 0.670654 0 32 (mac) widthshow
214.994339 115.666656 M 0.670654 0 32 (h_msg_type_name_t) widthshow
3 FF
297.204346 115.666656 M 0.670654 0 32 ( will be added to the user side to) widthshow
3 FF
72 127.666641 M 0.689957 0 32 (specify the outgoing type, and an e) widthshow
215.689835 127.666641 M 0.689957 0 32 (xtra parameter of type ) widthshow
4 FF
309.529663 127.666641 M 0.689957 0 32 (mac) widthshow
326.039764 127.666641 M 0.689957 0 32 (h_msg_type_name_t) widthshow
3 FF
408.249756 127.666641 M 0.689957 0 32 (* will) widthshow
3 FF
(be added to the serv) 72.0 139.667 T
(er side to allo) 151.83 139.667 T
(w the return of the outgoing \(return\) type.) 205.74 139.667 T
72 163.666611 M 0.445816 0 32 (If the MIG type is or deri) widthshow
175.515045 163.666611 M 0.445816 0 32 (v) widthshow
180.365128 163.666611 M 0.445816 0 32 (es in an) widthshow
211.656845 163.666611 M 0.445816 0 32 (y w) widthshow
226.722717 163.666611 M 0.445816 0 32 (ay from a v) widthshow
273.63031 163.666611 M 0.445816 0 32 (ariable sized \(or unbounded\) array \(b) widthshow
424.219543 163.666611 M 0.445816 0 32 (ut) widthshow
72 175.666595 M 0.761215 0 32 (not a C string\), an e) widthshow
154.536163 175.666595 M 0.761215 0 32 (xtra parameter is added to contain the actual array size \(the number) widthshow
3 FF
72 187.66658 M 0.17128 0 32 (of elements\) unless the ) widthshow
4 FF
167.115128 187.66658 M 0.17128 0 32 (samecount) widthshow
3 FF
209.885132 187.66658 M 0.17128 0 32 ( \337ag is speci\336ed \(in which case the array uses the same) widthshow
72 199.666565 M 0.422287 0 32 (count parameter as used by the pre) widthshow
213.133881 199.666565 M 0.422287 0 32 (vious parameter\). This parameter is of type ) widthshow
4 FF
391.049927 199.666565 M 0.422287 0 32 (mac) widthshow
407.559998 199.666565 M 0.422287 0 32 (h_ms-) widthshow
72 211.66655 M 0.604965 0 32 (g_type_number_t) widthshow
3 FF
141.990005 211.66655 M 0.604965 0 32 ( for ) widthshow
4 FF
159.85994 211.66655 M 0.604965 0 32 (in) widthshow
3 FF
167.639938 211.66655 M 0.604965 0 32 ( parameters, and ) widthshow
4 FF
237.764847 211.66655 M 0.604965 0 32 (mac) widthshow
254.274933 211.66655 M 0.604965 0 32 (h_msg_type_number_t) widthshow
3 FF
345.374939 211.66655 M 0.604965 0 32 (* for ) widthshow
4 FF
368.244873 211.66655 M 0.604965 0 32 (out) widthshow
3 FF
381.024872 211.66655 M 0.604965 0 32 ( or ) widthshow
4 FF
395.564819 211.66655 M 0.604965 0 32 (inout) widthshow
3 FF
416.124817 211.66655 M 0.604965 0 32 ( pa-) widthshow
72 223.666534 M 0.185699 0 32 (rameters. This e) widthshow
136.37149 223.666534 M 0.185699 0 32 (xtra parameter is added to both the user and serv) widthshow
332.012878 223.666534 M 0.185699 0 32 (er sides. \(The ) widthshow
4 FF
389.220001 223.666534 M 0.185699 0 32 (countinout) widthshow
3 FF
72 235.666519 M 0.391922 0 32 (k) widthshow
76.900055 235.666519 M 0.391922 0 32 (e) widthshow
81.19014 235.666519 M 0.391922 0 32 (yw) widthshow
93.310196 235.666519 M 0.391922 0 32 (ord does not af) widthshow
153.946106 235.666519 M 0.391922 0 32 (fect this; it only af) widthshow
228.593933 235.666519 M 0.391922 0 32 (fects whether the user side supplied count v) widthshow
405.777527 235.666519 M 0.391922 0 32 (alue is) widthshow
(transmitted to the serv) 72.0 247.667 T
(er for unbounded ) 161.01 247.667 T
4 FF
(out) 232.38 247.667 T
3 FF
( parameters.\)) 245.16 247.667 T
3 FF
72 271.666504 M 1.001617 0 32 (If the MIG type speci\336es dynamic de-allocation \() widthshow
4 FF
276.471344 271.666504 M 1.001617 0 32 (dealloc) widthshow
3 FF
305.911346 271.666504 M 1.001617 0 32 ( []\), an additional parameter is) widthshow
72 283.666473 M 0.390656 0 32 (added to the sending side to permit the speci\336cation of dynamic de-allocation. F) widthshow
397.337952 283.666473 M 0.390656 0 32 (or ) widthshow
4 FF
408.558624 283.666473 M 0.390656 0 32 (in) widthshow
3 FF
416.338623 283.666473 M 0.390656 0 32 ( pa-) widthshow
72 295.666443 M 0.829956 0 32 (rameters, an e) widthshow
129.320007 295.666443 M 0.829956 0 32 (xtra parameter of type ) widthshow
4 FF
223.719849 295.666443 M 0.829956 0 32 (boolean_t) widthshow
3 FF
263.719849 295.666443 M 0.829956 0 32 ( will be added to the user side to specify) widthshow
72 307.666443 M 0.297928 0 32 (the de-allocation \337ag, b) widthshow
167.123901 307.666443 M 0.297928 0 32 (ut not the serv) widthshow
224.80777 307.666443 M 0.297928 0 32 (er side. F) widthshow
262.193726 307.666443 M 0.297928 0 32 (or an ) widthshow
4 FF
285.55957 307.666443 M 0.297928 0 32 (out) widthshow
3 FF
298.339569 307.666443 M 0.297928 0 32 ( parameter) widthshow
340.717712 307.666443 M 0.297928 0 32 (, an e) widthshow
362.543671 307.666443 M 0.297928 0 32 (xtra parameter of) widthshow
72 319.666443 M 0.826645 0 32 (type ) widthshow
4 FF
92.546646 319.666443 M 0.826645 0 32 (boolean_t) widthshow
3 FF
132.546646 319.666443 M 0.826645 0 32 (* will be added to the serv) widthshow
242.896606 319.666443 M 0.826645 0 32 (er side to allo) widthshow
299.286682 319.666443 M 0.826645 0 32 (w the return of the de-allocation) widthshow
3 FF
72 331.666412 M 0.767929 0 32 <df61672c2062> widthshow
97.568039 331.666412 M 0.767929 0 32 (ut not the user side. F) widthshow
187.367767 331.666412 M 0.767929 0 32 (or an ) widthshow
4 FF
211.67363 331.666412 M 0.767929 0 32 (inout) widthshow
3 FF
232.233627 331.666412 M 0.767929 0 32 ( parameter) widthshow
275.081787 331.666412 M 0.767929 0 32 (, an e) widthshow
297.847717 331.666412 M 0.767929 0 32 (xtra parameter of type ) widthshow
4 FF
391.999451 331.666412 M 0.767929 0 32 (boolean_t) widthshow
3 FF
72 343.666382 M 0.483093 0 32 (will be added to the user side to specify the de-allocation \337ag, and an e) widthshow
362.173401 343.666382 M 0.483093 0 32 (xtra parameter of) widthshow
72 355.666382 M 0.826645 0 32 (type ) widthshow
4 FF
92.546646 355.666382 M 0.826645 0 32 (boolean_t) widthshow
3 FF
132.546646 355.666382 M 0.826645 0 32 (* will be added to the serv) widthshow
242.896606 355.666382 M 0.826645 0 32 (er side to allo) widthshow
299.286682 355.666382 M 0.826645 0 32 (w the return of the de-allocation) widthshow
3 FF
<df61672e> 72.0 367.666 T
72 408.999664 360 3.024002 CR
432 410.51 M
72 410.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Special En) 72.0 405.333 T
(vir) 134.846 405.333 T
(onment Subsystems) 151.702 405.333 T
3 FF
72 429.690308 M 1.629181 0 32 (MIG generates alternate code for the user or serv) widthshow
280.923584 429.690308 M 1.629181 0 32 (er stubs for v) widthshow
338.05127 429.690308 M 1.629181 0 32 (arious special en) widthshow
407.559845 429.690308 M 1.629181 0 32 (viron-) widthshow
72 441.690308 M 0.386841 0 32 (ments. MIG generates this code when a subsystem modi\336er is speci\336ed in the subsystem) widthshow
(speci\336cation:) 72.0 453.69 T
(subsystem ) 108.0 477.69 T
4 FF
(subsystemmod) 152.17 477.69 T
3 FF
( ) 209.94 477.69 T
4 FF
(sys) 212.44 477.69 T
3 FF
( ) 224.66 477.69 T
4 FF
(messa) 227.16 477.69 T
(g) 251.5 477.69 T
(e-base-id;) 256.4 477.69 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(K) 72.0 509.024 T
(er) 81.036 509.024 T
(nelSer) 91.512 509.024 T
(v) 124.056 509.024 T
(er Subsystem) 129.936 509.024 T
3 FF
72 525.690247 M 0.649948 0 32 (The ) widthshow
4 FF
90.699951 525.690247 M 0.649948 0 32 (K) widthshow
97.020142 525.690247 M 0.649948 0 32 (ernelServer) widthshow
3 FF
143.670151 525.690247 M 0.649948 0 32 ( en) widthshow
155.860321 525.690247 M 0.649948 0 32 (vironment is that in which a routine which is to be the tar) widthshow
392.349792 525.690247 M 0.649948 0 32 (get serv) widthshow
424.229858 525.690247 M 0.649948 0 32 (er) widthshow
72 537.690247 M 0.429947 0 32 (routine associated with a MIG de\336nition is to reside in the Mach k) widthshow
342.589417 537.690247 M 0.429947 0 32 (ernel. The tar) widthshow
396.859436 537.690247 M 0.429947 0 32 (get serv-) widthshow
(er routines ha) 72.0 549.69 T
(v) 126.23 549.69 T
(e the same prototypes as the) 131.08 549.69 T
(y w) 243.41 549.69 T
(ould otherwise.) 258.03 549.69 T
72 573.690186 M 0.152237 0 32 (A ) widthshow
4 FF
81.872238 573.690186 M 0.152237 0 32 (K) widthshow
88.192429 573.690186 M 0.152237 0 32 (ernelServer) widthshow
3 FF
134.842438 573.690186 M 0.152237 0 32 ( subsystem modi\336es the beha) widthshow
252.471497 573.690186 M 0.152237 0 32 (vior of MIG type translation in that the serv-) widthshow
72 585.690186 M 0.432739 0 32 (er stub e) widthshow
106.595566 585.690186 M 0.432739 0 32 (xpects the types to ha) widthshow
194.226639 585.690186 M 0.432739 0 32 (v) widthshow
199.076721 585.690186 M 0.432739 0 32 (e been translated on the w) widthshow
305.280487 585.690186 M 0.432739 0 32 (ay to it, b) widthshow
344.158813 585.690186 M 0.432739 0 32 (ut it assumes the type) widthshow
3 FF
72 597.690186 M 0.52536 0 32 (associated with ) widthshow
4 FF
136.930725 597.690186 M 0.52536 0 32 (r) widthshow
140.450928 597.690186 M 0.52536 0 32 (eceiving-IPCT) widthshow
198.031342 597.690186 M 0.52536 0 32 (ype) widthshow
3 FF
211.911346 597.690186 M 0.52536 0 32 (, instead of e) widthshow
264.4375 597.690186 M 0.52536 0 32 (xpecting the type to be changed magical-) widthshow
(ly) 72.0 609.69 T
(.) 79.13 609.69 T
72 633.690186 M 0.766556 0 32 (V) widthshow
78.110611 633.690186 M 0.766556 0 32 (arious name con\337icts can arise when the user and serv) widthshow
301.749725 633.690186 M 0.766556 0 32 (er code e) widthshow
339.222931 633.690186 M 0.766556 0 32 (xist in the same space.) widthshow
72 645.690125 M 0.823212 0 32 (One method to resolv) widthshow
160.699722 645.690125 M 0.823212 0 32 (e this con\337ict a) widthshow
223.799469 645.690125 M 0.823212 0 32 (v) widthshow
228.549606 645.690125 M 0.823212 0 32 (ailable for ) widthshow
4 FF
273.516052 645.690125 M 0.823212 0 32 (K) widthshow
279.836243 645.690125 M 0.823212 0 32 (ernelServer) widthshow
3 FF
326.486237 645.690125 M 0.823212 0 32 ( subsystems is to rede\336ne) widthshow
72 657.690125 M 1.217453 0 32 (the names of the user stub routines. This is done with an internal header \336le. This \336le) widthshow
(consists of one line for each operation ) 72.0 669.69 T
4 FF
(foo) 226.69 669.69 T
3 FF
(, of the form:) 239.47 669.69 T
1 FF
(#de\336ne) 108.0 693.69 T
3 FF
( ) 138.56 693.69 T
4 FF
(foo foo) 141.06 693.69 T
3 FF
(_e) 169.12 693.69 T
(xternal) 178.41 693.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 28 28
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(24 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.60939 0 32 (This \336le can be ) widthshow
0 FF
246.317566 113.650665 M 0.60939 0 32 (#included) widthshow
3 FF
287.997559 113.650665 M 0.60939 0 32 ( into a \336le using the user interf) widthshow
414.653351 113.650665 M 0.60939 0 32 (ace, to force it to call the MIG) widthshow
3 FF
180 125.65065 M 1.360657 0 32 (user stubs instead of the tar) widthshow
295.773376 125.65065 M 1.360657 0 32 (get serv) widthshow
328.364136 125.65065 M 1.360657 0 32 (er routines, if the) widthshow
400.616211 125.65065 M 1.360657 0 32 (y w) widthshow
416.596924 125.65065 M 1.360657 0 32 (ould otherwise ha) widthshow
490.218323 125.65065 M 1.360657 0 32 (v) widthshow
495.06842 125.65065 M 1.360657 0 32 (e the same) widthshow
3 FF
180 137.650635 M 0.207932 0 32 (name. When an internal header \336le is generated \(via the -) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
411.179352 137.650635 M 0.207932 0 32 (iheader) widthshow
3 FF
441.72937 137.650635 M 0.207932 0 32 ( MIG option\), this \336le is) widthshow
(automatically ) 180.0 149.651 T
0 FF
(#include) 236.94 149.651 T
3 FF
(d in the user stub \336le.) 273.06 149.651 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(K) 180.0 180.984 T
(er) 189.036 180.984 T
(nelUser Subsystem) 199.512 180.984 T
3 FF
180 197.650604 M 0.421829 0 32 (This is the en) widthshow
234.475708 197.650604 M 0.421829 0 32 (vironment in which a routine in the Mach k) widthshow
411.620422 197.650604 M 0.421829 0 32 (ernel wishes to call what w) widthshow
522.219604 197.650604 M 0.421829 0 32 (ould) widthshow
180 209.650589 M 0.909302 0 32 (be the user stub) widthshow
244.81813 209.650589 M 0.909302 0 32 (. The user stub for this en) widthshow
351.804169 209.650589 M 0.909302 0 32 (vironment has the same prototype as it w) widthshow
522.21936 209.650589 M 0.909302 0 32 (ould) widthshow
180 221.650574 M 0.77182 0 32 (otherwise. It dif) widthshow
244.893784 221.650574 M 0.77182 0 32 (fers only in that it uses a Mach k) widthshow
381.508423 221.650574 M 0.77182 0 32 (ernel routine to perform the Mach IPC) widthshow
(operation; an internal k) 180.0 233.651 T
(ernel port is used as the reply port.) 272.94 233.651 T
180 274.983856 360 3.024002 CR
0.25 SL
2 SC
540 276.5 M
180 276.5 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Using the Interface Modules) 180.0 271.317 T
3 FF
180 295.6745 M 0.353012 0 32 (In the follo) widthshow
224.896164 295.6745 M 0.353012 0 32 (wing discussion let) widthshow
4 FF
302.272186 295.6745 M 0.353012 0 32 ( r) widthshow
308.865295 295.6745 M 0.353012 0 32 (andom) widthshow
3 FF
336.085266 295.6745 M 0.353012 0 32 ( be the declared subsystem name in the de\336nitions) widthshow
<de6c652e20> 180.0 307.674 T
180 331.6745 M 0.718155 0 32 (T) widthshow
185.31044 331.6745 M 0.718155 0 32 (o use the calls e) widthshow
251.353149 331.6745 M 0.718155 0 32 (xported by the user interf) widthshow
355.21582 331.6745 M 0.718155 0 32 (ace module, a user must \336rst \336nd the port on) widthshow
180 343.674469 M 0.766602 0 32 (which to call the serv) widthshow
268.456482 343.674469 M 0.766602 0 32 (er) widthshow
275.676819 343.674469 M 0.766602 0 32 (. The service ports for basic system serv) widthshow
441.413116 343.674469 M 0.766602 0 32 (ers are inherited when a) widthshow
180 355.674438 M 0.742188 0 32 (task is created and can be found in v) widthshow
331.207642 355.674438 M 0.742188 0 32 (arious globals. One of these ports is the port to the) widthshow
3 FF
180 367.674438 M 1.094238 0 32 (Name Serv) widthshow
225.654327 367.674438 M 1.094238 0 32 (er which can be used to check-in or look-up user supplied ports. The ) widthshow
4 FF
516.489441 367.674438 M 1.094238 0 32 (r) widthshow
520.009644 367.674438 M 1.094238 0 32 (eply-) widthshow
180 379.674438 M 0.613098 0 32 (port) widthshow
3 FF
196.669998 379.674438 M 0.613098 0 32 ( for MIG is a per) widthshow
267.015625 379.674438 M 0.613098 0 32 (-thread global that is initialized when the thread is created. The) widthshow
4 FF
525.596619 379.674438 M 0.613098 0 32 ( r) widthshow
532.229919 379.674438 M 0.613098 0 32 (e-) widthshow
(plyport) 180.0 391.674 T
3 FF
( can be speci\336ed as a parameter to an operation if necessary) 208.89 391.674 T
(. ) 447.33 391.674 T
180 415.674377 M 0.874939 0 32 (When making speci\336c interf) widthshow
296.114868 415.674377 M 0.874939 0 32 (ace calls the user should be a) widthshow
417.294617 415.674377 M 0.874939 0 32 (w) widthshow
424.414673 415.674377 M 0.874939 0 32 (are if an) widthshow
458.774658 415.674377 M 0.874939 0 32 (y out-of-line data is) widthshow
180 427.674377 M 0.509369 0 32 (being returned to it. If so, it may wish to de-allocate the space with a call to ) widthshow
0 FF
492.779297 427.674377 M 0.509369 0 32 (vm_deallo-) widthshow
(cate) 180.0 439.674 T
3 FF
(.) 197.21 439.674 T
180 463.674347 M 0.488541 0 32 (The most common system errors that a user of MIG interf) widthshow
416.415466 463.674347 M 0.488541 0 32 (ace may encounter result from) widthshow
3 FF
(an in) 180.0 475.674 T
(v) 199.32 475.674 T
(alid port right. The lik) 204.07 475.674 T
(ely possibilities are:) 292.58 475.674 T
7 (Times-Roman) 7 1 mymakefontmetric
7 FF
<a5> 180.0 493.674 T
3 FF
193.535995 493.674316 M 0.493927 0 32 (The ) widthshow
4 FF
212.079926 493.674316 M 0.493927 0 32 (r) widthshow
215.600128 493.674316 M 0.493927 0 32 (equestport) widthshow
3 FF
257.820129 493.674316 M 0.493927 0 32 ( parameter is an in) widthshow
333.266052 493.674316 M 0.493927 0 32 (v) widthshow
338.016205 493.674316 M 0.493927 0 32 (alid port or lacks send rights \(MA) widthshow
476.119995 493.674316 M 0.493927 0 32 (CH_SEND_IN-) widthshow
3 FF
(V) 193.536 505.674 T
(ALID_DEST\).) 199.407 505.674 T
7 FF
<a5> 180.0 520.674 T
3 FF
193.535995 520.674316 M 1.161453 0 32 (The) widthshow
4 FF
209.085999 520.674316 M 1.161453 0 32 ( r) widthshow
216.267654 520.674316 M 1.161453 0 32 (eplyport) widthshow
3 FF
249.597656 520.674316 M 1.161453 0 32 ( is in) widthshow
270.970764 520.674316 M 1.161453 0 32 (v) widthshow
275.720917 520.674316 M 1.161453 0 32 (alid or lacks recei) widthshow
349.765442 520.674316 M 1.161453 0 32 (v) widthshow
354.615509 520.674316 M 1.161453 0 32 (e rights \(MA) widthshow
408.198639 520.674316 M 1.161453 0 32 (CH_SEND_INV) widthshow
474.619385 520.674316 M 1.161453 0 32 (ALID_REPL) widthshow
526.949951 520.674316 M 1.161453 0 32 (Y\).) widthshow
193.535995 532.674255 M 0.430222 0 32 (If the user is supplying this port as parameter it may be at f) widthshow
434.828949 532.674255 M 0.430222 0 32 (ault. If the system pro) widthshow
523.889893 532.674255 M 0.430222 0 32 (vid-) widthshow
(ed) 193.536 544.674 T
4 FF
( r) 202.976 544.674 T
(eply) 208.996 544.674 T
3 FF
( port is being used this error should not happen.) 225.656 544.674 T
7 FF
<a5> 180.0 559.674 T
3 FF
193.535995 559.674255 M 2.804443 0 32 (A port that is being passed in the send message is in) widthshow
432.025085 559.674255 M 2.804443 0 32 (v) widthshow
436.775238 559.674255 M 2.804443 0 32 (alid \(MA) widthshow
476.119904 559.674255 M 2.804443 0 32 (CH_SEND_IN-) widthshow
3 FF
(V) 193.536 571.674 T
(ALID_RIGHT\).) 199.407 571.674 T
180 595.674194 M 0.795624 0 32 (MA) widthshow
195.71022 595.674194 M 0.795624 0 32 (CH_SEND_TIMED_OUT or MA) widthshow
333.551697 595.674194 M 0.795624 0 32 (CH_RCV_TIMED_OUT is another system error a) widthshow
3 FF
180 607.674194 M 0.619965 0 32 (user could recei) widthshow
244.300079 607.674194 M 0.619965 0 32 (v) widthshow
249.150162 607.674194 M 0.619965 0 32 (e. This results from an RPC with a) widthshow
4 FF
391.819916 607.674194 M 0.619965 0 32 ( timeout) widthshow
3 FF
424.93988 607.674194 M 0.619965 0 32 ( v) widthshow
432.809998 607.674194 M 0.619965 0 32 (alue set, timing out before) widthshow
180 619.674194 M 0.64621 0 32 (a reply is recei) widthshow
240.278778 619.674194 M 0.64621 0 32 (v) widthshow
245.12886 619.674194 M 0.64621 0 32 (ed. This usually only happens if the serv) widthshow
411.152405 619.674194 M 0.64621 0 32 (er is on a remote machine from) widthshow
180 631.674194 M 0.552597 0 32 (the user) widthshow
211.382904 631.674194 M 0.552597 0 32 (. The MIG errors de\336ned in) widthshow
0 FF
324.675903 631.674194 M 0.552597 0 32 ( mig_err) widthshow
361.978607 631.674194 M 0.552597 0 32 (ors.h) widthshow
3 FF
383.368591 631.674194 M 0.552597 0 32 ( usually only occur if the user is using) widthshow
180 643.674133 M 0.347244 0 32 (a dif) widthshow
198.147385 643.674133 M 0.347244 0 32 (ferent v) widthshow
229.164719 643.674133 M 0.347244 0 32 (ersion of the interf) widthshow
304.256531 643.674133 M 0.347244 0 32 (ace than the serv) widthshow
372.068359 643.674133 M 0.347244 0 32 (er) widthshow
379.288635 643.674133 M 0.347244 0 32 (. MIG error codes can be interpreted by) widthshow
(the routines in) 180.0 655.674 T
0 FF
( mach_err) 237.22 655.674 T
(or) 281.19 655.674 T
(.) 289.631 655.674 T
3 FF
180 679.674133 M 0.939941 0 32 (The subsystem writer must hand code tw) widthshow
349.409729 679.674133 M 0.939941 0 32 (o things in addition to the MIG de\336nition \336le.) widthshow
180 691.674072 M 0.29213 0 32 (First, the actual operations must be declared and imported into the serv) widthshow
466.913513 691.674072 M 0.29213 0 32 (er module, and all) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 29 29
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (25 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Compiling De\336nition Files) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.249176 0 32 (normal operations must be coded. Second, code must be written to recei) widthshow
362.501099 115.666656 M 0.249176 0 32 (v) widthshow
367.351196 115.666656 M 0.249176 0 32 (e messages, call) widthshow
72 127.666641 M 0.381393 0 32 (the serv) widthshow
103.611481 127.666641 M 0.381393 0 32 (er interf) widthshow
135.822937 127.666641 M 0.381393 0 32 (ace module, and then send a reply message when appropriate. This set of) widthshow
72 139.666626 M 0.942917 0 32 (functions is pro) widthshow
135.955917 139.666626 M 0.942917 0 32 (vided by the ) widthshow
1 FF
190.72467 139.666626 M 0.942917 0 32 (libmach.a) widthshow
3 FF
232.674667 139.666626 M 0.942917 0 32 ( function ) widthshow
1 FF
272.890503 139.666626 M 0.942917 0 32 (mach_msg_ser) widthshow
336.110565 139.666626 M 0.942917 0 32 (v) widthshow
341.01062 139.666626 M 0.942917 0 32 (er) widthshow
3 FF
349.340942 139.666626 M 0.942917 0 32 (. The serv) widthshow
390.786865 139.666626 M 0.942917 0 32 (er module) widthshow
72 151.666611 M 0.674927 0 32 (e) widthshow
76.290085 151.666611 M 0.674927 0 32 (xports one function called) widthshow
1 FF
182.464874 151.666611 M 0.674927 0 32 ( ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
185.639801 151.666611 M 0.674927 0 32 (r) widthshow
189.379883 151.666611 M 0.674927 0 32 (andom) widthshow
1 FF
216.599884 151.666611 M 0.674927 0 32 (_ser) widthshow
234.269943 151.666611 M 0.674927 0 32 (v) widthshow
239.169998 151.666611 M 0.674927 0 32 (er) widthshow
3 FF
247.650223 151.666611 M 0.674927 0 32 (, which accepts as ar) widthshow
332.640045 151.666611 M 0.674927 0 32 (guments a pointer to the) widthshow
72 163.666595 M 0.75531 0 32 (message recei) widthshow
128.31546 163.666595 M 0.75531 0 32 (v) widthshow
133.165543 163.666595 M 0.75531 0 32 (ed, and a pointer to a record for the reply message. The function will re-) widthshow
(turn TR) 72.0 175.667 T
(UE if the recei) 102.99 175.667 T
(v) 161.33 175.667 T
(ed message id w) 166.18 175.667 T
(as in the serv) 231.901 175.667 T
(er\325) 284.241 175.667 T
(s range. ) 294.791 175.667 T
72 199.666565 M 0.59639 0 32 (In general, a reply should al) widthshow
186.522018 199.666565 M 0.59639 0 32 (w) widthshow
193.642075 199.666565 M 0.59639 0 32 (ays be returned for an) widthshow
283.067749 199.666565 M 0.59639 0 32 (y message recei) widthshow
347.320679 199.666565 M 0.59639 0 32 (v) widthshow
352.170746 199.666565 M 0.59639 0 32 (ed unless the return) widthshow
72 211.66655 M 0.378372 0 32 (code from the Serv) widthshow
149.355209 211.66655 M 0.378372 0 32 (er w) widthshow
167.123642 211.66655 M 0.378372 0 32 (as MIG_NO_REPL) widthshow
245.662567 211.66655 M 0.378372 0 32 (Y or the request message doesn\325) widthshow
377.064545 211.66655 M 0.378372 0 32 (t ha) widthshow
391.963013 211.66655 M 0.378372 0 32 (v) widthshow
396.81311 211.66655 M 0.378372 0 32 (e a reply) widthshow
72 223.666534 M 0.573273 0 32 (port. The boolean function v) widthshow
188.193237 223.666534 M 0.573273 0 32 (alue from the serv) widthshow
262.243164 223.666534 M 0.573273 0 32 (er function may be used to ha) widthshow
383.792908 223.666534 M 0.573273 0 32 (v) widthshow
388.643005 223.666534 M 0.573273 0 32 (e the same) widthshow
72 235.666519 M 0.678253 0 32 (recei) widthshow
91.180145 235.666519 M 0.678253 0 32 (v) widthshow
96.030228 235.666519 M 0.678253 0 32 (e loop processing se) widthshow
178.635132 235.666519 M 0.678253 0 32 (v) widthshow
183.485214 235.666519 M 0.678253 0 32 (eral logically distinct serv) widthshow
288.970062 235.666519 M 0.678253 0 32 (er\325) widthshow
299.520386 235.666519 M 0.678253 0 32 (s requests. Once a serv) widthshow
393.443481 235.666519 M 0.678253 0 32 (er has re-) widthshow
72 247.666504 M 0.397369 0 32 (turned TR) widthshow
112.827591 247.666504 M 0.397369 0 32 (UE, or all the serv) widthshow
187.307159 247.666504 M 0.397369 0 32 (ers ha) widthshow
211.104645 247.666504 M 0.397369 0 32 (v) widthshow
215.954727 247.666504 M 0.397369 0 32 (e returned F) widthshow
264.329895 247.666504 M 0.397369 0 32 (ALSE the recei) widthshow
326.52478 247.666504 M 0.397369 0 32 (v) widthshow
331.374847 247.666504 M 0.397369 0 32 (e-serv) widthshow
355.654938 247.666504 M 0.397369 0 32 (e-send loop should) widthshow
72 259.666504 M 0.33725 0 32 (send a reply \(unless of course, the return code w) widthshow
268.215332 259.666504 M 0.33725 0 32 (as MIG_NO_REPL) widthshow
346.713135 259.666504 M 0.33725 0 32 (Y or the reply port is) widthshow
(MA) 72.0 271.666 T
(CH_POR) 87.71 271.666 T
(T_NULL\). ) 125.451 271.666 T
72 295.666443 M 0.68927 0 32 (Details of a Mach IPC-based serv) widthshow
209.98645 295.666443 M 0.68927 0 32 (er are discussed at length in CHAPTER 4 and CHAP-) widthshow
3 FF
(TER 6.) 72.0 307.666 T
72 348.999756 360 3.024002 CR
432 350.51 M
72 350.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Compiling De\336nition Files) 72.0 345.333 T
3 FF
72 369.690399 M 0.226624 0 32 (MIG is implemented as a co) widthshow
186.023209 369.690399 M 0.226624 0 32 (v) widthshow
190.873291 369.690399 M 0.226624 0 32 (er program that recognizes a fe) widthshow
315.876587 369.690399 M 0.226624 0 32 (w switches, calls ) widthshow
1 FF
386.546448 369.690399 M 0.226624 0 32 (cpp) widthshow
3 FF
402.106445 369.690399 M 0.226624 0 32 ( to pro-) widthshow
72 381.690369 M 0.885803 0 32 (cess comments and preprocessor macros and then passes the preprocessed output to the) widthshow
(program) 72.0 393.69 T
1 FF
( migcom) 105.88 393.69 T
3 FF
( which generates the C \336les.) 142.26 393.69 T
(The switches that MIG recognizes are:) 72.0 417.69 T
<d05b72> 72.0 441.69 T
(,R]) 83.26 441.69 T
4 FF
144 441.690338 M 1.457062 0 32 (r) widthshow
3 FF
147.889999 441.690338 M 1.457062 0 32 <d175736520> widthshow
1 FF
175.177063 441.690338 M 1.457062 0 32 (mach_msg) widthshow
3 FF
220.727066 441.690338 M 1.457062 0 32 ( with both the MA) widthshow
300.045532 441.690338 M 1.457062 0 32 (CH_SEND_MSG and MA) widthshow
409.779877 441.690338 M 1.457062 0 32 (CH_-) widthshow
144 453.690308 M 3.544418 0 32 (RCV_MSG options; ) widthshow
4 FF
235.548828 453.690308 M 3.544418 0 32 (R) widthshow
3 FF
241.658829 453.690308 M 3.544418 0 32 <d175736520612070616972206f662063616c6c732c20> widthshow
1 FF
344.360931 453.690308 M 3.544418 0 32 (mach_msg ) widthshow
3 FF
395.955353 453.690308 M 3.544418 0 32 (with the) widthshow
144 465.690308 M 5.356552 0 32 (MA) widthshow
159.71022 465.690308 M 5.356552 0 32 (CH_SEND_MSG option and ) widthshow
1 FF
294.94989 465.690308 M 5.356552 0 32 (mach_msg) widthshow
3 FF
340.499878 465.690308 M 5.356552 0 32 ( with the MA) widthshow
409.779755 465.690308 M 5.356552 0 32 (CH_-) widthshow
(RCV_MSG option. Def) 144.0 477.69 T
(ault is) 239.18 477.69 T
4 FF
( r) 263.35 477.69 T
3 FF
(.) 269.19 477.69 T
<d05b712c515d> 72.0 501.69 T
4 FF
144 501.690277 M 2.899963 0 32 (q) widthshow
3 FF
149 501.690277 M 2.899963 0 32 <d173757070726573732077> widthshow
205.960022 501.690277 M 2.899963 0 32 (arning statements; ) widthshow
4 FF
287.309937 501.690277 M 2.899963 0 32 (Q) widthshow
3 FF
294.529968 501.690277 M 2.899963 0 32 <d17072696e742077> widthshow
335.939972 501.690277 M 2.899963 0 32 (arning statements. De-) widthshow
3 FF
(f) 144.0 513.69 T
(ault is) 147.23 513.69 T
4 FF
( Q) 171.4 513.69 T
3 FF
(.) 181.12 513.69 T
<d05b76> 72.0 537.69 T
(,V]) 84.68 537.69 T
4 FF
144 537.690247 M 1.584961 0 32 (v) widthshow
3 FF
148.440002 537.690247 M 1.584961 0 32 <d176> widthshow
163.290085 537.690247 M 1.584961 0 32 (erbose, prints out routines and types as the) widthshow
344.214905 537.690247 M 1.584961 0 32 (y are processed; ) widthshow
4 FF
415.889801 537.690247 M 1.584961 0 32 (V) widthshow
3 FF
421.999817 537.690247 M 1.584961 0 32 <d1> widthshow
(compiles silently) 144.0 549.69 T
(. Def) 211.41 549.69 T
(ault is) 231.3 549.69 T
4 FF
( V) 255.47 549.69 T
3 FF
(.) 262.791 549.69 T
<d05b732c535d> 72.0 573.69 T
4 FF
144 573.690186 M 0.417206 0 32 (s) widthshow
3 FF
147.889999 573.690186 M 0.417206 0 32 <d167656e65726174652073796d626f6c207461626c6520696e2074686520> widthshow
4 FF
275.236023 573.690186 M 0.417206 0 32 (sys) widthshow
3 FF
287.456055 573.690186 M 0.417206 0 32 (Serv) widthshow
305.636108 573.690186 M 0.417206 0 32 (er) widthshow
312.856445 573.690186 M 0.417206 0 32 (.c code. The layout of a sym-) widthshow
144 585.690186 M 0.615646 0 32 (bol table \() widthshow
4 FF
185.781296 585.690186 M 0.615646 0 32 (mig_symtab_t) widthshow
3 FF
241.891296 585.690186 M 0.615646 0 32 (\) is de\336ned in ) widthshow
1 FF
301.573883 585.690186 M 0.615646 0 32 (<mig_err) widthshow
341.523987 585.690186 M 0.615646 0 32 (ors.h>) widthshow
3 FF
368.613983 585.690186 M 0.615646 0 32 (. ) widthshow
4 FF
374.229614 585.690186 M 0.615646 0 32 (S) widthshow
3 FF
379.229614 585.690186 M 0.615646 0 32 <d173757070726573736573> widthshow
3 FF
144 597.690186 M 1.823608 0 32 (the symbol table. Def) widthshow
235.470886 597.690186 M 1.823608 0 32 (ault is) widthshow
4 FF
261.464478 597.690186 M 1.823608 0 32 ( S) widthshow
3 FF
270.788086 597.690186 M 1.823608 0 32 (. This is useful for protection systems) widthshow
144 609.690186 M 1.745453 0 32 (where access to the serv) widthshow
247.461914 609.690186 M 1.745453 0 32 (er\325) widthshow
258.012207 609.690186 M 1.745453 0 32 (s operations is dynamically speci\336able or) widthshow
144 621.690186 M 1.25087 0 32 (for pro) widthshow
172.590958 621.690186 M 1.25087 0 32 (viding a serv) widthshow
226.602783 621.690186 M 1.25087 0 32 (er call interf) widthshow
277.874573 621.690186 M 1.25087 0 32 (ace that is re-directed at run-time ala) widthshow
1 FF
(syscall) 144.0 633.69 T
3 FF
( \(serv) 171.78 633.69 T
(er) 194.12 633.69 T
(-to-serv) 201.69 633.69 T
(er calls made on behalf of a user\).) 232.64 633.69 T
3 FF
<d06920> 72.0 657.69 T
4 FF
(string) 82.28 657.69 T
3 FF
144 657.690125 M 1.082642 0 32 (instead of a single user \336le, generate indi) widthshow
315.18866 657.690125 M 1.082642 0 32 (vidual \336les for each routine,) widthshow
144 669.690125 M 0.171432 0 32 (for ease in b) widthshow
193.464417 669.690125 M 0.171432 0 32 (uilding a library) widthshow
257.597656 669.690125 M 0.171432 0 32 (. The \336le name for each \336le is ) widthshow
4 FF
380.889099 669.690125 M 0.171432 0 32 (string) widthshow
1 FF
404.229126 669.690125 M 0.171432 0 32 (opera-) widthshow
(tion-name.c) 144.0 681.69 T
3 FF
(.) 194.27 681.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 30 30
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(26 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Mach Interface Generator \(MIG\)) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
<d073657276> 180.0 113.651 T
(er) 201.51 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
( name) 209.28 113.651 T
3 FF
(name the serv) 252.0 113.651 T
(er \336le) 307.39 113.651 T
4 FF
( name) 330.44 113.651 T
3 FF
(.) 354.6 113.651 T
3 FF
<d075736572> 180.0 137.651 T
4 FF
( name) 201.66 137.651 T
3 FF
252 137.65065 M 0.938416 0 32 (name the user \336le) widthshow
4 FF
325.635254 137.65065 M 0.938416 0 32 ( name) widthshow
3 FF
350.733673 137.65065 M 0.938416 0 32 (. If the -i option precedes this option, this op-) widthshow
(tion is ignored \(b) 252.0 149.651 T
(ut f) 320.41 149.651 T
(actored into the output of the -MD option\).) 333.92 149.651 T
3 FF
<d0686561646572> 180.0 173.651 T
4 FF
( name) 211.65 173.651 T
3 FF
(name the user header \336le) 252.0 173.651 T
4 FF
( name) 351.97 173.651 T
3 FF
(.) 376.13 173.651 T
<d07368656164657220> 180.0 197.651 T
4 FF
(name) 218.04 197.651 T
3 FF
252 197.650604 M 0.45993 0 32 (name the serv) widthshow
308.309937 197.650604 M 0.45993 0 32 (er header \336le name. This \336le is generated only if this op-) widthshow
252 209.650589 M 0.291901 0 32 (tion is speci\336ed. The serv) widthshow
355.50769 209.650589 M 0.291901 0 32 (er header \336le contains function prototypes for) widthshow
252 221.650574 M 0.458405 0 32 (the v) widthshow
271.928528 221.650574 M 0.458405 0 32 (arious functions to be called on the serv) widthshow
434.127472 221.650574 M 0.458405 0 32 (er side by the MIG gener-) widthshow
(ated de-multiple) 252.0 233.651 T
(xing routine.) 317.12 233.651 T
<d069686561646572> 180.0 257.651 T
4 FF
( name) 214.43 257.651 T
3 FF
252 257.650543 M 2.091599 0 32 (name the user internal header \336le) widthshow
4 FF
395.478027 257.650543 M 2.091599 0 32 ( name) widthshow
3 FF
421.729614 257.650543 M 2.091599 0 32 (. This is only used for ) widthshow
4 FF
523.999207 257.650543 M 2.091599 0 32 (k) widthshow
528.339233 257.650543 M 2.091599 0 32 (er-) widthshow
(nelserver) 252.0 269.651 T
3 FF
( subsystems.) 289.21 269.651 T
180 293.650513 M 0.620605 0 32 (An) widthshow
192.070084 293.650513 M 0.620605 0 32 (y switches that MIG does not recognize are passed on to ) widthshow
0 FF
426.906769 293.650513 M 0.620605 0 32 (cpp) widthshow
3 FF
442.466766 293.650513 M 0.620605 0 32 (. MIG also notices if\323 \320) widthshow
3 FF
180 305.650513 M 0.372574 0 32 (MD\323 is being passed to) widthshow
0 FF
275.3703 305.650513 M 0.372574 0 32 ( cpp) widthshow
3 FF
293.802856 305.650513 M 0.372574 0 32 (. If it is, MIG \336x) widthshow
361.905823 305.650513 M 0.372574 0 32 (es up the resulting ) widthshow
4 FF
438.946106 305.650513 M 0.372574 0 32 (sys) widthshow
0 FF
451.166138 305.650513 M 0.372574 0 32 (.d) widthshow
4 FF
459.226135 305.650513 M 0.372574 0 32 ( ) widthshow
3 FF
462.098694 305.650513 M 0.372574 0 32 <de6c6520746f2073686f> widthshow
502.043976 305.650513 M 0.372574 0 32 (w the de-) widthshow
180 317.650482 M 1.61319 0 32 (pendencies of the) widthshow
4 FF
253.20639 317.650482 M 1.61319 0 32 ( sys) widthshow
0 FF
269.539581 317.650482 M 1.61319 0 32 (.h) widthshow
3 FF
277.599579 317.650482 M 1.61319 0 32 (, ) widthshow
4 FF
284.212769 317.650482 M 1.61319 0 32 (sys) widthshow
0 FF
296.43277 317.650482 M 1.61319 0 32 (User) widthshow
315.42334 317.650482 M 1.61319 0 32 (.c) widthshow
3 FF
322.363342 317.650482 M 1.61319 0 32 ( and) widthshow
4 FF
340.916504 317.650482 M 1.61319 0 32 ( sys) widthshow
0 FF
357.249695 317.650482 M 1.61319 0 32 (Ser) widthshow
371.589783 317.650482 M 1.61319 0 32 (v) widthshow
376.489807 317.650482 M 1.61319 0 32 (er) widthshow
384.370361 317.650482 M 1.61319 0 32 (.c) widthshow
3 FF
391.310364 317.650482 M 1.61319 0 32 ( on the) widthshow
4 FF
421.756775 317.650482 M 1.61319 0 32 ( sys) widthshow
0 FF
438.089966 317.650482 M 1.61319 0 32 (.defs) widthshow
3 FF
457.809937 317.650482 M 1.61319 0 32 ( and an) widthshow
489.766418 317.650482 M 1.61319 0 32 (y) widthshow
0 FF
494.766418 317.650482 M 1.61319 0 32 ( #include) widthshow
3 FF
534.999634 317.650482 M 1.61319 0 32 (d) widthshow
180 329.650452 M 1.111938 0 32 <d2> widthshow
0 FF
184.440002 329.650452 M 1.111938 0 32 (.defs) widthshow
4 FF
204.160004 329.650452 M 1.111938 0 32 <d3> widthshow
3 FF
209.720001 329.650452 M 1.111938 0 32 ( \336les. F) widthshow
241.523956 329.650452 M 1.111938 0 32 (or this feature to w) widthshow
321.411774 329.650452 M 1.111938 0 32 (ork correctly the name of the subsystem must be the) widthshow
(same as the name of the) 180.0 341.65 T
4 FF
( sys) 275.81 341.65 T
0 FF
(.defs) 290.53 341.65 T
3 FF
( \336le.) 310.25 341.65 T
180 365.650452 M 0.862686 0 32 (T) widthshow
185.31044 365.650452 M 0.862686 0 32 (o use MIG, gi) widthshow
243.198639 365.650452 M 0.862686 0 32 (v) widthshow
248.048721 365.650452 M 0.862686 0 32 (e the name of the) widthshow
4 FF
320.369476 365.650452 M 0.862686 0 32 ( \322) widthshow
0 FF
329.292175 365.650452 M 0.862686 0 32 (.defs) widthshow
4 FF
349.012146 365.650452 M 0.862686 0 32 <d3> widthshow
3 FF
354.572144 365.650452 M 0.862686 0 32 ( \336le or \336les and an) widthshow
432.895691 365.650452 M 0.862686 0 32 (y switch v) widthshow
475.481201 365.650452 M 0.862686 0 32 (alues on a MIG) widthshow
(command line, for e) 180.0 377.65 T
(xample:) 260.39 377.65 T
0 FF
(mig) 216.0 401.65 T
3 FF
( \320v) 232.11 401.65 T
4 FF
( r) 244.61 401.65 T
(andom) 250.85 401.65 T
0 FF
(.defs) 278.07 401.65 T
3 FF
180 425.650391 M 0.667801 0 32 (If) widthshow
4 FF
186.660004 425.650391 M 0.667801 0 32 ( r) widthshow
193.567886 425.650391 M 0.667801 0 32 (andom) widthshow
3 FF
220.787888 425.650391 M 0.667801 0 32 ( is the subsystem name declared in the de\336nitions \336le, then MIG will produce) widthshow
180 437.650391 M 1.306183 0 32 (the \336les ) widthshow
4 FF
216.502365 437.650391 M 1.306183 0 32 (r) widthshow
220.242447 437.650391 M 1.306183 0 32 (andom) widthshow
0 FF
247.462448 437.650391 M 1.306183 0 32 (.h) widthshow
3 FF
255.522446 437.650391 M 1.306183 0 32 (,) widthshow
4 FF
258.022461 437.650391 M 1.306183 0 32 ( r) widthshow
265.568726 437.650391 M 1.306183 0 32 (andom) widthshow
0 FF
292.788696 437.650391 M 1.306183 0 32 (User) widthshow
311.779266 437.650391 M 1.306183 0 32 (.c) widthshow
3 FF
318.719269 437.650391 M 1.306183 0 32 ( and) widthshow
4 FF
336.965454 437.650391 M 1.306183 0 32 ( r) widthshow
344.511719 437.650391 M 1.306183 0 32 (andom) widthshow
0 FF
371.73172 437.650391 M 1.306183 0 32 (Ser) widthshow
386.071777 437.650391 M 1.306183 0 32 (v) widthshow
390.971832 437.650391 M 1.306183 0 32 (er) widthshow
398.852386 437.650391 M 1.306183 0 32 (.c) widthshow
3 FF
405.792389 437.650391 M 1.306183 0 32 ( as output. If the \322\320MD\323 switch) widthshow
(w) 180.0 449.65 T
(as gi) 187.12 449.65 T
(v) 205.48 449.65 T
(en, a) 210.33 449.65 T
4 FF
( r) 229.21 449.65 T
(andom) 235.45 449.65 T
0 FF
(.d) 262.67 449.65 T
3 FF
( \336le will also be generated.) 270.73 449.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 31 31
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (27 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (CHAPTER 4) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (Basic IPC\320Based Serv) ashow
387.365479 116 M -0.479736 0 (ers) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666656 M 0.97995 0 32 (A serv) widthshow
99.210037 367.666656 M 0.97995 0 32 (er has a wide range of concerns in order to correctly function. This chapter con-) widthshow
72 379.666626 M 0.845367 0 32 (cerns the details in) widthshow
148.846329 379.666626 M 0.845367 0 32 (v) widthshow
153.646439 379.666626 M 0.845367 0 32 (olv) widthshow
166.27652 379.666626 M 0.845367 0 32 (ed in writing a basic single-threaded serv) widthshow
335.608826 379.666626 M 0.845367 0 32 (er) widthshow
342.829132 379.666626 M 0.845367 0 32 (. Multi-threaded serv-) widthshow
(ers are co) 72.0 391.667 T
(v) 110.16 391.667 T
(ered in CHAPTER 6.) 115.01 391.667 T
72 432.999939 360 3.024002 CR
432 434.51 M
72 434.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Basic Request Pr) 72.0 429.333 T
(ocessing) 173.626 429.333 T
4 FF
72 453.690582 M 0.492706 0 32 (Unlik) widthshow
94.680054 453.690582 M 0.492706 0 32 (e most application programs that perform some processing to produce some results) widthshow
72 465.690552 M 0.757828 0 32 (and then terminate, a serv) widthshow
177.911407 465.690552 M 0.757828 0 32 (er \(almost\) ne) widthshow
234.717209 465.690552 M 0.757828 0 32 (v) widthshow
239.567291 465.690552 M 0.757828 0 32 (er terminates; it continues to process in a loop,) widthshow
72 477.690552 M 1.871796 0 32 (recei) widthshow
91.180145 477.690552 M 1.871796 0 32 (ving requests for service from its clients, performing them, returning results and) widthshow
(w) 72.0 489.691 T
(aiting to recei) 79.12 489.691 T
(v) 133.86 489.691 T
(e more requests.) 138.71 489.691 T
72 513.690552 M 0.895645 0 32 (The details of the ) widthshow
1 FF
147.792587 513.690552 M 0.895645 0 32 (mach_msg) widthshow
4 FF
193.34259 513.690552 M 0.895645 0 32 ( call and the format of Mach messages are suf) widthshow
384.713562 513.690552 M 0.895645 0 32 <de6369656e746c7920696e2d> widthshow
72 525.690491 M 0.611298 0 32 (v) widthshow
76.80011 525.690491 M 0.611298 0 32 (olv) widthshow
89.430191 525.690491 M 0.611298 0 32 (ed that the) widthshow
132.162872 525.690491 M 0.611298 0 32 (y are best left, and fortunately can be left, to system supplied library rou-) widthshow
(tines \(and MIG generated stubs\). The basic form of a serv) 72.0 537.69 T
(er is as follo) 303.18 537.69 T
(ws:) 352.09 537.69 T
72 548.023804 360 9 CR
1 G
72 548.023804 360 9 NF
0 G
4 FF
(/*) 91.224 555.855 T
3 SL
0 SC
0.6667 G
422.91 552.52 M
422.91 557.77 L
432 552.52 L
422.91 547.27 L
F
422.91 552.52 M
108 552.52 L
S
0 0 612 792 CR
0 G
4 FF
108 564.690491 M 3.476288 0 32 (Allocate a service port from which the serv) widthshow
305.194122 564.690491 M 3.476288 0 32 (er will recei) widthshow
359.65686 564.690491 M 3.476288 0 32 (v) widthshow
364.506927 564.690491 M 3.476288 0 32 (e client request) widthshow
72 577.023804 360 9 CR
1 G
72 577.023804 360 9 NF
0 G
4 FF
(*/) 90.0 584.85 T
0.6667 G
117.09 581.52 M
117.09 576.27 L
108 581.52 L
117.09 586.77 L
F
432 581.52 M
117.09 581.52 L
S
0 0 612 792 CR
0 G
4 FF
(messages.) 108.0 574.69 T
([1]) 87.34 595.69 T
(\(v) 108.0 595.69 T
(oid\) ) 116.13 595.69 T
1 FF
(mach_port_allocate) 134.74 595.69 T
4 FF
( \() 219.17 595.69 T
1 FF
(mach_task_self) 225.0 595.69 T
4 FF
( \(\), ) 290.55 595.69 T
(MA) 162.0 605.69 T
(CH_POR) 177.71 605.69 T
(T_RIGHT_RECEIVE, &) 215.451 605.69 T
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
(service_port) 317.111 605.69 T
4 FF
(\);) 367.101 605.69 T
72 610.023743 360 9 CR
1 G
72 610.023743 360 9 NF
0 G
4 FF
(/*) 91.224 617.855 T
0.6667 G
422.91 614.52 M
422.91 619.77 L
432 614.52 L
422.91 609.27 L
F
422.91 614.52 M
108 614.52 L
S
72 629.023743 360 9 CR
1 G
72 629.023743 360 9 NF
0 G
4 FF
(*/) 90.0 636.85 T
0.6667 G
117.09 633.52 M
117.09 628.27 L
108 633.52 L
117.09 638.77 L
F
432 633.52 M
117.09 633.52 L
S
0 0 612 792 CR
0 G
4 FF
<d2> 108.0 626.69 T
(Announce\323 the request port in some w) 111.64 626.69 T
(ay so that clients can \336nd it.) 265.401 626.69 T
([2]) 87.34 647.69 T
6 FF
(r) 108.0 647.69 T
(esult) 111.52 647.69 T
4 FF
( = ) 130.41 647.69 T
1 FF
(netname_check_in) 141.05 647.69 T
4 FF
( \() 220.49 647.69 T
6 FF
(name_server_port) 226.32 647.69 T
4 FF
(, \322service-name\323, ) 299.64 647.69 T
1 FF
(mach_task_self) 162.0 657.69 T
4 FF
( \(\), ) 227.55 657.69 T
6 FF
(service_port) 241.71 657.69 T
4 FF
(\);) 291.7 657.69 T
([3]) 87.34 669.69 T
(if \() 108.0 669.69 T
6 FF
(r) 119.94 669.69 T
(esult) 123.46 669.69 T
4 FF
( != KERN_SUCCESS\)) 142.35 669.69 T
([4]) 87.34 681.69 T
(die horribly) 144.0 681.69 T
(...) 190.29 681.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 32 32
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(28 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
0 0 612 792 CR
0 G
3 FF
216 122.650665 M 2.604401 0 32 (Use ) widthshow
0 FF
236.654404 122.650665 M 2.604401 0 32 (mach_msg_ser) widthshow
299.874451 122.650665 M 2.604401 0 32 (v) widthshow
304.774536 122.650665 M 2.604401 0 32 (er) widthshow
3 FF
313.654541 122.650665 M 2.604401 0 32 ( to loop o) widthshow
359.377808 122.650665 M 2.604401 0 32 (v) widthshow
364.227905 122.650665 M 2.604401 0 32 (er all incoming messages, handling error) widthshow
216 132.65065 M 2.947922 0 32 (cases, disposition of messages, etc. while calling the serv) widthshow
468.013489 132.65065 M 2.947922 0 32 (er\325) widthshow
478.563782 132.65065 M 2.947922 0 32 (s message de-) widthshow
180 144.983963 360 9 CR
1 G
180 144.983963 360 9 NF
0 G
3 FF
(*/) 198.0 152.81 T
0.6667 G
225.09 149.48 M
225.09 144.23 L
216 149.48 L
225.09 154.73 L
F
540 149.48 M
225.09 149.48 L
S
0 0 612 792 CR
0 G
3 FF
(multiple) 216.0 142.651 T
(xing routine \(normally generated by MIG\).) 249.19 142.651 T
([5]) 195.34 163.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(r) 216.0 163.651 T
(esult) 219.52 163.651 T
3 FF
( = ) 238.41 163.651 T
0 FF
(mach_msg_ser) 249.05 163.651 T
(v) 312.27 163.651 T
(er) 317.17 163.651 T
3 FF
( \() 326.05 163.651 T
0 FF
(MIG_demux_ser) 331.88 163.651 T
(v) 404.55 163.651 T
(er) 409.45 163.651 T
3 FF
(, MAX_MSG_SIZE, ) 417.931 163.651 T
4 FF
(service_port) 270.0 173.651 T
3 FF
(, MA) 319.99 173.651 T
(CH_MSG_OPTION_NONE\);) 340.7 173.651 T
([6]) 195.34 185.651 T
(terminate...) 216.0 185.651 T
180 207.650574 M 0.234558 0 32 (The ) widthshow
0 FF
198.284561 207.650574 M 0.234558 0 32 (mach_msg_ser) widthshow
261.504639 207.650574 M 0.234558 0 32 (v) widthshow
266.404663 207.650574 M 0.234558 0 32 (er) widthshow
3 FF
275.284668 207.650574 M 0.234558 0 32 ( routine is the basic serv) widthshow
373.237549 207.650574 M 0.234558 0 32 (er loop. It recei) widthshow
434.781372 207.650574 M 0.234558 0 32 (v) widthshow
439.63147 207.650574 M 0.234558 0 32 (es an initial request mes-) widthshow
180 219.650558 M 0.679962 0 32 (sage, processes it and sends a reply while w) widthshow
360.579773 219.650558 M 0.679962 0 32 (aiting for the ne) widthshow
426.069763 219.650558 M 0.679962 0 32 (xt client request. The serv) widthshow
532.229675 219.650558 M 0.679962 0 32 (er) widthshow
180 231.650543 M 1.479034 0 32 (loop routine, beside implementing the basic serv) widthshow
382.874298 231.650543 M 1.479034 0 32 (er dri) widthshow
405.483459 231.650543 M 1.479034 0 32 (v) widthshow
410.333557 231.650543 M 1.479034 0 32 (er) widthshow
417.703796 231.650543 M 1.479034 0 32 (, hides important details con-) widthshow
(cerning the ) 180.0 243.651 T
0 FF
(mach_msg) 227.21 243.651 T
3 FF
( call, especially error conditions.) 272.76 243.651 T
(The message de-multiple) 180.0 267.651 T
(xing serv) 280.39 267.651 T
(er routine called by ) 317.18 267.651 T
0 FF
(mach_msg_ser) 397.16 267.651 T
(v) 460.38 267.651 T
(er) 465.28 267.651 T
3 FF
(,) 473.761 267.651 T
(boolean_t ) 216.0 291.65 T
0 FF
(demux_ser) 257.94 291.65 T
(v) 304.5 291.65 T
(er) 309.4 291.65 T
3 FF
( \(mach_msg_header_t *) 318.28 291.65 T
4 FF
(r) 414.37 291.65 T
(equest-msg) 417.89 291.65 T
3 FF
(, ) 462.88 291.65 T
(mach_msg_header_t *) 270.0 303.65 T
4 FF
(r) 360.26 303.65 T
(eply-msg) 363.78 303.65 T
3 FF
(\),) 399.88 303.65 T
180 327.650452 M 0.429306 0 32 (returns TR) widthshow
223.079529 327.650452 M 0.429306 0 32 (UE if this function processed the request. In an) widthshow
414.384094 327.650452 M 0.429306 0 32 (y case, it must initialize the re-) widthshow
180 339.650452 M 1.665421 0 32 (ply message. This function is normally the ) widthshow
4 FF
364.427948 339.650452 M 1.665421 0 32 (service) widthshow
0 FF
392.747955 339.650452 M 1.665421 0 32 (_ser) widthshow
410.41803 339.650452 M 1.665421 0 32 (v) widthshow
415.318054 339.650452 M 1.665421 0 32 (er) widthshow
3 FF
424.198059 339.650452 M 1.665421 0 32 ( routine generated by MIG.) widthshow
180 351.650452 M 0.436249 0 32 (This routine hides the details of the format of Mach messages. It is this routine that calls) widthshow
(the actual tar) 180.0 363.65 T
(get serv) 231.47 363.65 T
(er routine.) 262.7 363.65 T
180 387.650391 M 0.537827 0 32 (This basic structure handles all of the details of basic RPC communication with a client.) widthshow
180 399.650391 M 0.633804 0 32 (In particular) widthshow
229.384033 399.650391 M 0.633804 0 32 (, it handles message formats, handling of request and reply port rights, mar-) widthshow
(shalling and un-marshalling of ar) 180.0 411.65 T
(guments, method dispatch and error handling.) 312.58 411.65 T
(The use of ) 180.0 435.65 T
0 FF
(mach_msg_ser) 224.71 435.65 T
(v) 287.93 435.65 T
(er) 292.83 435.65 T
3 FF
( pro) 301.71 435.65 T
(vides a v) 317.39 435.65 T
(ariety of bene\336ts:) 352.69 435.65 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 453.65 T
3 FF
(Uses combined send/recei) 193.536 453.65 T
(v) 297.706 453.65 T
(e whene) 302.556 453.65 T
(v) 335.346 453.65 T
(er possible.) 340.196 453.65 T
5 FF
<a5> 180.0 468.65 T
3 FF
(Sends a reply message if there is a reply port.) 193.536 468.65 T
5 FF
<a5> 180.0 483.65 T
3 FF
(De-allocates resources in request message unless serv) 193.536 483.65 T
(er function consumes them.) 408.326 483.65 T
5 FF
<a5> 180.0 498.65 T
3 FF
(De-allocates resources in reply message if it isn't sent.) 193.536 498.65 T
5 FF
<a5> 180.0 513.65 T
3 FF
(Protects ag) 193.536 513.65 T
(ainst too-lar) 237.646 513.65 T
(ge request messages.) 285.516 513.65 T
5 FF
<a5> 180.0 528.65 T
3 FF
(Protects ag) 193.536 528.65 T
(ainst dead reply ports.) 237.646 528.65 T
5 FF
<a5> 180.0 543.65 T
3 FF
(Protects ag) 193.536 543.65 T
(ainst \322full\323 reply ports.) 237.646 543.65 T
180 567.650269 M 1.179962 0 32 (Almost all of the remaining details of request processing are concerned with details of) widthshow
(the operation of the service routines themselv) 180.0 579.65 T
(es.) 362.04 579.65 T
(F) 180.0 603.65 T
(or e) 185.41 603.65 T
(xample, gi) 200.53 603.65 T
(v) 242.5 603.65 T
(en the simple MIG de\336nition:) 247.35 603.65 T
([1]) 195.34 621.65 T
(routine ) 216.0 621.65 T
0 FF
(getbalance) 246.83 621.65 T
3 FF
([2]) 195.34 633.65 T
(\() 216.0 633.65 T
([3]) 195.34 645.65 T
4 FF
(server) 252.0 645.65 T
3 FF
(: mach_port_t;) 396.0 645.65 T
([4]) 195.34 657.65 T
(out ) 252.0 657.65 T
4 FF
(balance) 267.28 657.65 T
3 FF
(: int) 396.0 657.65 T
([5]) 195.34 669.65 T
(\)) 216.0 669.65 T
(with the corresponding client call:) 180.0 691.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 33 33
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (29 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic Request Pr) 72.0 56.824 T
(ocessing) 137.331 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([1]) 87.34 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(r) 108.0 115.667 T
(esult) 111.52 115.667 T
3 FF
( = ) 130.41 115.667 T
1 FF
(getbalance) 141.05 115.667 T
3 FF
( \() 186.6 115.667 T
4 FF
(server) 192.43 115.667 T
3 FF
(, &) 217.02 115.667 T
4 FF
(balance) 229.8 115.667 T
3 FF
(\);) 261.46 115.667 T
(the serv) 72.0 137.667 T
(er only need pro) 103.23 137.667 T
(vide the follo) 168.34 137.667 T
(wing simple service routine:) 221.42 137.667 T
([1]) 87.34 155.667 T
(k) 108.0 155.667 T
(ern_return_t ) 112.9 155.667 T
1 FF
(getbalance) 164.83 155.667 T
3 FF
( \(mach_port_t ) 210.38 155.667 T
4 FF
(server) 269.26 155.667 T
3 FF
(, int *) 293.85 155.667 T
4 FF
(balance) 316.91 155.667 T
3 FF
(\)) 348.57 155.667 T
([2]) 87.34 167.667 T
({) 108.0 167.667 T
([3]) 87.34 179.667 T
(*) 144.0 179.667 T
4 FF
(balance) 149.0 179.667 T
3 FF
( = ) 180.66 179.667 T
4 FF
(server_balance) 191.3 179.667 T
3 FF
(;) 252.95 179.667 T
([4]) 87.34 191.667 T
(return KERN_SUCCESS;) 144.0 191.667 T
([5]) 87.34 203.667 T
(}) 108.0 203.667 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Handling Multiple Request T) 72.0 233.0 T
(ypes) 221.472 233.0 T
3 FF
72 249.66655 M 0.280945 0 32 (The ) widthshow
4 FF
90.330948 249.66655 M 0.280945 0 32 (service) widthshow
1 FF
118.650955 249.66655 M 0.280945 0 32 (_ser) widthshow
136.321014 249.66655 M 0.280945 0 32 (v) widthshow
141.221069 249.66655 M 0.280945 0 32 (er) widthshow
3 FF
150.101074 249.66655 M 0.280945 0 32 ( routine generated by MIG de-multiple) widthshow
306.605896 249.66655 M 0.280945 0 32 (x) widthshow
311.455994 249.66655 M 0.280945 0 32 (es messages associated with a) widthshow
72 261.666534 M 0.45726 0 32 (single MIG de\336nition \336le. It is sometimes the case that a serv) widthshow
322.419952 261.666534 M 0.45726 0 32 (er needs to handle messag-) widthshow
72 273.666504 M 0.205231 0 32 (es that may be recei) widthshow
151.991074 273.666504 M 0.205231 0 32 (v) widthshow
156.841156 273.666504 M 0.205231 0 32 (ed from a gi) widthshow
205.806992 273.666504 M 0.205231 0 32 (v) widthshow
210.657074 273.666504 M 0.205231 0 32 (en port that were generated by multiple de\336nition \336les.) widthshow
(In such cases, a custom de-multiple) 72.0 285.667 T
(xing routine must be constructed.) 214.05 285.667 T
72 309.666504 M 1.058914 0 32 (The follo) widthshow
109.749054 309.666504 M 1.058914 0 32 (wing e) widthshow
137.598053 309.666504 M 1.058914 0 32 (xample uses the ) widthshow
4 FF
207.1548 309.666504 M 1.058914 0 32 (service) widthshow
1 FF
235.474808 309.666504 M 1.058914 0 32 (_ser) widthshow
253.144867 309.666504 M 1.058914 0 32 (v) widthshow
258.044922 309.666504 M 1.058914 0 32 (er_r) widthshow
276.185028 309.666504 M 1.058914 0 32 (outine) widthshow
3 FF
302.855042 309.666504 M 1.058914 0 32 (s generated by MIG. \(The con-) widthshow
3 FF
(struct belo) 72.0 321.666 T
(w is f) 113.69 321.666 T
(aster than calling the v) 135.81 321.666 T
(arious ) 226.1 321.666 T
4 FF
(service) 253.04 321.666 T
1 FF
(_ser) 281.36 321.666 T
(v) 299.03 321.666 T
(er) 303.93 321.666 T
3 FF
( routines in succession.\)) 312.81 321.666 T
3 FF
([1]) 87.34 339.666 T
(boolean_t ) 108.0 339.666 T
1 FF
(multiple_ser) 149.94 339.666 T
(vice_demux) 203.17 339.666 T
3 FF
( \(mach_msg_header_t *) 253.72 339.666 T
4 FF
(inmsg) 349.81 339.666 T
3 FF
(, ) 373.7 339.666 T
3 FF
(mach_msg_header_t *) 162.0 349.666 T
4 FF
(outmsg) 252.26 349.666 T
3 FF
(\)) 281.15 349.666 T
([2]) 87.34 361.666 T
3 FF
({) 108.0 361.666 T
3 FF
([3]) 87.34 373.666 T
3 FF
(mig_routine_t) 144.0 373.666 T
4 FF
(r) 288.0 373.666 T
(outine) 291.44 373.666 T
3 FF
(;) 316.44 373.666 T
3 FF
([4]) 87.34 385.666 T
1 FF
(mig_r) 144.0 385.666 T
(eply_setup) 169.37 385.666 T
3 FF
( \(&) 214.93 385.666 T
4 FF
(inmsg) 228.54 385.666 T
3 FF
(, &) 252.43 385.666 T
4 FF
(outmsg) 265.21 385.666 T
3 FF
(\);) 294.1 385.666 T
3 FF
([5]) 87.34 397.666 T
(if \(\() 144.0 397.666 T
4 FF
(r) 159.27 397.666 T
(outine) 162.71 397.666 T
3 FF
( = ) 187.71 397.666 T
4 FF
(sys1) 198.35 397.666 T
1 FF
(_ser) 215.57 397.666 T
(v) 233.24 397.666 T
(er_r) 238.14 397.666 T
(outine) 256.28 397.666 T
3 FF
( \(&) 282.95 397.666 T
4 FF
(inmsg) 296.56 397.666 T
3 FF
(\) != 0\) ||) 320.45 397.666 T
3 FF
([6]) 87.34 409.666 T
(\() 180.0 409.666 T
4 FF
(r) 183.33 409.666 T
(outine) 186.77 409.666 T
3 FF
( = ) 211.77 409.666 T
4 FF
(sys2) 222.41 409.666 T
1 FF
(_ser) 239.63 409.666 T
(v) 257.3 409.666 T
(er_r) 262.2 409.666 T
(outine) 280.34 409.666 T
3 FF
( \(&) 307.01 409.666 T
4 FF
(inmsg) 320.62 409.666 T
3 FF
(\) != 0\) ||) 344.51 409.666 T
3 FF
([7]) 87.34 421.666 T
(\() 180.0 421.666 T
4 FF
(r) 183.33 421.666 T
(outine) 186.77 421.666 T
3 FF
( = ) 211.77 421.666 T
4 FF
(sys3) 222.41 421.666 T
1 FF
(_ser) 239.63 421.666 T
(v) 257.3 421.666 T
(er_r) 262.2 421.666 T
(outine) 280.34 421.666 T
3 FF
( \(&) 307.01 421.666 T
4 FF
(inmsg) 320.62 421.666 T
3 FF
(\) != 0\)\)) 344.51 421.666 T
3 FF
([8]) 87.34 433.666 T
3 FF
({) 144.0 433.666 T
3 FF
([9]) 87.34 445.666 T
(\(*) 180.0 445.666 T
4 FF
(r) 188.33 445.666 T
(outine) 191.77 445.666 T
3 FF
(\) \(&) 216.77 445.666 T
4 FF
(inmsg) 233.71 445.666 T
3 FF
(, &) 257.6 445.666 T
4 FF
(outmsg) 270.38 445.666 T
3 FF
(\);) 299.27 445.666 T
3 FF
([10]) 82.34 457.666 T
3 FF
(return TR) 180.0 457.666 T
(UE;) 218.76 457.666 T
3 FF
([11]) 82.34 469.666 T
3 FF
(}) 144.0 469.666 T
3 FF
([12]) 82.34 481.666 T
3 FF
(else) 144.0 481.666 T
3 FF
([13]) 82.34 493.666 T
3 FF
(return F) 180.0 493.666 T
(ALSE;) 211.2 493.666 T
3 FF
([14]) 82.34 505.666 T
3 FF
(}) 108.0 505.666 T
5 FF
(Synchr) 72.0 535.0 T
(onous, Asynchr) 108.456 535.0 T
(onous and Deferr) 187.584 535.0 T
(ed Pr) 276.696 535.0 T
(ocessing) 304.14 535.0 T
3 FF
72 551.66626 M 0.534973 0 32 (Most client\320serv) widthshow
139.325058 551.66626 M 0.534973 0 32 (er interactions are synchronous \(RPC\): the client mak) widthshow
357.659943 551.66626 M 0.534973 0 32 (es a request of the) widthshow
72 563.666199 M 0.679245 0 32 (serv) widthshow
88.510086 563.666199 M 0.679245 0 32 (er and w) widthshow
124.198639 563.666199 M 0.679245 0 32 (aits for a response; the serv) widthshow
236.584961 563.666199 M 0.679245 0 32 (er recei) widthshow
266.714355 563.666199 M 0.679245 0 32 (v) widthshow
271.564453 563.666199 M 0.679245 0 32 (es the request and directly replies. This) widthshow
72 575.666199 M 0.254974 0 32 (mode of operation is declared as a MIG ) widthshow
4 FF
235.109818 575.666199 M 0.254974 0 32 (r) widthshow
238.550064 575.666199 M 0.254974 0 32 (outine) widthshow
3 FF
263.550049 575.666199 M 0.254974 0 32 (. This mode of operation is recommended) widthshow
(because of general simplicity) 72.0 587.666 T
(.) 188.27 587.666 T
72 611.666138 M 0.632126 0 32 (The problem with synchronous processing is the f) widthshow
276.024963 611.666138 M 0.632126 0 32 (act that clients must w) widthshow
367.893494 611.666138 M 0.632126 0 32 (ait. This can ei-) widthshow
72 623.666138 M 0.14621 0 32 (ther lead to loss of parallelism \(the client thread can\325) widthshow
283.926025 623.666138 M 0.14621 0 32 (t be doing an) widthshow
336.154724 623.666138 M 0.14621 0 32 (ything else\), or a poten-) widthshow
72 635.666138 M 1.785309 0 32 (tial source of denial-of-service if the serv) widthshow
247.511963 635.666138 M 1.785309 0 32 (er is not trusted \(as is the case for e) widthshow
404.229858 635.666138 M 1.785309 0 32 (xternal) widthshow
72 647.666138 M 0.766632 0 32 (memory managers\). F) widthshow
161.423355 647.666138 M 0.766632 0 32 (or these circumstances, asynchronous processing can be desirable.) widthshow
72 659.666138 M 0.337097 0 32 (W) widthshow
81.040222 659.666138 M 0.337097 0 32 (ith asynchronous processing, the client does not w) widthshow
284.389954 659.666138 M 0.337097 0 32 (ait for a response; at some later time) widthshow
72 671.666077 M 0.954544 0 32 (the client may recei) widthshow
153.203781 671.666077 M 0.954544 0 32 (v) widthshow
158.053864 671.666077 M 0.954544 0 32 (e a reply) widthshow
193.743317 671.666077 M 0.954544 0 32 (, b) widthshow
204.497971 671.666077 M 0.954544 0 32 (ut need not. Asynchron) widthshow
300.531677 671.666077 M 0.954544 0 32 (y on the serv) widthshow
354.625427 671.666077 M 0.954544 0 32 (er side can in) widthshow
410.129272 671.666077 M 0.954544 0 32 (v) widthshow
414.929382 671.666077 M 0.954544 0 32 (olv) widthshow
427.559448 671.666077 M 0.954544 0 32 (e) widthshow
72 683.666077 M 1.094131 0 32 (deferring client requests, processing them out of order \(by priority order) widthshow
371.091553 683.666077 M 1.094131 0 32 (, for e) widthshow
396.729919 683.666077 M 1.094131 0 32 (xample\).) widthshow
(Asynchronous processing is discouraged for general use for a v) 72.0 695.666 T
(ariety of reasons:) 325.3 695.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 34 34
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(30 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 180.0 113.651 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
193.535995 113.650665 M 0.464401 0 32 (Asynchronous programming is dif) widthshow
332.169342 113.650665 M 0.464401 0 32 <de63756c742e20497420697320616c736f20646966> widthshow
406.837097 113.650665 M 0.464401 0 32 <de63756c7420746f206d61696e7461696e3b20626f74682074686520636c69656e74> widthshow
(and serv) 193.536 125.651 T
(er code looks lik) 226.986 125.651 T
(e an RPC; the asynchron) 293.266 125.651 T
(y is not immediately e) 391.996 125.651 T
(vident.) 480.636 125.651 T
3 FF
<a5> 180.0 140.651 T
4 FF
(The serv) 193.536 140.651 T
(er must be v) 228.096 140.651 T
(ery careful about the order in which it e) 277.106 140.651 T
(x) 435.246 140.651 T
(ecutes client requests.) 440.096 140.651 T
3 FF
<a5> 180.0 155.651 T
4 FF
193.535995 155.65062 M 0.749512 0 32 (The serv) widthshow
228.845596 155.65062 M 0.749512 0 32 (er\325) widthshow
239.395905 155.65062 M 0.749512 0 32 (s request port is no longer the sole source of control \337o) widthshow
467.640686 155.65062 M 0.749512 0 32 (w; the serv) widthshow
512.869812 155.65062 M 0.749512 0 32 (er also) widthshow
(contrib) 193.536 167.651 T
(utes in the w) 221.666 167.651 T
(ay that it defers or processes these requests.) 272.396 167.651 T
3 FF
<a5> 180.0 182.651 T
4 FF
193.535995 182.650589 M 1.15741 0 32 (Since it is the most common use of Mach IPC, Mach is optimized for synchronous) widthshow
193.535995 194.650574 M 1.018448 0 32 (processing. In particular) widthshow
292.09314 194.650574 M 1.018448 0 32 (, combined send/recei) widthshow
381.360168 194.650574 M 1.018448 0 32 (v) widthshow
386.210266 194.650574 M 1.018448 0 32 (e calls are the most ef) widthshow
477.972656 194.650574 M 1.018448 0 32 <de6369656e742028616e6420746865> widthshow
(type used by the MIG RPC stubs and ) 193.536 206.651 T
0 FF
(mach_msg_ser) 344.646 206.651 T
(v) 407.866 206.651 T
(er) 412.766 206.651 T
4 FF
(\).) 421.646 206.651 T
180 230.650543 M 0.237839 0 32 (Asynchronous processing is necessary at times. There are tw) widthshow
424.802795 230.650543 M 0.237839 0 32 (o w) widthshow
439.660706 230.650543 M 0.237839 0 32 (ays in which this can oc-) widthshow
(cur) 180.0 242.651 T
(.) 192.22 242.651 T
(First, the asynchron) 180.0 266.651 T
(y can be e) 259.01 266.651 T
(xplicitly declared in MIG as a ) 299.12 266.651 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
(simpler) 421.32 266.651 T
(outine) 450.87 266.651 T
4 FF
(.) 475.87 266.651 T
([1]) 195.34 284.65 T
(simpleroutine ) 216.0 284.65 T
0 FF
(asetbalance) 273.5 284.65 T
4 FF
([2]) 195.34 296.65 T
(\() 216.0 296.65 T
([3]) 195.34 308.65 T
5 FF
(server) 252.0 308.65 T
4 FF
(: mach_port_t;) 396.0 308.65 T
([4]) 195.34 320.65 T
(in ) 252.0 320.65 T
5 FF
(balance) 262.28 320.65 T
4 FF
(: int) 396.0 320.65 T
([5]) 195.34 332.65 T
(\)) 216.0 332.65 T
(with the corresponding client call:) 180.0 354.65 T
([1]) 195.34 372.65 T
5 FF
(r) 216.0 372.65 T
(esult) 219.52 372.65 T
4 FF
( = ) 238.41 372.65 T
0 FF
(asetbalance) 249.05 372.65 T
4 FF
( \() 298.49 372.65 T
5 FF
(server) 304.32 372.65 T
4 FF
(, ) 328.91 372.65 T
5 FF
(balance) 333.91 372.65 T
4 FF
(\);) 365.57 372.65 T
(has the follo) 180.0 394.65 T
(wing \(non-replying\) service routine:) 229.19 394.65 T
([1]) 195.34 412.65 T
(k) 216.0 412.65 T
(ern_return_t ) 220.9 412.65 T
0 FF
(asetbalance) 272.83 412.65 T
4 FF
( \(mach_port_t ) 322.27 412.65 T
5 FF
(server) 381.15 412.65 T
4 FF
(, int ) 405.74 412.65 T
5 FF
(balance) 423.8 412.65 T
4 FF
(\)) 455.46 412.65 T
([2]) 195.34 424.65 T
({) 216.0 424.65 T
([3]) 195.34 436.65 T
5 FF
(server_balance ) 252.0 436.65 T
4 FF
(= ) 316.15 436.65 T
5 FF
(balance) 324.29 436.65 T
4 FF
(;) 355.95 436.65 T
([4]) 195.34 448.65 T
(return KERN_SUCCESS;) 252.0 448.65 T
([5]) 195.34 460.65 T
(}) 216.0 460.65 T
180 482.650299 M 0.055695 0 32 (Notice that both the client and serv) widthshow
320.164246 482.650299 M 0.055695 0 32 (er routines appear the same as their synchronous coun-) widthshow
180 494.650269 M 0.873291 0 32 (terparts. The client call still returns a result; this is the success of the message queuing.) widthshow
180 506.650269 M 0.575821 0 32 (The serv) widthshow
215.13591 506.650269 M 0.575821 0 32 (er routine also returns a result v) widthshow
344.980988 506.650269 M 0.575821 0 32 (alue to indicate to the serv) widthshow
452.970184 506.650269 M 0.575821 0 32 (er loop that it has ac-) widthshow
(cepted the request.) 180.0 518.65 T
180 542.650269 M 0.328522 0 32 (In typical asynchronous use, the serv) widthshow
329.242706 542.650269 M 0.328522 0 32 (er w) widthshow
346.961304 542.650269 M 0.328522 0 32 (ould e) widthshow
371.759949 542.650269 M 0.328522 0 32 (v) widthshow
376.610046 542.650269 M 0.328522 0 32 (entually return a reply to the client. This) widthshow
180 554.650208 M 0.203247 0 32 (reply w) widthshow
210.373306 554.650208 M 0.203247 0 32 (ould also ha) widthshow
258.909912 554.650208 M 0.203247 0 32 (v) widthshow
263.76001 554.650208 M 0.203247 0 32 (e to be declared as a ) widthshow
5 FF
348.27948 554.650208 M 0.203247 0 32 (simpler) widthshow
377.829742 554.650208 M 0.203247 0 32 (outine) widthshow
4 FF
402.829742 554.650208 M 0.203247 0 32 ( to MIG. F) widthshow
446.06958 554.650208 M 0.203247 0 32 (or e) widthshow
461.392883 554.650208 M 0.203247 0 32 (xample, gi) widthshow
503.566284 554.650208 M 0.203247 0 32 (v) widthshow
508.416382 554.650208 M 0.203247 0 32 (en what) widthshow
(appears to a client as a synchronous request:) 180.0 566.65 T
([1]) 195.34 584.65 T
(subsystem ) 216.0 584.65 T
0 FF
(client_example) 260.17 584.65 T
4 FF
(362700;) 396.0 584.65 T
([2]) 195.34 596.65 T
(routine ) 216.0 596.65 T
0 FF
(getbalance) 246.83 596.65 T
4 FF
([3]) 195.34 608.65 T
(\() 216.0 608.65 T
([4]) 195.34 620.65 T
5 FF
(server) 252.0 620.65 T
4 FF
(: mach_port_t;) 396.0 620.65 T
([5]) 195.34 632.65 T
(out ) 252.0 632.65 T
5 FF
(balance) 267.28 632.65 T
4 FF
(: int) 396.0 632.65 T
([6]) 195.34 644.65 T
(\)) 216.0 644.65 T
(with the corresponding client call:) 180.0 666.65 T
([1]) 195.34 684.65 T
5 FF
(r) 216.0 684.65 T
(esult) 219.52 684.65 T
4 FF
( = ) 238.41 684.65 T
0 FF
(getbalance) 249.05 684.65 T
4 FF
( \() 294.6 684.65 T
5 FF
(server) 300.43 684.65 T
4 FF
(, &) 325.02 684.65 T
5 FF
(balance) 337.8 684.65 T
4 FF
(\);) 369.46 684.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 35 35
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (31 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic Request Pr) 72.0 56.824 T
(ocessing) 137.331 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(The serv) 72.0 115.667 T
(er could process this asynchronously with the follo) 106.56 115.667 T
(wing pair of MIG de\336nitions:) 309.9 115.667 T
([1]) 87.34 133.667 T
(subsystem ) 108.0 133.667 T
1 FF
(ser) 152.17 133.667 T
(v) 164.84 133.667 T
(er_example) 169.74 133.667 T
3 FF
(362700;) 288.0 133.667 T
([2]) 87.34 145.667 T
(simpleroutine ) 108.0 145.667 T
1 FF
(getbalance) 165.5 145.667 T
3 FF
([3]) 87.34 157.667 T
(\() 108.0 157.667 T
([4]) 87.34 169.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(server) 144.0 169.667 T
3 FF
(: mach_port_t;) 288.0 169.667 T
([5]) 87.34 181.667 T
(sreplyport ) 144.0 181.667 T
4 FF
(r) 187.05 181.667 T
(eply_port) 190.57 181.667 T
3 FF
(: mach_port_mak) 288.0 181.667 T
(e_send_once_t;) 358.17 181.667 T
([6]) 87.34 193.667 T
(out ) 144.0 193.667 T
4 FF
(balance) 159.28 193.667 T
3 FF
(: int) 288.0 193.667 T
([7]) 87.34 205.667 T
(\)) 108.0 205.667 T
72 227.666534 M 0.411179 0 32 (Notice that the serv) widthshow
151.123627 227.666534 M 0.411179 0 32 (er\325) widthshow
161.673935 227.666534 M 0.411179 0 32 (s vie) widthshow
180.445251 227.666534 M 0.411179 0 32 (w of this interf) widthshow
240.738846 227.666534 M 0.411179 0 32 (ace has the same message ID b) widthshow
366.856049 227.666534 M 0.411179 0 32 (ut dif) widthshow
388.407349 227.666534 M 0.411179 0 32 (fers in that) widthshow
72 239.666519 M 1.969101 0 32 (it is declared as a ) widthshow
4 FF
153.215515 239.666519 M 1.969101 0 32 (simpler) widthshow
182.765762 239.666519 M 1.969101 0 32 (outine) widthshow
3 FF
207.765762 239.666519 M 1.969101 0 32 (. An important addition is the ) widthshow
4 FF
339.860352 239.666519 M 1.969101 0 32 (sr) widthshow
347.270569 239.666519 M 1.969101 0 32 (eplyport) widthshow
3 FF
380.600586 239.666519 M 1.969101 0 32 ( declaration.) widthshow
72 251.666504 M 0.707275 0 32 (Since a reply must be generated e) widthshow
210.503754 251.666504 M 0.707275 0 32 (xplicitly by the serv) widthshow
292.195679 251.666504 M 0.707275 0 32 (er) widthshow
299.565887 251.666504 M 0.707275 0 32 (, the serv) widthshow
337.21051 251.666504 M 0.707275 0 32 (er must kno) widthshow
385.595215 251.666504 M 0.707275 0 32 (w the reply) widthshow
(port itself, instead of this being kno) 72.0 263.666 T
(wn merely by the serv) 213.69 263.666 T
(er loop routine.) 302.41 263.666 T
72 287.666473 M 0.598175 0 32 (Since the serv) widthshow
129.146439 287.666473 M 0.598175 0 32 (er is so declared, the MIG stub does not e) widthshow
300.460114 287.666473 M 0.598175 0 32 (xpect a reply) widthshow
352.65683 287.666473 M 0.598175 0 32 (. Not only must the) widthshow
72 299.666443 M 0.388565 0 32 (serv) widthshow
88.510086 299.666443 M 0.388565 0 32 (er generate a reply) widthshow
163.156158 299.666443 M 0.388565 0 32 (, b) widthshow
173.344833 299.666443 M 0.388565 0 32 (ut the reply message must ha) widthshow
290.907776 299.666443 M 0.388565 0 32 (v) widthshow
295.757874 299.666443 M 0.388565 0 32 (e its o) widthshow
320.17511 299.666443 M 0.388565 0 32 (wn MIG de\336nition. A reply) widthshow
(message consists of:) 72.0 311.666 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 72.0 329.666 T
3 FF
(The client\325) 85.536 329.666 T
(s reply port.) 128.586 329.666 T
5 FF
<a5> 72.0 344.666 T
3 FF
(The client\325) 85.536 344.666 T
(s result code \(line [7]\). Note the use of the ) 128.586 344.666 T
4 FF
(r) 299.936 344.666 T
(etcode) 303.457 344.666 T
3 FF
( k) 329.557 344.666 T
(e) 336.957 344.666 T
(yw) 341.247 344.666 T
(ord.) 353.367 344.666 T
5 FF
<a5> 72.0 359.666 T
3 FF
(An) 85.536 359.666 T
(y return v) 97.606 359.666 T
(alues.) 136.236 359.666 T
([1]) 87.34 373.666 T
(type ) 108.0 373.666 T
4 FF
(r) 127.72 373.666 T
(eply_port_t) 131.24 373.666 T
3 FF
( = MA) 177.35 373.666 T
(CH_MSG_TYPE_MO) 203.7 373.666 T
(VE_SEND_ONCE ctype: ) 294.871 373.666 T
(mach_port_t;) 162.0 383.666 T
([2]) 87.34 395.666 T
(msgoption MA) 108.0 395.666 T
(CH_SEND_TIMEOUT) 168.44 395.666 T
(;) 262.881 395.666 T
([3]) 87.34 407.666 T
(subsystem ) 108.0 407.666 T
1 FF
(ser) 152.17 407.666 T
(v) 164.84 407.666 T
(er_example_r) 169.74 407.666 T
(eply) 228.43 407.666 T
3 FF
(363700;) 288.0 407.666 T
([4]) 87.34 419.666 T
(simpleroutine ) 108.0 419.666 T
1 FF
(getbalance_r) 165.5 419.666 T
(eply) 220.31 419.666 T
3 FF
([5]) 87.34 431.666 T
(\() 108.0 431.666 T
([6]) 87.34 443.666 T
4 FF
(r) 144.0 443.666 T
(eply_port) 147.52 443.666 T
3 FF
(: ) 288.0 443.666 T
4 FF
(r) 293.28 443.666 T
(eply_port_t) 296.8 443.666 T
3 FF
(;) 342.91 443.666 T
([7]) 87.34 455.666 T
(in ) 144.0 455.666 T
4 FF
(r) 154.28 455.666 T
(esult) 157.8 455.666 T
3 FF
(: k) 288.0 455.666 T
(ern_return_t, retcode;) 298.18 455.666 T
([8]) 87.34 467.666 T
(in ) 144.0 467.666 T
4 FF
(balance) 154.28 467.666 T
3 FF
(: int) 288.0 467.666 T
([9]) 87.34 479.666 T
(\)) 108.0 479.666 T
72 501.666229 M 0.43811 0 32 (Note that the reply message ID is 100 more than the request message ID. Note that what) widthshow
72 513.666199 M 0.194626 0 32 (were output v) widthshow
127.129395 513.666199 M 0.194626 0 32 (alues in the ) widthshow
4 FF
175.763275 513.666199 M 0.194626 0 32 (r) widthshow
179.203522 513.666199 M 0.194626 0 32 (outine) widthshow
3 FF
204.203522 513.666199 M 0.194626 0 32 ( are no) widthshow
231.552917 513.666199 M 0.194626 0 32 (w input v) widthshow
269.47229 513.666199 M 0.194626 0 32 (alues to the reply stub) widthshow
357.621033 513.666199 M 0.194626 0 32 (. This pair of mes-) widthshow
(sages could ha) 72.0 525.666 T
(v) 130.12 525.666 T
(e the follo) 134.97 525.666 T
(wing \(ef) 175.27 525.666 T
(fecti) 208.62 525.666 T
(v) 226.141 525.666 T
(ely synchronous\) routine:) 230.991 525.666 T
([1]) 87.34 543.666 T
(k) 108.0 543.666 T
(ern_return_t ) 112.9 543.666 T
1 FF
(getbalance) 164.83 543.666 T
3 FF
( \(mach_port_t ) 210.38 543.666 T
4 FF
(server) 269.26 543.666 T
3 FF
(, mach_port_t ) 293.85 543.666 T
4 FF
(r) 351.9 543.666 T
(eply_port) 355.421 543.666 T
3 FF
(, int ) 393.751 543.666 T
(*) 162.0 553.666 T
4 FF
(balance) 167.0 553.666 T
3 FF
(\)) 198.66 553.666 T
([2]) 87.34 565.666 T
({) 108.0 565.666 T
([3]) 87.34 577.666 T
4 FF
(r) 144.0 577.666 T
(esult) 147.52 577.666 T
3 FF
( = ) 166.41 577.666 T
1 FF
(getbalance_r) 177.05 577.666 T
(eply) 231.86 577.666 T
3 FF
( \() 249.64 577.666 T
4 FF
(r) 255.47 577.666 T
(eply_port) 258.991 577.666 T
3 FF
(, KERN_SUCCESS, ) 297.321 577.666 T
4 FF
(server_balance) 198.0 587.666 T
3 FF
(\);) 259.65 587.666 T
([4]) 87.34 599.666 T
(return KERN_SUCCESS;) 144.0 599.666 T
([5]) 87.34 611.666 T
(}) 108.0 611.666 T
72 633.666077 M 0.15686 0 32 (In line [3], the KERN_SUCCESS v) widthshow
215.314438 633.666077 M 0.15686 0 32 (alue is the result code to be returned to the client. The) widthshow
72 645.666077 M 0.582123 0 32 (KERN_SUCCESS v) widthshow
155.402252 645.666077 M 0.582123 0 32 (alue in line [4] indicates to the MIG stub that the client request w) widthshow
423.669922 645.666077 M 0.582123 0 32 (as) widthshow
(accepted.) 72.0 657.666 T
72 681.666016 M 0.673935 0 32 (The ) widthshow
4 FF
90.723938 681.666016 M 0.673935 0 32 (msgoption) widthshow
3 FF
132.393936 681.666016 M 0.673935 0 32 ( of MA) widthshow
162.782028 681.666016 M 0.673935 0 32 (CH_SEND_TIMEOUT is supplied to pro) widthshow
331.987854 681.666016 M 0.673935 0 32 (vide protection ag) widthshow
405.495758 681.666016 M 0.673935 0 32 (ainst a) widthshow
72 693.666016 M 0.610611 0 32 (full reply port. This will cause the send to time-out \(after zero time since the MIG stubs) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 36 36
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(32 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.800659 0 32 (pro) widthshow
193.180084 113.650665 M 0.800659 0 32 (vide a zero v) widthshow
246.702209 113.650665 M 0.800659 0 32 (alue for the time-out ar) widthshow
341.924957 113.650665 M 0.800659 0 32 (gument to ) widthshow
0 FF
386.306274 113.650665 M 0.800659 0 32 (mach_msg) widthshow
3 FF
431.856262 113.650665 M 0.800659 0 32 (\) if the message cannot be) widthshow
(sent.) 180.0 125.651 T
180 149.650635 M 0.293533 0 32 (In some cases, a serv) widthshow
265.164246 149.650635 M 0.293533 0 32 (er may pro) widthshow
308.921387 149.650635 M 0.293533 0 32 (vide a synchronous interf) widthshow
411.072052 149.650635 M 0.293533 0 32 (ace for which some requests for) widthshow
180 161.65062 M 0.671646 0 32 (service are indeed handled synchronously b) widthshow
357.838379 161.65062 M 0.671646 0 32 (ut for which some requests must be deferred) widthshow
180 173.650604 M 1.457214 0 32 (\(perhaps processed out of order\) and therefore processed asynchronously) widthshow
483.138123 173.650604 M 1.457214 0 32 (. In this case,) widthshow
180 185.650589 M 0.235291 0 32 (the client w) widthshow
227.03064 185.650589 M 0.235291 0 32 (ould still see the synchronous \() widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
352.367096 185.650589 M 0.235291 0 32 (r) widthshow
355.807343 185.650589 M 0.235291 0 32 (outine) widthshow
3 FF
380.807343 185.650589 M 0.235291 0 32 (\) MIG de\336nition. The serv) widthshow
487.418579 185.650589 M 0.235291 0 32 (er also w) widthshow
523.889221 185.650589 M 0.235291 0 32 (ants) widthshow
180 197.650574 M 0.048523 0 32 (to use this de\336nition, since it w) widthshow
304.921204 197.650574 M 0.048523 0 32 (ants to use synchronous processing when possible. A serv-) widthshow
180 209.650558 M 0.829315 0 32 (er routine can ha) widthshow
249.208069 209.650558 M 0.829315 0 32 (v) widthshow
254.058151 209.650558 M 0.829315 0 32 (e it both w) widthshow
298.946167 209.650558 M 0.829315 0 32 (ays, that is, to be able to synchronously or asynchronously) widthshow
180 221.650543 M 0.33931 0 32 (handle dif) widthshow
220.359451 221.650543 M 0.33931 0 32 (ferent requests as the) widthshow
305.367493 221.650543 M 0.33931 0 32 (y come in. T) widthshow
356.135864 221.650543 M 0.33931 0 32 (o do this, the serv) widthshow
428.173157 221.650543 M 0.33931 0 32 (er declares its interf) widthshow
508.231171 221.650543 M 0.33931 0 32 (ace as a) widthshow
4 FF
180 233.650528 M 0.121918 0 32 (r) widthshow
183.440247 233.650528 M 0.121918 0 32 (outine) widthshow
3 FF
208.440247 233.650528 M 0.121918 0 32 (. It also needs to declare a ) widthshow
4 FF
315.373688 233.650528 M 0.121918 0 32 (simpler) widthshow
344.92395 233.650528 M 0.121918 0 32 (outine) widthshow
3 FF
369.92395 233.650528 M 0.121918 0 32 ( reply message as abo) widthshow
457.4617 233.650528 M 0.121918 0 32 (v) widthshow
462.311768 233.650528 M 0.121918 0 32 (e to handle the cas-) widthshow
180 245.650513 M 0.290634 0 32 (es when it will defer processing and send its o) widthshow
366.505859 245.650513 M 0.290634 0 32 (wn response. When the serv) widthshow
479.988495 245.650513 M 0.290634 0 32 (er routine does) widthshow
180 257.650513 M 1.178925 0 32 (handle a request synchronously) widthshow
308.697144 257.650513 M 1.178925 0 32 (, it returns KERN_SUCCESS. When the routine wishes) widthshow
180 269.650482 M 0.336304 0 32 (to defer processing, it returns MI) widthshow
313.321533 269.650482 M 0.336304 0 32 (G_NO_REPL) widthshow
368.432068 269.650482 M 0.336304 0 32 (Y) widthshow
374.362793 269.650482 M 0.336304 0 32 (. This tells the serv) widthshow
451.388092 269.650482 M 0.336304 0 32 (er loop not to return a) widthshow
(reply) 180.0 281.65 T
(, b) 199.9 281.65 T
(ut otherwise indicates the serv) 209.7 281.65 T
(er routine did accept the client\325) 330.641 281.65 T
(s request.) 454.781 281.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Consume-On-Success) 180.0 312.984 T
3 FF
180 329.650452 M 0.493317 0 32 (The serv) widthshow
215.053406 329.650452 M 0.493317 0 32 (er loop and message de-multiple) widthshow
346.85675 329.650452 M 0.493317 0 32 (xing routines handle the details of message for-) widthshow
180 341.650452 M 1.747238 0 32 (mats and transmittal. The in-coming request and out-going reply message headers, as) widthshow
180 353.650421 M 0.594131 0 32 (well as the in-line data and descriptors, are considered the property of ) widthshow
0 FF
468.449615 353.650421 M 0.594131 0 32 (mach_msg_ser) widthshow
531.669678 353.650421 M 0.594131 0 32 (v-) widthshow
180 365.650391 M 0.786621 0 32 (er) widthshow
3 FF
188.330307 365.650391 M 0.786621 0 32 (. The serv) widthshow
229.463638 365.650391 M 0.786621 0 32 (er routine allocates space for the messages. It rec) widthshow
431.376709 365.650391 M 0.786621 0 32 (ycles these spaces as it re-) widthshow
180 377.650391 M 2.85762 0 32 (cei) widthshow
191.410141 377.650391 M 2.85762 0 32 (v) widthshow
196.260223 377.650391 M 2.85762 0 32 (es additional messages. F) widthshow
306.34317 377.650391 M 2.85762 0 32 (or ) widthshow
4 FF
320.030792 377.650391 M 2.85762 0 32 (in) widthshow
3 FF
327.810791 377.650391 M 2.85762 0 32 ( ar) widthshow
340.758514 377.650391 M 2.85762 0 32 (guments to the service function, this is not a) widthshow
180 389.650391 M 0.374603 0 32 (problem; all of these v) widthshow
271.238556 389.650391 M 0.374603 0 32 (alues are passed by v) widthshow
356.907104 389.650391 M 0.374603 0 32 (alue. F) widthshow
384.351807 389.650391 M 0.374603 0 32 (or ) widthshow
4 FF
395.556396 389.650391 M 0.374603 0 32 (out) widthshow
3 FF
408.336426 389.650391 M 0.374603 0 32 ( ar) widthshow
418.801117 389.650391 M 0.374603 0 32 (guments, which are passed by) widthshow
180 401.65036 M 0.990753 0 32 (pointer reference \(according to C requirements\), this can be a potential source of error;) widthshow
180 413.65033 M 0.692093 0 32 (the space to which these pointers refer will be rec) widthshow
384.078949 413.65033 M 0.692093 0 32 (ycled when the service routine returns) widthshow
(so it must not attempt to hold these pointers once it returns.) 180.0 425.65 T
180 449.65033 M 1.140747 0 32 (Data not contained in the message body \(out-of-line, declared as pointer types \(\322^\323\) in) widthshow
180 461.650299 M 1.009323 0 32 (MIG\) or port rights \(remember that the v) widthshow
350.395416 461.650299 M 1.009323 0 32 (alue in the message is a port name, the actual) widthshow
180 473.650269 M 0.611496 0 32 (right is k) widthshow
216.683044 473.650269 M 0.611496 0 32 (ernel protected and not actually in the message\) need special processing. These) widthshow
180 485.650269 M 0.162277 0 32 (resources \(port rights and out-of-line memory\) must be counted in some w) widthshow
479.695129 485.650269 M 0.162277 0 32 (ay and de-allo-) widthshow
180 497.650269 M 0.837479 0 32 (cated when no longer needed. The responsibility for dealing with these resources v) widthshow
521.119934 497.650269 M 0.837479 0 32 (aries) widthshow
(with circumstances.) 180.0 509.65 T
180 533.650208 M 0.361511 0 32 (The basic rule is referred to as ) widthshow
4 FF
306.100586 533.650208 M 0.361511 0 32 (consume-on-success) widthshow
3 FF
387.740601 533.650208 M 0.361511 0 32 (. An) widthshow
405.172211 533.650208 M 0.361511 0 32 (y resources present in the request) widthshow
180 545.650208 M 0.578537 0 32 (message are the responsibility of the service function, if it is successful in responding to) widthshow
(the request. Success is de\336ned in tw) 180.0 557.65 T
(o w) 324.05 557.65 T
(ays:) 338.67 557.65 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 180.0 575.65 T
3 FF
193.535995 575.650146 M 0.649414 0 32 (Returning KERN_SUCCESS. This says that the user\325) widthshow
412.162781 575.650146 M 0.649414 0 32 (s request w) widthshow
458.351685 575.650146 M 0.649414 0 32 (as processed and all) widthshow
(in-coming resources are recorded or de-allocated. A success reply message is sent.) 193.536 587.65 T
6 FF
<a5> 180.0 602.65 T
3 FF
193.535995 602.650146 M 0.649292 0 32 (Returning MIG_NO_REPL) widthshow
304.015839 602.650146 M 0.649292 0 32 (Y) widthshow
309.946533 602.650146 M 0.649292 0 32 (. This says that the user\325) widthshow
409.853333 602.650146 M 0.649292 0 32 (s request has been accepted and) widthshow
193.535995 614.650146 M 0.857193 0 32 (all in-coming resources are recorded by the serv) widthshow
391.826477 614.650146 M 0.857193 0 32 (er routine. No reply message is sent) widthshow
3 FF
(at this time.) 193.536 626.65 T
(F) 180.0 650.65 T
(ailure is de\336ned in tw) 185.41 650.65 T
(o w) 271.97 650.65 T
(ays as well:) 286.59 650.65 T
6 FF
<a5> 180.0 668.65 T
3 FF
193.535995 668.650085 M 0.803604 0 32 (Returning MIG_DESTR) widthshow
292.549805 668.650085 M 0.803604 0 32 (O) widthshow
299.270081 668.650085 M 0.803604 0 32 (Y_REQ) widthshow
331.390137 668.650085 M 0.803604 0 32 (UEST) widthshow
355.650574 668.650085 M 0.803604 0 32 (. This says that the user\325) widthshow
456.328888 668.650085 M 0.803604 0 32 (s request w) widthshow
502.826172 668.650085 M 0.803604 0 32 (as reject-) widthshow
193.535995 680.650085 M 0.731125 0 32 (ed and no reply should be sent. ) widthshow
0 FF
325.303894 680.650085 M 0.731125 0 32 (mach_msg_ser) widthshow
388.523926 680.650085 M 0.731125 0 32 (v) widthshow
393.424011 680.650085 M 0.731125 0 32 (er) widthshow
3 FF
402.304016 680.650085 M 0.731125 0 32 ( will destro) widthshow
448.666321 680.650085 M 0.731125 0 32 (y all resources present) widthshow
(in the in-coming message.) 193.536 692.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 37 37
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (33 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic Request Pr) 72.0 56.824 T
(ocessing) 137.331 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 72.0 115.667 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
85.535995 115.666656 M 0.839493 0 32 (Returning an) widthshow
138.165573 115.666656 M 0.839493 0 32 (y other v) widthshow
175.144699 115.666656 M 0.839493 0 32 (alue. This says that the user\325) widthshow
292.662476 115.666656 M 0.839493 0 32 (s request w) widthshow
339.231506 115.666656 M 0.839493 0 32 (as rejected and a reply) widthshow
85.535995 127.666641 M 0.818817 0 32 (message should be sent carrying this error v) widthshow
266.817871 127.666641 M 0.818817 0 32 (alue and null v) widthshow
328.184448 127.666641 M 0.818817 0 32 (alues for the other output) widthshow
85.535995 139.666626 M 1.993744 0 32 (parameters. ) widthshow
1 FF
136.39975 139.666626 M 1.993744 0 32 (mach_msg_ser) widthshow
199.619812 139.666626 M 1.993744 0 32 (v) widthshow
204.519867 139.666626 M 1.993744 0 32 (er) widthshow
4 FF
213.399872 139.666626 M 1.993744 0 32 ( will destro) widthshow
262.287415 139.666626 M 1.993744 0 32 (y all resources present in the in-coming) widthshow
(message.) 85.536 151.667 T
4 FF
72 175.666595 M 0.578491 0 32 (Note that these beha) widthshow
154.905594 175.666595 M 0.578491 0 32 (viors occur whether the serv) widthshow
270.369659 175.666595 M 0.578491 0 32 (er routine w) widthshow
319.746704 175.666595 M 0.578491 0 32 (as a ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
338.673706 175.666595 M 0.578491 0 32 (r) widthshow
342.113953 175.666595 M 0.578491 0 32 (outine) widthshow
4 FF
367.113953 175.666595 M 0.578491 0 32 ( or a ) widthshow
5 FF
389.119415 175.666595 M 0.578491 0 32 (simpler) widthshow
418.669678 175.666595 M 0.578491 0 32 (ou-) widthshow
(tine) 72.0 187.667 T
4 FF
(. Therefore, the return code from asynchronous serv) 87.0 187.667 T
(er functions is important.) 294.84 187.667 T
(F) 72.0 211.667 T
(or e) 77.41 211.667 T
(xample:) 92.53 211.667 T
([1]) 87.34 229.667 T
(type ) 108.0 229.667 T
5 FF
(memory_t) 127.72 229.667 T
4 FF
( = ^array [] of MA) 167.71 229.667 T
(CH_MSG_TYPE_INT_32 ctype: ) 241.78 229.667 T
(vm_address_t;) 162.0 239.667 T
([2]) 87.34 251.667 T
(routine ) 108.0 251.667 T
1 FF
(setv) 138.83 251.667 T
(alues) 155.39 251.667 T
4 FF
([3]) 87.34 263.667 T
(\() 108.0 263.667 T
([4]) 87.34 275.666 T
5 FF
(server) 144.0 275.666 T
4 FF
(: mach_port_t;) 288.0 275.666 T
([5]) 87.34 287.666 T
(in ) 144.0 287.666 T
5 FF
(values) 154.28 287.666 T
4 FF
(: ) 288.0 287.666 T
5 FF
(memory_t) 293.28 287.666 T
4 FF
([6]) 87.34 299.666 T
(\)) 108.0 299.666 T
(with the corresponding client call:) 72.0 321.666 T
([1]) 87.34 339.666 T
5 FF
(addr) 108.0 339.666 T
(ess) 126.52 339.666 T
4 FF
( = 0;) 138.74 339.666 T
([2]) 87.34 351.666 T
(\(v) 108.0 351.666 T
(oid\) ) 116.13 351.666 T
1 FF
(vm_allocate) 134.74 351.666 T
4 FF
( \() 185.84 351.666 T
1 FF
(mach_task_self) 191.67 351.666 T
4 FF
( \(\), &) 257.22 351.666 T
5 FF
(addr) 279.16 351.666 T
(ess) 297.68 351.666 T
4 FF
(, sizeof \(int\) * ) 309.9 351.666 T
5 FF
(size) 368.5 351.666 T
4 FF
(, TR) 383.5 351.666 T
(UE\);) 400.881 351.666 T
([3]) 87.34 363.666 T
<de6c6c20696e2076> 108.0 363.666 T
(alues...) 136.65 363.666 T
([4]) 87.34 375.666 T
5 FF
(r) 108.0 375.666 T
(esult) 111.52 375.666 T
4 FF
( = ) 130.41 375.666 T
1 FF
(setv) 141.05 375.666 T
(alues) 157.61 375.666 T
4 FF
( \() 179.28 375.666 T
5 FF
(server) 185.11 375.666 T
4 FF
(, ) 209.7 375.666 T
5 FF
(addr) 214.7 375.666 T
(ess) 233.221 375.666 T
4 FF
(, ) 245.441 375.666 T
5 FF
(size) 250.441 375.666 T
4 FF
(\);) 265.441 375.666 T
([5]) 87.34 387.666 T
1 FF
(vm_deallocate) 108.0 387.666 T
4 FF
( \() 169.1 387.666 T
1 FF
(mach_task_self) 174.93 387.666 T
4 FF
( \(\), ) 240.48 387.666 T
5 FF
(addr) 254.64 387.666 T
(ess) 273.16 387.666 T
4 FF
(, sizeof \(int\) * ) 285.38 387.666 T
5 FF
(size) 343.98 387.666 T
4 FF
(\);) 358.98 387.666 T
72 409.666351 M 0.68576 0 32 (\(Of course, the ) widthshow
5 FF
136.257294 409.666351 M 0.68576 0 32 (values) widthshow
4 FF
161.807297 409.666351 M 0.68576 0 32 ( parameter could ha) widthshow
242.804703 409.666351 M 0.68576 0 32 (v) widthshow
247.654785 409.666351 M 0.68576 0 32 (e the de-allocate \337ag set.\) The corresponding) widthshow
(serv) 72.0 421.666 T
(er routine w) 88.51 421.666 T
(ould be as follo) 136.73 421.666 T
(ws:) 198.42 421.666 T
([1]) 87.34 439.666 T
(k) 108.0 439.666 T
(ern_return_t ) 112.9 439.666 T
1 FF
(setv) 164.83 439.666 T
(alues) 181.39 439.666 T
4 FF
( \(mach_port_t ) 203.06 439.666 T
5 FF
(server) 261.94 439.666 T
4 FF
(, vm_address_t ) 286.53 439.666 T
5 FF
(addr) 349.58 439.666 T
(ess) 368.101 439.666 T
4 FF
(, vm_size_t ) 380.321 439.666 T
5 FF
(size) 162.0 449.666 T
4 FF
(\)) 177.0 449.666 T
([2]) 87.34 461.666 T
({) 108.0 461.666 T
([3]) 87.34 473.666 T
(if \() 144.0 473.666 T
5 FF
(size) 155.94 473.666 T
4 FF
( > MAX_SIZE\)) 170.94 473.666 T
([4]) 87.34 485.666 T
(return SER) 180.0 485.666 T
(VICE_T) 223.92 485.666 T
(OO_BIG;) 258.181 485.666 T
([5]) 87.34 497.666 T
(cop) 144.0 497.666 T
(y v) 158.34 497.666 T
(alues...) 170.59 497.666 T
([6]) 87.34 509.666 T
1 FF
(vm_deallocate) 144.0 509.666 T
4 FF
( \() 205.1 509.666 T
1 FF
(mach_task_self) 210.93 509.666 T
4 FF
( \(\), ) 276.48 509.666 T
5 FF
(addr) 290.64 509.666 T
(ess) 309.16 509.666 T
4 FF
(, sizeof \(int\) * ) 321.38 509.666 T
5 FF
(size) 379.98 509.666 T
4 FF
(\);) 394.98 509.666 T
([7]) 87.34 521.666 T
(return KERN_SUCCESS;) 144.0 521.666 T
([8]) 87.34 533.666 T
(}) 108.0 533.666 T
(Notice that the memory is de-allocated only in the success path.) 72.0 555.666 T
(Lik) 72.0 579.666 T
(e) 85.79 579.666 T
(wise,) 89.98 579.666 T
([1]) 87.34 597.666 T
(routine ) 108.0 597.666 T
1 FF
(gi) 138.83 597.666 T
(v) 146.51 597.666 T
(eport) 151.41 597.666 T
4 FF
([2]) 87.34 609.666 T
(\() 108.0 609.666 T
([3]) 87.34 621.666 T
5 FF
(server) 144.0 621.666 T
4 FF
(: mach_port_t;) 288.0 621.666 T
([4]) 87.34 633.666 T
(in ) 144.0 633.666 T
5 FF
(port) 154.28 633.666 T
4 FF
(: mach_port_t = ) 288.0 633.666 T
(MA) 198.0 643.666 T
(CH_MSG_TYPE_MO) 213.71 643.666 T
(VE_RECEIVE) 304.88 643.666 T
([5]) 87.34 655.666 T
(\)) 108.0 655.666 T
(with the corresponding client call:) 72.0 677.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 38 38
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(34 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([1]) 195.34 113.651 T
(\(v) 216.0 113.651 T
(oid\) ) 224.13 113.651 T
0 FF
(mach_port_allocate) 242.74 113.651 T
3 FF
( \() 327.17 113.651 T
0 FF
(mach_task_self) 333.0 113.651 T
3 FF
( \(\), ) 398.55 113.651 T
(MA) 270.0 123.651 T
(CH_POR) 285.71 123.651 T
(T_RIGHT_RECEIVE, &) 323.451 123.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(port) 425.111 123.651 T
3 FF
(\);) 441.781 123.651 T
([2]) 195.34 135.651 T
4 FF
(r) 216.0 135.651 T
(esult) 219.52 135.651 T
3 FF
( = ) 238.41 135.651 T
0 FF
(gi) 249.05 135.651 T
(v) 256.73 135.651 T
(eport) 261.63 135.651 T
3 FF
( \() 284.4 135.651 T
4 FF
(server) 290.23 135.651 T
3 FF
(, ) 314.821 135.651 T
4 FF
(port) 319.821 135.651 T
3 FF
(\);) 336.491 135.651 T
(The corresponding serv) 180.0 157.651 T
(er routine w) 274.27 157.651 T
(ould be as follo) 322.49 157.651 T
(ws:) 384.18 157.651 T
([1]) 195.34 175.651 T
(k) 216.0 175.651 T
(ern_return_t ) 220.9 175.651 T
0 FF
(gi) 272.83 175.651 T
(v) 280.51 175.651 T
(eport) 285.41 175.651 T
3 FF
( \(mach_port_t ) 308.18 175.651 T
4 FF
(server) 367.06 175.651 T
3 FF
(, mach_port_t ) 391.65 175.651 T
4 FF
(port) 449.7 175.651 T
3 FF
(\)) 466.37 175.651 T
([2]) 195.34 187.651 T
({) 216.0 187.651 T
([3]) 195.34 199.651 T
(if \(MA) 252.0 199.651 T
(CH_POR) 279.65 199.651 T
(T_V) 317.391 199.651 T
(ALID \() 334.371 199.651 T
4 FF
(port) 364.081 199.651 T
3 FF
(\)\)) 380.751 199.651 T
([4]) 195.34 211.651 T
0 FF
(mach_port_mod_r) 288.0 211.651 T
(efs) 367.81 211.651 T
3 FF
( \() 379.47 211.651 T
0 FF
(mach_task_self) 385.3 211.651 T
3 FF
( \(\), ) 450.85 211.651 T
4 FF
(port) 465.01 211.651 T
3 FF
(, ) 481.68 211.651 T
(MA) 342.0 221.651 T
(CH_POR) 357.71 221.651 T
(T_RIGHT_RECEIVE, -1\);) 395.451 221.651 T
([5]) 195.34 233.651 T
(return KERN_SUCCESS;) 252.0 233.651 T
([6]) 195.34 245.651 T
(}) 216.0 245.651 T
180 267.650513 M 0.809204 0 32 (What about resources in reply messages? Since the serv) widthshow
409.60376 267.650513 M 0.809204 0 32 (er routine loses control after re-) widthshow
180 279.650482 M 0.233795 0 32 (turning to the MIG stub, it can do nothing. Therefore, ) widthshow
0 FF
399.257965 279.650482 M 0.233795 0 32 (mach_msg_ser) widthshow
462.478027 279.650482 M 0.233795 0 32 (v) widthshow
467.378082 279.650482 M 0.233795 0 32 (er) widthshow
3 FF
476.258087 279.650482 M 0.233795 0 32 ( has the respon-) widthshow
180 291.650452 M 1.871826 0 32 (sibility) widthshow
207.14035 291.650452 M 1.871826 0 32 (. The only w) widthshow
263.205872 291.650452 M 1.871826 0 32 (ay to dispose of the resources in the reply message is to use the) widthshow
180 303.650452 M 1.026642 0 32 (appropriate port types that cause mo) widthshow
330.233307 303.650452 M 1.026642 0 32 (v) widthshow
335.083374 303.650452 M 1.026642 0 32 (ement of the rights, or the appropriate de-allocate) widthshow
180 315.650452 M 0.485306 0 32 <df616720736f2074686174206f75742d6f662d6c696e65206d656d6f72792069732064656c65746564207768656e20746865207265706c79206d657373616765206973207175657565642e20496620746865206d65732d> widthshow
180 327.650421 M 0.331757 0 32 (sage cannot be deli) widthshow
257.115417 327.650421 M 0.331757 0 32 (v) widthshow
261.965515 327.650421 M 0.331757 0 32 (ered, ) widthshow
0 FF
284.507263 327.650421 M 0.331757 0 32 (mach_msg_ser) widthshow
347.727325 327.650421 M 0.331757 0 32 (v) widthshow
352.62738 327.650421 M 0.331757 0 32 (er) widthshow
3 FF
361.507385 327.650421 M 0.331757 0 32 ( tak) widthshow
376.459198 327.650421 M 0.331757 0 32 (es the responsibility of destro) widthshow
495.456299 327.650421 M 0.331757 0 32 (ying all re-) widthshow
(sources that w) 180.0 339.65 T
(ould ha) 237.11 339.65 T
(v) 266.63 339.65 T
(e been destro) 271.48 339.65 T
(yed \(or mo) 324.14 339.65 T
(v) 367.87 339.65 T
(ed\) if the message had been sent.) 372.72 339.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(P) 180.0 370.984 T
(ort Refer) 187.092 370.984 T
(ence Maintenance) 233.844 370.984 T
3 FF
180 387.650391 M 2.104111 0 32 (As mentioned abo) widthshow
256.828308 387.650391 M 2.104111 0 32 (v) widthshow
261.678406 387.650391 M 2.104111 0 32 (e, serv) widthshow
289.732605 387.650391 M 2.104111 0 32 (er routines are responsible for the maintenance of the port) widthshow
180 399.650391 M 1.216583 0 32 (rights the) widthshow
218.566666 399.650391 M 1.216583 0 32 (y recei) widthshow
246.463394 399.650391 M 1.216583 0 32 (v) widthshow
251.313477 399.650391 M 1.216583 0 32 (e in messages. Also, the interf) widthshow
377.556458 399.650391 M 1.216583 0 32 (ace de\336nitions must specify the correct) widthshow
(disposition of port rights in outgoing \(reply\) messages.) 180.0 411.65 T
180 435.65033 M 1.131241 0 32 (The request port in the incoming message is not a concern. This port right is a special) widthshow
180 447.65033 M 0.499954 0 32 (case in message transmission; the act of recei) widthshow
364.599854 447.65033 M 0.499954 0 32 (ving the message does not cause the recep-) widthshow
180 459.65033 M 0.731232 0 32 (tion of the send right \(or no) widthshow
294.127533 459.65033 M 0.731232 0 32 (w dead send-once right\) used to send the message. The port) widthshow
180 471.650299 M 1.4384 0 32 (name in the recei) widthshow
252.65535 471.650299 M 1.4384 0 32 (v) widthshow
257.505432 471.650299 M 1.4384 0 32 (ed message header names the recei) widthshow
404.117615 471.650299 M 1.4384 0 32 (v) widthshow
408.967682 471.650299 M 1.4384 0 32 (e right o) widthshow
445.024567 471.650299 M 1.4384 0 32 (v) widthshow
449.874634 471.650299 M 1.4384 0 32 (er which the message) widthshow
(w) 180.0 483.65 T
(as recei) 187.12 483.65 T
(v) 217.13 483.65 T
(ed; the send right count for this name is unaf) 221.98 483.65 T
(fected.) 400.32 483.65 T
180 507.650269 M 0.637665 0 32 (MIG generated stubs produce send-once rights for reply ports. As such, when the serv) widthshow
532.229736 507.650269 M 0.637665 0 32 (er) widthshow
180 519.650269 M 0.581818 0 32 (produces a reply) widthshow
246.604004 519.650269 M 0.581818 0 32 (, this right will v) widthshow
315.081421 519.650269 M 0.581818 0 32 (anish. If a reply is e) widthshow
396.710571 519.650269 M 0.581818 0 32 (xplicitly generated, as in the e) widthshow
519.449768 519.650269 M 0.581818 0 32 (xam-) widthshow
180 531.650269 M 0.32196 0 32 (ple abo) widthshow
209.332047 531.650269 M 0.32196 0 32 (v) widthshow
214.182129 531.650269 M 0.32196 0 32 (e, the reply port \(which appears as the request port for the reply generating stub\)) widthshow
180 543.650208 M 1.213867 0 32 (must specify MA) widthshow
251.467957 543.650208 M 1.213867 0 32 (CH_MSG_TYPE_MO) widthshow
342.638245 543.650208 M 1.213867 0 32 (VE_SEND_ONCE. \(Standard type ) widthshow
4 FF
489.039856 543.650208 M 1.213867 0 32 (mac) widthshow
505.549927 543.650208 M 1.213867 0 32 (h_port_t) widthshow
3 FF
(def) 180.0 555.65 T
(aults to MA) 192.67 555.65 T
(CH_MSG_TYPE_COPY_SEND.\)) 240.05 555.65 T
180 579.650208 M 0.70636 0 32 (The dif) widthshow
209.616501 579.650208 M 0.70636 0 32 <de63756c74696573206172697365207768656e206f7468657220706f72742072696768747320617265207265636569> widthshow
395.101196 579.650208 M 0.70636 0 32 (v) widthshow
399.951263 579.650208 M 0.70636 0 32 (ed in a message. These port rights) widthshow
180 591.650146 M 0.907059 0 32 (do accumulate in the serv) widthshow
285.678345 591.650146 M 0.907059 0 32 (er) widthshow
292.898621 591.650146 M 0.907059 0 32 (. F) widthshow
304.215759 591.650146 M 0.907059 0 32 (or instance, e) widthshow
358.820038 591.650146 M 0.907059 0 32 (v) widthshow
363.670105 591.650146 M 0.907059 0 32 (ery message from the k) widthshow
460.508423 591.650146 M 0.907059 0 32 (ernel to an e) widthshow
512.229675 591.650146 M 0.907059 0 32 (xternal) widthshow
180 603.650146 M 0.925674 0 32 (memory manager recei) widthshow
273.791504 603.650146 M 0.925674 0 32 (v) widthshow
278.641602 603.650146 M 0.925674 0 32 (es a ne) widthshow
307.453064 603.650146 M 0.925674 0 32 (w send right for the memory cache control port to name) widthshow
180 615.650146 M 0.266373 0 32 (the k) widthshow
199.886429 615.650146 M 0.266373 0 32 (ernel making the request. The serv) widthshow
339.368408 615.650146 M 0.266373 0 32 (er can remo) widthshow
386.951233 615.650146 M 0.266373 0 32 (v) widthshow
391.801331 615.650146 M 0.266373 0 32 (e each user right reference each time) widthshow
180 627.650146 M 0.556595 0 32 (it recei) widthshow
207.796738 627.650146 M 0.556595 0 32 (v) widthshow
212.64682 627.650146 M 0.556595 0 32 (es one, b) widthshow
248.830124 627.650146 M 0.556595 0 32 (ut this can be costly) widthshow
329.846863 627.650146 M 0.556595 0 32 (. Instead, it is typical practice to k) widthshow
468.903076 627.650146 M 0.556595 0 32 (eep a count of all) widthshow
(such accumulated rights and to periodically remo) 180.0 639.65 T
(v) 377.04 639.65 T
(e them en masse.) 381.89 639.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 39 39
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (35 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Single-Thr) 72.0 56.824 T
(eaded Ser) 113.346 56.824 T
(v) 151.002 56.824 T
(er Example) 155.412 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 121.999969 360 3.024002 CR
0 G
432 123.51 M
72 123.51 L
S
0 0 612 792 CR
3 (Times-Bold) 14 1 mymakefontmetric
3 FF
(Single-Thr) 72.0 118.333 T
(eaded Ser) 136.316 118.333 T
(v) 194.892 118.333 T
(er Example) 201.752 118.333 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 142.690628 M 0.235245 0 32 (The follo) widthshow
108.925385 142.690628 M 0.235245 0 32 (wing source is a simpli\336ed v) widthshow
224.671692 142.690628 M 0.235245 0 32 (ersion of the core of the ) widthshow
1 FF
323.833191 142.690628 M 0.235245 0 32 (machid) widthshow
4 FF
355.503174 142.690628 M 0.235245 0 32 ( serv) widthshow
374.748505 142.690628 M 0.235245 0 32 (er) widthshow
381.968811 142.690628 M 0.235245 0 32 (. This serv) widthshow
424.22937 142.690628 M 0.235245 0 32 (er) widthshow
72 154.690613 M 2.266342 0 32 (maintains a mapping between port \(send\) rights and MachIDs \(inte) widthshow
360.257202 154.690613 M 2.266342 0 32 (gers\) naming the) widthshow
72 166.690598 M 0.343704 0 32 (ports. The serv) widthshow
132.247498 166.690598 M 0.343704 0 32 (er pro) widthshow
156.04129 166.690598 M 0.343704 0 32 (vides requests to return a send right gi) widthshow
310.677368 166.690598 M 0.343704 0 32 (v) widthshow
315.527466 166.690598 M 0.343704 0 32 (en a MachID or to return the) widthshow
72 178.690582 M 0.466843 0 32 (MachID gi) widthshow
115.816986 178.690582 M 0.466843 0 32 (v) widthshow
120.667068 178.690582 M 0.466843 0 32 (en a send right. All send rights to the same port will ha) widthshow
345.219299 178.690582 M 0.466843 0 32 (v) widthshow
350.069397 178.690582 M 0.466843 0 32 (e the same MachID.) widthshow
72 190.690567 M 0.899307 0 32 (Whene) widthshow
100.070145 190.690567 M 0.899307 0 32 (v) widthshow
104.920227 190.690567 M 0.899307 0 32 (er a ne) widthshow
133.118988 190.690567 M 0.899307 0 32 (w send right is presented to the serv) widthshow
282.854248 190.690567 M 0.899307 0 32 (er \(one it hasn\325) widthshow
345.632263 190.690567 M 0.899307 0 32 (t seen before\), a ne) widthshow
424.779663 190.690567 M 0.899307 0 32 (w) widthshow
72 202.690552 M 0.729401 0 32 (MachID is assigned for it. The <MachID, send right> pair is added to a pair of hash ta-) widthshow
72 214.690536 M 1.578522 0 32 (bles. This entry will continue to e) widthshow
215.481216 214.690536 M 1.578522 0 32 (xist until the port is destro) widthshow
328.003876 214.690536 M 1.578522 0 32 (yed. The serv) widthshow
385.161011 214.690536 M 1.578522 0 32 (er becomes) widthshow
(a) 72.0 226.691 T
(w) 76.29 226.691 T
(are of this via a dead-name noti\336cation for the port.) 83.41 226.691 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(T) 72.0 258.024 T
(ype De\336nitions) 79.116 258.024 T
4 FF
72 274.690491 M 1.338379 0 32 (The de\336nition of the serv) widthshow
178.303604 274.690491 M 1.338379 0 32 (er\325) widthshow
188.853912 274.690491 M 1.338379 0 32 (s interf) widthshow
218.142349 274.690491 M 1.338379 0 32 (ace includes a custom C type ) widthshow
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
345.042633 274.690491 M 1.338379 0 32 (mac) widthshow
361.552734 274.690491 M 1.338379 0 32 (h_id_t) widthshow
4 FF
387.112732 274.690491 M 1.338379 0 32 ( which de-) widthshow
<de6e65732074686520636c69656e74206e616d6520666f7220612073656e6420726967687420616e6420746865204d49472065717569> 72.0 286.69 T
(v) 290.88 286.69 T
(alent thereof.) 295.63 286.69 T
([1]) 87.34 304.69 T
(#ifndef _MA) 108.0 304.69 T
(CHID_TYPES_H_) 160.09 304.69 T
([2]) 87.34 316.69 T
(#de\336ne _MA) 108.0 316.69 T
(CHID_TYPES_H_) 160.65 316.69 T
72 321.023804 360 9 CR
1 G
72 321.023804 360 9 NF
0 G
4 FF
(/*) 91.224 328.855 T
3 SL
0 SC
0.6667 G
422.91 325.52 M
422.91 330.77 L
432 325.52 L
422.91 320.27 L
F
422.91 325.52 M
108 325.52 L
S
0 0 612 792 CR
0 G
4 FF
(File: ) 108.0 337.69 T
1 FF
(machid_types.h) 128.84 337.69 T
(A) 108.0 347.69 T
4 FF
(uthor: Richard P) 115.22 347.69 T
(. Dra) 180.221 347.69 T
(v) 200.011 347.69 T
(es) 204.861 347.69 T
72 360.023743 360 9 CR
1 G
72 360.023743 360 9 NF
0 G
4 FF
(*/) 90.0 367.85 T
0.6667 G
117.09 364.52 M
117.09 359.27 L
108 364.52 L
117.09 369.77 L
F
432 364.52 M
117.09 364.52 L
S
0 0 612 792 CR
0 G
4 FF
(External de\336nitions for ) 108.0 357.69 T
1 FF
(machid) 203.27 357.69 T
4 FF
(.) 234.94 357.69 T
([3]) 87.34 378.69 T
(typedef unsigned int) 108.0 378.69 T
6 FF
(mac) 288.0 378.69 T
(h_id_t) 304.51 378.69 T
4 FF
(;) 330.07 378.69 T
([4]) 87.34 390.69 T
(#endif _MA) 108.0 390.69 T
(CHID_TYPES_H_) 156.76 390.69 T
72 412.690369 M 0.29808 0 32 (MIG types. It is good practice to place type de\336nitions in separate MIG \336les from the in-) widthshow
(terf) 72.0 424.69 T
(ace de\336nitions. Notice the importation of the corresponding C header \336le.) 85.78 424.69 T
([1]) 87.34 442.69 T
(#ifndef _MA) 108.0 442.69 T
(CHID_TYPES_DEFS_) 160.09 442.69 T
([2]) 87.34 454.69 T
(#de\336ne _MA) 108.0 454.69 T
(CHID_TYPES_DEFS_) 160.65 454.69 T
72 459.023651 360 9 CR
1 G
72 459.023651 360 9 NF
0 G
4 FF
(/*) 91.224 466.855 T
0.6667 G
422.91 463.52 M
422.91 468.77 L
432 463.52 L
422.91 458.27 L
F
422.91 463.52 M
108 463.52 L
S
0 0 612 792 CR
0 G
4 FF
(File: ) 108.0 475.69 T
1 FF
(machid_types.defs) 128.84 475.69 T
4 FF
(Author: Richard P) 108.0 485.69 T
(. Dra) 180.221 485.69 T
(v) 200.011 485.69 T
(es) 204.861 485.69 T
72 498.023621 360 9 CR
1 G
72 498.023621 360 9 NF
0 G
4 FF
(*/) 90.0 505.85 T
0.6667 G
117.09 502.52 M
117.09 497.27 L
108 502.52 L
117.09 507.77 L
F
432 502.52 M
117.09 502.52 L
S
0 0 612 792 CR
0 G
4 FF
(MIG de\336nitions for ) 108.0 495.69 T
1 FF
(machid) 188.83 495.69 T
4 FF
(.) 220.5 495.69 T
([3]) 87.34 516.69 T
(#include <mach/std_types.defs>) 108.0 516.69 T
([4]) 87.34 528.69 T
(type ) 108.0 528.69 T
6 FF
(mac) 127.72 528.69 T
(h_id_t) 144.23 528.69 T
4 FF
( = unsigned;) 169.79 528.69 T
([5]) 87.34 540.69 T
(import \322) 108.0 540.69 T
1 FF
(machid_types) 141.61 540.69 T
4 FF
(.h\323;) 200.5 540.69 T
([6]) 87.34 552.69 T
(#endif _MA) 108.0 552.69 T
(CHID_TYPES_DEFS_) 156.76 552.69 T
5 FF
(Interface De\336nitions) 72.0 582.024 T
4 FF
72 598.690186 M 0.966034 0 32 (Notice the use of ) widthshow
6 FF
146.404144 598.690186 M 0.966034 0 32 (userpr) widthshow
172.144348 598.690186 M 0.966034 0 32 (e\336x) widthshow
4 FF
186.024353 598.690186 M 0.966034 0 32 ( and ) widthshow
6 FF
207.396423 598.690186 M 0.966034 0 32 (serverpr) widthshow
240.906631 598.690186 M 0.966034 0 32 (e\336x) widthshow
4 FF
254.786636 598.690186 M 0.966034 0 32 ( declarations. In this w) widthshow
349.37085 598.690186 M 0.966034 0 32 (ay) widthshow
358.161194 598.690186 M 0.966034 0 32 (, client and serv) widthshow
424.22937 598.690186 M 0.966034 0 32 (er) widthshow
72 610.690186 M 0.972626 0 32 (side routines will ha) widthshow
155.547989 610.690186 M 0.972626 0 32 (v) widthshow
160.398071 610.690186 M 0.972626 0 32 (e distinct names. This can be v) widthshow
289.123901 610.690186 M 0.972626 0 32 (ery useful if both client and serv) widthshow
424.229767 610.690186 M 0.972626 0 32 (er) widthshow
(functions are bound into the same program, perhaps during testing.) 72.0 622.69 T
72 646.690186 M 0.597076 0 32 (The ) widthshow
1 FF
90.647079 646.690186 M 0.597076 0 32 (r) widthshow
94.907181 646.690186 M 0.597076 0 32 (egister) widthshow
4 FF
123.227188 646.690186 M 0.597076 0 32 ( function returns a MachID gi) widthshow
245.102722 646.690186 M 0.597076 0 32 (v) widthshow
249.952805 646.690186 M 0.597076 0 32 (en a send right. It is named ) widthshow
1 FF
364.672363 646.690186 M 0.597076 0 32 (r) widthshow
368.932434 646.690186 M 0.597076 0 32 (egister) widthshow
4 FF
397.252441 646.690186 M 0.597076 0 32 ( because) widthshow
72 658.690125 M 2.139923 0 32 (it re) widthshow
89.820007 658.690125 M 2.139923 0 32 (gisters the ne) widthshow
146.619995 658.690125 M 2.139923 0 32 (w port right if not pre) widthshow
243.449753 658.690125 M 2.139923 0 32 (viously kno) widthshow
292.289795 658.690125 M 2.139923 0 32 (wn. The MA) widthshow
347.549866 658.690125 M 2.139923 0 32 (CH_MSG_TYPE_P-) widthshow
72 670.690125 M 0.541458 0 32 (OR) widthshow
85.290329 670.690125 M 0.541458 0 32 (T_SEND indicates that the serv) widthshow
213.956253 670.690125 M 0.541458 0 32 (er routine will recei) widthshow
293.920776 670.690125 M 0.541458 0 32 (v) widthshow
298.770874 670.690125 M 0.541458 0 32 (e a send right; whether that right) widthshow
(w) 72.0 682.69 T
(as copied, mo) 79.12 682.69 T
(v) 134.24 682.69 T
(ed or made by the client is not kno) 139.09 682.69 T
(wn \(or rele) 277.16 682.69 T
(v) 320.781 682.69 T
(ant\).) 325.531 682.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 40 40
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(36 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 1.065979 0 32 (The ) widthshow
0 FF
199.115982 113.650665 M 1.065979 0 32 (lookup) widthshow
3 FF
228.575974 113.650665 M 1.065979 0 32 ( function returns a port right gi) widthshow
358.041992 113.650665 M 1.065979 0 32 (v) widthshow
362.89209 113.650665 M 1.065979 0 32 (en a MachID. Notice that the output is de-) widthshow
180 125.65065 M 0.388794 0 32 (clared as MA) widthshow
234.247818 125.65065 M 0.388794 0 32 (CH_MSG_TYPE_MO) widthshow
325.418091 125.65065 M 0.388794 0 32 (VE_SEND, which will remo) widthshow
441.424561 125.65065 M 0.388794 0 32 (v) widthshow
446.274658 125.65065 M 0.388794 0 32 (e a user reference from) widthshow
180 137.650635 M 0.226822 0 32 (the serv) widthshow
211.456909 137.650635 M 0.226822 0 32 (er\325) widthshow
222.007217 137.650635 M 0.226822 0 32 (s send right. This is done to help k) widthshow
361.221863 137.650635 M 0.226822 0 32 (eep do) widthshow
387.578796 137.650635 M 0.226822 0 32 (wn the number of user references that) widthshow
(are accumulating in the serv) 180.0 149.651 T
(er) 292.6 149.651 T
(.) 299.82 149.651 T
180 159.983948 360 9 CR
1 G
180 159.983948 360 9 NF
0 G
3 FF
(/*) 199.224 167.815 T
3 SL
0.6667 G
530.91 164.48 M
530.91 169.73 L
540 164.48 L
530.91 159.23 L
F
530.91 164.48 M
216 164.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 176.651 T
0 FF
(machid.defs) 236.84 176.651 T
3 FF
(Author: Richard P) 216.0 186.651 T
(. Dra) 288.221 186.651 T
(v) 308.011 186.651 T
(es) 312.861 186.651 T
180 198.983902 360 9 CR
1 G
180 198.983902 360 9 NF
0 G
3 FF
(*/) 198.0 206.81 T
0.6667 G
225.09 203.48 M
225.09 198.23 L
216 203.48 L
225.09 208.73 L
F
540 203.48 M
225.09 203.48 L
S
0 0 612 792 CR
0 G
3 FF
(MIG interf) 216.0 196.651 T
(ace for ) 259.5 196.651 T
0 FF
(machid) 289.48 196.651 T
3 FF
(.) 321.15 196.651 T
([1]) 195.34 217.651 T
(subsystem ) 216.0 217.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(mac) 260.17 217.651 T
(hid) 276.68 217.651 T
3 FF
( 4375300;) 289.46 217.651 T
180 221.983887 360 9 CR
1 G
180 221.983887 360 9 NF
0 G
3 FF
(/*) 199.224 229.815 T
0.6667 G
530.91 226.48 M
530.91 231.73 L
540 226.48 L
530.91 221.23 L
F
530.91 226.48 M
216 226.48 L
S
0 0 612 792 CR
0 G
3 FF
216 238.650543 M 1.81633 0 32 (A simple interf) widthshow
280.082703 238.650543 M 1.81633 0 32 (ace to establish and query mappings between send rights and) widthshow
180 250.983856 360 9 CR
1 G
180 250.983856 360 9 NF
0 G
3 FF
(*/) 198.0 258.81 T
0.6667 G
225.09 255.48 M
225.09 250.23 L
216 255.48 L
225.09 260.73 L
F
540 255.48 M
225.09 255.48 L
S
0 0 612 792 CR
0 G
3 FF
(MachIDs.) 216.0 248.651 T
([2]) 195.34 269.651 T
(userpre\336x ) 216.0 269.651 T
0 FF
(machid_) 258.49 269.651 T
3 FF
(;) 295.16 269.651 T
([3]) 195.34 281.65 T
(serv) 216.0 281.65 T
(erpre\336x ) 232.51 281.65 T
0 FF
(do_) 266.11 281.65 T
3 FF
(;) 281.67 281.65 T
([4]) 195.34 293.65 T
(#include <mach/std_types.defs>) 216.0 293.65 T
([5]) 195.34 305.65 T
(#include \322) 216.0 305.65 T
0 FF
(machid_types) 257.38 305.65 T
3 FF
(.defs\323) 316.27 305.65 T
([6]) 195.34 317.65 T
(routine ) 216.0 317.65 T
0 FF
(r) 246.83 317.65 T
(egister) 251.09 317.65 T
3 FF
([7]) 195.34 329.65 T
(\() 216.0 329.65 T
([8]) 195.34 341.65 T
4 FF
(server) 252.0 341.65 T
3 FF
(: mach_port_t;) 396.0 341.65 T
([9]) 195.34 353.65 T
4 FF
(port) 252.0 353.65 T
3 FF
(: mach_port_t = ) 396.0 353.65 T
(MA) 306.0 363.65 T
(CH_MSG_TYPE_POR) 321.71 363.65 T
(T_SEND;) 416.121 363.65 T
([10]) 190.34 375.65 T
(out ) 252.0 375.65 T
4 FF
(name) 267.28 375.65 T
3 FF
(: ) 396.0 375.65 T
4 FF
(mac) 401.28 375.65 T
(h_id_t) 417.79 375.65 T
3 FF
([11]) 190.34 387.65 T
(\);) 216.0 387.65 T
([12]) 190.34 399.65 T
(routine ) 216.0 399.65 T
0 FF
(lookup) 246.83 399.65 T
3 FF
([13]) 190.34 411.65 T
(\() 216.0 411.65 T
([14]) 190.34 423.65 T
4 FF
(server) 252.0 423.65 T
3 FF
(: mach_port_t;) 396.0 423.65 T
([15]) 190.34 435.65 T
4 FF
(name) 252.0 435.65 T
3 FF
(: ) 396.0 435.65 T
4 FF
(mac) 401.28 435.65 T
(h_id_t) 417.79 435.65 T
3 FF
(;) 443.35 435.65 T
([16]) 190.34 447.65 T
(out ) 252.0 447.65 T
4 FF
(port) 267.28 447.65 T
3 FF
(: mach_port_t = ) 396.0 447.65 T
(MA) 306.0 457.65 T
(CH_MSG_TYPE_MO) 321.71 457.65 T
(VE_SEND) 412.88 457.65 T
([17]) 190.34 469.65 T
(\);) 216.0 469.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Ser) 180.0 498.984 T
(v) 197.208 498.984 T
(er Pr) 203.088 498.984 T
(ogram De\336nitions) 229.188 498.984 T
3 FF
180 515.650269 M 0.750732 0 32 (The serv) widthshow
215.310822 515.650269 M 0.750732 0 32 (er source itself follo) widthshow
297.573181 515.650269 M 0.750732 0 32 (ws. This basic translation service is deri) widthshow
461.52771 515.650269 M 0.750732 0 32 (v) widthshow
466.377808 515.650269 M 0.750732 0 32 (ed from the Mach) widthshow
(3 ) 180.0 527.65 T
0 FF
(machid) 187.5 527.65 T
3 FF
( serv) 219.17 527.65 T
(er) 238.18 527.65 T
(.) 245.4 527.65 T
4 FF
180 551.650208 M 1.70993 0 32 (port_r) widthshow
205.190201 551.650208 M 1.70993 0 32 (ecor) widthshow
222.590408 551.650208 M 1.70993 0 32 (d_t) widthshow
3 FF
235.370407 551.650208 M 1.70993 0 32 ( de\336nes the relationship between a port right and a MachID. Notice the) widthshow
180 563.650208 M 0.701401 0 32 (maintenance of the count of current user references \(send right count\) for the port right.) widthshow
180 575.650146 M 0.735657 0 32 (This e) widthshow
205.30574 575.650146 M 0.735657 0 32 (xample also sho) widthshow
270.967194 575.650146 M 0.735657 0 32 (ws the desired hash function for port names gi) widthshow
461.572601 575.650146 M 0.735657 0 32 (v) widthshow
466.422668 575.650146 M 0.735657 0 32 (en the current im-) widthshow
(plementation of Mach IPC.) 180.0 587.65 T
180 597.983521 360 9 CR
1 G
180 597.983521 360 9 NF
0 G
3 FF
(/*) 199.224 605.815 T
0.6667 G
530.91 602.48 M
530.91 607.73 L
540 602.48 L
530.91 597.23 L
F
530.91 602.48 M
216 602.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 614.65 T
0 FF
(machid.c) 236.84 614.65 T
3 FF
(Author: Richard P) 216.0 624.65 T
(. Dra) 288.221 624.65 T
(v) 308.011 624.65 T
(es) 312.861 624.65 T
180 636.983459 360 9 CR
1 G
180 636.983459 360 9 NF
0 G
3 FF
(*/) 198.0 644.81 T
0.6667 G
225.09 641.48 M
225.09 636.23 L
216 641.48 L
225.09 646.73 L
F
540 641.48 M
225.09 641.48 L
S
0 0 612 792 CR
0 G
3 FF
(MachID to name translation serv) 216.0 634.65 T
(er) 347.49 634.65 T
(.) 354.71 634.65 T
([1]) 195.34 655.65 T
(#include <stdio.h>) 216.0 655.65 T
([2]) 195.34 667.65 T
(#include <mach.h>) 216.0 667.65 T
([3]) 195.34 679.65 T
(#include <mach/message.h>) 216.0 679.65 T
([4]) 195.34 691.65 T
(#include <mach/notify) 216.0 691.65 T
(.h>) 306.26 691.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 41 41
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (37 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Single-Thr) 72.0 56.824 T
(eaded Ser) 113.346 56.824 T
(v) 151.002 56.824 T
(er Example) 155.412 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([5]) 87.34 115.667 T
(#include <mach_error) 108.0 115.667 T
(.h>) 196.12 115.667 T
([6]) 87.34 127.667 T
(#include \322) 108.0 127.667 T
1 FF
(machid_types) 149.38 127.667 T
3 FF
(.h\323) 208.27 127.667 T
72 131.999969 360 9 CR
1 G
72 131.999969 360 9 NF
0 G
3 FF
(/*) 91.224 139.831 T
3 SL
0 SC
0.6667 G
422.91 136.5 M
422.91 141.75 L
432 136.5 L
422.91 131.25 L
F
422.91 136.5 M
108 136.5 L
S
72 150.999954 360 9 CR
1 G
72 150.999954 360 9 NF
0 G
3 FF
(*/) 90.0 158.826 T
0.6667 G
117.09 155.5 M
117.09 150.25 L
108 155.5 L
117.09 160.75 L
F
432 155.5 M
117.09 155.5 L
S
0 0 612 792 CR
0 G
3 FF
(Port\320name records) 108.0 148.667 T
([7]) 87.34 169.667 T
(static mach_id_t ) 108.0 169.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(ne) 176.33 169.667 T
(xt_mac) 185.57 169.667 T
(hid_name) 214.3 169.667 T
3 FF
( = 1;) 253.74 169.667 T
72 173.999939 360 9 CR
1 G
72 173.999939 360 9 NF
0 G
3 FF
(/*) 90.0 181.831 T
0.6667 G
422.91 178.5 M
422.91 183.75 L
432 178.5 L
422.91 173.25 L
F
422.91 178.5 M
288 178.5 L
S
0 0 612 792 CR
0 G
3 FF
288 190.666595 M 0.45993 0 32 (MachID to be assigned to ne) widthshow
404.849731 190.666595 M 0.45993 0 32 (xt ne) widthshow
424.779816 190.666595 M 0.45993 0 32 (w) widthshow
72 202.999908 360 9 CR
1 G
72 202.999908 360 9 NF
0 G
3 FF
(*/) 90.0 210.826 T
0.6667 G
297.09 207.5 M
297.09 202.25 L
288 207.5 L
297.09 212.75 L
F
432 207.5 M
297.09 207.5 L
S
0 0 612 792 CR
0 G
3 FF
(port) 288.0 200.667 T
([8]) 87.34 221.667 T
(typedef struct ) 108.0 221.667 T
4 FF
(port_r) 165.21 221.667 T
(ecor) 190.4 221.667 T
(d) 207.8 221.667 T
3 FF
([9]) 87.34 233.667 T
({) 108.0 233.667 T
([10]) 82.34 245.667 T
(struct ) 144.0 245.667 T
4 FF
(port_r) 168.72 245.667 T
(ecor) 193.91 245.667 T
(d) 211.31 245.667 T
3 FF
(*) 288.0 245.667 T
4 FF
(pr_pnne) 293.0 245.667 T
(xt) 326.13 245.667 T
3 FF
(;) 333.35 245.667 T
72 249.999863 360 9 CR
1 G
72 249.999863 360 9 NF
0 G
3 FF
(/*) 90.0 257.831 T
0.6667 G
422.91 254.5 M
422.91 259.75 L
432 254.5 L
422.91 249.25 L
F
422.91 254.5 M
288 254.5 L
S
72 268.999847 360 9 CR
1 G
72 268.999847 360 9 NF
0 G
3 FF
(*/) 90.0 276.826 T
0.6667 G
297.09 273.5 M
297.09 268.25 L
288 273.5 L
297.09 278.75 L
F
432 273.5 M
297.09 273.5 L
S
0 0 612 792 CR
0 G
3 FF
(link for port) 288.0 266.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 336.33 266.667 T
3 FF
(name hash table) 346.2 266.667 T
([11]) 82.34 287.667 T
(struct ) 144.0 287.667 T
4 FF
(port_r) 168.72 287.667 T
(ecor) 193.91 287.667 T
(d) 211.31 287.667 T
3 FF
(*) 288.0 287.667 T
4 FF
(pr_npne) 293.0 287.667 T
(xt) 326.13 287.667 T
3 FF
(;) 333.35 287.667 T
72 291.999817 360 9 CR
1 G
72 291.999817 360 9 NF
0 G
3 FF
(/*) 90.0 299.831 T
0.6667 G
422.91 296.5 M
422.91 301.75 L
432 296.5 L
422.91 291.25 L
F
422.91 296.5 M
288 296.5 L
S
72 310.999817 360 9 CR
1 G
72 310.999817 360 9 NF
0 G
3 FF
(*/) 90.0 318.826 T
0.6667 G
297.09 315.5 M
297.09 310.25 L
288 315.5 L
297.09 320.75 L
F
432 315.5 M
297.09 315.5 L
S
0 0 612 792 CR
0 G
3 FF
(link for name) 288.0 308.666 T
5 FF
<ae> 341.88 308.666 T
3 FF
(port hash table) 351.75 308.666 T
([12]) 82.34 329.666 T
(mach_port_t) 144.0 329.666 T
4 FF
(pr_port) 288.0 329.666 T
3 FF
(;) 318.56 329.666 T
72 333.999817 360 9 CR
1 G
72 333.999817 360 9 NF
0 G
3 FF
(/*) 90.0 341.831 T
0.6667 G
422.91 338.5 M
422.91 343.75 L
432 338.5 L
422.91 333.25 L
F
422.91 338.5 M
288 338.5 L
S
72 352.999786 360 9 CR
1 G
72 352.999786 360 9 NF
0 G
3 FF
(*/) 90.0 360.826 T
0.6667 G
297.09 357.5 M
297.09 352.25 L
288 357.5 L
297.09 362.75 L
F
432 357.5 M
297.09 357.5 L
S
0 0 612 792 CR
0 G
3 FF
(a send right for the port) 288.0 350.666 T
([13]) 82.34 371.666 T
(mach_port_urefs_t) 144.0 371.666 T
4 FF
(pr_ur) 288.0 371.666 T
(efs) 310.41 371.666 T
3 FF
(;) 321.52 371.666 T
72 375.999756 360 9 CR
1 G
72 375.999756 360 9 NF
0 G
3 FF
(/*) 90.0 383.831 T
0.6667 G
422.91 380.5 M
422.91 385.75 L
432 380.5 L
422.91 375.25 L
F
422.91 380.5 M
288 380.5 L
S
72 394.999756 360 9 CR
1 G
72 394.999756 360 9 NF
0 G
3 FF
(*/) 90.0 402.826 T
0.6667 G
297.09 399.5 M
297.09 394.25 L
288 399.5 L
297.09 404.75 L
F
432 399.5 M
297.09 399.5 L
S
0 0 612 792 CR
0 G
3 FF
(number of user references we hold) 288.0 392.666 T
([14]) 82.34 413.666 T
(mach_id_t) 144.0 413.666 T
4 FF
(pr_name) 288.0 413.666 T
3 FF
(;) 323.55 413.666 T
72 417.999756 360 9 CR
1 G
72 417.999756 360 9 NF
0 G
3 FF
(/*) 90.0 425.831 T
0.6667 G
422.91 422.5 M
422.91 427.75 L
432 422.5 L
422.91 417.25 L
F
422.91 422.5 M
288 422.5 L
S
72 436.999725 360 9 CR
1 G
72 436.999725 360 9 NF
0 G
3 FF
(*/) 90.0 444.826 T
0.6667 G
297.09 441.5 M
297.09 436.25 L
288 441.5 L
297.09 446.75 L
F
432 441.5 M
297.09 441.5 L
S
0 0 612 792 CR
0 G
3 FF
(the MachID for the port) 288.0 434.666 T
([15]) 82.34 455.666 T
(} ) 108.0 455.666 T
4 FF
(port_r) 115.3 455.666 T
(ecor) 140.49 455.666 T
(d_t) 157.89 455.666 T
3 FF
(;) 170.67 455.666 T
([16]) 82.34 467.666 T
(#de\336ne HASH_T) 108.0 467.666 T
(ABLE_SIZE) 177.341 467.666 T
(256) 288.0 467.666 T
72 471.999695 360 9 CR
1 G
72 471.999695 360 9 NF
0 G
3 FF
(/*) 90.0 479.831 T
0.6667 G
422.91 476.5 M
422.91 481.75 L
432 476.5 L
422.91 471.25 L
F
422.91 476.5 M
288 476.5 L
S
0 0 612 792 CR
0 G
3 FF
288 488.666351 M 1.30397 0 32 (good hash function for port names) widthshow
288 498.666321 M 3.579941 0 32 (combine the lo) widthshow
354.350037 498.666321 M 3.579941 0 32 (w 8 bits and the) widthshow
72 510.999634 360 9 CR
1 G
72 510.999634 360 9 NF
0 G
3 FF
(*/) 90.0 518.826 T
0.6667 G
297.09 515.5 M
297.09 510.25 L
288 515.5 L
297.09 520.75 L
F
432 515.5 M
297.09 515.5 L
S
0 0 612 792 CR
0 G
3 FF
(high 24 bits) 288.0 508.666 T
([17]) 82.34 529.666 T
(#de\336ne POR) 108.0 529.666 T
(T_HASH \() 158.79 529.666 T
4 FF
(port) 202.95 529.666 T
3 FF
(\)) 219.62 529.666 T
(\(\(\(\() 288.0 529.666 T
4 FF
(port) 301.32 529.666 T
3 FF
(\) & 0xf) 317.99 529.666 T
(f\) + \(\() 347.18 529.666 T
4 FF
(port) 371.14 529.666 T
3 FF
(\) >> 8\)\) ) 387.81 529.666 T
(% HASH_T) 162.0 539.666 T
(ABLE_SIZE\)) 210.231 539.666 T
([18]) 82.34 551.666 T
(#de\336ne N) 108.0 551.666 T
(AME_HASH \() 146.81 551.666 T
4 FF
(name) 207.08 551.666 T
3 FF
(\)) 228.74 551.666 T
(\(\() 288.0 551.666 T
4 FF
(name) 294.66 551.666 T
3 FF
(\) % HASH_T) 316.32 551.666 T
(ABLE_SIZE\)) 370.381 551.666 T
72 555.999634 360 9 CR
1 G
72 555.999634 360 9 NF
0 G
3 FF
(/*) 91.224 563.831 T
0.6667 G
422.91 560.5 M
422.91 565.75 L
432 560.5 L
422.91 555.25 L
F
422.91 560.5 M
108 560.5 L
S
72 574.999573 360 9 CR
1 G
72 574.999573 360 9 NF
0 G
3 FF
(*/) 90.0 582.826 T
0.6667 G
117.09 579.5 M
117.09 574.25 L
108 579.5 L
117.09 584.75 L
F
432 579.5 M
117.09 579.5 L
S
0 0 612 792 CR
0 G
3 FF
(Hash table headers) 108.0 572.666 T
([19]) 82.34 593.666 T
(static port_record_t) 108.0 593.666 T
(*) 288.0 593.666 T
4 FF
(port_to_name) 293.0 593.666 T
3 FF
( ) 349.11 593.666 T
([HASH_T) 162.0 603.666 T
(ABLE_SIZE];) 202.731 603.666 T
([20]) 82.34 615.666 T
(static port_record_t) 108.0 615.666 T
(*) 288.0 615.666 T
4 FF
(name_to_port) 293.0 615.666 T
3 FF
( ) 349.11 615.666 T
([HASH_T) 162.0 625.666 T
(ABLE_SIZE];) 202.731 625.666 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Hash T) 72.0 655.0 T
(able Sear) 108.577 655.0 T
(ch Routines) 156.025 655.0 T
72 663.999512 360 9 CR
1 G
72 663.999512 360 9 NF
0 G
3 FF
(/*) 91.224 671.831 T
0.6667 G
422.91 668.5 M
422.91 673.75 L
432 668.5 L
422.91 663.25 L
F
422.91 668.5 M
108 668.5 L
S
72 682.999512 360 9 CR
1 G
72 682.999512 360 9 NF
0 G
3 FF
(*/) 90.0 690.826 T
0.6667 G
117.09 687.5 M
117.09 682.25 L
108 687.5 L
117.09 692.75 L
F
432 687.5 M
117.09 687.5 L
S
0 0 612 792 CR
0 G
3 FF
(Look for a port in the port) 108.0 680.666 T
5 FF
<ae> 212.43 680.666 T
3 FF
(name hash table) 222.3 680.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 42 42
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(38 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([21]) 190.34 113.651 T
(static ) 216.0 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(port_r) 239.61 113.651 T
(ecor) 264.8 113.651 T
(d_t) 282.2 113.651 T
3 FF
( * ) 294.98 113.651 T
0 FF
<de6e645f706f727420> 304.98 113.651 T
3 FF
(\(mach_port_t ) 347.49 113.651 T
4 FF
(port) 403.87 113.651 T
3 FF
(\)) 420.54 113.651 T
([22]) 190.34 125.651 T
({) 216.0 125.651 T
([23]) 190.34 137.651 T
4 FF
(port_r) 252.0 137.651 T
(ecor) 277.19 137.651 T
(d_t) 294.59 137.651 T
3 FF
(*) 396.0 137.651 T
4 FF
(this) 401.0 137.651 T
3 FF
(;) 415.45 137.651 T
([24]) 190.34 149.651 T
(for \() 252.0 149.651 T
4 FF
(this) 269.49 149.651 T
3 FF
( = ) 283.94 149.651 T
4 FF
(port_to_name) 294.58 149.651 T
3 FF
([POR) 350.69 149.651 T
(T_HASH\(port\)];) 372.87 149.651 T
4 FF
( this) 440.08 149.651 T
3 FF
( != NULL; ) 457.03 149.651 T
4 FF
(this) 502.94 149.651 T
3 FF
( = ) 517.39 149.651 T
4 FF
(this) 306.0 159.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 320.45 159.651 T
4 FF
(pr_pnne) 330.32 159.651 T
(xt) 363.45 159.651 T
3 FF
(\)) 370.67 159.651 T
([25]) 190.34 171.651 T
(if \() 288.0 171.651 T
4 FF
(this) 299.94 171.651 T
5 FF
<ae> 314.39 171.651 T
4 FF
(pr_port) 324.26 171.651 T
3 FF
( == ) 354.82 171.651 T
4 FF
(port) 371.1 171.651 T
3 FF
(\)) 387.77 171.651 T
([26]) 190.34 183.651 T
(return ) 324.0 183.651 T
4 FF
(this) 350.38 183.651 T
3 FF
(;) 364.83 183.651 T
([27]) 190.34 195.651 T
(return NULL;) 252.0 195.651 T
([28]) 190.34 207.651 T
(}) 216.0 207.651 T
180 211.983871 360 9 CR
1 G
180 211.983871 360 9 NF
0 G
3 FF
(/*) 199.224 219.815 T
3 SL
0.6667 G
530.91 216.48 M
530.91 221.73 L
540 216.48 L
530.91 211.23 L
F
530.91 216.48 M
216 216.48 L
S
180 230.983856 360 9 CR
1 G
180 230.983856 360 9 NF
0 G
3 FF
(*/) 198.0 238.81 T
0.6667 G
225.09 235.48 M
225.09 230.23 L
216 235.48 L
225.09 240.73 L
F
540 235.48 M
225.09 235.48 L
S
0 0 612 792 CR
0 G
3 FF
(Look for a name in the name) 216.0 228.651 T
5 FF
<ae> 331.53 228.651 T
3 FF
(port hash table) 341.4 228.651 T
([29]) 190.34 249.651 T
(static ) 216.0 249.651 T
4 FF
(port_r) 239.61 249.651 T
(ecor) 264.8 249.651 T
(d_t) 282.2 249.651 T
3 FF
( * ) 294.98 249.651 T
0 FF
<de6e645f6e616d6520> 304.98 249.651 T
3 FF
(\(mach_id_t ) 352.49 249.651 T
4 FF
(name) 400.54 249.651 T
3 FF
(\)) 422.2 249.651 T
([30]) 190.34 261.65 T
({) 216.0 261.65 T
([31]) 190.34 273.65 T
4 FF
(port_r) 252.0 273.65 T
(ecor) 277.19 273.65 T
(d_t) 294.59 273.65 T
3 FF
(*) 396.0 273.65 T
4 FF
(this) 401.0 273.65 T
3 FF
(;) 415.45 273.65 T
([32]) 190.34 285.65 T
(for \() 252.0 285.65 T
4 FF
(this) 269.49 285.65 T
3 FF
( = ) 283.94 285.65 T
4 FF
(name_to_port) 294.58 285.65 T
3 FF
([N) 350.69 285.65 T
(AME_HASH\() 360.89 285.65 T
4 FF
(name) 418.66 285.65 T
3 FF
(\)]; ) 440.32 285.65 T
4 FF
(this) 452.26 285.65 T
3 FF
( != NULL; ) 466.71 285.65 T
4 FF
(this) 512.62 285.65 T
3 FF
( = ) 527.07 285.65 T
4 FF
(this) 306.0 295.65 T
5 FF
<ae> 320.45 295.65 T
4 FF
(pr_npne) 330.32 295.65 T
(xt) 363.45 295.65 T
3 FF
(\)) 370.67 295.65 T
([33]) 190.34 307.65 T
(if \() 288.0 307.65 T
4 FF
(this) 299.94 307.65 T
5 FF
<ae> 314.39 307.65 T
4 FF
(pr_name) 324.26 307.65 T
3 FF
( == ) 359.81 307.65 T
4 FF
(name) 376.09 307.65 T
3 FF
(\)) 397.75 307.65 T
([34]) 190.34 319.65 T
(return ) 324.0 319.65 T
4 FF
(this) 350.38 319.65 T
3 FF
(;) 364.83 319.65 T
([35]) 190.34 331.65 T
(return NULL;) 252.0 331.65 T
([36]) 190.34 343.65 T
(}) 216.0 343.65 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(User Refer) 180.0 372.984 T
(ence Count) 235.416 372.984 T
3 FF
180 389.650391 M 0.535965 0 32 (The ) widthshow
0 FF
198.585968 389.650391 M 0.535965 0 32 (add_r) widthshow
223.966064 389.650391 M 0.535965 0 32 (efer) widthshow
240.436172 389.650391 M 0.535965 0 32 (ence) widthshow
3 FF
259.316162 389.650391 M 0.535965 0 32 ( routine is called when a send right is recei) widthshow
434.690002 389.650391 M 0.535965 0 32 (v) widthshow
439.5401 389.650391 M 0.535965 0 32 (ed. Most of the time this) widthshow
180 401.65036 M 0.484573 0 32 (routine merely counts the ne) widthshow
295.558441 401.65036 M 0.484573 0 32 (w send right. When this count e) widthshow
425.245972 401.65036 M 0.484573 0 32 (xceeds a reasonable bounds,) widthshow
(the e) 180.0 413.65 T
(xtra rights are remo) 199.01 413.65 T
(v) 277.45 413.65 T
(ed en masse.) 282.3 413.65 T
0 FF
180 437.65033 M 0.747101 0 32 (sub_r) widthshow
204.270096 437.65033 M 0.747101 0 32 (efer) widthshow
220.740204 437.65033 M 0.747101 0 32 (ence) widthshow
3 FF
239.620209 437.65033 M 0.747101 0 32 ( \(subtract reference\) is called when a port right is being returned to a cli-) widthshow
180 449.65033 M 0.192108 0 32 (ent. This routine mostly subtracts from the user reference count. If that w) widthshow
474.925385 449.65033 M 0.192108 0 32 (ould remo) widthshow
515.797607 449.65033 M 0.192108 0 32 (v) widthshow
520.647644 449.65033 M 0.192108 0 32 (e the) widthshow
180 461.650299 M 1.33461 0 32 (last reference \(thereby deleting our send right\), a number of user references are added) widthshow
(\(prior to returning this right to the client\).) 180.0 473.65 T
180 483.983612 360 9 CR
1 G
180 483.983612 360 9 NF
0 G
3 FF
(/*) 199.224 491.815 T
0.6667 G
530.91 488.48 M
530.91 493.73 L
540 488.48 L
530.91 483.23 L
F
530.91 488.48 M
216 488.48 L
S
180 502.983582 360 9 CR
1 G
180 502.983582 360 9 NF
0 G
3 FF
(*/) 198.0 510.81 T
0.6667 G
225.09 507.48 M
225.09 502.23 L
216 507.48 L
225.09 512.73 L
F
540 507.48 M
225.09 507.48 L
S
0 0 612 792 CR
0 G
3 FF
(User reference count manipulation.) 216.0 500.65 T
([37]) 190.34 521.65 T
(#de\336ne MAX_UREFS) 216.0 521.65 T
(1000) 396.0 521.65 T
180 525.983582 360 9 CR
1 G
180 525.983582 360 9 NF
0 G
3 FF
(/*) 198.0 533.815 T
0.6667 G
530.91 530.48 M
530.91 535.73 L
540 530.48 L
530.91 525.23 L
F
530.91 530.48 M
396 530.48 L
S
180 544.983582 360 9 CR
1 G
180 544.983582 360 9 NF
0 G
3 FF
(*/) 198.0 552.81 T
0.6667 G
405.09 549.48 M
405.09 544.23 L
396 549.48 L
405.09 554.73 L
F
540 549.48 M
405.09 549.48 L
S
0 0 612 792 CR
0 G
3 FF
(max urefs we will hold for a port) 396.0 542.65 T
([38]) 190.34 563.65 T
(#de\336ne MORE_UREFS) 216.0 563.65 T
(100) 396.0 563.65 T
180 567.983521 360 9 CR
1 G
180 567.983521 360 9 NF
0 G
3 FF
(/*) 198.0 575.815 T
0.6667 G
530.91 572.48 M
530.91 577.73 L
540 572.48 L
530.91 567.23 L
F
530.91 572.48 M
396 572.48 L
S
0 0 612 792 CR
0 G
3 FF
396 584.650208 M 1.248276 0 32 (when we need urefs, ho) widthshow
495.433258 584.650208 M 1.248276 0 32 (w man) widthshow
523.471619 584.650208 M 1.248276 0 32 (y to) widthshow
180 596.983521 360 9 CR
1 G
180 596.983521 360 9 NF
0 G
3 FF
(*/) 198.0 604.81 T
0.6667 G
405.09 601.48 M
405.09 596.23 L
396 601.48 L
405.09 606.73 L
F
540 601.48 M
405.09 601.48 L
S
0 0 612 792 CR
0 G
3 FF
(mak) 396.0 594.65 T
(e) 413.12 594.65 T
180 607.983521 360 9 CR
1 G
180 607.983521 360 9 NF
0 G
3 FF
(/*) 199.224 615.815 T
0.6667 G
530.91 612.48 M
530.91 617.73 L
540 612.48 L
530.91 607.23 L
F
530.91 612.48 M
216 612.48 L
S
180 626.983521 360 9 CR
1 G
180 626.983521 360 9 NF
0 G
3 FF
(*/) 198.0 634.81 T
0.6667 G
225.09 631.48 M
225.09 626.23 L
216 631.48 L
225.09 636.73 L
F
540 631.48 M
225.09 631.48 L
S
0 0 612 792 CR
0 G
3 FF
(Add a user) 216.0 624.65 T
(-reference to the port record) 259.12 624.65 T
([39]) 190.34 645.65 T
(static v) 216.0 645.65 T
(oid ) 244.41 645.65 T
0 FF
(add_r) 259.69 645.65 T
(efer) 285.07 645.65 T
(ence) 301.54 645.65 T
3 FF
(\(port_record_t *) 320.42 645.65 T
4 FF
(pr) 385.68 645.65 T
3 FF
(\)) 394.57 645.65 T
([40]) 190.34 657.65 T
({) 216.0 657.65 T
([41]) 190.34 669.65 T
(k) 252.0 669.65 T
(ern_return_t) 256.9 669.65 T
4 FF
(kr) 396.0 669.65 T
3 FF
(;) 404.33 669.65 T
([42]) 190.34 681.65 T
(if \(++) 252.0 681.65 T
4 FF
(pr) 275.22 681.65 T
5 FF
<ae> 284.11 681.65 T
4 FF
(pr_ur) 293.98 681.65 T
(efs) 316.39 681.65 T
3 FF
( > MAX_UREFS\)) 327.5 681.65 T
([43]) 190.34 693.65 T
({) 252.0 693.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 43 43
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (39 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Single-Thr) 72.0 56.824 T
(eaded Ser) 113.346 56.824 T
(v) 151.002 56.824 T
(er Example) 155.412 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 108 360 9 CR
72 108 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 91.224 115.831 T
3 SL
0 SC
0.6667 G
422.91 112.5 M
422.91 117.75 L
432 112.5 L
422.91 107.25 L
F
422.91 112.5 M
108 112.5 L
S
72 126.999985 360 9 CR
1 G
72 126.999985 360 9 NF
0 G
3 FF
(*/) 90.0 134.826 T
0.6667 G
117.09 131.5 M
117.09 126.25 L
108 131.5 L
117.09 136.75 L
F
432 131.5 M
117.09 131.5 L
S
0 0 612 792 CR
0 G
3 FF
(Remo) 180.0 124.667 T
(v) 203.74 124.667 T
(e e) 208.59 124.667 T
(xcess user references held by this module) 219.82 124.667 T
([44]) 82.34 145.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 180.0 145.667 T
3 FF
( = ) 188.33 145.667 T
1 FF
(mach_port_mod_r) 198.97 145.667 T
(efs) 278.78 145.667 T
3 FF
(\() 290.44 145.667 T
1 FF
(mach_task_self) 293.77 145.667 T
3 FF
(\(\), ) 359.32 145.667 T
4 FF
(pr) 370.98 145.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 379.87 145.667 T
4 FF
(pr_port) 389.74 145.667 T
3 FF
(, ) 420.3 145.667 T
(MA) 234.0 155.667 T
(CH_POR) 249.71 155.667 T
(T_RIGHT_SEND, 1 \320 ) 287.451 155.667 T
4 FF
(pr) 234.0 165.667 T
5 FF
<ae> 242.89 165.667 T
4 FF
(pr_ur) 252.76 165.667 T
(efs) 275.17 165.667 T
3 FF
(\);) 286.28 165.667 T
([45]) 82.34 177.667 T
(if \() 180.0 177.667 T
4 FF
(kr) 191.94 177.667 T
3 FF
( == KERN_INV) 200.27 177.667 T
(ALID_RIGHT\)) 265.191 177.667 T
([46]) 82.34 189.667 T
4 FF
(kr) 216.0 189.667 T
3 FF
( = ) 224.33 189.667 T
1 FF
(mach_port_mod_r) 234.97 189.667 T
(efs) 314.78 189.667 T
3 FF
(\() 326.44 189.667 T
1 FF
(mach_task_self) 329.77 189.667 T
3 FF
(\(\), ) 395.32 189.667 T
4 FF
(pr) 270.0 199.667 T
5 FF
<ae> 278.89 199.667 T
4 FF
(pr_port) 288.76 199.667 T
3 FF
(, ) 319.32 199.667 T
(MA) 270.0 209.667 T
(CH_POR) 285.71 209.667 T
(T_RIGHT_DEAD_N) 323.451 209.667 T
(AME) 409.751 209.667 T
(, 1 \320 ) 270.0 219.667 T
4 FF
(pr) 290.0 219.667 T
5 FF
<ae> 298.89 219.667 T
4 FF
(pr_ur) 308.76 219.667 T
(efs) 331.17 219.667 T
3 FF
(\);) 342.28 219.667 T
([47]) 82.34 231.667 T
(if \() 180.0 231.667 T
4 FF
(kr) 191.94 231.667 T
3 FF
( != KERN_SUCCESS\)) 200.27 231.667 T
([48]) 82.34 243.667 T
1 FF
(quit) 216.0 243.667 T
3 FF
(\(1, \322) 233.23 243.667 T
1 FF
(machid) 251.0 243.667 T
3 FF
(: ) 282.67 243.667 T
1 FF
(add_r) 287.95 243.667 T
(efer) 313.33 243.667 T
(ence) 329.8 243.667 T
3 FF
(: ) 348.68 243.667 T
1 FF
(mach_port_mod_r) 270.0 253.666 T
(efs) 349.81 253.666 T
3 FF
(: %s\\n\323, ) 361.47 253.666 T
(mach_error_string\() 270.0 263.666 T
4 FF
(kr) 347.2 263.666 T
3 FF
(\)\);) 355.53 263.666 T
([49]) 82.34 275.666 T
4 FF
(pr) 180.0 275.666 T
5 FF
<ae> 188.89 275.666 T
4 FF
(pr_ur) 198.76 275.666 T
(efs) 221.17 275.666 T
3 FF
( = 1;) 232.28 275.666 T
([50]) 82.34 287.666 T
(}) 144.0 287.666 T
([51]) 82.34 299.666 T
(}) 108.0 299.666 T
72 303.999756 360 9 CR
1 G
72 303.999756 360 9 NF
0 G
3 FF
(/*) 91.224 311.831 T
0.6667 G
422.91 308.5 M
422.91 313.75 L
432 308.5 L
422.91 303.25 L
F
422.91 308.5 M
108 308.5 L
S
72 322.999756 360 9 CR
1 G
72 322.999756 360 9 NF
0 G
3 FF
(*/) 90.0 330.826 T
0.6667 G
117.09 327.5 M
117.09 322.25 L
108 327.5 L
117.09 332.75 L
F
432 327.5 M
117.09 327.5 L
S
0 0 612 792 CR
0 G
3 FF
(T) 108.0 320.666 T
(ak) 113.31 320.666 T
(e a user) 122.65 320.666 T
(-reference from the port record) 152.991 320.666 T
([52]) 82.34 341.666 T
(static v) 108.0 341.666 T
(oid ) 136.41 341.666 T
1 FF
(sub_r) 151.69 341.666 T
(efer) 175.96 341.666 T
(ence) 192.43 341.666 T
3 FF
(\(port_record_t *) 211.31 341.666 T
4 FF
(pr) 276.57 341.666 T
3 FF
(\)) 285.46 341.666 T
([53]) 82.34 353.666 T
({) 108.0 353.666 T
([54]) 82.34 365.666 T
(k) 144.0 365.666 T
(ern_return_t) 148.9 365.666 T
4 FF
(kr) 288.0 365.666 T
3 FF
(;) 296.33 365.666 T
([55]) 82.34 377.666 T
(if \(\320\320) 144.0 377.666 T
4 FF
(pr) 165.94 377.666 T
5 FF
<ae> 174.83 377.666 T
4 FF
(pr_ur) 184.7 377.666 T
(efs) 207.11 377.666 T
3 FF
( == 0\)) 218.22 377.666 T
([56]) 82.34 389.666 T
({) 144.0 389.666 T
72 393.999664 360 9 CR
1 G
72 393.999664 360 9 NF
0 G
3 FF
(/*) 91.224 401.831 T
0.6667 G
422.91 398.5 M
422.91 403.75 L
432 398.5 L
422.91 393.25 L
F
422.91 398.5 M
108 398.5 L
S
72 412.999634 360 9 CR
1 G
72 412.999634 360 9 NF
0 G
3 FF
(*/) 90.0 420.826 T
0.6667 G
117.09 417.5 M
117.09 412.25 L
108 417.5 L
117.09 422.75 L
F
432 417.5 M
117.09 417.5 L
S
0 0 612 792 CR
0 G
3 FF
(Create more user references for this module) 180.0 410.666 T
([57]) 82.34 431.666 T
4 FF
(kr) 180.0 431.666 T
3 FF
( = ) 188.33 431.666 T
1 FF
(mach_port_mod_r) 198.97 431.666 T
(efs) 278.78 431.666 T
3 FF
(\() 290.44 431.666 T
1 FF
(mach_task_self) 293.77 431.666 T
3 FF
(\(\), ) 359.32 431.666 T
4 FF
(pr) 370.98 431.666 T
5 FF
<ae> 379.87 431.666 T
4 FF
(pr_port) 389.74 431.666 T
3 FF
(, ) 420.3 431.666 T
(MA) 234.0 441.666 T
(CH_POR) 249.71 441.666 T
(T_RIGHT_SEND, ) 287.451 441.666 T
(MORE_UREFS\);) 234.0 451.666 T
([58]) 82.34 463.666 T
(if \() 180.0 463.666 T
4 FF
(kr) 191.94 463.666 T
3 FF
( == KERN_INV) 200.27 463.666 T
(ALID_RIGHT\)) 265.191 463.666 T
([59]) 82.34 475.666 T
4 FF
(kr) 216.0 475.666 T
3 FF
( = ) 224.33 475.666 T
1 FF
(mach_port_mod_r) 234.97 475.666 T
(efs) 314.78 475.666 T
3 FF
(\() 326.44 475.666 T
1 FF
(mach_task_self) 329.77 475.666 T
3 FF
(\(\), ) 395.32 475.666 T
4 FF
(pr) 270.0 485.666 T
5 FF
<ae> 278.89 485.666 T
4 FF
(pr_port) 288.76 485.666 T
3 FF
(, ) 319.32 485.666 T
(MA) 270.0 495.666 T
(CH_POR) 285.71 495.666 T
(T_RIGHT_DEAD_N) 323.451 495.666 T
(AME) 409.751 495.666 T
(, MORE_UREFS\);) 270.0 505.666 T
([60]) 82.34 517.666 T
(if \() 180.0 517.666 T
4 FF
(kr) 191.94 517.666 T
3 FF
( != KERN_SUCCESS\)) 200.27 517.666 T
([61]) 82.34 529.666 T
1 FF
(quit) 216.0 529.666 T
3 FF
(\(1, \322) 233.23 529.666 T
1 FF
(machid) 251.0 529.666 T
3 FF
(: ) 282.67 529.666 T
1 FF
(sub_r) 287.95 529.666 T
(efer) 312.22 529.666 T
(ence) 328.69 529.666 T
3 FF
(: ) 347.57 529.666 T
1 FF
(mach_port_mod_r) 270.0 539.666 T
(efs) 349.81 539.666 T
3 FF
(: %s\\n\323, ) 361.47 539.666 T
(mach_error_string\() 270.0 549.666 T
4 FF
(kr) 347.2 549.666 T
3 FF
(\)\);) 355.53 549.666 T
([62]) 82.34 561.666 T
4 FF
(pr) 180.0 561.666 T
5 FF
<ae> 188.89 561.666 T
4 FF
(pr_ur) 198.76 561.666 T
(efs) 221.17 561.666 T
3 FF
( += MORE_UREFS;) 232.28 561.666 T
([63]) 82.34 573.666 T
(}) 144.0 573.666 T
([64]) 82.34 585.666 T
(}) 108.0 585.666 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Ser) 72.0 614.999 T
(vice Routines) 89.208 614.999 T
3 FF
72 631.666077 M 1.269943 0 32 (The follo) widthshow
109.960083 631.666077 M 1.269943 0 32 (wing ) widthshow
1 FF
133.730026 631.666077 M 1.269943 0 32 (name_lookup) widthshow
3 FF
191.52002 631.666077 M 1.269943 0 32 ( and ) widthshow
1 FF
213.499908 631.666077 M 1.269943 0 32 (port_lookup) widthshow
3 FF
266.289917 631.666077 M 1.269943 0 32 ( routines do the actual w) widthshow
370.579681 631.666077 M 1.269943 0 32 (ork of locating) widthshow
72 643.666077 M 0.272247 0 32 (names, creating ne) widthshow
146.994644 643.666077 M 0.272247 0 32 (w entries and maintaining the reference counts. The) widthshow
355.920471 643.666077 M 0.272247 0 32 (y form the body of) widthshow
(the actual top le) 72.0 655.666 T
(v) 135.35 655.666 T
(el serv) 140.2 655.666 T
(er routines.) 166.43 655.666 T
72 679.666016 M 1.816635 0 32 (Note that ) widthshow
1 FF
115.073273 679.666016 M 1.816635 0 32 (name_lookup) widthshow
3 FF
172.863266 679.666016 M 1.816635 0 32 ( accounts for the recei) widthshow
268.179962 679.666016 M 1.816635 0 32 (v) widthshow
273.030029 679.666016 M 1.816635 0 32 (ed send right whether it is pre) widthshow
402.549988 679.666016 M 1.816635 0 32 (viously) widthshow
72 691.666016 M 0.853958 0 32 (kno) widthshow
86.750137 691.666016 M 0.853958 0 32 (wn or not. It does this once it \336nds or creates the corresponding port record. ) widthshow
1 FF
405.339539 691.666016 M 0.853958 0 32 (port_-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 44 44
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(40 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
0 FF
180 113.650665 M 1.168442 0 32 (lookup) widthshow
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
209.459991 113.650665 M 1.168442 0 32 (, on the other hand, subtracts a reference because of the use of MA) widthshow
491.109985 113.650665 M 1.168442 0 32 (CH_MSG_-) widthshow
(TYPE_MO) 180.0 125.651 T
(VE_SEND when returning this right to the client.) 225.61 125.651 T
180 135.983978 360 9 CR
1 G
180 135.983978 360 9 NF
0 G
3 FF
(/*) 199.224 143.815 T
3 SL
0.6667 G
530.91 140.48 M
530.91 145.73 L
540 140.48 L
530.91 135.23 L
F
530.91 140.48 M
216 140.48 L
S
0 0 612 792 CR
0 G
3 FF
216 152.650635 M 0.947418 0 32 (Con) widthshow
232.270218 152.650635 M 0.947418 0 32 (v) widthshow
237.1203 152.650635 M 0.947418 0 32 (ert a send right to our e) widthshow
335.414917 152.650635 M 0.947418 0 32 (xported name, consuming a user) widthshow
468.704712 152.650635 M 0.947418 0 32 (-reference for the) widthshow
180 164.983948 360 9 CR
1 G
180 164.983948 360 9 NF
0 G
3 FF
(*/) 198.0 172.81 T
0.6667 G
225.09 169.48 M
225.09 164.23 L
216 169.48 L
225.09 174.73 L
F
540 169.48 M
225.09 169.48 L
S
0 0 612 792 CR
0 G
3 FF
(send right) 216.0 162.651 T
([65]) 190.34 183.651 T
(static ) 216.0 183.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(mac) 239.61 183.651 T
(h_id_t ) 256.12 183.651 T
0 FF
(name_lookup ) 284.18 183.651 T
3 FF
(\(mach_port_t ) 344.47 183.651 T
4 FF
(port) 400.85 183.651 T
3 FF
(\)) 417.52 183.651 T
([66]) 190.34 195.651 T
({) 216.0 195.651 T
([67]) 190.34 207.651 T
4 FF
(port_r) 252.0 207.651 T
(ecor) 277.19 207.651 T
(d_t) 294.59 207.651 T
3 FF
(*) 396.0 207.651 T
4 FF
(this) 401.0 207.651 T
3 FF
(, **) 415.45 207.651 T
4 FF
(b) 430.45 207.651 T
(uc) 435.25 207.651 T
(k) 444.49 207.651 T
(et) 448.83 207.651 T
3 FF
(;) 456.05 207.651 T
([68]) 190.34 219.651 T
(mach_port_t) 252.0 219.651 T
4 FF
(pr) 396.0 219.651 T
(e) 404.52 219.651 T
(vious) 408.81 219.651 T
3 FF
(;) 429.92 219.651 T
([69]) 190.34 231.651 T
(k) 252.0 231.651 T
(ern_return_t) 256.9 231.651 T
4 FF
(kr) 396.0 231.651 T
3 FF
(;) 404.33 231.651 T
([70]) 190.34 243.651 T
(if \(!MA) 252.0 243.651 T
(CH_POR) 282.98 243.651 T
(T_V) 320.721 243.651 T
(ALID \() 337.701 243.651 T
4 FF
(port) 367.411 243.651 T
3 FF
(\)\)) 384.081 243.651 T
([71]) 190.34 255.651 T
(return 0;) 288.0 255.651 T
([72]) 190.34 267.65 T
4 FF
(this) 252.0 267.65 T
3 FF
( = ) 266.45 267.65 T
0 FF
<de6e645f706f727420> 277.09 267.65 T
3 FF
(\() 319.6 267.65 T
4 FF
(port) 322.93 267.65 T
3 FF
(\);) 339.6 267.65 T
([73]) 190.34 279.65 T
(if \() 252.0 279.65 T
4 FF
(this) 263.94 279.65 T
3 FF
( != NULL\)) 278.39 279.65 T
([74]) 190.34 291.65 T
({) 252.0 291.65 T
180 295.983795 360 9 CR
1 G
180 295.983795 360 9 NF
0 G
3 FF
(/*) 199.224 303.815 T
0.6667 G
530.91 300.48 M
530.91 305.73 L
540 300.48 L
530.91 295.23 L
F
530.91 300.48 M
216 300.48 L
S
180 314.983765 360 9 CR
1 G
180 314.983765 360 9 NF
0 G
3 FF
(*/) 198.0 322.81 T
0.6667 G
225.09 319.48 M
225.09 314.23 L
216 319.48 L
225.09 324.73 L
F
540 319.48 M
225.09 319.48 L
S
0 0 612 792 CR
0 G
3 FF
(F) 288.0 312.65 T
(ound an e) 293.41 312.65 T
(xisting port record) 332.14 312.65 T
([75]) 190.34 333.65 T
0 FF
(add_r) 288.0 333.65 T
(efer) 313.38 333.65 T
(ence ) 329.85 333.65 T
3 FF
(\() 351.23 333.65 T
4 FF
(this) 354.56 333.65 T
3 FF
(\);) 369.01 333.65 T
([76]) 190.34 345.65 T
(return ) 288.0 345.65 T
4 FF
(this) 314.38 345.65 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 328.83 345.65 T
4 FF
(pr_name) 338.7 345.65 T
3 FF
(;) 374.25 345.65 T
([77]) 190.34 357.65 T
(}) 252.0 357.65 T
180 361.983734 360 9 CR
1 G
180 361.983734 360 9 NF
0 G
3 FF
(/*) 199.224 369.815 T
0.6667 G
530.91 366.48 M
530.91 371.73 L
540 366.48 L
530.91 361.23 L
F
530.91 366.48 M
216 366.48 L
S
180 380.983704 360 9 CR
1 G
180 380.983704 360 9 NF
0 G
3 FF
(*/) 198.0 388.81 T
0.6667 G
225.09 385.48 M
225.09 380.23 L
216 385.48 L
225.09 390.73 L
F
540 385.48 M
225.09 385.48 L
S
0 0 612 792 CR
0 G
3 FF
(No port record, so create a ne) 252.0 378.65 T
(w one) 369.76 378.65 T
([78]) 190.34 399.65 T
4 FF
(this) 252.0 399.65 T
3 FF
( = \() 266.45 399.65 T
4 FF
(port_r) 280.42 399.65 T
(ecor) 305.61 399.65 T
(d_t) 323.01 399.65 T
3 FF
( *\) malloc \(sizeof *) 335.79 399.65 T
4 FF
(this) 413.55 399.65 T
3 FF
(\);) 428.0 399.65 T
([79]) 190.34 411.65 T
(if \() 252.0 411.65 T
4 FF
(this) 263.94 411.65 T
3 FF
( == NULL\)) 278.39 411.65 T
([80]) 190.34 423.65 T
0 FF
(quit) 288.0 423.65 T
3 FF
(\(1, \322) 305.23 423.65 T
0 FF
(machid) 323.0 423.65 T
3 FF
(: malloc f) 354.67 423.65 T
(ailed\\n\323\);) 392.9 423.65 T
([81]) 190.34 435.65 T
4 FF
(this) 252.0 435.65 T
5 FF
<ae> 266.45 435.65 T
4 FF
(pr_port) 276.32 435.65 T
3 FF
( = ) 306.88 435.65 T
4 FF
(port) 317.52 435.65 T
3 FF
(;) 334.19 435.65 T
([82]) 190.34 447.65 T
4 FF
(this) 252.0 447.65 T
5 FF
<ae> 266.45 447.65 T
4 FF
(pr_name) 276.32 447.65 T
3 FF
( = ) 311.87 447.65 T
4 FF
(ne) 322.51 447.65 T
(xt_mac) 331.75 447.65 T
(hid_name) 360.48 447.65 T
3 FF
(++;) 399.92 447.65 T
([83]) 190.34 459.65 T
4 FF
(this) 252.0 459.65 T
5 FF
<ae> 266.45 459.65 T
4 FF
(pr_ur) 276.32 459.65 T
(efs) 298.73 459.65 T
3 FF
( = 1;) 309.84 459.65 T
180 463.983643 360 9 CR
1 G
180 463.983643 360 9 NF
0 G
3 FF
(/*) 198.0 471.815 T
0.6667 G
530.91 468.48 M
530.91 473.73 L
540 468.48 L
530.91 463.23 L
F
530.91 468.48 M
396 468.48 L
S
180 482.983612 360 9 CR
1 G
180 482.983612 360 9 NF
0 G
3 FF
(*/) 198.0 490.81 T
0.6667 G
405.09 487.48 M
405.09 482.23 L
396 487.48 L
405.09 492.73 L
F
540 487.48 M
405.09 487.48 L
S
0 0 612 792 CR
0 G
3 FF
(consume a user) 396.0 480.65 T
(-reference) 457.45 480.65 T
180 493.983612 360 9 CR
1 G
180 493.983612 360 9 NF
0 G
3 FF
(/*) 199.224 501.815 T
0.6667 G
530.91 498.48 M
530.91 503.73 L
540 498.48 L
530.91 493.23 L
F
530.91 498.48 M
216 498.48 L
S
180 512.983582 360 9 CR
1 G
180 512.983582 360 9 NF
0 G
3 FF
(*/) 198.0 520.81 T
0.6667 G
225.09 517.48 M
225.09 512.23 L
216 517.48 L
225.09 522.73 L
F
540 517.48 M
225.09 517.48 L
S
0 0 612 792 CR
0 G
3 FF
(Link record into port) 252.0 510.65 T
5 FF
<ae> 335.6 510.65 T
3 FF
(name hash table) 345.47 510.65 T
([84]) 190.34 531.65 T
4 FF
(b) 252.0 531.65 T
(uc) 256.8 531.65 T
(k) 266.04 531.65 T
(et) 270.38 531.65 T
3 FF
( = &) 277.6 531.65 T
4 FF
(port_to_name) 296.02 531.65 T
3 FF
([POR) 352.13 531.65 T
(T_HASH\() 374.311 531.65 T
4 FF
(port) 415.971 531.65 T
3 FF
(\)];) 432.641 531.65 T
([85]) 190.34 543.65 T
4 FF
(this) 252.0 543.65 T
5 FF
<ae> 266.45 543.65 T
4 FF
(pr_pnne) 276.32 543.65 T
(xt) 309.45 543.65 T
3 FF
( = *) 316.67 543.65 T
4 FF
(b) 332.31 543.65 T
(uc) 337.11 543.65 T
(k) 346.35 543.65 T
(et) 350.69 543.65 T
3 FF
(;) 357.91 543.65 T
([86]) 190.34 555.65 T
(*) 252.0 555.65 T
4 FF
(b) 257.0 555.65 T
(uc) 261.8 555.65 T
(k) 271.04 555.65 T
(et) 275.38 555.65 T
3 FF
( = ) 282.6 555.65 T
4 FF
(this) 293.24 555.65 T
3 FF
(;) 307.69 555.65 T
180 559.983521 360 9 CR
1 G
180 559.983521 360 9 NF
0 G
3 FF
(/*) 199.224 567.815 T
0.6667 G
530.91 564.48 M
530.91 569.73 L
540 564.48 L
530.91 559.23 L
F
530.91 564.48 M
216 564.48 L
S
180 578.983521 360 9 CR
1 G
180 578.983521 360 9 NF
0 G
3 FF
(*/) 198.0 586.81 T
0.6667 G
225.09 583.48 M
225.09 578.23 L
216 583.48 L
225.09 588.73 L
F
540 583.48 M
225.09 583.48 L
S
0 0 612 792 CR
0 G
3 FF
(Link record into name) 252.0 576.65 T
5 FF
<ae> 341.15 576.65 T
3 FF
(port hash table) 351.02 576.65 T
([87]) 190.34 597.65 T
4 FF
(b) 252.0 597.65 T
(uc) 256.8 597.65 T
(k) 266.04 597.65 T
(et) 270.38 597.65 T
3 FF
( = &) 277.6 597.65 T
4 FF
(name_to_port) 296.02 597.65 T
3 FF
([N) 352.13 597.65 T
(AME_HASH\() 362.33 597.65 T
4 FF
(this) 420.1 597.65 T
5 FF
<ae> 434.55 597.65 T
4 FF
(pr_name) 444.42 597.65 T
3 FF
(\)];) 479.97 597.65 T
([88]) 190.34 609.65 T
4 FF
(this) 252.0 609.65 T
5 FF
<ae> 266.45 609.65 T
4 FF
(pr_npne) 276.32 609.65 T
(xt) 309.45 609.65 T
3 FF
( = *) 316.67 609.65 T
4 FF
(b) 332.31 609.65 T
(uc) 337.11 609.65 T
(k) 346.35 609.65 T
(et) 350.69 609.65 T
3 FF
(;) 357.91 609.65 T
([89]) 190.34 621.65 T
(*) 252.0 621.65 T
4 FF
(b) 257.0 621.65 T
(uc) 261.8 621.65 T
(k) 271.04 621.65 T
(et) 275.38 621.65 T
3 FF
( = ) 282.6 621.65 T
4 FF
(this) 293.24 621.65 T
3 FF
(;) 307.69 621.65 T
180 625.983521 360 9 CR
1 G
180 625.983521 360 9 NF
0 G
3 FF
(/*) 199.224 633.815 T
0.6667 G
530.91 630.48 M
530.91 635.73 L
540 630.48 L
530.91 625.23 L
F
530.91 630.48 M
216 630.48 L
S
180 644.983459 360 9 CR
1 G
180 644.983459 360 9 NF
0 G
3 FF
(*/) 198.0 652.81 T
0.6667 G
225.09 649.48 M
225.09 644.23 L
216 649.48 L
225.09 654.73 L
F
540 649.48 M
225.09 649.48 L
S
0 0 612 792 CR
0 G
3 FF
(Request a dead-name noti\336cation) 252.0 642.65 T
([90]) 190.34 663.65 T
4 FF
(kr) 252.0 663.65 T
3 FF
( = ) 260.33 663.65 T
0 FF
(mach_port_r) 270.97 663.65 T
(equest_noti\336cation) 326.89 663.65 T
3 FF
(\() 407.45 663.65 T
0 FF
(mach_task_self) 410.78 663.65 T
3 FF
(\(\), ) 476.33 663.65 T
4 FF
(port) 487.99 663.65 T
3 FF
(, ) 504.66 663.65 T
(MA) 306.0 673.65 T
(CH_NO) 321.71 673.65 T
(TIFY_DEAD_N) 354.64 673.65 T
(AME, TR) 421.501 673.65 T
(UE,) 461.101 673.65 T
4 FF
( notify) 476.931 673.65 T
3 FF
(, ) 501.561 673.65 T
(MA) 306.0 683.65 T
(CH_MSG_TYPE_MAKE_SEND_ONCE, ) 321.71 683.65 T
(&) 306.0 693.65 T
4 FF
(pr) 313.78 693.65 T
(e) 322.3 693.65 T
(vious) 326.59 693.65 T
3 FF
(\);) 347.7 693.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 45 45
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (41 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Single-Thr) 72.0 56.824 T
(eaded Ser) 113.346 56.824 T
(v) 151.002 56.824 T
(er Example) 155.412 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([91]) 82.34 115.667 T
(if \(\() 144.0 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 159.27 115.667 T
3 FF
( != KERN_SUCCESS\) || \() 167.6 115.667 T
4 FF
(pr) 272.8 115.667 T
(e) 281.32 115.667 T
(vious) 285.61 115.667 T
3 FF
( != MA) 306.72 115.667 T
(CH_POR) 336.401 115.667 T
(T_NULL\)\)) 374.141 115.667 T
([92]) 82.34 127.667 T
1 FF
(quit) 180.0 127.667 T
3 FF
(\(1, \322) 197.23 127.667 T
1 FF
(machid) 215.0 127.667 T
3 FF
(: ) 246.67 127.667 T
1 FF
(mach_port_r) 251.95 127.667 T
(equest_noti\336cation) 307.87 127.667 T
3 FF
(: %s\\n\323, ) 388.43 127.667 T
(mach_error_string\() 234.0 137.667 T
4 FF
(kr) 311.2 137.667 T
3 FF
(\)\);) 319.53 137.667 T
([93]) 82.34 149.667 T
(return ) 144.0 149.667 T
4 FF
(this) 170.38 149.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 184.83 149.667 T
4 FF
(pr_name) 194.7 149.667 T
3 FF
(;) 230.25 149.667 T
([94]) 82.34 161.667 T
(}) 108.0 161.667 T
72 165.999924 360 9 CR
1 G
72 165.999924 360 9 NF
0 G
3 FF
(/*) 91.224 173.831 T
3 SL
0 SC
0.6667 G
422.91 170.5 M
422.91 175.75 L
432 170.5 L
422.91 165.25 L
F
422.91 170.5 M
108 170.5 L
S
0 0 612 792 CR
0 G
3 FF
108 182.66658 M 1.874084 0 32 (Con) widthshow
124.270218 182.66658 M 1.874084 0 32 (v) widthshow
129.1203 182.66658 M 1.874084 0 32 (ert an e) widthshow
162.14856 182.66658 M 1.874084 0 32 (xported name to a send right, returning a user) widthshow
358.851379 182.66658 M 1.874084 0 32 (-reference for the) widthshow
72 194.999893 360 9 CR
1 G
72 194.999893 360 9 NF
0 G
3 FF
(*/) 90.0 202.826 T
0.6667 G
117.09 199.5 M
117.09 194.25 L
108 199.5 L
117.09 204.75 L
F
432 199.5 M
117.09 199.5 L
S
0 0 612 792 CR
0 G
3 FF
(send right) 108.0 192.667 T
([95]) 82.34 213.667 T
(static k) 108.0 213.667 T
(ern_return_t ) 136.51 213.667 T
1 FF
(port_lookup ) 188.44 213.667 T
3 FF
(\(mach_id_t ) 243.73 213.667 T
4 FF
(name) 291.78 213.667 T
3 FF
(, mach_port_t *) 313.44 213.667 T
4 FF
(portp) 376.49 213.667 T
3 FF
(\)) 398.16 213.667 T
([96]) 82.34 225.667 T
({) 108.0 225.667 T
([97]) 82.34 237.667 T
4 FF
(port_r) 144.0 237.667 T
(ecor) 169.19 237.667 T
(d_t) 186.59 237.667 T
3 FF
(*) 288.0 237.667 T
4 FF
(this) 293.0 237.667 T
3 FF
(;) 307.45 237.667 T
([98]) 82.34 249.667 T
4 FF
(this) 144.0 249.667 T
3 FF
( = ) 158.45 249.667 T
1 FF
<de6e645f6e616d6520> 169.09 249.667 T
3 FF
(\() 216.6 249.667 T
4 FF
(name) 219.93 249.667 T
3 FF
(\);) 241.59 249.667 T
([99]) 82.34 261.666 T
(if \() 144.0 261.666 T
4 FF
(this) 155.94 261.666 T
3 FF
( == NULL\)) 170.39 261.666 T
([100]) 77.34 273.666 T
(return KERN_INV) 180.0 273.666 T
(ALID_N) 255.021 273.666 T
(AME;) 290.771 273.666 T
([101]) 77.34 285.666 T
1 FF
(sub_r) 144.0 285.666 T
(efer) 168.27 285.666 T
(ence ) 184.74 285.666 T
3 FF
(\() 206.12 285.666 T
4 FF
(this) 209.45 285.666 T
3 FF
(\);) 223.9 285.666 T
([102]) 77.34 297.666 T
(*) 144.0 297.666 T
4 FF
(portp) 149.0 297.666 T
3 FF
( = ) 170.67 297.666 T
4 FF
(this) 181.31 297.666 T
5 FF
<ae> 195.76 297.666 T
4 FF
(pr_port) 205.63 297.666 T
3 FF
(;) 236.19 297.666 T
([103]) 77.34 309.666 T
(return KERN_SUCCESS;) 144.0 309.666 T
([104]) 77.34 321.666 T
(}) 108.0 321.666 T
72 343.666382 M 0.645676 0 32 (A port record is destro) widthshow
164.462769 343.666382 M 0.645676 0 32 (yed when the port is. This function, ) widthshow
1 FF
313.692505 343.666382 M 0.645676 0 32 (port_destr) widthshow
358.502625 343.666382 M 0.645676 0 32 (oy) widthshow
3 FF
367.852966 343.666382 M 0.645676 0 32 (, is called when) widthshow
72 355.666382 M 0.025284 0 32 (the serv) widthshow
103.255371 355.666382 M 0.025284 0 32 (er recei) widthshow
132.730804 355.666382 M 0.025284 0 32 (v) widthshow
137.580887 355.666382 M 0.025284 0 32 (es a dead name noti\336cation. Remember that recei) widthshow
334.688049 355.666382 M 0.025284 0 32 (ving a dead name noti\336-) widthshow
(cation adds a user reference to the dead right.) 72.0 367.666 T
72 377.999695 360 9 CR
1 G
72 377.999695 360 9 NF
0 G
3 FF
(/*) 91.224 385.831 T
0.6667 G
422.91 382.5 M
422.91 387.75 L
432 382.5 L
422.91 377.25 L
F
422.91 382.5 M
108 382.5 L
S
0 0 612 792 CR
0 G
3 FF
108 394.666351 M 1.374969 0 32 (Destro) widthshow
134.560059 394.666351 M 1.374969 0 32 (y the port record of a dead port, consuming an e) widthshow
340.059875 394.666351 M 1.374969 0 32 (xtra user) widthshow
375.944946 394.666351 M 1.374969 0 32 (-reference for) widthshow
72 406.999664 360 9 CR
1 G
72 406.999664 360 9 NF
0 G
3 FF
(*/) 90.0 414.826 T
0.6667 G
117.09 411.5 M
117.09 406.25 L
108 411.5 L
117.09 416.75 L
F
432 411.5 M
117.09 411.5 L
S
0 0 612 792 CR
0 G
3 FF
(the dead-name noti\336cation) 108.0 404.666 T
([105]) 77.34 425.666 T
(static v) 108.0 425.666 T
(oid) 136.41 425.666 T
1 FF
( port_destr) 149.19 425.666 T
(oy ) 196.5 425.666 T
3 FF
(\(mach_port_t ) 209.0 425.666 T
4 FF
(port) 265.38 425.666 T
3 FF
(\)) 282.05 425.666 T
([106]) 77.34 437.666 T
({) 108.0 437.666 T
([107]) 77.34 449.666 T
4 FF
(port_r) 144.0 449.666 T
(ecor) 169.19 449.666 T
(d_t) 186.59 449.666 T
3 FF
(*) 288.0 449.666 T
4 FF
(this) 293.0 449.666 T
3 FF
(, **) 307.45 449.666 T
4 FF
(pr) 322.45 449.666 T
(e) 330.97 449.666 T
(v) 335.26 449.666 T
3 FF
(;) 339.7 449.666 T
([108]) 77.34 461.666 T
(k) 144.0 461.666 T
(ern_return_t) 148.9 461.666 T
4 FF
(kr) 288.0 461.666 T
3 FF
(;) 296.33 461.666 T
72 465.999603 360 9 CR
1 G
72 465.999603 360 9 NF
0 G
3 FF
(/*) 91.224 473.831 T
0.6667 G
422.91 470.5 M
422.91 475.75 L
432 470.5 L
422.91 465.25 L
F
422.91 470.5 M
108 470.5 L
S
72 484.999573 360 9 CR
1 G
72 484.999573 360 9 NF
0 G
3 FF
(*/) 90.0 492.826 T
0.6667 G
117.09 489.5 M
117.09 484.25 L
108 489.5 L
117.09 494.75 L
F
432 489.5 M
117.09 489.5 L
S
0 0 612 792 CR
0 G
3 FF
(Remo) 144.0 482.666 T
(v) 167.74 482.666 T
(e the port record from port) 172.59 482.666 T
5 FF
<ae> 278.95 482.666 T
3 FF
(name hash table) 288.82 482.666 T
([109]) 77.34 503.666 T
(for \() 144.0 503.666 T
4 FF
(pr) 161.49 503.666 T
(e) 170.01 503.666 T
(v) 174.3 503.666 T
3 FF
( = &) 178.74 503.666 T
4 FF
(port_to_name) 197.16 503.666 T
3 FF
([POR) 253.27 503.666 T
(T_HASH\() 275.451 503.666 T
4 FF
(port) 317.111 503.666 T
3 FF
(\)]; \() 333.781 503.666 T
4 FF
(this) 349.051 503.666 T
3 FF
( = *) 363.501 503.666 T
4 FF
(pr) 379.141 503.666 T
(e) 387.661 503.666 T
(v) 391.951 503.666 T
3 FF
(\) != ) 396.391 503.666 T
(NULL; ) 198.0 513.666 T
4 FF
(pr) 229.94 513.666 T
(e) 238.46 513.666 T
(v) 242.75 513.666 T
3 FF
( = &) 247.19 513.666 T
4 FF
(this) 265.61 513.666 T
5 FF
<ae> 280.06 513.666 T
4 FF
(pr_pnne) 289.93 513.666 T
(xt) 323.06 513.666 T
3 FF
(\)) 330.28 513.666 T
([110]) 77.34 525.666 T
(if \() 180.0 525.666 T
4 FF
(this) 191.94 525.666 T
5 FF
<ae> 206.39 525.666 T
4 FF
(pr_port) 216.26 525.666 T
3 FF
( == ) 246.82 525.666 T
4 FF
(port) 263.1 525.666 T
3 FF
(\)) 279.77 525.666 T
([111]) 77.34 537.666 T
(break;) 216.0 537.666 T
([112]) 77.34 549.666 T
(if \() 144.0 549.666 T
4 FF
(this) 155.94 549.666 T
3 FF
( == NULL\)) 170.39 549.666 T
([113]) 77.34 561.666 T
1 FF
(quit) 180.0 561.666 T
3 FF
(\(1, \322) 197.23 561.666 T
1 FF
(machid) 215.0 561.666 T
3 FF
(: ) 246.67 561.666 T
1 FF
(port_destr) 251.95 561.666 T
(oy) 296.76 561.666 T
3 FF
(: didn't \336nd port\\n\323\);) 306.76 561.666 T
([114]) 77.34 573.666 T
(*) 144.0 573.666 T
4 FF
(pr) 149.0 573.666 T
(e) 157.52 573.666 T
(v) 161.81 573.666 T
3 FF
( = ) 166.25 573.666 T
4 FF
(this) 176.89 573.666 T
5 FF
<ae> 191.34 573.666 T
4 FF
(pr_pnne) 201.21 573.666 T
(xt) 234.34 573.666 T
3 FF
(;) 241.56 573.666 T
72 577.999512 360 9 CR
1 G
72 577.999512 360 9 NF
0 G
3 FF
(/*) 91.224 585.831 T
0.6667 G
422.91 582.5 M
422.91 587.75 L
432 582.5 L
422.91 577.25 L
F
422.91 582.5 M
108 582.5 L
S
72 596.999451 360 9 CR
1 G
72 596.999451 360 9 NF
0 G
3 FF
(*/) 90.0 604.826 T
0.6667 G
117.09 601.5 M
117.09 596.25 L
108 601.5 L
117.09 606.75 L
F
432 601.5 M
117.09 601.5 L
S
0 0 612 792 CR
0 G
3 FF
(Remo) 144.0 594.666 T
(v) 167.74 594.666 T
(e the port record from name) 172.59 594.666 T
5 FF
<ae> 284.5 594.666 T
3 FF
(port hash table) 294.37 594.666 T
([115]) 77.34 615.666 T
(for \() 144.0 615.666 T
4 FF
(pr) 161.49 615.666 T
(e) 170.01 615.666 T
(v) 174.3 615.666 T
3 FF
( = &) 178.74 615.666 T
4 FF
(name_to_port) 197.16 615.666 T
3 FF
([N) 253.27 615.666 T
(AME_HASH\() 263.47 615.666 T
4 FF
(this) 321.24 615.666 T
5 FF
<ae> 335.69 615.666 T
4 FF
(pr_name) 345.56 615.666 T
3 FF
(\)]; \() 381.11 615.666 T
4 FF
(this) 396.38 615.666 T
3 FF
( = ) 410.83 615.666 T
(*) 198.0 625.666 T
4 FF
(pr) 203.0 625.666 T
(e) 211.52 625.666 T
(v) 215.81 625.666 T
3 FF
(\) != NULL;) 220.25 625.666 T
4 FF
( pr) 266.99 625.666 T
(e) 278.01 625.666 T
(v) 282.301 625.666 T
3 FF
( = &) 286.741 625.666 T
4 FF
(this) 305.161 625.666 T
5 FF
<ae> 319.611 625.666 T
4 FF
(pr_npne) 329.481 625.666 T
(xt) 362.611 625.666 T
3 FF
(\)) 369.831 625.666 T
([116]) 77.34 637.666 T
(if \() 180.0 637.666 T
4 FF
(this) 191.94 637.666 T
5 FF
<ae> 206.39 637.666 T
4 FF
(pr_port) 216.26 637.666 T
3 FF
( == ) 246.82 637.666 T
4 FF
(port) 263.1 637.666 T
3 FF
(\)) 279.77 637.666 T
([117]) 77.34 649.666 T
(break;) 216.0 649.666 T
([118]) 77.34 661.666 T
(if \() 144.0 661.666 T
4 FF
(this) 155.94 661.666 T
3 FF
( == NULL\)) 170.39 661.666 T
([119]) 77.34 673.666 T
1 FF
(quit) 180.0 673.666 T
3 FF
(\(1, \322) 197.23 673.666 T
1 FF
(machid) 215.0 673.666 T
3 FF
(: ) 246.67 673.666 T
1 FF
(port_destr) 251.95 673.666 T
(oy) 296.76 673.666 T
3 FF
(: didn't \336nd port\\n\323\);) 306.76 673.666 T
([120]) 77.34 685.666 T
(*) 144.0 685.666 T
4 FF
(pr) 149.0 685.666 T
(e) 157.52 685.666 T
(v) 161.81 685.666 T
3 FF
( = ) 166.25 685.666 T
4 FF
(this) 176.89 685.666 T
5 FF
<ae> 191.34 685.666 T
4 FF
(pr_npne) 201.21 685.666 T
(xt) 234.34 685.666 T
3 FF
(;) 241.56 685.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 46 46
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(42 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
180 124.983994 360 9 CR
1 G
180 124.983994 360 9 NF
0 G
3 FF
(*/) 198.0 132.81 T
0.6667 G
225.09 129.48 M
225.09 124.23 L
216 129.48 L
225.09 134.73 L
F
540 129.48 M
225.09 129.48 L
S
0 0 612 792 CR
0 G
3 FF
(De-allocate the dead name) 252.0 122.651 T
([121]) 185.34 143.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 252.0 143.651 T
3 FF
( = ) 260.33 143.651 T
0 FF
(mach_port_mod_r) 270.97 143.651 T
(efs) 350.78 143.651 T
3 FF
(\() 362.44 143.651 T
0 FF
(mach_task_self) 365.77 143.651 T
3 FF
(\(\), ) 431.32 143.651 T
4 FF
(port) 442.98 143.651 T
3 FF
(, ) 459.65 143.651 T
(MA) 306.0 153.651 T
(CH_POR) 321.71 153.651 T
(T_RIGHT_DEAD_N) 359.451 153.651 T
(AME, \320 ) 445.751 153.651 T
(\() 306.0 163.651 T
4 FF
(this) 309.33 163.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 323.78 163.651 T
4 FF
(pr_ur) 333.65 163.651 T
(efs) 356.06 163.651 T
3 FF
( + 1\)\);) 367.17 163.651 T
([122]) 185.34 175.651 T
(if \() 252.0 175.651 T
4 FF
(kr) 263.94 175.651 T
3 FF
( != KERN_SUCCESS\)) 272.27 175.651 T
([123]) 185.34 187.651 T
0 FF
(quit) 288.0 187.651 T
3 FF
(\(1, \322) 305.23 187.651 T
0 FF
(machid) 323.0 187.651 T
3 FF
(: ) 354.67 187.651 T
0 FF
(port_destr) 359.95 187.651 T
(oy) 404.76 187.651 T
3 FF
(: ) 414.76 187.651 T
0 FF
(mach_port_mod_r) 420.04 187.651 T
(efs) 499.85 187.651 T
3 FF
(: ) 511.51 187.651 T
(%s\\n\323, mach_error_string\() 342.0 197.651 T
4 FF
(kr) 448.64 197.651 T
3 FF
(\)\);) 456.97 197.651 T
([124]) 185.34 209.651 T
(free \(\(char *\) ) 252.0 209.651 T
4 FF
(this) 307.24 209.651 T
3 FF
(\);) 321.69 209.651 T
([125]) 185.34 221.651 T
(}) 216.0 221.651 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(T) 180.0 250.984 T
(op-Le) 186.901 250.984 T
(v) 216.721 250.984 T
(el Ser) 222.601 250.984 T
(v) 251.473 250.984 T
(er Routines) 257.353 250.984 T
180 259.983887 360 9 CR
1 G
180 259.983887 360 9 NF
0 G
3 FF
(/*) 199.224 267.815 T
0.6667 G
530.91 264.48 M
530.91 269.73 L
540 264.48 L
530.91 259.23 L
F
530.91 264.48 M
216 264.48 L
S
180 278.983856 360 9 CR
1 G
180 278.983856 360 9 NF
0 G
3 FF
(*/) 198.0 286.81 T
0.6667 G
225.09 283.48 M
225.09 278.23 L
216 283.48 L
225.09 288.73 L
F
540 283.48 M
225.09 283.48 L
S
0 0 612 792 CR
0 G
3 FF
(Serv) 216.0 276.651 T
(er functions for the ) 234.18 276.651 T
0 FF
(machid) 313.05 276.651 T
3 FF
( interf) 344.72 276.651 T
(ace.) 368.78 276.651 T
([126]) 185.34 297.651 T
(k) 216.0 297.651 T
(ern_return_t) 220.9 297.651 T
0 FF
( do_r) 270.33 297.651 T
(egister ) 292.65 297.651 T
3 FF
(\(mach_port_t ) 323.47 297.651 T
4 FF
(server) 379.85 297.651 T
3 FF
(, mach_port_t ) 404.44 297.651 T
4 FF
(port) 462.49 297.651 T
3 FF
(, ) 479.16 297.651 T
4 FF
(mac) 484.16 297.651 T
(h_id_t) 500.67 297.651 T
3 FF
( ) 526.23 297.651 T
(*) 270.0 307.65 T
4 FF
(namep) 275.0 307.65 T
3 FF
(\)) 301.66 307.65 T
([127]) 185.34 319.65 T
({) 216.0 319.65 T
([128]) 185.34 331.65 T
4 FF
(mac) 252.0 331.65 T
(h_id_t) 268.51 331.65 T
(name) 396.0 331.65 T
3 FF
(;) 417.66 331.65 T
180 335.983795 360 9 CR
1 G
180 335.983795 360 9 NF
0 G
3 FF
(/*) 199.224 343.815 T
0.6667 G
530.91 340.48 M
530.91 345.73 L
540 340.48 L
530.91 335.23 L
F
530.91 340.48 M
216 340.48 L
S
0 0 612 792 CR
0 G
3 FF
252 352.650452 M 1.085388 0 32 (W) widthshow
260.640442 352.650452 M 1.085388 0 32 (e ha) widthshow
277.905945 352.650452 M 1.085388 0 32 (v) widthshow
282.756042 352.650452 M 1.085388 0 32 (e a port right that must be consumed. ) widthshow
0 FF
442.259155 352.650452 M 1.085388 0 32 (name_lookup) widthshow
3 FF
500.049133 352.650452 M 1.085388 0 32 ( does this) widthshow
180 364.983765 360 9 CR
1 G
180 364.983765 360 9 NF
0 G
3 FF
(*/) 198.0 372.81 T
0.6667 G
225.09 369.48 M
225.09 364.23 L
216 369.48 L
225.09 374.73 L
F
540 369.48 M
225.09 369.48 L
S
0 0 612 792 CR
0 G
3 FF
(for us.) 252.0 362.65 T
([129]) 185.34 383.65 T
4 FF
(name) 252.0 383.65 T
3 FF
( = ) 273.66 383.65 T
0 FF
(name_lookup) 284.3 383.65 T
3 FF
(\() 342.09 383.65 T
4 FF
(port) 345.42 383.65 T
3 FF
(\);) 362.09 383.65 T
([130]) 185.34 395.65 T
(*) 252.0 395.65 T
4 FF
(namep) 257.0 395.65 T
3 FF
( = ) 283.66 395.65 T
4 FF
(name) 294.3 395.65 T
3 FF
(;) 315.96 395.65 T
([131]) 185.34 407.65 T
(return KERN_SUCCESS;) 252.0 407.65 T
([132]) 185.34 419.65 T
(}) 216.0 419.65 T
([133]) 185.34 431.65 T
(k) 216.0 431.65 T
(ern_return_t ) 220.9 431.65 T
0 FF
(do_lookup ) 272.83 431.65 T
3 FF
(\(mach_port_t ) 320.35 431.65 T
4 FF
(server) 376.73 431.65 T
3 FF
(, mach_id_t ) 401.32 431.65 T
4 FF
(name) 451.04 431.65 T
3 FF
(, mach_port_t ) 472.7 431.65 T
(*) 270.0 441.65 T
4 FF
(portp) 275.0 441.65 T
3 FF
(\)) 296.67 441.65 T
([134]) 185.34 453.65 T
({) 216.0 453.65 T
([135]) 185.34 465.65 T
(mach_port_t) 252.0 465.65 T
4 FF
(port) 396.0 465.65 T
3 FF
(;) 412.67 465.65 T
([136]) 185.34 477.65 T
(k) 252.0 477.65 T
(ern_return_t) 256.9 477.65 T
4 FF
(kr) 396.0 477.65 T
3 FF
(;) 404.33 477.65 T
180 481.983643 360 9 CR
1 G
180 481.983643 360 9 NF
0 G
3 FF
(/*) 199.224 489.815 T
0.6667 G
530.91 486.48 M
530.91 491.73 L
540 486.48 L
530.91 481.23 L
F
530.91 486.48 M
216 486.48 L
S
0 0 612 792 CR
0 G
3 FF
252 498.650269 M 1.640778 0 32 (W) widthshow
260.640442 498.650269 M 1.640778 0 32 (e must return a port right reference to put into the reply message.) widthshow
180 510.983582 360 9 CR
1 G
180 510.983582 360 9 NF
0 G
3 FF
(*/) 198.0 518.81 T
0.6667 G
225.09 515.48 M
225.09 510.23 L
216 515.48 L
225.09 520.73 L
F
540 515.48 M
225.09 515.48 L
S
0 0 612 792 CR
0 G
0 FF
(port_lookup) 252.0 508.65 T
3 FF
( returns a reference for us.) 304.79 508.65 T
([137]) 185.34 529.65 T
4 FF
(kr) 252.0 529.65 T
3 FF
( = ) 260.33 529.65 T
0 FF
(port_lookup ) 270.97 529.65 T
3 FF
(\() 326.26 529.65 T
4 FF
(name) 329.59 529.65 T
3 FF
(, &) 351.25 529.65 T
4 FF
(port) 364.03 529.65 T
3 FF
(\);) 380.7 529.65 T
([138]) 185.34 541.65 T
(if \() 252.0 541.65 T
4 FF
(kr) 263.94 541.65 T
3 FF
( != KERN_SUCCESS\)) 272.27 541.65 T
([139]) 185.34 553.65 T
(return ) 288.0 553.65 T
4 FF
(kr) 314.38 553.65 T
3 FF
(;) 322.71 553.65 T
([140]) 185.34 565.65 T
(*) 252.0 565.65 T
4 FF
(portp) 257.0 565.65 T
3 FF
( = ) 278.67 565.65 T
4 FF
(port) 289.31 565.65 T
3 FF
(;) 305.98 565.65 T
([141]) 185.34 577.65 T
(return KERN_SUCCESS;) 252.0 577.65 T
([142]) 185.34 589.65 T
(}) 216.0 589.65 T
6 FF
(Noti\336cation Routines) 180.0 618.984 T
180 627.983521 360 9 CR
1 G
180 627.983521 360 9 NF
0 G
3 FF
(/*) 199.224 635.815 T
0.6667 G
530.91 632.48 M
530.91 637.73 L
540 632.48 L
530.91 627.23 L
F
530.91 632.48 M
216 632.48 L
S
0 0 612 792 CR
0 G
3 FF
216 644.650146 M 1.538879 0 32 (Serv) widthshow
234.180084 644.650146 M 1.538879 0 32 (er functions for the noti\336cation interf) widthshow
390.364563 644.650146 M 1.538879 0 32 (ace. W) widthshow
418.863892 644.650146 M 1.538879 0 32 (e should only get dead-name) widthshow
180 656.983459 360 9 CR
1 G
180 656.983459 360 9 NF
0 G
3 FF
(*/) 198.0 664.81 T
0.6667 G
225.09 661.48 M
225.09 656.23 L
216 661.48 L
225.09 666.73 L
F
540 661.48 M
225.09 661.48 L
S
0 0 612 792 CR
0 G
3 FF
(noti\336cations.) 216.0 654.65 T
([143]) 185.34 675.65 T
(k) 216.0 675.65 T
(ern_return_t ) 220.9 675.65 T
0 FF
(do_mach_notify_dead_name) 272.83 675.65 T
3 FF
(\(mach_port_t ) 395.61 675.65 T
4 FF
(notify) 451.99 675.65 T
3 FF
(, ) 474.12 675.65 T
(mach_port_name_t ) 270.0 685.65 T
4 FF
(name) 349.71 685.65 T
3 FF
(\)) 371.37 685.65 T
([144]) 185.34 697.65 T
({) 216.0 697.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 47 47
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (43 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Single-Thr) 72.0 56.824 T
(eaded Ser) 113.346 56.824 T
(v) 151.002 56.824 T
(er Example) 155.412 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 108 360 9 CR
72 108 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 91.224 115.831 T
3 SL
0 SC
0.6667 G
422.91 112.5 M
422.91 117.75 L
432 112.5 L
422.91 107.25 L
F
422.91 112.5 M
108 112.5 L
S
0 0 612 792 CR
0 G
3 FF
144 124.666656 M 1.379929 0 32 (The dead-name noti\336cation generated an e) widthshow
320.979736 124.666656 M 1.379929 0 32 (xtra reference for the dead) widthshow
72 136.999969 360 9 CR
1 G
72 136.999969 360 9 NF
0 G
3 FF
(*/) 90.0 144.826 T
0.6667 G
117.09 141.5 M
117.09 136.25 L
108 141.5 L
117.09 146.75 L
F
432 141.5 M
117.09 141.5 L
S
0 0 612 792 CR
0 G
3 FF
(name. ) 144.0 134.667 T
1 FF
(port_destr) 170.66 134.667 T
(oy) 215.47 134.667 T
3 FF
( consumes it for us.) 225.47 134.667 T
([145]) 77.34 155.667 T
1 FF
(port_destr) 144.0 155.667 T
(oy) 188.81 155.667 T
3 FF
(\(\(mach_port_t\) ) 198.81 155.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(name) 261.85 155.667 T
3 FF
(\);) 283.51 155.667 T
([146]) 77.34 167.667 T
(return KERN_SUCCESS;) 144.0 167.667 T
([147]) 77.34 179.667 T
(}) 108.0 179.667 T
([148]) 77.34 191.667 T
(k) 108.0 191.667 T
(ern_return_t ) 112.9 191.667 T
1 FF
(do_mach_notify_port_deleted) 164.83 191.667 T
3 FF
(\(mach_port_t ) 292.6 191.667 T
4 FF
(notify) 348.98 191.667 T
3 FF
(, ) 371.11 191.667 T
(mach_port_name_t ) 162.0 201.667 T
4 FF
(name) 241.71 201.667 T
3 FF
(\)) 263.37 201.667 T
([149]) 77.34 213.667 T
({) 108.0 213.667 T
([150]) 77.34 225.667 T
1 FF
(quit) 144.0 225.667 T
3 FF
(\(1, \322) 161.23 225.667 T
1 FF
(machid) 179.0 225.667 T
3 FF
(: do_mach_notify_port_deleted\\n\323\);) 210.67 225.667 T
([151]) 77.34 237.667 T
(return KERN_F) 144.0 237.667 T
(AILURE;) 207.42 237.667 T
([152]) 77.34 249.667 T
3 FF
(}) 108.0 249.667 T
3 FF
([153]) 77.34 261.666 T
3 FF
(k) 108.0 261.666 T
(ern_return_t ) 112.9 261.666 T
1 FF
(do_mach_notify_no_senders) 164.83 261.666 T
3 FF
(\(mach_port_t ) 286.5 261.666 T
4 FF
(notify) 342.88 261.666 T
3 FF
(, ) 365.01 261.666 T
(mach_port_mscount_t ) 162.0 271.666 T
4 FF
(mscount) 253.94 271.666 T
3 FF
(, mach_port_name_t ) 287.27 271.666 T
4 FF
(name) 371.98 271.666 T
3 FF
(\)) 393.64 271.666 T
([154]) 77.34 283.666 T
({) 108.0 283.666 T
([155]) 77.34 295.666 T
1 FF
(quit) 144.0 295.666 T
3 FF
(\(1, \322) 161.23 295.666 T
1 FF
(machid) 179.0 295.666 T
3 FF
(: do_mach_notify_no_senders\\n\323\);) 210.67 295.666 T
([156]) 77.34 307.666 T
(return KERN_F) 144.0 307.666 T
(AILURE;) 207.42 307.666 T
([157]) 77.34 319.666 T
(}) 108.0 319.666 T
([158]) 77.34 331.666 T
(k) 108.0 331.666 T
(ern_return_t ) 112.9 331.666 T
1 FF
(do_mach_notify_send_once) 164.83 331.666 T
3 FF
(\(mach_port_t ) 282.61 331.666 T
4 FF
(port) 338.99 331.666 T
3 FF
(\)) 355.66 331.666 T
([159]) 77.34 343.666 T
({) 108.0 343.666 T
([160]) 77.34 355.666 T
1 FF
(quit) 144.0 355.666 T
3 FF
(\(1, \322) 161.23 355.666 T
1 FF
(machid) 179.0 355.666 T
3 FF
(: do_mach_notify_send_once\\n\323\);) 210.67 355.666 T
([161]) 77.34 367.666 T
(return KERN_F) 144.0 367.666 T
(AILURE;) 207.42 367.666 T
([162]) 77.34 379.666 T
(}) 108.0 379.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Ser) 72.0 409.0 T
(v) 89.208 409.0 T
(er Loop and Main Pr) 95.088 409.0 T
(ogram) 203.544 409.0 T
3 FF
72 425.666321 M 0.357239 0 32 (A custom message de-multiple) widthshow
196.521805 425.666321 M 0.357239 0 32 (xing routine \() widthshow
1 FF
251.676285 425.666321 M 0.357239 0 32 (machid_demux) widthshow
3 FF
317.236267 425.666321 M 0.357239 0 32 (\) is pro) widthshow
346.130859 425.666321 M 0.357239 0 32 (vided so that a single) widthshow
72 437.666321 M 0.537216 0 32 (serv) widthshow
88.510086 437.666321 M 0.537216 0 32 (er loop may service both noti\336cation and client request messages. The de-multiple) widthshow
423.669556 437.666321 M 0.537216 0 32 (x-) widthshow
72 449.66629 M 0.953552 0 32 (ing routine merely dif) widthshow
162.1008 449.66629 M 0.953552 0 32 (ferentiates the type on the basis of the destination port, then calls) widthshow
(the MIG generated de-multiple) 72.0 461.666 T
(xing routine for messages associated with that port.) 195.99 461.666 T
72 471.999603 360 9 CR
1 G
72 471.999603 360 9 NF
0 G
3 FF
(/*) 91.224 479.831 T
0.6667 G
422.91 476.5 M
422.91 481.75 L
432 476.5 L
422.91 471.25 L
F
422.91 476.5 M
108 476.5 L
S
72 490.999573 360 9 CR
1 G
72 490.999573 360 9 NF
0 G
3 FF
(*/) 90.0 498.826 T
0.6667 G
117.09 495.5 M
117.09 490.25 L
108 495.5 L
117.09 500.75 L
F
432 495.5 M
117.09 495.5 L
S
0 0 612 792 CR
0 G
3 FF
(Main serv) 108.0 488.666 T
(er loop support.) 148.12 488.666 T
([163]) 77.34 509.666 T
(static mach_port_t) 108.0 509.666 T
4 FF
(service) 288.0 509.666 T
3 FF
(;) 316.32 509.666 T
72 513.999573 360 9 CR
1 G
72 513.999573 360 9 NF
0 G
3 FF
(/*) 90.0 521.831 T
0.6667 G
422.91 518.5 M
422.91 523.75 L
432 518.5 L
422.91 513.25 L
F
422.91 518.5 M
288 518.5 L
S
72 532.999573 360 9 CR
1 G
72 532.999573 360 9 NF
0 G
3 FF
(*/) 90.0 540.826 T
0.6667 G
297.09 537.5 M
297.09 532.25 L
288 537.5 L
297.09 542.75 L
F
432 537.5 M
297.09 537.5 L
S
0 0 612 792 CR
0 G
3 FF
(our o) 288.0 530.666 T
(wn service port) 308.58 530.666 T
([164]) 77.34 551.666 T
(static mach_port_t) 108.0 551.666 T
4 FF
(notify) 288.0 551.666 T
3 FF
(;) 310.78 551.666 T
72 555.999512 360 9 CR
1 G
72 555.999512 360 9 NF
0 G
3 FF
(/*) 90.0 563.831 T
0.6667 G
422.91 560.5 M
422.91 565.75 L
432 560.5 L
422.91 555.25 L
F
422.91 560.5 M
288 560.5 L
S
72 574.999512 360 9 CR
1 G
72 574.999512 360 9 NF
0 G
3 FF
(*/) 90.0 582.826 T
0.6667 G
297.09 579.5 M
297.09 574.25 L
288 579.5 L
297.09 584.75 L
F
432 579.5 M
297.09 579.5 L
S
0 0 612 792 CR
0 G
3 FF
(our noti\336cation port) 288.0 572.666 T
([165]) 77.34 593.666 T
(static boolean_t ) 108.0 593.666 T
1 FF
(machid_demux) 173.55 593.666 T
3 FF
( \(mach_msg_header_t *) 239.11 593.666 T
4 FF
(r) 335.2 593.666 T
(equest) 338.72 593.666 T
3 FF
(, ) 364.27 593.666 T
(mach_msg_header_t *) 162.0 603.666 T
4 FF
(r) 252.26 603.666 T
(eply) 255.78 603.666 T
3 FF
(\)) 272.44 603.666 T
([166]) 77.34 615.666 T
({) 108.0 615.666 T
72 619.999512 360 9 CR
1 G
72 619.999512 360 9 NF
0 G
3 FF
(/*) 91.224 627.831 T
0.6667 G
422.91 624.5 M
422.91 629.75 L
432 624.5 L
422.91 619.25 L
F
422.91 624.5 M
108 624.5 L
S
0 0 612 792 CR
0 G
3 FF
144 636.666138 M 3.493607 0 32 (Handle a request message based on the port from which it w) widthshow
423.669739 636.666138 M 3.493607 0 32 (as) widthshow
72 648.999451 360 9 CR
1 G
72 648.999451 360 9 NF
0 G
3 FF
(*/) 90.0 656.826 T
0.6667 G
117.09 653.5 M
117.09 648.25 L
108 653.5 L
117.09 658.75 L
F
432 653.5 M
117.09 653.5 L
S
0 0 612 792 CR
0 G
3 FF
(recei) 144.0 646.666 T
(v) 163.18 646.666 T
(ed.) 168.03 646.666 T
([167]) 77.34 667.666 T
(if \() 144.0 667.666 T
4 FF
(r) 155.94 667.666 T
(equest) 159.46 667.666 T
6 (Symbol) 10 1 mymakefontmetric
6 FF
<ae> 185.01 667.666 T
4 FF
(msgh_local_port) 194.88 667.666 T
3 FF
( == ) 262.66 667.666 T
4 FF
(service) 278.94 667.666 T
3 FF
(\)) 307.26 667.666 T
([168]) 77.34 679.666 T
(return ) 180.0 679.666 T
1 FF
(machid_ser) 206.38 679.666 T
(v) 255.72 679.666 T
(er ) 260.62 679.666 T
3 FF
(\() 272.0 679.666 T
4 FF
(r) 275.33 679.666 T
(equest) 278.85 679.666 T
3 FF
(, ) 304.4 679.666 T
4 FF
(r) 309.4 679.666 T
(eply) 312.921 679.666 T
3 FF
(\);) 329.581 679.666 T
([169]) 77.34 691.666 T
(else if \() 144.0 691.666 T
4 FF
(r) 173.99 691.666 T
(equest) 177.51 691.666 T
6 FF
<ae> 203.06 691.666 T
4 FF
(msgh_local_port) 212.93 691.666 T
3 FF
( == ) 280.71 691.666 T
4 FF
(notify) 296.99 691.666 T
3 FF
(\)) 319.77 691.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 48 48
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(44 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([170]) 185.34 113.651 T
(return ) 288.0 113.651 T
0 FF
(notify_ser) 314.38 113.651 T
(v) 357.05 113.651 T
(er ) 361.95 113.651 T
3 FF
(\() 373.33 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(r) 376.66 113.651 T
(equest) 380.18 113.651 T
3 FF
(, ) 405.73 113.651 T
4 FF
(r) 410.73 113.651 T
(eply) 414.251 113.651 T
3 FF
(\);) 430.911 113.651 T
([171]) 185.34 125.651 T
(else) 252.0 125.651 T
([172]) 185.34 137.651 T
0 FF
(quit) 288.0 137.651 T
3 FF
(\(1, \322machid: ) 305.23 137.651 T
0 FF
(machid_demux) 357.72 137.651 T
3 FF
(: bad local port %x\\n\323,) 423.28 137.651 T
4 FF
( ) 514.1 137.651 T
(r) 342.0 147.651 T
(equest) 345.52 147.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 371.07 147.651 T
4 FF
(msgh_local_port) 380.94 147.651 T
3 FF
(\);) 448.72 147.651 T
([173]) 185.34 159.651 T
(}) 216.0 159.651 T
180 163.983932 360 9 CR
1 G
180 163.983932 360 9 NF
0 G
3 FF
(/*) 199.224 171.815 T
3 SL
0.6667 G
530.91 168.48 M
530.91 173.73 L
540 168.48 L
530.91 163.23 L
F
530.91 168.48 M
216 168.48 L
S
180 182.983917 360 9 CR
1 G
180 182.983917 360 9 NF
0 G
3 FF
(*/) 198.0 190.81 T
0.6667 G
225.09 187.48 M
225.09 182.23 L
216 187.48 L
225.09 192.73 L
F
540 187.48 M
225.09 187.48 L
S
0 0 612 792 CR
0 G
3 FF
(Initialization and main serv) 216.0 180.651 T
(er loop) 325.56 180.651 T
([174]) 185.34 201.651 T
(#de\336ne MAX_MSG_SIZE) 216.0 201.651 T
(512) 396.0 201.651 T
180 205.983902 360 9 CR
1 G
180 205.983902 360 9 NF
0 G
3 FF
(/*) 198.0 213.815 T
0.6667 G
530.91 210.48 M
530.91 215.73 L
540 210.48 L
530.91 205.23 L
F
530.91 210.48 M
396 210.48 L
S
0 0 612 792 CR
0 G
3 FF
396 222.650558 M 1.747971 0 32 (An upper bound on messages that) widthshow
180 234.983871 360 9 CR
1 G
180 234.983871 360 9 NF
0 G
3 FF
(*/) 198.0 242.81 T
0.6667 G
405.09 239.48 M
405.09 234.23 L
396 239.48 L
405.09 244.73 L
F
540 239.48 M
405.09 239.48 L
S
0 0 612 792 CR
0 G
3 FF
(we handle) 396.0 232.651 T
([175]) 185.34 253.651 T
3 FF
(struct mach_port_limits) 216.0 253.651 T
4 FF
(port_bounds) 396.0 253.651 T
3 FF
( = ) 446.56 253.651 T
({MA) 270.0 263.651 T
(CH_POR) 290.51 263.651 T
(T_QLIMIT_DEF) 328.251 263.651 T
(A) 397.501 263.651 T
(UL) 404.171 263.651 T
(T) 416.582 263.651 T
(, 0, 4, 1024};) 421.952 263.651 T
180 267.983826 360 9 CR
1 G
180 267.983826 360 9 NF
0 G
3 FF
(/*) 198.0 275.815 T
0.6667 G
530.91 272.48 M
530.91 277.73 L
540 272.48 L
530.91 267.23 L
F
530.91 272.48 M
396 272.48 L
S
0 0 612 792 CR
0 G
3 FF
396 284.650513 M 7.626495 0 32 (Pre) widthshow
409.080139 284.650513 M 7.626495 0 32 (v) widthshow
413.930237 284.650513 M 7.626495 0 32 (ent out-of-line deli) widthshow
503.92334 284.650513 M 7.626495 0 32 (v) widthshow
508.773438 284.650513 M 7.626495 0 32 (ery or) widthshow
180 296.983826 360 9 CR
1 G
180 296.983826 360 9 NF
0 G
3 FF
(*/) 198.0 304.81 T
0.6667 G
405.09 301.48 M
405.09 296.23 L
396 301.48 L
405.09 306.73 L
F
540 301.48 M
405.09 301.48 L
S
0 0 612 792 CR
0 G
3 FF
(e) 396.0 294.65 T
(xcess port right deli) 400.29 294.65 T
(v) 479.2 294.65 T
(ery) 484.05 294.65 T
3 FF
([176]) 185.34 315.65 T
(int ) 216.0 315.65 T
0 FF
(main) 229.06 315.65 T
3 FF
( \(int ) 250.73 315.65 T
4 FF
(ar) 269.62 315.65 T
(gc) 278.14 315.65 T
3 FF
(, char *) 287.58 315.65 T
4 FF
(ar) 317.29 315.65 T
(gv) 325.81 315.65 T
3 FF
([]\)) 335.25 315.65 T
([177]) 185.34 327.65 T
({) 216.0 327.65 T
([178]) 185.34 339.65 T
(mach_port_t) 252.0 339.65 T
4 FF
(pset) 396.0 339.65 T
3 FF
(;) 412.11 339.65 T
([179]) 185.34 351.65 T
(k) 252.0 351.65 T
(ern_return_t) 256.9 351.65 T
4 FF
(kr) 396.0 351.65 T
3 FF
(;) 404.33 351.65 T
180 355.983765 360 9 CR
1 G
180 355.983765 360 9 NF
0 G
3 FF
(/*) 199.224 363.815 T
0.6667 G
530.91 360.48 M
530.91 365.73 L
540 360.48 L
530.91 355.23 L
F
530.91 360.48 M
216 360.48 L
S
180 374.983734 360 9 CR
1 G
180 374.983734 360 9 NF
0 G
3 FF
(*/) 198.0 382.81 T
0.6667 G
225.09 379.48 M
225.09 374.23 L
216 379.48 L
225.09 384.73 L
F
540 379.48 M
225.09 379.48 L
S
0 0 612 792 CR
0 G
3 FF
(Allocate our service port and check it into the name service.) 252.0 372.65 T
([180]) 185.34 393.65 T
(\(v) 252.0 393.65 T
(oid\) ) 260.13 393.65 T
0 FF
(mach_port_allocate) 278.74 393.65 T
3 FF
( \() 363.17 393.65 T
0 FF
(mach_task_self) 369.0 393.65 T
3 FF
(\(\), ) 434.55 393.65 T
(MA) 306.0 403.65 T
(CH_POR) 321.71 403.65 T
(T_RIGHT_RECEIVE, &) 359.451 403.65 T
4 FF
(service) 461.111 403.65 T
3 FF
(\);) 489.431 403.65 T
([181]) 185.34 415.65 T
3 FF
(\(v) 252.0 415.65 T
(oid\) ) 260.13 415.65 T
0 FF
(mach_port_set_attrib) 278.74 415.65 T
(utes ) 371.3 415.65 T
3 FF
(\() 391.02 415.65 T
0 FF
(mach_task_self) 394.35 415.65 T
3 FF
(\(\), ) 459.9 415.65 T
4 FF
(service) 471.56 415.65 T
3 FF
(, ) 499.88 415.65 T
(MA) 306.0 425.65 T
(CH_POR) 321.71 425.65 T
(T_LIMITS_INFO, &) 359.451 425.65 T
4 FF
(port_bounds) 445.001 425.65 T
3 FF
(, ) 495.561 425.65 T
(MA) 306.0 435.65 T
(CH_POR) 321.71 435.65 T
(T_LIMITS_INFO_COUNT\);) 359.451 435.65 T
3 FF
([182]) 185.34 447.65 T
4 FF
(kr) 252.0 447.65 T
3 FF
( = ) 260.33 447.65 T
0 FF
(netname_check_in) 270.97 447.65 T
3 FF
( \() 350.41 447.65 T
4 FF
(name_server_port) 356.24 447.65 T
3 FF
(, \322demoMachID\323, ) 429.56 447.65 T
0 FF
(mach_task_self) 306.0 457.65 T
3 FF
(\(\), ) 371.55 457.65 T
4 FF
(service) 383.21 457.65 T
3 FF
(\);) 411.53 457.65 T
([183]) 185.34 469.65 T
(if \() 252.0 469.65 T
4 FF
(kr) 263.94 469.65 T
3 FF
( != KERN_SUCCESS\)) 272.27 469.65 T
([184]) 185.34 481.65 T
0 FF
(quit) 288.0 481.65 T
3 FF
( \(1, \322) 305.23 481.65 T
0 FF
(machid) 325.5 481.65 T
3 FF
(: ) 357.17 481.65 T
0 FF
(netname_check_in) 362.45 481.65 T
3 FF
(: %s\\n\323, ) 441.89 481.65 T
(mach_error_string \(kr\)\);) 342.0 491.65 T
180 495.983582 360 9 CR
1 G
180 495.983582 360 9 NF
0 G
3 FF
(/*) 199.224 503.815 T
0.6667 G
530.91 500.48 M
530.91 505.73 L
540 500.48 L
530.91 495.23 L
F
530.91 500.48 M
216 500.48 L
S
0 0 612 792 CR
0 G
3 FF
252 512.650269 M 1.454926 0 32 (Allocate a port for recei) widthshow
353.089844 512.650269 M 1.454926 0 32 (ving noti\336cations and a port set, and put the) widthshow
180 524.983521 360 9 CR
1 G
180 524.983521 360 9 NF
0 G
3 FF
(*/) 198.0 532.81 T
0.6667 G
225.09 529.48 M
225.09 524.23 L
216 529.48 L
225.09 534.73 L
F
540 529.48 M
225.09 529.48 L
S
0 0 612 792 CR
0 G
3 FF
(service port and the notify port into the port set.) 252.0 522.65 T
([185]) 185.34 543.65 T
(\(v) 252.0 543.65 T
(oid\) ) 260.13 543.65 T
0 FF
(mach_port_allocate) 278.74 543.65 T
3 FF
(\() 363.17 543.65 T
0 FF
(mach_task_self) 366.5 543.65 T
3 FF
(\(\), ) 432.05 543.65 T
(MA) 306.0 553.65 T
(CH_POR) 321.71 553.65 T
(T_RIGHT_RECEIVE, &) 359.451 553.65 T
4 FF
(notify) 461.111 553.65 T
3 FF
(\);) 483.891 553.65 T
([186]) 185.34 565.65 T
(\(v) 252.0 565.65 T
(oid\) ) 260.13 565.65 T
0 FF
(mach_port_allocate) 278.74 565.65 T
3 FF
(\() 363.17 565.65 T
0 FF
(mach_task_self) 366.5 565.65 T
3 FF
(\(\), ) 432.05 565.65 T
(MA) 306.0 575.65 T
(CH_POR) 321.71 575.65 T
(T_RIGHT_POR) 359.451 575.65 T
(T_SET) 424.961 575.65 T
(, &) 453.111 575.65 T
4 FF
(pset) 465.891 575.65 T
3 FF
(\);) 482.001 575.65 T
([187]) 185.34 587.65 T
(\(v) 252.0 587.65 T
(oid\) ) 260.13 587.65 T
0 FF
(mach_port_mo) 278.74 587.65 T
(v) 343.63 587.65 T
(e_member) 348.53 587.65 T
3 FF
(\() 393.51 587.65 T
0 FF
(mach_task_self) 396.84 587.65 T
3 FF
(\(\), ) 462.39 587.65 T
4 FF
(service) 474.05 587.65 T
3 FF
(, ) 502.37 587.65 T
4 FF
(pset) 507.37 587.65 T
3 FF
(\);) 523.48 587.65 T
([188]) 185.34 599.65 T
(\(v) 252.0 599.65 T
(oid\) ) 260.13 599.65 T
0 FF
(mach_port_mo) 278.74 599.65 T
(v) 343.63 599.65 T
(e_member) 348.53 599.65 T
3 FF
(\() 393.51 599.65 T
0 FF
(mach_task_self) 396.84 599.65 T
3 FF
(\(\), ) 462.39 599.65 T
4 FF
(notify) 474.05 599.65 T
3 FF
(, ) 496.181 599.65 T
4 FF
(pset) 501.181 599.65 T
3 FF
(\);) 517.291 599.65 T
([189]) 185.34 611.65 T
4 FF
(kr) 252.0 611.65 T
3 FF
( = ) 260.33 611.65 T
0 FF
(mach_msg_ser) 270.97 611.65 T
(v) 334.19 611.65 T
(er) 339.09 611.65 T
3 FF
(\() 347.97 611.65 T
0 FF
(machid_demux) 351.3 611.65 T
3 FF
(, MAX_MSG_SIZE, ) 416.86 611.65 T
4 FF
(pset) 502.97 611.65 T
3 FF
(, ) 519.08 611.65 T
(MA) 306.0 621.65 T
(CH_MSG_OPTION_NONE\);) 321.71 621.65 T
([190]) 185.34 633.65 T
0 FF
(quit) 252.0 633.65 T
3 FF
(\(1, \322machid: mach_msg_serv) 269.23 633.65 T
(er: %s\\n\323, mach_error_string\() 386.56 633.65 T
4 FF
(kr) 506.25 633.65 T
3 FF
(\)\);) 514.58 633.65 T
([191]) 185.34 645.65 T
(return 0;) 252.0 645.65 T
([192]) 185.34 657.65 T
(}) 216.0 657.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 49 49
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (45 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Single-Thr) 72.0 56.824 T
(eaded Ser) 113.346 56.824 T
(v) 151.002 56.824 T
(er Example) 155.412 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Sample Client) 72.0 117.0 T
72 126 360 9 CR
1 G
72 126 360 9 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(/*) 91.224 133.831 T
3 SL
0 SC
0.6667 G
422.91 130.5 M
422.91 135.75 L
432 130.5 L
422.91 125.25 L
F
422.91 130.5 M
108 130.5 L
S
0 0 612 792 CR
0 G
4 FF
(File: ) 108.0 142.667 T
1 FF
(mclient.c) 128.84 142.667 T
4 FF
(Author: Richard P) 108.0 152.667 T
(. Dra) 180.221 152.667 T
(v) 200.011 152.667 T
(es) 204.861 152.667 T
72 164.999954 360 9 CR
1 G
72 164.999954 360 9 NF
0 G
4 FF
(*/) 90.0 172.826 T
0.6667 G
117.09 169.5 M
117.09 164.25 L
108 169.5 L
117.09 174.75 L
F
432 169.5 M
117.09 169.5 L
S
0 0 612 792 CR
0 G
4 FF
(Sample client for ) 108.0 162.667 T
1 FF
(machid) 179.38 162.667 T
4 FF
(.) 211.05 162.667 T
([1]) 87.34 183.667 T
(#include <stdio.h>) 108.0 183.667 T
([2]) 87.34 195.667 T
(#include <mach.h>) 108.0 195.667 T
([3]) 87.34 207.667 T
(#include <mach/message.h>) 108.0 207.667 T
([4]) 87.34 219.667 T
(#include <mach_error) 108.0 219.667 T
(.h>) 196.12 219.667 T
([5]) 87.34 231.667 T
(#include <serv) 108.0 231.667 T
(ers/netname.h>) 167.09 231.667 T
([6]) 87.34 243.667 T
(#include \322) 108.0 243.667 T
1 FF
(machid) 149.38 243.667 T
4 FF
(.h\323) 181.05 243.667 T
([7]) 87.34 255.667 T
1 FF
(main ) 108.0 255.667 T
4 FF
(\(int ) 132.17 255.667 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
(ar) 148.56 255.667 T
(gc) 157.08 255.667 T
4 FF
(, char *) 166.52 255.667 T
5 FF
(ar) 196.23 255.667 T
(gv) 204.75 255.667 T
4 FF
(\)) 214.19 255.667 T
([8]) 87.34 267.667 T
({) 108.0 267.667 T
([9]) 87.34 279.666 T
(mach_port_t) 144.0 279.666 T
5 FF
(server) 288.0 279.666 T
4 FF
(;) 312.99 279.666 T
([10]) 82.34 291.666 T
(k) 144.0 291.666 T
(ern_return_t) 148.9 291.666 T
5 FF
(kr) 288.0 291.666 T
4 FF
(;) 296.33 291.666 T
72 295.999817 360 9 CR
1 G
72 295.999817 360 9 NF
0 G
4 FF
(/*) 91.224 303.831 T
0.6667 G
422.91 300.5 M
422.91 305.75 L
432 300.5 L
422.91 295.25 L
F
422.91 300.5 M
108 300.5 L
S
72 314.999786 360 9 CR
1 G
72 314.999786 360 9 NF
0 G
4 FF
(*/) 90.0 322.826 T
0.6667 G
117.09 319.5 M
117.09 314.25 L
108 319.5 L
117.09 324.75 L
F
432 319.5 M
117.09 319.5 L
S
0 0 612 792 CR
0 G
4 FF
(Lookup the port for the machid service) 144.0 312.666 T
([11]) 82.34 333.666 T
5 FF
(kr) 144.0 333.666 T
4 FF
( = ) 152.33 333.666 T
1 FF
(netname_look_up) 162.97 333.666 T
4 FF
(\() 239.09 333.666 T
5 FF
(name_server_port) 242.42 333.666 T
4 FF
(, \322\323, \322demoMachID\323, ) 315.74 333.666 T
(&) 198.0 343.666 T
5 FF
(server) 205.78 343.666 T
4 FF
(\);) 230.77 343.666 T
([12]) 82.34 355.666 T
(if \() 144.0 355.666 T
5 FF
(kr) 155.94 355.666 T
4 FF
( != KERN_SUCCESS\)) 164.27 355.666 T
([13]) 82.34 367.666 T
1 FF
(quit) 180.0 367.666 T
4 FF
(\(1, \322) 197.23 367.666 T
1 FF
(mclient) 215.0 367.666 T
4 FF
(: ) 246.66 367.666 T
1 FF
(netname_look_up ) 251.94 367.666 T
4 FF
(\(demoMachID\): %s\\n\323, ) 330.56 367.666 T
(mach_error_string\() 234.0 377.666 T
5 FF
(kr) 311.2 377.666 T
4 FF
(\)\);) 319.53 377.666 T
72 381.999695 360 9 CR
1 G
72 381.999695 360 9 NF
0 G
4 FF
(/*) 91.224 389.831 T
0.6667 G
422.91 386.5 M
422.91 391.75 L
432 386.5 L
422.91 381.25 L
F
422.91 386.5 M
108 386.5 L
S
72 400.999695 360 9 CR
1 G
72 400.999695 360 9 NF
0 G
4 FF
(*/) 90.0 408.826 T
0.6667 G
117.09 405.5 M
117.09 400.25 L
108 405.5 L
117.09 410.75 L
F
432 405.5 M
117.09 405.5 L
S
0 0 612 792 CR
0 G
4 FF
(Loop reading and e) 144.0 398.666 T
(x) 221.33 398.666 T
(ecuting commands until eof) 226.18 398.666 T
([14]) 82.34 419.666 T
(for \(;;\)) 144.0 419.666 T
([15]) 82.34 431.666 T
({) 144.0 431.666 T
([16]) 82.34 443.666 T
(char) 180.0 443.666 T
5 FF
(command) 288.0 443.666 T
4 FF
([2];) 326.88 443.666 T
([17]) 82.34 455.666 T
(mach_port_t) 180.0 455.666 T
5 FF
(port) 288.0 455.666 T
4 FF
(;) 304.67 455.666 T
([18]) 82.34 467.666 T
(mach_id_t) 180.0 467.666 T
5 FF
(name) 288.0 467.666 T
4 FF
(;) 309.66 467.666 T
([19]) 82.34 479.666 T
(printf \(\322) 180.0 479.666 T
1 FF
(mclient) 212.49 479.666 T
4 FF
(>\323\);) 244.15 479.666 T
([20]) 82.34 491.666 T
(if \(scanf\(\322%1s\323, ) 180.0 491.666 T
5 FF
(command) 247.47 491.666 T
4 FF
(\) < 1\)) 286.35 491.666 T
([21]) 82.34 503.666 T
({) 180.0 503.666 T
([22]) 82.34 515.666 T
(printf\(\322\\n\323\);) 216.0 515.666 T
([23]) 82.34 527.666 T
(break;) 216.0 527.666 T
([24]) 82.34 539.666 T
(}) 180.0 539.666 T
([25]) 82.34 551.666 T
(switch \() 180.0 551.666 T
5 FF
(command) 211.94 551.666 T
4 FF
([0]\)) 250.82 551.666 T
([26]) 82.34 563.666 T
({) 180.0 563.666 T
([27]) 82.34 575.666 T
(case '?':) 180.0 575.666 T
([28]) 82.34 587.666 T
(case 'h':) 180.0 587.666 T
([29]) 82.34 599.666 T
(printf\(\322Commands:\\n\323\);) 216.0 599.666 T
([30]) 82.34 611.666 T
(printf \(\322a) 216.0 611.666 T
<d020616c6c6f63617465206120706f72745c6ed3293b> 288.0 611.666 T
([31]) 82.34 623.666 T
(printf \(\322d <port>) 216.0 623.666 T
<d02064652d616c6c6f63617465206120706f72745c6ed3293b> 288.0 623.666 T
([32]) 82.34 635.666 T
(printf \(\322r <port>) 216.0 635.666 T
<d0207265> 288.0 635.666 T
(gister a port to get a name\\n\323\);) 303.12 635.666 T
([33]) 82.34 647.666 T
(printf \(\322l <name>) 216.0 647.666 T
<d0206c6f6f6b75702061206e616d6520746f20676574206120706f72745c6ed3293b> 288.0 647.666 T
([34]) 82.34 659.666 T
(break;) 216.0 659.666 T
([35]) 82.34 671.666 T
(case 'a':) 180.0 671.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 50 50
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(46 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
180 124.983994 360 9 CR
1 G
180 124.983994 360 9 NF
0 G
3 FF
(*/) 198.0 132.81 T
0.6667 G
225.09 129.48 M
225.09 124.23 L
216 129.48 L
225.09 134.73 L
F
540 129.48 M
225.09 129.48 L
S
0 0 612 792 CR
0 G
3 FF
(Allocate a port) 324.0 122.651 T
([36]) 190.34 143.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 324.0 143.651 T
3 FF
( = ) 332.33 143.651 T
0 FF
(mach_port_allocate) 342.97 143.651 T
3 FF
(\() 427.4 143.651 T
0 FF
(mach_task_self) 430.73 143.651 T
3 FF
(\(\), ) 496.28 143.651 T
(MA) 378.0 153.651 T
(CH_POR) 393.71 153.651 T
(T_RIGHT_RECEIVE, ) 431.451 153.651 T
(&) 378.0 163.651 T
4 FF
(port) 385.78 163.651 T
3 FF
(\);) 402.45 163.651 T
([37]) 190.34 175.651 T
(if \() 324.0 175.651 T
4 FF
(kr) 335.94 175.651 T
3 FF
( == KERN_SUCCESS\)) 344.27 175.651 T
([38]) 190.34 187.651 T
(printf \(\322allocated port %x\\n\323, ) 360.0 187.651 T
4 FF
(port) 480.25 187.651 T
3 FF
(\);) 496.92 187.651 T
([39]) 190.34 199.651 T
(else) 324.0 199.651 T
([40]) 190.34 211.651 T
(printf \(\322) 360.0 211.651 T
0 FF
(mclient) 392.49 211.651 T
3 FF
(: ) 424.15 211.651 T
0 FF
(mach_port_allocate) 429.43 211.651 T
3 FF
(: ) 513.86 211.651 T
(%s\\n\323, mach_error_string\() 414.0 221.651 T
4 FF
(kr) 520.64 221.651 T
3 FF
(\)\);) 528.97 221.651 T
([41]) 190.34 233.651 T
(break;) 324.0 233.651 T
([42]) 190.34 245.651 T
(case 'd':) 288.0 245.651 T
([43]) 190.34 257.65 T
(if \(scanf \(\322%x\323, &) 324.0 257.65 T
4 FF
(port) 397.86 257.65 T
3 FF
(\) < 1\)) 414.53 257.65 T
([44]) 190.34 269.65 T
({) 324.0 269.65 T
([45]) 190.34 281.65 T
(printf \(\322syntax error\\n\323\);) 360.0 281.65 T
([46]) 190.34 293.65 T
(break;) 360.0 293.65 T
([47]) 190.34 305.65 T
(}) 324.0 305.65 T
180 309.983765 360 9 CR
1 G
180 309.983765 360 9 NF
0 G
3 FF
(/*) 199.224 317.815 T
0.6667 G
530.91 314.48 M
530.91 319.73 L
540 314.48 L
530.91 309.23 L
F
530.91 314.48 M
216 314.48 L
S
180 328.983765 360 9 CR
1 G
180 328.983765 360 9 NF
0 G
3 FF
(*/) 198.0 336.81 T
0.6667 G
225.09 333.48 M
225.09 328.23 L
216 333.48 L
225.09 338.73 L
F
540 333.48 M
225.09 333.48 L
S
0 0 612 792 CR
0 G
3 FF
(Destro) 324.0 326.65 T
(y all rights for the port) 350.56 326.65 T
([48]) 190.34 347.65 T
4 FF
(kr) 324.0 347.65 T
3 FF
( = ) 332.33 347.65 T
0 FF
(mach_port_destr) 342.97 347.65 T
(oy) 416.11 347.65 T
3 FF
(\() 426.11 347.65 T
0 FF
(mach_task_self) 429.44 347.65 T
3 FF
(\(\), ) 494.99 347.65 T
4 FF
(port) 506.65 347.65 T
3 FF
(\);) 523.32 347.65 T
([49]) 190.34 359.65 T
(if \() 324.0 359.65 T
4 FF
(kr) 335.94 359.65 T
3 FF
( == KERN_SUCCESS\)) 344.27 359.65 T
([50]) 190.34 371.65 T
(printf \(\322de-allocated port %x\\n\323, ) 360.0 371.65 T
4 FF
(port) 493.02 371.65 T
3 FF
(\);) 509.69 371.65 T
([51]) 190.34 383.65 T
(else) 324.0 383.65 T
([52]) 190.34 395.65 T
(printf \(\322) 360.0 395.65 T
0 FF
(mclient) 392.49 395.65 T
3 FF
(: ) 424.15 395.65 T
0 FF
(mach_port_destr) 429.43 395.65 T
(oy) 502.57 395.65 T
3 FF
(: ) 512.57 395.65 T
(%s\\n\323, mach_error_string\() 414.0 405.65 T
4 FF
(kr) 520.64 405.65 T
3 FF
(\)\);) 528.97 405.65 T
([53]) 190.34 417.65 T
(break;) 324.0 417.65 T
([54]) 190.34 429.65 T
(case 'r':) 288.0 429.65 T
([55]) 190.34 441.65 T
(if \(scanf \(\322%x\323, &) 324.0 441.65 T
4 FF
(port) 397.86 441.65 T
3 FF
(\) < 1\)) 414.53 441.65 T
([56]) 190.34 453.65 T
({) 324.0 453.65 T
([57]) 190.34 465.65 T
(printf \(\322syntax error\\n\323\);) 360.0 465.65 T
([58]) 190.34 477.65 T
(break;) 360.0 477.65 T
([59]) 190.34 489.65 T
(}) 324.0 489.65 T
180 493.983551 360 9 CR
1 G
180 493.983551 360 9 NF
0 G
3 FF
(/*) 199.224 501.815 T
0.6667 G
530.91 498.48 M
530.91 503.73 L
540 498.48 L
530.91 493.23 L
F
530.91 498.48 M
216 498.48 L
S
180 512.983521 360 9 CR
1 G
180 512.983521 360 9 NF
0 G
3 FF
(*/) 198.0 520.81 T
0.6667 G
225.09 517.48 M
225.09 512.23 L
216 517.48 L
225.09 522.73 L
F
540 517.48 M
225.09 517.48 L
S
0 0 612 792 CR
0 G
3 FF
(Get a name for the port, using a ne) 324.0 510.65 T
(w send right) 462.33 510.65 T
([60]) 190.34 531.65 T
4 FF
(kr) 324.0 531.65 T
3 FF
( = ) 332.33 531.65 T
0 FF
(machid_r) 342.97 531.65 T
(egister ) 383.9 531.65 T
3 FF
(\() 414.72 531.65 T
4 FF
(server) 418.05 531.65 T
3 FF
(, ) 442.64 531.65 T
4 FF
(port) 447.64 531.65 T
3 FF
(, ) 464.31 531.65 T
(MA) 378.0 541.65 T
(CH_MSG_TYPE_MAKE_SEND, ) 393.71 541.65 T
(&) 378.0 551.65 T
4 FF
(name) 385.78 551.65 T
3 FF
(\);) 407.44 551.65 T
([61]) 190.34 563.65 T
(if \() 324.0 563.65 T
4 FF
(kr) 335.94 563.65 T
3 FF
( == KERN_SUCCESS\)) 344.27 563.65 T
([62]) 190.34 575.65 T
(printf \(\322re) 360.0 575.65 T
(gister port %x => name %d\\n\323, ) 400.11 575.65 T
4 FF
(port) 414.0 585.65 T
3 FF
(, name\);) 430.67 585.65 T
([63]) 190.34 597.65 T
(else) 324.0 597.65 T
([64]) 190.34 609.65 T
(printf \(\322) 360.0 609.65 T
0 FF
(mclient) 392.49 609.65 T
3 FF
(: ) 424.15 609.65 T
0 FF
(machid_r) 429.43 609.65 T
(egister) 470.36 609.65 T
3 FF
(: %s\\n\323, ) 498.68 609.65 T
(mach_error_string\() 414.0 619.65 T
4 FF
(kr) 491.2 619.65 T
3 FF
(\)\);) 499.53 619.65 T
([65]) 190.34 631.65 T
(break;) 324.0 631.65 T
([66]) 190.34 643.65 T
(case 'l':) 288.0 643.65 T
([67]) 190.34 655.65 T
(if \(scanf \(\322%d\323, &) 324.0 655.65 T
4 FF
(name) 397.86 655.65 T
3 FF
(\) < 1\)) 419.52 655.65 T
([68]) 190.34 667.65 T
({) 324.0 667.65 T
([69]) 190.34 679.65 T
(printf \(\322syntax error\\n\323\);) 360.0 679.65 T
([70]) 190.34 691.65 T
(break;) 360.0 691.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 51 51
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (47 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Single-Thr) 72.0 56.824 T
(eaded Ser) 113.346 56.824 T
(v) 151.002 56.824 T
(er Example) 155.412 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([71]) 82.34 115.667 T
(}) 216.0 115.667 T
72 119.999985 360 9 CR
1 G
72 119.999985 360 9 NF
0 G
3 FF
(/*) 91.224 127.831 T
3 SL
0 SC
0.6667 G
422.91 124.5 M
422.91 129.75 L
432 124.5 L
422.91 119.25 L
F
422.91 124.5 M
108 124.5 L
S
0 0 612 792 CR
0 G
3 FF
(Con) 216.0 136.667 T
(v) 232.27 136.667 T
(ert the name to a send right, which we don't de-) 237.12 136.667 T
72 148.999954 360 9 CR
1 G
72 148.999954 360 9 NF
0 G
3 FF
(*/) 90.0 156.826 T
0.6667 G
117.09 153.5 M
117.09 148.25 L
108 153.5 L
117.09 158.75 L
F
432 153.5 M
117.09 153.5 L
S
0 0 612 792 CR
0 G
3 FF
(allocate) 216.0 146.667 T
([72]) 82.34 167.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 216.0 167.667 T
3 FF
( = ) 224.33 167.667 T
1 FF
(machid_lookup ) 234.97 167.667 T
3 FF
(\() 303.6 167.667 T
4 FF
(server) 306.93 167.667 T
3 FF
(, ) 331.52 167.667 T
4 FF
(name) 336.52 167.667 T
3 FF
(, &) 358.18 167.667 T
4 FF
(port) 370.96 167.667 T
3 FF
(\);) 387.63 167.667 T
([73]) 82.34 179.667 T
(if \() 216.0 179.667 T
4 FF
(kr) 227.94 179.667 T
3 FF
( == KERN_SUCCESS\)) 236.27 179.667 T
([74]) 82.34 191.667 T
(printf \(\322lookup name %d => port %x\\n\323, ) 252.0 191.667 T
4 FF
(name) 306.0 201.667 T
3 FF
(, ) 327.66 201.667 T
4 FF
(port) 332.66 201.667 T
3 FF
(\);) 349.33 201.667 T
([75]) 82.34 213.667 T
(else) 216.0 213.667 T
([76]) 82.34 225.667 T
(printf \(\322) 252.0 225.667 T
1 FF
(mclient) 284.49 225.667 T
3 FF
(: ) 316.15 225.667 T
1 FF
(machid_lookup) 321.43 225.667 T
3 FF
(: %s\\n\323, ) 387.56 225.667 T
(mach_error_string\() 306.0 235.667 T
4 FF
(kr) 383.2 235.667 T
3 FF
(\)\);) 391.53 235.667 T
([77]) 82.34 247.667 T
(break;) 216.0 247.667 T
([78]) 82.34 259.666 T
(}) 180.0 259.666 T
([79]) 82.34 271.666 T
(}) 144.0 271.666 T
([80]) 82.34 283.666 T
(e) 144.0 283.666 T
(xit\(0\);) 148.29 283.666 T
([81]) 82.34 295.666 T
(}) 108.0 295.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Mak) 72.0 325.0 T
(e\336le) 95.88 325.0 T
72 333.999756 360 9 CR
1 G
72 333.999756 360 9 NF
0 G
3 FF
(/*) 91.224 341.831 T
0.6667 G
422.91 338.5 M
422.91 343.75 L
432 338.5 L
422.91 333.25 L
F
422.91 338.5 M
108 338.5 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 108.0 350.666 T
1 FF
(Mak) 128.84 350.666 T
(e\336le) 148.74 350.666 T
3 FF
(Author: Richard P) 108.0 360.666 T
(. Dra) 180.221 360.666 T
(v) 200.011 360.666 T
(es) 204.861 360.666 T
72 372.999725 360 9 CR
1 G
72 372.999725 360 9 NF
0 G
3 FF
(*/) 90.0 380.826 T
0.6667 G
117.09 377.5 M
117.09 372.25 L
108 377.5 L
117.09 382.75 L
F
432 377.5 M
117.09 377.5 L
S
0 0 612 792 CR
0 G
3 FF
(Mak) 108.0 370.666 T
(e\336le for ) 126.23 370.666 T
1 FF
(machid) 160.11 370.666 T
3 FF
(.) 191.78 370.666 T
([1]) 87.34 391.666 T
(all : ) 108.0 391.666 T
1 FF
(machid) 125.78 391.666 T
3 FF
( ) 157.45 391.666 T
1 FF
(mclient) 159.95 391.666 T
3 FF
([2]) 87.34 403.666 T
1 FF
(machid) 108.0 403.666 T
3 FF
( : ) 139.67 403.666 T
1 FF
(machid) 147.45 403.666 T
3 FF
(.o ) 179.12 403.666 T
1 FF
(machidSer) 189.12 403.666 T
(v) 235.13 403.666 T
(er) 240.03 403.666 T
3 FF
(.o) 248.36 403.666 T
([3]) 87.34 415.666 T
($\(CC\) \320o $@ ) 144.0 415.666 T
1 FF
(machid) 200.71 415.666 T
3 FF
(.o ) 232.38 415.666 T
1 FF
(machidSer) 242.38 415.666 T
(v) 288.39 415.666 T
(er) 293.29 415.666 T
3 FF
(.o \320lthreads \320lmach) 301.62 415.666 T
([4]) 87.34 427.666 T
1 FF
(mclient) 108.0 427.666 T
3 FF
( : ) 139.66 427.666 T
1 FF
(mclient) 147.44 427.666 T
3 FF
(.o ) 179.1 427.666 T
1 FF
(machidUser) 189.1 427.666 T
3 FF
(.o) 240.21 427.666 T
([5]) 87.34 439.666 T
($\(CC\) \320o $@ ) 144.0 439.666 T
1 FF
(mclient) 200.71 439.666 T
3 FF
(.o ) 232.37 439.666 T
1 FF
(machidUser) 242.37 439.666 T
3 FF
(.o \320lmach) 293.48 439.666 T
([6]) 87.34 451.666 T
1 FF
(mclient) 108.0 451.666 T
3 FF
(.o : ) 139.66 451.666 T
1 FF
(machid) 154.94 451.666 T
3 FF
(.h) 186.61 451.666 T
([7]) 87.34 463.666 T
1 FF
(machid) 108.0 463.666 T
3 FF
(.h ) 139.67 463.666 T
1 FF
(machidUser) 149.67 463.666 T
3 FF
(.c ) 200.78 463.666 T
1 FF
(machidSer) 210.22 463.666 T
(v) 256.23 463.666 T
(er) 261.13 463.666 T
3 FF
(.c : ) 269.461 463.666 T
1 FF
(machid) 284.181 463.666 T
3 FF
(.defs) 315.851 463.666 T
([8]) 87.34 475.666 T
(mig ) 144.0 475.666 T
1 FF
(machid) 162.06 475.666 T
3 FF
(.defs) 193.73 475.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 52 52
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(48 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Basic IPC\320Based Ser) 180.0 56.824 T
(v) 260.91 56.824 T
(ers) 265.32 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 53 53
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (49 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (CHAPTER 5) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (C Threads) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666656 M 2.669907 0 32 (Mach pro) widthshow
113.119995 367.666656 M 2.669907 0 32 (vides a set of lo) widthshow
186.319763 367.666656 M 2.669907 0 32 (w-le) widthshow
203.839905 367.666656 M 2.669907 0 32 (v) widthshow
208.689987 367.666656 M 2.669907 0 32 (el, language-independent primiti) widthshow
344.039948 367.666656 M 2.669907 0 32 (v) widthshow
348.890015 367.666656 M 2.669907 0 32 (es for manipulating) widthshow
72 379.666626 M 0.722458 0 32 (threads of control in support of multi-threaded programming. The C Threads package is) widthshow
72 391.666626 M 0.716125 0 32 (a run-time library that pro) widthshow
178.584595 391.666626 M 0.716125 0 32 (vides a C language interf) widthshow
281.329163 391.666626 M 0.716125 0 32 (ace to these f) widthshow
335.857605 391.666626 M 0.716125 0 32 (acilities. The constructs) widthshow
72 403.666626 M 2.123032 0 32 (pro) widthshow
85.180084 403.666626 M 2.123032 0 32 (vided are similar to those found in Mesa and Modula-2+: forking and joining of) widthshow
72 415.666595 M 0.257217 0 32 (threads, protection of critical re) widthshow
198.67897 415.666595 M 0.257217 0 32 (gions with mute) widthshow
263.493469 415.666595 M 0.257217 0 32 (x v) widthshow
276.000854 415.666595 M 0.257217 0 32 (ariables and synchronization by means) widthshow
(of condition v) 72.0 427.667 T
(ariables.) 127.86 427.667 T
72 468.999878 360 3.024002 CR
432 470.51 M
72 470.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Naming Con) 72.0 465.333 T
(v) 147.278 465.333 T
(entions) 154.138 465.333 T
4 FF
72 489.690552 M 0.391998 0 32 (An attempt has been made to use a consistent style of naming for the abstractions imple-) widthshow
72 501.690521 M 0.493042 0 32 (mented by the C Threads package. All types, macros, and functions implementing a gi) widthshow
423.669708 501.690521 M 0.493042 0 32 (v-) widthshow
72 513.690491 M 0.241196 0 32 (en abstract data type are pre\336x) widthshow
195.516083 513.690491 M 0.241196 0 32 (ed with the type name and an underscore. The name of the) widthshow
(type itself is suf) 72.0 525.69 T
<de78> 135.36 525.69 T
(ed with ) 145.77 525.69 T
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
(_t ) 177.99 525.69 T
4 FF
(and is de\336ned via a C typedef. Documentation of the form:) 188.27 525.69 T
(typedef struct ) 108.0 549.69 T
6 FF
(mute) 165.21 549.69 T
(x) 184.45 549.69 T
4 FF
( {...} *) 188.89 549.69 T
6 FF
(mute) 215.99 549.69 T
(x_t) 235.23 549.69 T
4 FF
(;) 247.45 549.69 T
72 573.69043 M 1.875916 0 32 (indicates that the ) widthshow
6 FF
147.897751 573.69043 M 1.875916 0 32 (mute) widthshow
167.137863 573.69043 M 1.875916 0 32 (x_t) widthshow
4 FF
179.357864 573.69043 M 1.875916 0 32 ( type is de\336ned as a pointer to a ) widthshow
6 FF
325.391113 573.69043 M 1.875916 0 32 (r) widthshow
328.911316 573.69043 M 1.875916 0 32 (efer) widthshow
344.091522 573.69043 M 1.875916 0 32 (ent type ) widthshow
4 FF
381.723358 573.69043 M 1.875916 0 32 (struct) widthshow
6 FF
403.943359 573.69043 M 1.875916 0 32 ( mute) widthshow
427.559387 573.69043 M 1.875916 0 32 (x) widthshow
4 FF
72 585.69043 M 0.977814 0 32 (which may itself be useful to the programmer) widthshow
260.765015 585.69043 M 0.977814 0 32 (. \(In cases where the referent type should) widthshow
(be considered ) 72.0 597.69 T
6 FF
(opaque) 129.76 597.69 T
4 FF
(, documentation such as:) 159.2 597.69 T
( typedef... ) 108.0 621.69 T
6 FF
(cthr) 150.49 621.69 T
(ead_t) 166.23 621.69 T
4 FF
(;) 188.45 621.69 T
(is used instead.\)) 72.0 645.69 T
72 669.690369 M 0.558121 0 32 (Continuing the e) widthshow
139.636322 669.690369 M 0.558121 0 32 (xample of the ) widthshow
6 FF
198.80069 669.690369 M 0.558121 0 32 (mute) widthshow
218.040802 669.690369 M 0.558121 0 32 (x_t) widthshow
4 FF
230.260803 669.690369 M 0.558121 0 32 ( type, the functions ) widthshow
1 FF
311.65329 669.690369 M 0.558121 0 32 (mutex_alloc) widthshow
4 FF
363.313293 669.690369 M 0.558121 0 32 ( and ) widthshow
1 FF
383.869537 669.690369 M 0.558121 0 32 (mutex_fr) widthshow
423.119629 669.690369 M 0.558121 0 32 (ee) widthshow
4 FF
72 681.690369 M 0.214951 0 32 (pro) widthshow
85.180084 681.690369 M 0.214951 0 32 (vide dynamic storage allocation and de-allocation. The functions ) widthshow
1 FF
348.799713 681.690369 M 0.214951 0 32 (mutex_init) widthshow
4 FF
394.909729 681.690369 M 0.214951 0 32 ( and ) widthshow
1 FF
414.779602 681.690369 M 0.214951 0 32 (mu-) widthshow
72 693.690369 M 0.778122 0 32 (tex_clear) widthshow
4 FF
110.87001 693.690369 M 0.778122 0 32 ( pro) widthshow
127.328217 693.690369 M 0.778122 0 32 (vide initialization and \336nalization of the referent type. These functions are) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 54 54
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(50 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(C Thr) 180.0 56.824 T
(eads) 203.589 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.561401 0 32 (useful if the programmer wishes to include the referent type itself \(rather than a pointer\)) widthshow
180 125.65065 M 0.700714 0 32 (in a lar) widthshow
208.991531 125.65065 M 0.700714 0 32 (ger structure, for more ef) widthshow
311.784546 125.65065 M 0.700714 0 32 <de6369656e742073746f7261676520616c6c6f636174696f6e2e2054686573652066756e6374696f6e732073686f756c64206e6f74206265> widthshow
180 137.650635 M 0.280914 0 32 (called on objects that are dynamically allocated via ) widthshow
0 FF
389.427338 137.650635 M 0.280914 0 32 (mutex_alloc) widthshow
3 FF
441.087341 137.650635 M 0.280914 0 32 (. T) widthshow
451.678711 137.650635 M 0.280914 0 32 (ype-speci\336c functions) widthshow
(such as ) 180.0 149.651 T
0 FF
(mutex_lock) 211.66 149.651 T
3 FF
( and ) 261.1 149.651 T
0 FF
(mutex_unlock ) 280.54 149.651 T
3 FF
(are also de\336ned, of course.) 343.6 149.651 T
180 190.983917 360 3.024002 CR
0.25 SL
2 SC
540 192.5 M
180 192.5 L
S
0 0 612 792 CR
4 (Times-Bold) 14 1 mymakefontmetric
4 FF
(Initializing the C Thr) 180.0 187.317 T
(eads P) 307.708 187.317 T
(ackage) 346.068 187.317 T
3 FF
180 211.674576 M 3.401642 0 32 (Initialization of the C threads package is f) widthshow
371.18158 211.674576 M 3.401642 0 32 (airly automatic, gi) widthshow
450.784973 211.674576 M 3.401642 0 32 (v) widthshow
455.635071 211.674576 M 3.401642 0 32 (en the inclusion of) widthshow
0 FF
180 223.674561 M 0.463593 0 32 (libthr) widthshow
204.270096 223.674561 M 0.463593 0 32 (eads.a) widthshow
3 FF
230.660095 223.674561 M 0.463593 0 32 ( when linking. The ) widthshow
0 FF
310.564453 223.674561 M 0.463593 0 32 (libthr) widthshow
334.834564 223.674561 M 0.463593 0 32 (eads) widthshow
3 FF
353.724548 223.674561 M 0.463593 0 32 ( library must be included when linking before) widthshow
0 FF
180 235.674545 M 1.841919 0 32 (libmach) widthshow
3 FF
214.449997 235.674545 M 1.841919 0 32 ( because ) widthshow
0 FF
254.783844 235.674545 M 1.841919 0 32 (libthr) widthshow
279.053955 235.674545 M 1.841919 0 32 (eads) widthshow
3 FF
297.943939 235.674545 M 1.841919 0 32 ( rede\336nes certain functions to operate correctly gi) widthshow
509.147522 235.674545 M 1.841919 0 32 (v) widthshow
513.99762 235.674545 M 1.841919 0 32 (en the) widthshow
(presence of multiple threads.) 180.0 247.675 T
3 FF
180 271.6745 M 0.517609 0 32 (The header \336le ) widthshow
0 FF
244.032837 271.6745 M 0.517609 0 32 (cthr) widthshow
261.622925 271.6745 M 0.517609 0 32 (eads.h) widthshow
3 FF
288.572937 271.6745 M 0.517609 0 32 ( de\336nes the C threads interf) widthshow
401.321045 271.6745 M 0.517609 0 32 (ace. All programs using C threads) widthshow
(must include this \336le.) 180.0 283.674 T
180 307.6745 M 0.219955 0 32 (The ) widthshow
0 FF
198.269958 307.6745 M 0.219955 0 32 (cthr) widthshow
215.860062 307.6745 M 0.219955 0 32 (ead_init) widthshow
3 FF
250.310059 307.6745 M 0.219955 0 32 ( function initializes the C threads implementation. This call is automati-) widthshow
(cally made by ) 180.0 319.674 T
0 FF
(_start) 238.6 319.674 T
3 FF
( if the C threads package w) 263.59 319.674 T
(as link) 372.35 319.674 T
(ed with the task.) 398.64 319.674 T
180 361.007751 360 3.024002 CR
540 362.52 M
180 362.52 L
S
0 0 612 792 CR
4 FF
(Thr) 180.0 357.341 T
(eads of Contr) 203.086 357.341 T
(ol) 283.712 357.341 T
3 FF
(The C threads package allo) 180.0 381.698 T
(ws for multiple threads of control in a C application.) 288.61 381.698 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Cr) 180.0 413.032 T
(eation) 193.776 413.032 T
3 FF
180 429.698425 M 0.615952 0 32 (When a C program starts, it contains a single thread of control, the one e) widthshow
478.423431 429.698425 M 0.615952 0 32 (x) widthshow
483.273499 429.698425 M 0.615952 0 32 (ecuting ) widthshow
0 FF
515.829468 429.698425 M 0.615952 0 32 (main) widthshow
3 FF
537.499451 429.698425 M 0.615952 0 32 (.) widthshow
180 441.698395 M 0.366364 0 32 (The thread of control is an acti) widthshow
304.698334 441.698395 M 0.366364 0 32 (v) widthshow
309.548401 441.698395 M 0.366364 0 32 (e entity) widthshow
338.985138 441.698395 M 0.366364 0 32 (, mo) widthshow
356.981567 441.698395 M 0.366364 0 32 (ving from statement to statement, calling and) widthshow
(returning from procedures. Ne) 180.0 453.698 T
(w threads are created by ) 301.38 453.698 T
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
(fork) 401.06 453.698 T
3 FF
( operations.) 417.17 453.698 T
180 477.698364 M 1.115295 0 32 (F) widthshow
185.41008 477.698364 M 1.115295 0 32 (orking a ne) widthshow
232.380814 477.698364 M 1.115295 0 32 (w thread of control is similar to calling a procedure, e) widthshow
458.063873 477.698364 M 1.115295 0 32 (xcept that the caller) widthshow
180 489.698364 M 0.19928 0 32 (does not w) widthshow
223.628616 489.698364 M 0.19928 0 32 (ait for the procedure to return. Instead, the caller continues to e) widthshow
477.550812 489.698364 M 0.19928 0 32 (x) widthshow
482.400879 489.698364 M 0.19928 0 32 (ecute in paral-) widthshow
180 501.698334 M 1.103287 0 32 (lel with the e) widthshow
235.099945 501.698334 M 1.103287 0 32 (x) widthshow
239.950027 501.698334 M 1.103287 0 32 (ecution of the procedure in the ne) widthshow
380.729919 501.698334 M 1.103287 0 32 (wly fork) widthshow
415.89325 501.698334 M 1.103287 0 32 (ed thread. At some later time,) widthshow
180 513.698303 M 1.024323 0 32 (the caller may rendezv) widthshow
273.673096 513.698303 M 1.024323 0 32 (ous with the thread and retrie) widthshow
395.464844 513.698303 M 1.024323 0 32 (v) widthshow
400.314941 513.698303 M 1.024323 0 32 (e its result \(if an) widthshow
469.252319 513.698303 M 1.024323 0 32 (y\) by means of a) widthshow
6 FF
180 525.698303 M 0.624619 0 32 (join) widthshow
3 FF
195.559998 525.698303 M 0.624619 0 32 ( operation, or the caller may ) widthshow
6 FF
314.557739 525.698303 M 0.624619 0 32 (detac) widthshow
336.06781 525.698303 M 0.624619 0 32 (h) widthshow
3 FF
341.06781 525.698303 M 0.624619 0 32 ( the ne) widthshow
368.727173 525.698303 M 0.624619 0 32 (wly created thread to assert that no thread) widthshow
(will e) 180.0 537.698 T
(v) 202.25 537.698 T
(er be interested in joining it.) 207.1 537.698 T
5 FF
(T) 180.0 569.032 T
(ermination) 186.901 569.032 T
3 FF
180 585.698242 M 0.56926 0 32 (A thread ) widthshow
6 FF
218.348526 585.698242 M 0.56926 0 32 (t ) widthshow
3 FF
224.197784 585.698242 M 0.56926 0 32 (terminates when it returns from the top-le) widthshow
394.003479 585.698242 M 0.56926 0 32 (v) widthshow
398.853577 585.698242 M 0.56926 0 32 (el procedure it w) widthshow
467.941406 585.698242 M 0.56926 0 32 (as e) widthshow
483.630768 585.698242 M 0.56926 0 32 (x) widthshow
488.480835 585.698242 M 0.56926 0 32 (ecuting.) widthshow
7 (Times-Roman) 8 1 mymakefontmetric
7 FF
520.420837 581.698242 M 0.455414 0 32 (1) widthshow
3 FF
524.420837 585.698242 M 0.56926 0 32 ( If ) widthshow
6 FF
537.21936 585.698242 M 0.56926 0 32 (t) widthshow
3 FF
180 597.698242 M 0.48465 0 32 (has not been detached, it remains in limbo until another thread either joins it or detaches) widthshow
(it; if ) 180.0 609.698 T
6 FF
(t) 199.45 609.698 T
3 FF
( has been detached, no rendezv) 202.23 609.698 T
(ous is necessary) 326.43 609.698 T
(.) 390.21 609.698 T
180 648.976074 360 30.024002 CR
324 666.98 M
180 666.98 L
S
0 0 612 792 CR
8 (Times-Roman) 9 1 mymakefontmetric
8 FF
180 686.000061 M 0.454178 0 32 (1.  This is also effectively true of the initial thread \(executing ) widthshow
2 FF
408.164124 686.000061 M 0.454178 0 32 (main) widthshow
8 FF
427.667114 686.000061 M 0.454178 0 32 (\). After effectively terminating) widthshow
(itself, the initial thread waits for all other threads to terminate. It then terminates the task.) 180.0 696.0 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 55 55
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (51 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Thr) 72.0 56.824 T
(eads of Contr) 86.841 56.824 T
(ol) 138.672 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Stack Management) 72.0 117.0 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 133.666656 M 1.802292 0 32 (The C threads package automatically allocates space for the stack for each C thread.) widthshow
72 145.666641 M 0.553284 0 32 (Each C thread will ha) widthshow
160.663254 145.666641 M 0.553284 0 32 (v) widthshow
165.513336 145.666641 M 0.553284 0 32 (e a stack of the same size. All stacks are page aligned and ha) widthshow
415.216187 145.666641 M 0.553284 0 32 (v) widthshow
420.066254 145.666641 M 0.553284 0 32 (e a) widthshow
72 157.666626 M 0.186844 0 32 (length which is an inte) widthshow
163.147461 157.666626 M 0.186844 0 32 (gral multiple of the page size. The only control o) widthshow
360.209167 157.666626 M 0.186844 0 32 (v) widthshow
365.059235 157.666626 M 0.186844 0 32 (er this process is) widthshow
72 169.666611 M 0.543091 0 32 (control o) widthshow
108.223175 169.666611 M 0.543091 0 32 (v) widthshow
113.073257 169.666611 M 0.543091 0 32 (er the size of stacks to be allocated. Such control can only be af) widthshow
373.713623 169.666611 M 0.543091 0 32 (fected at com-) widthshow
(pile time by declaring \(at \336le scope\):) 72.0 181.667 T
(vm_size_t ) 108.0 205.667 T
1 FF
(cthr) 151.61 205.667 T
(ead_stack_size) 169.2 205.667 T
4 FF
( = ) 231.97 205.667 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
(N) 242.61 205.667 T
4 FF
(;) 249.28 205.667 T
(The stack size in ef) 72.0 229.667 T
(fect can be e) 148.95 229.667 T
(xamined at run-time by reading ) 199.05 229.667 T
1 FF
(cthr) 327.64 229.667 T
(ead_stack_size) 345.23 229.667 T
4 FF
(.) 408.0 229.667 T
3 FF
(Thr) 72.0 261.0 T
(ead Management) 91.788 261.0 T
4 FF
72 277.666565 M 0.826111 0 32 (The sole means of creating ne) widthshow
195.570709 277.666565 M 0.826111 0 32 (w threads is via the ) widthshow
1 FF
279.411255 277.666565 M 0.826111 0 32 (cthr) widthshow
297.001373 277.666565 M 0.826111 0 32 (ead_f) widthshow
320.081512 277.666565 M 0.826111 0 32 (ork) widthshow
4 FF
335.081512 277.666565 M 0.826111 0 32 ( function. This function) widthshow
72 289.666534 M 0.841599 0 32 (returns a v) widthshow
115.643341 289.666534 M 0.841599 0 32 (alue of type ) widthshow
5 FF
167.878143 289.666534 M 0.841599 0 32 (cthr) widthshow
183.618347 289.666534 M 0.841599 0 32 (ead_t) widthshow
4 FF
205.838348 289.666534 M 0.841599 0 32 (. The ) widthshow
1 FF
230.571548 289.666534 M 0.841599 0 32 (cthr) widthshow
248.161652 289.666534 M 0.841599 0 32 (ead_self) widthshow
4 FF
282.601654 289.666534 M 0.841599 0 32 ( function returns the ) widthshow
5 FF
369.288055 289.666534 M 0.841599 0 32 (cthr) widthshow
385.028259 289.666534 M 0.841599 0 32 (ead_t) widthshow
4 FF
407.24826 289.666534 M 0.841599 0 32 ( v) widthshow
415.339996 289.666534 M 0.841599 0 32 (alue) widthshow
72 301.666504 M 0.353958 0 32 (that w) widthshow
96.974014 301.666504 M 0.353958 0 32 (as returned by ) widthshow
1 FF
157.185898 301.666504 M 0.353958 0 32 (cthr) widthshow
174.776001 301.666504 M 0.353958 0 32 (ead_f) widthshow
197.85614 301.666504 M 0.353958 0 32 (ork ) widthshow
4 FF
215.710098 301.666504 M 0.353958 0 32 (to the creator of the thread. This v) widthshow
354.017944 301.666504 M 0.353958 0 32 (alue forms a thread) widthshow
72 313.666504 M 0.036804 0 32 (identi\336er that uniquely identi\336es the thread, and hence may be used as a k) widthshow
367.88855 313.666504 M 0.036804 0 32 (e) widthshow
372.178619 313.666504 M 0.036804 0 32 (y in data struc-) widthshow
72 325.666504 M 0.707626 0 32 (tures that associate user data with indi) widthshow
228.195908 325.666504 M 0.707626 0 32 (vidual threads. Since thread identi\336ers may be re-) widthshow
72 337.666473 M 1.369965 0 32 (used by the underlying implementation, the programmer should be careful to clean up) widthshow
(such associations when threads e) 72.0 349.666 T
(xit.) 203.49 349.666 T
72 373.666443 M 0.522461 0 32 (Although a thread automatically terminates when it returns from its top-le) widthshow
372.494751 373.666443 M 0.522461 0 32 (v) widthshow
377.344849 373.666443 M 0.522461 0 32 (el function, it) widthshow
(may also terminate itself e) 72.0 385.666 T
(xplicitly with ) 177.39 385.666 T
1 FF
(cthr) 233.51 385.666 T
(ead_exit) 251.1 385.666 T
4 FF
(.) 286.65 385.666 T
72 409.666412 M 1.074524 0 32 (The ) widthshow
1 FF
91.124527 409.666412 M 1.074524 0 32 (cthr) widthshow
108.71463 409.666412 M 1.074524 0 32 (ead_detach) widthshow
4 FF
157.044632 409.666412 M 1.074524 0 32 ( function indicates that the named thread will not rendezv) widthshow
396.755493 409.666412 M 1.074524 0 32 (ous with) widthshow
72 421.666382 M 0.743256 0 32 (an) widthshow
81.290085 421.666382 M 0.743256 0 32 (y other thread. ) widthshow
1 FF
144.05986 421.666382 M 0.743256 0 32 (cthr) widthshow
161.649963 421.666382 M 0.743256 0 32 (ead_join) widthshow
4 FF
198.319962 421.666382 M 0.743256 0 32 ( is used to rendezv) widthshow
275.523102 421.666382 M 0.743256 0 32 (ous with a thread\325) widthshow
349.133179 421.666382 M 0.743256 0 32 (s termination. When) widthshow
72 433.666382 M 0.733795 0 32 (a rendezv) widthshow
111.123917 433.666382 M 0.733795 0 32 (ous occurs, the joining thread proceeds, gi) widthshow
284.136841 433.666382 M 0.733795 0 32 (v) widthshow
288.986938 433.666382 M 0.733795 0 32 (en the return v) widthshow
348.978455 433.666382 M 0.733795 0 32 (alue from the joined) widthshow
72 445.666382 M 0.657761 0 32 (thread\325) widthshow
99.770309 445.666382 M 0.657761 0 32 (s top-le) widthshow
129.898209 445.666382 M 0.657761 0 32 (v) widthshow
134.748291 445.666382 M 0.657761 0 32 (el function, or the v) widthshow
215.729477 445.666382 M 0.657761 0 32 (alue supplied to ) widthshow
1 FF
283.532776 445.666382 M 0.657761 0 32 (cthr) widthshow
301.122864 445.666382 M 0.657761 0 32 (ead_exit) widthshow
4 FF
336.672852 445.666382 M 0.657761 0 32 (, if that is the means of) widthshow
(termination for the joined thread.) 72.0 457.666 T
(It follo) 72.0 481.666 T
(ws that attempting to join one\325) 99.25 481.666 T
(s o) 221.2 481.666 T
(wn thread will result in deadlock.) 232.341 481.666 T
72 505.666321 M 1.389954 0 32 (The C threads package allo) widthshow
186.169968 505.666321 M 1.389954 0 32 (ws for a single v) widthshow
257.579926 505.666321 M 1.389954 0 32 (alue \(of type ) widthshow
5 FF
314.789795 505.666321 M 1.389954 0 32 (any_t) widthshow
4 FF
337.009796 505.666321 M 1.389954 0 32 (\) to be associated with) widthshow
72 517.666321 M 0.89325 0 32 (each thread, pro) widthshow
137.776596 517.666321 M 0.89325 0 32 (viding a simple form thread-speci\336c \322global\323 v) widthshow
331.746246 517.666321 M 0.89325 0 32 (ariable. This v) widthshow
390.772888 517.666321 M 0.89325 0 32 (alue is set) widthshow
72 529.66626 M 2.533676 0 32 (by) widthshow
1 FF
82 529.66626 M 2.533676 0 32 ( cthr) widthshow
104.623779 529.66626 M 2.533676 0 32 (ead_set_data) widthshow
4 FF
160.173782 529.66626 M 2.533676 0 32 ( and retrie) widthshow
205.531281 529.66626 M 2.533676 0 32 (v) widthshow
210.381363 529.66626 M 2.533676 0 32 (ed with) widthshow
1 FF
242.63504 529.66626 M 2.533676 0 32 ( cthr) widthshow
265.25882 529.66626 M 2.533676 0 32 (ead_data) widthshow
4 FF
304.148804 529.66626 M 2.533676 0 32 (. More elaborate mechanisms,) widthshow
(such as per) 72.0 541.666 T
(-thread property lists or hash tables, can then be b) 116.23 541.666 T
(uilt with these primiti) 314.88 541.666 T
(v) 401.03 541.666 T
(es.) 405.88 541.666 T
(The current number of C threads can be obtained from ) 72.0 565.666 T
1 FF
(cthr) 292.5 565.666 T
(ead_count) 310.09 565.666 T
4 FF
(.) 353.98 565.666 T
6 (Times-Roman) 12 1 mymakefontmetric
6 FF
(E) 72.0 597.0 T
3 FF
(xecution of Thr) 79.332 597.0 T
(eads) 158.448 597.0 T
4 FF
72 613.66626 M 0.615921 0 32 (A set of C threads may e) widthshow
174.415619 613.66626 M 0.615921 0 32 (x) widthshow
179.265701 613.66626 M 0.615921 0 32 (ecute in parallel on multiple processors within a system. V) widthshow
418.119629 613.66626 M 0.615921 0 32 (ari-) widthshow
72 625.66626 M 0.488235 0 32 (ous f) widthshow
92.108292 625.66626 M 0.488235 0 32 (actors, e) widthshow
125.666672 625.66626 M 0.488235 0 32 (v) widthshow
130.516754 625.66626 M 0.488235 0 32 (en be) widthshow
152.235077 625.66626 M 0.488235 0 32 (yond those in) widthshow
206.701767 625.66626 M 0.488235 0 32 (v) widthshow
211.501877 625.66626 M 0.488235 0 32 (olv) widthshow
224.131958 625.66626 M 0.488235 0 32 (e k) widthshow
236.460251 625.66626 M 0.488235 0 32 (ernel scheduling, af) widthshow
315.776855 625.66626 M 0.488235 0 32 (fect the e) widthshow
353.253418 625.66626 M 0.488235 0 32 (xtent of parallelism) widthshow
(achie) 72.0 637.666 T
(v) 92.85 637.666 T
(ed by a set of C threads.) 97.7 637.666 T
72 661.666199 M 0.033951 0 32 (Underlying C threads is the notion of ) widthshow
5 FF
223.617661 661.666199 M 0.033951 0 32 (cpr) widthshow
236.49791 661.666199 M 0.033951 0 32 (oc) widthshow
4 FF
245.937912 661.666199 M 0.033951 0 32 <d5> widthshow
248.718216 661.666199 M 0.033951 0 32 (s \(a C thread package internal entity\), and un-) widthshow
72 673.666199 M 0.456619 0 32 (der ) widthshow
5 FF
87.726624 673.666199 M 0.456619 0 32 (cpr) widthshow
100.606873 673.666199 M 0.456619 0 32 (oc) widthshow
4 FF
110.046875 673.666199 M 0.456619 0 32 <d5> widthshow
112.827179 673.666199 M 0.456619 0 32 (s f) widthshow
122.903854 673.666199 M 0.456619 0 32 (all Mach threads. It is Mach threads that are actually managed by the k) widthshow
412.01001 673.666199 M 0.456619 0 32 (ernel) widthshow
(and therefore schedulable on processors) 72.0 685.666 T
5 FF
(. ) 231.95 685.666 T
4 FF
(A C thread e) 236.95 685.666 T
(x) 287.62 685.666 T
(ecutes only when:) 292.47 685.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 56 56
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(52 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(C Thr) 180.0 56.824 T
(eads) 203.589 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 180.0 113.651 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(A ) 193.536 113.651 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
(cpr) 203.256 113.651 T
(oc ) 216.136 113.651 T
4 FF
(has been assigned to the C thread) 228.076 113.651 T
3 FF
<a5> 180.0 128.651 T
4 FF
(A Mach thread has been assigned to the ) 193.536 128.651 T
5 FF
(cpr) 355.166 128.651 T
(oc) 368.046 128.651 T
4 FF
(.) 377.486 128.651 T
3 FF
<a5> 180.0 143.651 T
4 FF
(The k) 193.536 143.651 T
(ernel has decided to schedule the Mach thread.) 216.486 143.651 T
180 167.65062 M 1.41243 0 32 (\(The issues in) widthshow
237.975082 167.65062 M 1.41243 0 32 (v) widthshow
242.775192 167.65062 M 1.41243 0 32 (olving the scheduling of Mach threads in) widthshow
414.720001 167.65062 M 1.41243 0 32 (v) widthshow
419.520111 167.65062 M 1.41243 0 32 (olv) widthshow
432.150208 167.65062 M 1.41243 0 32 (es processor sets and task) widthshow
180 179.650604 M 1.423294 0 32 (and thread assignments, policies and priorities and is co) widthshow
414.266449 179.650604 M 1.423294 0 32 (v) widthshow
419.116516 179.650604 M 1.423294 0 32 (ered in the ) widthshow
5 FF
468.096436 179.650604 M 1.423294 0 32 (K) widthshow
474.416626 179.650604 M 1.423294 0 32 (ernel Principles) widthshow
4 FF
(document.\)) 180.0 191.651 T
4 FF
180 215.650574 M 0.214386 0 32 (A ) widthshow
5 FF
189.934387 215.650574 M 0.214386 0 32 (cpr) widthshow
202.814636 215.650574 M 0.214386 0 32 (oc) widthshow
4 FF
212.254639 215.650574 M 0.214386 0 32 ( is assigned to a C thread when one is free. By def) widthshow
414.967346 215.650574 M 0.214386 0 32 (ault, ) widthshow
5 FF
435.181732 215.650574 M 0.214386 0 32 (cpr) widthshow
448.061981 215.650574 M 0.214386 0 32 (oc) widthshow
4 FF
457.501984 215.650574 M 0.214386 0 32 <d5> widthshow
460.282288 215.650574 M 0.214386 0 32 (s are created so that) widthshow
180 227.650558 M 2.986328 0 32 (each C thread has its o) widthshow
284.941772 227.650558 M 2.986328 0 32 (wn. Ho) widthshow
317.118256 227.650558 M 2.986328 0 32 (we) widthshow
328.528381 227.650558 M 2.986328 0 32 (v) widthshow
333.378479 227.650558 M 2.986328 0 32 (er) widthshow
340.748718 227.650558 M 2.986328 0 32 (, the number of ) widthshow
5 FF
416.294006 227.650558 M 2.986328 0 32 (cpr) widthshow
429.174255 227.650558 M 2.986328 0 32 (oc) widthshow
4 FF
438.614258 227.650558 M 2.986328 0 32 <d5> widthshow
441.394592 227.650558 M 2.986328 0 32 (s can be limited \(with) widthshow
0 FF
180 239.650543 M 0.412827 0 32 (cthr) widthshow
197.590103 239.650543 M 0.412827 0 32 (ead_set_limit) widthshow
4 FF
254.250107 239.650543 M 0.412827 0 32 (\) so that the number of C threads that can be making progress is limit-) widthshow
(ed. A ) 180.0 251.651 T
5 FF
(cpr) 204.16 251.651 T
(oc) 217.04 251.651 T
4 FF
( becomes free when the C thread assigned to it terminates.) 226.48 251.651 T
180 275.650513 M 0.283508 0 32 (A Mach thread is assigned to a ) widthshow
5 FF
307.794556 275.650513 M 0.283508 0 32 (cpr) widthshow
320.674805 275.650513 M 0.283508 0 32 (oc) widthshow
4 FF
330.114807 275.650513 M 0.283508 0 32 ( when one is free. By def) widthshow
431.965942 275.650513 M 0.283508 0 32 (ault, Mach threads are cre-) widthshow
180 287.650513 M 0.253021 0 32 (ated so that each ) widthshow
5 FF
249.882095 287.650513 M 0.253021 0 32 (cpr) widthshow
262.762329 287.650513 M 0.253021 0 32 (oc) widthshow
4 FF
272.202332 287.650513 M 0.253021 0 32 ( has its o) widthshow
307.991547 287.650513 M 0.253021 0 32 (wn. Ho) widthshow
337.434692 287.650513 M 0.253021 0 32 (we) widthshow
348.844849 287.650513 M 0.253021 0 32 (v) widthshow
353.694946 287.650513 M 0.253021 0 32 (er) widthshow
361.065155 287.650513 M 0.253021 0 32 (, the number of Mach threads can be limited) widthshow
(\(with ) 180.0 299.65 T
0 FF
(cthr) 203.61 299.65 T
(ead_set_k) 221.2 299.65 T
(er) 263.32 299.65 T
(nel_limit) 272.05 299.65 T
4 FF
(\). Making such a limit has a v) 309.83 299.65 T
(ariety of ef) 428.46 299.65 T
(fects:) 472.081 299.65 T
3 FF
<a5> 180.0 317.65 T
4 FF
(The maximum de) 193.536 317.65 T
(gree of true parallelism is set.) 263.936 317.65 T
3 FF
<a5> 180.0 332.65 T
4 FF
(The k) 193.536 332.65 T
(ernel o) 216.486 332.65 T
(v) 243.826 332.65 T
(erhead associated with the number of Mach threads is controlled.) 248.676 332.65 T
3 FF
<a5> 180.0 347.65 T
4 FF
193.535995 347.650452 M 0.567169 0 32 (Allo) widthshow
211.066132 347.650452 M 0.567169 0 32 (wing multiple C threads the chance to share a Mach thread reduces the o) widthshow
508.499451 347.650452 M 0.567169 0 32 (v) widthshow
513.349548 347.650452 M 0.567169 0 32 (erhead) widthshow
193.535995 359.650421 M 2.08934 0 32 (of synchronization between them by allo) widthshow
366.762848 359.650421 M 2.08934 0 32 (wing conte) widthshow
412.862274 359.650421 M 2.08934 0 32 (xt switches without k) widthshow
504.310364 359.650421 M 2.08934 0 32 (ernel in-) widthshow
(v) 193.536 371.65 T
(olv) 198.336 371.65 T
(ement.) 210.966 371.65 T
180 395.650391 M 1.022491 0 32 (It is possible to force a binding between a C thread and a Mach thread with ) widthshow
0 FF
499.079895 395.650391 M 1.022491 0 32 (cthr) widthshow
516.669983 395.650391 M 1.022491 0 32 (ead_-) widthshow
180 407.650391 M 1.328506 0 32 (wir) widthshow
194.260101 407.650391 M 1.328506 0 32 (e) widthshow
4 FF
198.700104 407.650391 M 1.328506 0 32 ( \() widthshow
0 FF
205.858612 407.650391 M 1.328506 0 32 (cthr) widthshow
223.448715 407.650391 M 1.328506 0 32 (ead_unwir) widthshow
268.828796 407.650391 M 1.328506 0 32 (e) widthshow
4 FF
273.268799 407.650391 M 1.328506 0 32 ( undoes this\). W) widthshow
342.404541 407.650391 M 1.328506 0 32 (iring a C thread to a Mach thread k) widthshow
492.902679 407.650391 M 1.328506 0 32 (eeps that C) widthshow
180 419.65036 M 0.838547 0 32 (thread from being serviced by an) widthshow
315.95282 419.65036 M 0.838547 0 32 (y other Mach thread; it also pre) widthshow
446.264282 419.65036 M 0.838547 0 32 (v) widthshow
451.114349 419.65036 M 0.838547 0 32 (ents that Mach thread) widthshow
180 431.65033 M 0.344315 0 32 (from servicing an) widthshow
251.07872 431.65033 M 0.344315 0 32 (y other C thread. In this w) widthshow
357.754669 431.65033 M 0.344315 0 32 (ay) widthshow
366.545044 431.65033 M 0.344315 0 32 (, a Mach thread will al) widthshow
458.146667 431.65033 M 0.344315 0 32 (w) widthshow
465.266724 431.65033 M 0.344315 0 32 (ays be a) widthshow
497.965454 431.65033 M 0.344315 0 32 (v) widthshow
502.715607 431.65033 M 0.344315 0 32 (ailable to) widthshow
180 443.65033 M 0.85434 0 32 (service this C thread, in the case where the number of Mach threads is being limited to) widthshow
(less than the number of C threads.) 180.0 455.65 T
180 479.650299 M 0.944244 0 32 (The ) widthshow
0 FF
198.994247 479.650299 M 0.944244 0 32 (cthr) widthshow
216.584351 479.650299 M 0.944244 0 32 (ead_yield ) widthshow
4 FF
260.588593 479.650299 M 0.944244 0 32 (procedure is a hint to the scheduler) widthshow
405.82428 479.650299 M 0.944244 0 32 (, suggesting that this w) widthshow
501.451324 479.650299 M 0.944244 0 32 (ould be a) widthshow
180 491.650269 M 0.499954 0 32 (con) widthshow
194.040222 491.650269 M 0.499954 0 32 (v) widthshow
198.890305 491.650269 M 0.499954 0 32 (enient point to schedule another thread to run on the current processor) widthshow
484.06012 491.650269 M 0.499954 0 32 (. This may be) widthshow
(required to a) 180.0 503.65 T
(v) 230.34 503.65 T
(oid starv) 235.14 503.65 T
(ation when the number of Mach threads is limited.) 269.61 503.65 T
180 527.650269 M 1.984131 0 32 (When a C thread e) widthshow
262.206604 527.650269 M 1.984131 0 32 (x) widthshow
267.056702 527.650269 M 1.984131 0 32 (ecutes a blocking k) widthshow
349.839172 527.650269 M 1.984131 0 32 (ernel function \() widthshow
0 FF
415.457428 527.650269 M 1.984131 0 32 (mach_msg) widthshow
4 FF
461.007446 527.650269 M 1.984131 0 32 ( perhaps being the) widthshow
180 539.650269 M 2.174911 0 32 (most e) widthshow
208.414993 539.650269 M 2.174911 0 32 (xtreme e) widthshow
245.149994 539.650269 M 2.174911 0 32 (xample\), its corresponding Mach thread is block) widthshow
451.679535 539.650269 M 2.174911 0 32 (ed as well. T) widthshow
508.5047 539.650269 M 2.174911 0 32 (o a) widthshow
522.419739 539.650269 M 2.174911 0 32 (v) widthshow
527.219849 539.650269 M 2.174911 0 32 (oid) widthshow
180 551.650208 M 3.579941 0 32 (blocking an e) widthshow
240.889969 551.650208 M 3.579941 0 32 (xcessi) widthshow
265.080109 551.650208 M 3.579941 0 32 (v) widthshow
269.930176 551.650208 M 3.579941 0 32 (e number of Mach threads, a special v) widthshow
447.019897 551.650208 M 3.579941 0 32 (ersion of ) widthshow
0 FF
491.949768 551.650208 M 3.579941 0 32 (mach_msg) widthshow
4 FF
537.499756 551.650208 M 3.579941 0 32 (,) widthshow
0 FF
180 563.650208 M 0.488129 0 32 (cthr) widthshow
197.590103 563.650208 M 0.488129 0 32 (ead_mach_msg) widthshow
4 FF
263.140106 563.650208 M 0.488129 0 32 ( is pro) widthshow
288.966431 563.650208 M 0.488129 0 32 (vided. This function performs just lik) widthshow
440.747131 563.650208 M 0.488129 0 32 (e ) widthshow
0 FF
448.175293 563.650208 M 0.488129 0 32 (mach_msg) widthshow
4 FF
493.725281 563.650208 M 0.488129 0 32 (, b) widthshow
504.013519 563.650208 M 0.488129 0 32 (ut it lim-) widthshow
180 575.650208 M 1.214401 0 32 (its the number of C threads that can be \322acti) widthshow
366.479767 575.650208 M 1.214401 0 32 (v) widthshow
371.329834 575.650208 M 1.214401 0 32 (e\323 listeners for a port. A C thread is de-) widthshow
180 587.650146 M 6.819946 0 32 (clared an acti) widthshow
246.700043 587.650146 M 6.819946 0 32 (v) widthshow
251.550125 587.650146 M 6.819946 0 32 (e listener for a port when it calls ) widthshow
0 FF
437.749695 587.650146 M 6.819946 0 32 (cthr) widthshow
455.339813 587.650146 M 6.819946 0 32 (ead_msg_acti) widthshow
513.009888 587.650146 M 6.819946 0 32 (v) widthshow
517.909912 587.650146 M 6.819946 0 32 (e) widthshow
4 FF
522.349915 587.650146 M 6.819946 0 32 ( or) widthshow
0 FF
180 599.650146 M 1.759186 0 32 (cthr) widthshow
197.590103 599.650146 M 1.759186 0 32 (ead_mach_msg) widthshow
4 FF
263.140106 599.650146 M 1.759186 0 32 ( specifying a port. It ceases to be an acti) widthshow
438.682922 599.650146 M 1.759186 0 32 (v) widthshow
443.53302 599.650146 M 1.759186 0 32 (e listener when it calls) widthshow
0 FF
180 611.650146 M 0.082809 0 32 (cthr) widthshow
197.590103 611.650146 M 0.082809 0 32 (ead_msg_b) widthshow
245.170212 611.650146 M 0.082809 0 32 (usy) widthshow
4 FF
259.620209 611.650146 M 0.082809 0 32 ( or ) widthshow
0 FF
273.115845 611.650146 M 0.082809 0 32 (cthr) widthshow
290.705933 611.650146 M 0.082809 0 32 (ead_mach_msg) widthshow
4 FF
356.25592 611.650146 M 0.082809 0 32 ( for a dif) widthshow
390.964508 611.650146 M 0.082809 0 32 (ferent port. If a C thread is not an ac-) widthshow
180 623.650146 M 0.241501 0 32 (ti) widthshow
185.310135 623.650146 M 0.241501 0 32 (v) widthshow
190.160217 623.650146 M 0.241501 0 32 (e listener for a port when it calls ) widthshow
0 FF
323.732239 623.650146 M 0.241501 0 32 (cthr) widthshow
341.322327 623.650146 M 0.241501 0 32 (ead_mach_msg) widthshow
4 FF
406.872345 623.650146 M 0.241501 0 32 ( \(intending to perform a message) widthshow
180 635.650146 M 0.384674 0 32 (recei) widthshow
199.180145 635.650146 M 0.384674 0 32 (v) widthshow
204.030228 635.650146 M 0.384674 0 32 (e\), and making it a listener w) widthshow
322.608337 635.650146 M 0.384674 0 32 (ould e) widthshow
347.56311 635.650146 M 0.384674 0 32 (xceed the limit set for that port, the C thread it-) widthshow
180 647.650085 M 1.430893 0 32 (self will block \(without blocking its underlying Mach thread\), thereby pro) widthshow
489.959045 647.650085 M 1.430893 0 32 (viding more) widthshow
180 659.650085 M 0.401382 0 32 (free \(un-block) widthshow
237.221451 659.650085 M 0.401382 0 32 (ed\) Mach threads. The C thread will get to e) widthshow
417.313995 659.650085 M 0.401382 0 32 (x) widthshow
422.164062 659.650085 M 0.401382 0 32 (ecute its message recei) widthshow
514.478394 659.650085 M 0.401382 0 32 (v) widthshow
519.328491 659.650085 M 0.401382 0 32 (e op-) widthshow
(eration when some other C thread stops being a listener for that port.) 180.0 671.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 57 57
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (53 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Synchr) 72.0 56.824 T
(onization) 99.342 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 121.999969 360 3.024002 CR
0 G
432 123.51 M
72 123.51 L
S
0 0 612 792 CR
3 (Times-Bold) 14 1 mymakefontmetric
3 FF
(Synchr) 72.0 118.333 T
(onization) 114.532 118.333 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 142.690628 M 1.14769 0 32 (This section describes mutual e) widthshow
201.98085 142.690628 M 1.14769 0 32 (xclusion and synchronization primiti) widthshow
352.114075 142.690628 M 1.14769 0 32 (v) widthshow
356.964142 142.690628 M 1.14769 0 32 (es, called mute) widthshow
418.819611 142.690628 M 1.14769 0 32 (x) widthshow
423.669678 142.690628 M 1.14769 0 32 (es) widthshow
72 154.690613 M 0.374557 0 32 (and condition v) widthshow
134.719254 154.690613 M 0.374557 0 32 (ariables. In general, these primiti) widthshow
267.607635 154.690613 M 0.374557 0 32 (v) widthshow
272.457703 154.690613 M 0.374557 0 32 (es are used to constrain the possible in-) widthshow
72 166.690598 M 1.47995 0 32 (terlea) widthshow
94.010117 166.690598 M 1.47995 0 32 (ving of threads\325 e) widthshow
168.560059 166.690598 M 1.47995 0 32 (x) widthshow
173.410141 166.690598 M 1.47995 0 32 (ecution streams. The) widthshow
259.260132 166.690598 M 1.47995 0 32 (y separate the tw) widthshow
331.080048 166.690598 M 1.47995 0 32 (o most common uses of) widthshow
72 178.690582 M 0.617218 0 32 (Dijkstra\325) widthshow
107.000305 178.690582 M 0.617218 0 32 (s ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
114.007523 178.690582 M 0.617218 0 32 (P) widthshow
4 FF
120.117523 178.690582 M 0.617218 0 32 ( and ) widthshow
5 FF
140.791962 178.690582 M 0.617218 0 32 (V) widthshow
4 FF
146.901962 178.690582 M 0.617218 0 32 ( operations into distinct f) widthshow
249.270889 178.690582 M 0.617218 0 32 (acilities. This approach basically implements) widthshow
(monitors, b) 72.0 190.691 T
(ut without the syntactic sug) 117.36 190.691 T
(ar) 227.31 190.691 T
(.) 234.53 190.691 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Mutex V) 72.0 222.024 T
(ariables) 115.885 222.024 T
4 FF
72 238.690552 M 0.633774 0 32 (Mutually e) widthshow
116.093857 238.690552 M 0.633774 0 32 (xclusi) widthshow
139.733994 238.690552 M 0.633774 0 32 (v) widthshow
144.584076 238.690552 M 0.633774 0 32 (e access to mutable data is necessary to pre) widthshow
322.13443 238.690552 M 0.633774 0 32 (v) widthshow
326.984497 238.690552 M 0.633774 0 32 (ent corruption of data. As) widthshow
72 250.690536 M 0.71994 0 32 (simple e) widthshow
106.180023 250.690536 M 0.71994 0 32 (xample, consider concurrent attempts to update a simple counter) widthshow
369.399872 250.690536 M 0.71994 0 32 (. If tw) widthshow
394.899811 250.690536 M 0.71994 0 32 (o threads) widthshow
72 262.690521 M 0.708389 0 32 (fetch the current v) widthshow
146.905319 262.690521 M 0.708389 0 32 (alue into a \(thread-local\) re) widthshow
258.438965 262.690521 M 0.708389 0 32 (gister) widthshow
280.259216 262.690521 M 0.708389 0 32 (, increment, and write the v) widthshow
393.251282 262.690521 M 0.708389 0 32 (alue back) widthshow
72 274.690491 M 0.676071 0 32 (in some order) widthshow
127.942368 274.690491 M 0.676071 0 32 (, the counter will only be incremented once, losing one thread\325) widthshow
384.663391 274.690491 M 0.676071 0 32 (s operation.) widthshow
72 286.690491 M 1.040878 0 32 (A mute) widthshow
102.610962 286.690491 M 1.040878 0 32 (x solv) widthshow
127.671921 286.690491 M 1.040878 0 32 (es this problem by making the fetch-increment-deposit action atomic. Be-) widthshow
72 298.690491 M 0.676376 0 32 (fore fetching a counter) widthshow
164.429367 298.690491 M 0.676376 0 32 (, a thread locks the associated mute) widthshow
309.697723 298.690491 M 0.676376 0 32 (x. After depositing a ne) widthshow
406.303375 298.690491 M 0.676376 0 32 (w v) widthshow
421.44989 298.690491 M 0.676376 0 32 (al-) widthshow
72 310.69046 M 2.071228 0 32 (ue, the thread unlocks the mute) widthshow
207.186234 310.69046 M 2.071228 0 32 (x. If an) widthshow
239.778778 310.69046 M 2.071228 0 32 (y other thread tries to use the counter in the) widthshow
72 322.69043 M 0.84407 0 32 (meantime, it will block when it tries to lock the mute) widthshow
292.230774 322.69043 M 0.84407 0 32 (x. If more than one thread tries to) widthshow
72 334.69043 M 0.169327 0 32 (lock the mute) widthshow
126.628738 334.69043 M 0.169327 0 32 (x at the same time, the C threads package guarantees that only one will suc-) widthshow
(ceed; the rest will block.) 72.0 346.69 T
72 370.690399 M 0.677444 0 32 (While a mute) widthshow
127.084976 370.690399 M 0.677444 0 32 (x is lock) widthshow
162.229919 370.690399 M 0.677444 0 32 (ed, all other attempts to lock the mute) widthshow
317.922119 370.690399 M 0.677444 0 32 (x will block until the mute) widthshow
426.99942 370.690399 M 0.677444 0 32 (x) widthshow
72 382.690369 M 0.909225 0 32 (is unlock) widthshow
109.19928 382.690369 M 0.909225 0 32 (ed. When the mute) widthshow
187.317047 382.690369 M 0.909225 0 32 (x is unlock) widthshow
232.925552 382.690369 M 0.909225 0 32 (ed, one of the block) widthshow
315.612518 382.690369 M 0.909225 0 32 (ed threads will then succeed) widthshow
72 394.690369 M 1.757812 0 32 (in locking the mute) widthshow
154.62352 394.690369 M 1.757812 0 32 (x. Unlocking a mute) widthshow
241.407043 394.690369 M 1.757812 0 32 (x does not guarantee that one of the block) widthshow
422.559631 394.690369 M 1.757812 0 32 (ed) widthshow
72 406.690369 M 0.15152 0 32 (threads will run immediately; normally the unlocking thread will continue to run and oth-) widthshow
(er threads will ha) 72.0 418.69 T
(v) 140.95 418.69 T
(e to w) 145.8 418.69 T
(ait for assignment to k) 170.14 418.69 T
(ernel threads.) 259.48 418.69 T
72 442.690308 M 0.595352 0 32 (A mute) widthshow
102.165436 442.690308 M 0.595352 0 32 (x v) widthshow
115.010925 442.690308 M 0.595352 0 32 (ariable is lock) widthshow
172.201691 442.690308 M 0.595352 0 32 (ed with the ) widthshow
1 FF
220.92775 442.690308 M 0.595352 0 32 (mutex_lock) widthshow
4 FF
270.367737 442.690308 M 0.595352 0 32 ( function. This function will block until) widthshow
72 454.690308 M 0.62442 0 32 (the mute) widthshow
107.194504 454.690308 M 0.62442 0 32 (x can be \(and is\) lock) widthshow
196.026672 454.690308 M 0.62442 0 32 (ed. It is f) widthshow
233.349991 454.690308 M 0.62442 0 32 (airly common that a thread wishes to lock a mu-) widthshow
72 466.690308 M 0.130493 0 32 (te) widthshow
79.070084 466.690308 M 0.130493 0 32 (x, b) widthshow
94.000687 466.690308 M 0.130493 0 32 (ut has other things it can do until it can succeed in locking the mute) widthshow
365.657684 466.690308 M 0.130493 0 32 (x. F) widthshow
381.198242 466.690308 M 0.130493 0 32 (or these pur-) widthshow
72 478.690277 M 1.339188 0 32 (poses, there is the ) widthshow
1 FF
150.956757 478.690277 M 1.339188 0 32 (mutex_try_lock) widthshow
4 FF
218.166763 478.690277 M 1.339188 0 32 ( function. If this function cannot lock the mute) widthshow
415.100342 478.690277 M 1.339188 0 32 (x, it) widthshow
72 490.690247 M 1.721802 0 32 (simply returns instead of blocking \(returning a status indicating this occurrence\). The) widthshow
72 502.690247 M 0.071213 0 32 (thread can proceed to accomplish other w) widthshow
238.947357 502.690247 M 0.071213 0 32 (ork and try its lock attempt later) widthshow
367.144958 502.690247 M 0.071213 0 32 (. A mute) widthshow
401.857452 502.690247 M 0.071213 0 32 (x is un-) widthshow
(lock) 72.0 514.69 T
(ed with ) 89.12 514.69 T
1 FF
(mutex_unlock) 121.34 514.69 T
4 FF
(.) 181.9 514.69 T
6 FF
(Condition V) 72.0 546.024 T
(ariables) 133.909 546.024 T
4 FF
72 562.690186 M 0.631363 0 32 (Condition v) widthshow
119.891495 562.690186 M 0.631363 0 32 (ariables are used when one thread w) widthshow
268.529755 562.690186 M 0.631363 0 32 (ants to w) widthshow
305.802551 562.690186 M 0.631363 0 32 (ait until another thread has \336n-) widthshow
72 574.690186 M 1.113281 0 32 (ished doing something. Ev) widthshow
181.859924 574.690186 M 1.113281 0 32 (ery condition v) widthshow
244.386627 574.690186 M 1.113281 0 32 (ariable should be protected by a mute) widthshow
400.886414 574.690186 M 1.113281 0 32 (x. Con-) widthshow
72 586.690186 M 0.774948 0 32 (ceptually) widthshow
108.010361 586.690186 M 0.774948 0 32 (, the condition is a boolean function of the shared data that the mute) widthshow
389.564789 586.690186 M 0.774948 0 32 (x protects.) widthshow
72 598.690186 M 0.537949 0 32 (Commonly) widthshow
116.360352 598.690186 M 0.537949 0 32 (, a thread locks the mute) widthshow
216.660187 598.690186 M 0.537949 0 32 (x and inspects the shared data. If it doesn\325) widthshow
388.803894 598.690186 M 0.537949 0 32 (t lik) widthshow
405.081909 598.690186 M 0.537949 0 32 (e what) widthshow
72 610.690186 M 1.032257 0 32 (it \336nds, it w) widthshow
122.786819 610.690186 M 1.032257 0 32 (aits using a condition v) widthshow
219.445984 610.690186 M 1.032257 0 32 (ariable. This operation also temporarily unlocks the) widthshow
72 622.690125 M 1.019928 0 32 (mute) widthshow
91.850082 622.690125 M 1.019928 0 32 (x, to gi) widthshow
121.700073 622.690125 M 1.019928 0 32 (v) widthshow
126.550156 622.690125 M 1.019928 0 32 (e other threads a chance to get in and modify the shared data. Ev) widthshow
397.929321 622.690125 M 1.019928 0 32 (entually) widthshow
429.499695 622.690125 M 1.019928 0 32 (,) widthshow
72 634.690125 M 0.005295 0 32 (one of them should signal the condition \(which w) widthshow
270.262421 634.690125 M 0.005295 0 32 (ak) widthshow
279.602478 634.690125 M 0.005295 0 32 (es up the block) widthshow
339.788422 634.690125 M 0.005295 0 32 (ed thread\) before it un-) widthshow
72 646.690125 M 0.463486 0 32 (locks the mute) widthshow
131.107056 646.690125 M 0.463486 0 32 (x. At that point, the original thread will re) widthshow
301.875031 646.690125 M 0.463486 0 32 (g) widthshow
306.825073 646.690125 M 0.463486 0 32 (ain its lock and can look at the) widthshow
72 658.690063 M 0.825226 0 32 (shared data to see if things ha) widthshow
195.061478 658.690063 M 0.825226 0 32 (v) widthshow
199.91156 658.690063 M 0.825226 0 32 (e impro) widthshow
231.41687 658.690063 M 0.825226 0 32 (v) widthshow
236.266953 658.690063 M 0.825226 0 32 (ed. It can\325) widthshow
277.997498 658.690063 M 0.825226 0 32 (t assume that it will lik) widthshow
373.423706 658.690063 M 0.825226 0 32 (e what it sees,) widthshow
72 670.690063 M 0.20195 0 32 (because some other thread may ha) widthshow
210.269882 670.690063 M 0.20195 0 32 (v) widthshow
215.119965 670.690063 M 0.20195 0 32 (e slipped in and muck) widthshow
303.597839 670.690063 M 0.20195 0 32 (ed with the data after the condi-) widthshow
(tion w) 72.0 682.69 T
(as signaled.) 97.18 682.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 58 58
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(54 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(C Thr) 180.0 56.824 T
(eads) 203.589 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.69664 0 32 (The ) widthshow
0 FF
198.746643 113.650665 M 0.69664 0 32 (condition_signal) widthshow
3 FF
268.766632 113.650665 M 0.69664 0 32 ( function should be called when one thread wishes to indicate that) widthshow
180 125.65065 M 0.904953 0 32 (the condition represented by the condition v) widthshow
361.269867 125.65065 M 0.904953 0 32 (ariable is no) widthshow
411.7099 125.65065 M 0.904953 0 32 (w true. If an) widthshow
463.144867 125.65065 M 0.904953 0 32 (y other threads are) widthshow
180 137.650635 M 0.869247 0 32 (w) widthshow
187.120056 137.650635 M 0.869247 0 32 (aiting \(via ) widthshow
0 FF
232.188553 137.650635 M 0.869247 0 32 (condition_wait) widthshow
3 FF
295.528564 137.650635 M 0.869247 0 32 (\), then at least one of them will be a) widthshow
446.511871 137.650635 M 0.869247 0 32 (w) widthshow
453.631927 137.650635 M 0.869247 0 32 (ak) widthshow
462.971985 137.650635 M 0.869247 0 32 (ened. If no threads) widthshow
180 149.65062 M 0.00087 0 32 (are w) widthshow
201.830933 149.65062 M 0.00087 0 32 (aiting, then nothing happens. The ) widthshow
0 FF
338.215271 149.65062 M 0.00087 0 32 (condition_br) widthshow
393.04538 149.65062 M 0.00087 0 32 (oadcast) widthshow
3 FF
425.265381 149.65062 M 0.00087 0 32 ( function is similar to ) widthshow
0 FF
513.329712 149.65062 M 0.00087 0 32 (condi-) widthshow
180 161.650604 M 0.837814 0 32 (tion_signal) widthshow
3 FF
226.679993 161.650604 M 0.837814 0 32 (, e) widthshow
236.807892 161.650604 M 0.837814 0 32 (xcept that it a) widthshow
293.331421 161.650604 M 0.837814 0 32 (w) widthshow
300.451477 161.650604 M 0.837814 0 32 (ak) widthshow
309.791534 161.650604 M 0.837814 0 32 (ens ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
326.459351 161.650604 M 0.837814 0 32 (all) widthshow
3 FF
337.019348 161.650604 M 0.837814 0 32 ( threads w) widthshow
379.695038 161.650604 M 0.837814 0 32 (aiting for the condition, not just one of) widthshow
(them.) 180.0 173.651 T
180 197.650574 M 0.309937 0 32 (The ) widthshow
0 FF
198.35994 197.650574 M 0.309937 0 32 (condition_wait) widthshow
3 FF
261.699951 197.650574 M 0.309937 0 32 ( function tak) widthshow
312.769867 197.650574 M 0.309937 0 32 (es as ar) widthshow
342.639832 197.650574 M 0.309937 0 32 (guments a mute) widthshow
406.439819 197.650574 M 0.309937 0 32 (x ) widthshow
4 FF
414.249756 197.650574 M 0.309937 0 32 (m) widthshow
3 FF
421.469727 197.650574 M 0.309937 0 32 ( and a condition v) widthshow
494.119629 197.650574 M 0.309937 0 32 (ariable ) widthshow
4 FF
524.139587 197.650574 M 0.309937 0 32 (c) widthshow
3 FF
528.57959 197.650574 M 0.309937 0 32 (. It) widthshow
180 209.650558 M 1.159973 0 32 (unlocks ) widthshow
4 FF
214.769974 209.650558 M 1.159973 0 32 (m) widthshow
3 FF
221.989975 209.650558 M 1.159973 0 32 (, suspends the calling thread until the speci\336ed condition is ) widthshow
4 FF
472.189697 209.650558 M 1.159973 0 32 (lik) widthshow
482.089783 209.650558 M 1.159973 0 32 (ely) widthshow
3 FF
493.749756 209.650558 M 1.159973 0 32 ( to be true,) widthshow
180 221.650543 M 0.897293 0 32 (and locks ) widthshow
4 FF
222.344589 221.650543 M 0.897293 0 32 (m) widthshow
3 FF
229.56459 221.650543 M 0.897293 0 32 ( ag) widthshow
242.351913 221.650543 M 0.897293 0 32 (ain when the thread resumes. Since there is no guarantee that the condi-) widthshow
180 233.650528 M 0.589325 0 32 (tion will be true when the thread resumes, use of this procedure should al) widthshow
480.291321 233.650528 M 0.589325 0 32 (w) widthshow
487.411377 233.650528 M 0.589325 0 32 (ays be of the) widthshow
(form:) 180.0 245.651 T
([1]) 195.34 263.65 T
0 FF
( mutex_lock) 216.0 263.65 T
3 FF
(\() 267.94 263.65 T
4 FF
(m) 271.27 263.65 T
3 FF
(\);) 278.49 263.65 T
([2]) 195.34 275.65 T
( while \(/* condition is not true */\)) 216.0 275.65 T
([3]) 195.34 287.65 T
0 FF
( condition_wait ) 252.0 287.65 T
3 FF
(\() 320.34 287.65 T
4 FF
(c) 323.67 287.65 T
3 FF
(, ) 328.11 287.65 T
4 FF
(m) 333.11 287.65 T
3 FF
(\);) 340.33 287.65 T
([4]) 195.34 299.65 T
(/* do w) 216.0 299.65 T
(ork requiring condition */) 245.9 299.65 T
([5]) 195.34 311.65 T
0 FF
(mutex_unlock ) 216.0 311.65 T
3 FF
(\() 279.06 311.65 T
4 FF
(m) 282.39 311.65 T
3 FF
(\);) 289.61 311.65 T
180 333.650421 M 1.091644 0 32 (Shared v) widthshow
216.111786 333.650421 M 1.091644 0 32 (ariables should be inspected on each iteration to determine whether the condi-) widthshow
(tion is true.) 180.0 345.65 T
180 369.650391 M 1.183731 0 32 (Because of the use of a mute) widthshow
301.922485 369.650391 M 1.183731 0 32 (x in the ) widthshow
0 FF
337.973694 369.650391 M 1.183731 0 32 (condition_wait) widthshow
3 FF
401.31366 369.650391 M 1.183731 0 32 ( call, that mute) widthshow
464.154968 369.650391 M 1.183731 0 32 (x must be held by) widthshow
180 381.650391 M 0.337936 0 32 (an) widthshow
189.290085 381.650391 M 0.337936 0 32 (y caller of ) widthshow
0 FF
233.343903 381.650391 M 0.337936 0 32 (condition_signal) widthshow
3 FF
303.363892 381.650391 M 0.337936 0 32 ( or ) widthshow
0 FF
317.369751 381.650391 M 0.337936 0 32 (condition_br) widthshow
372.19986 381.650391 M 0.337936 0 32 (oadcast) widthshow
3 FF
404.419861 381.650391 M 0.337936 0 32 ( for the associated condition v) widthshow
526.11969 381.650391 M 0.337936 0 32 (ari-) widthshow
(able, or the results are unspeci\336ed.) 180.0 393.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Pr) 180.0 424.984 T
(ecautions) 192.444 424.984 T
3 FF
180 441.65033 M 0.506134 0 32 (One must tak) widthshow
234.242325 441.65033 M 0.506134 0 32 (e special care with data structures that are dynamically allocated and de-al-) widthshow
180 453.65033 M 1.179199 0 32 (located. In particular) widthshow
264.988647 453.65033 M 1.179199 0 32 (, if the mute) widthshow
316.706299 453.65033 M 1.179199 0 32 (x that is controlling access to a dynamically allocated) widthshow
180 465.65033 M 0.588867 0 32 (record is part of the record, one must be sure that no thread is w) widthshow
443.364227 465.65033 M 0.588867 0 32 (aiting for the mute) widthshow
519.14093 465.65033 M 0.588867 0 32 (x be-) widthshow
(fore freeing the record.) 180.0 477.65 T
180 501.650269 M 0.48851 0 32 (Attempting to lock a mute) widthshow
286.804138 501.650269 M 0.48851 0 32 (x that one already holds is another common error) widthshow
486.792542 501.650269 M 0.48851 0 32 (. The of) widthshow
518.899658 501.650269 M 0.48851 0 32 (fend-) widthshow
180 513.650269 M 1.367294 0 32 (ing thread will block w) widthshow
278.139221 513.650269 M 1.367294 0 32 (aiting for itself. This can happen when a thread is tra) widthshow
502.402313 513.650269 M 1.367294 0 32 (v) widthshow
507.25238 513.650269 M 1.367294 0 32 (ersing a) widthshow
180 525.650269 M 1.670715 0 32 (complicated data structure, locking as it goes, and reaches the same data by dif) widthshow
516.679443 525.650269 M 1.670715 0 32 (ferent) widthshow
180 537.650269 M 1.085587 0 32 (paths. Another instance of this is when a thread is locking elements in an array) widthshow
509.218597 537.650269 M 1.085587 0 32 (, say to) widthshow
(sw) 180.0 549.65 T
(ap them, and it doesn\325) 191.01 549.65 T
(t check for the special case that the elements are the same.) 279.43 549.65 T
180 573.650208 M 0.319931 0 32 (In general, one must be v) widthshow
282.539734 573.650208 M 0.319931 0 32 (ery careful to a) widthshow
343.549683 573.650208 M 0.319931 0 32 (v) widthshow
348.349792 573.650208 M 0.319931 0 32 (oid deadlock. Deadlock is de\336ned as the condi-) widthshow
180 585.650208 M 0.952103 0 32 (tion in which one or more threads are permanently block) widthshow
415.369019 585.650208 M 0.952103 0 32 (ed w) widthshow
435.381165 585.650208 M 0.952103 0 32 (aiting for each other) widthshow
518.497803 585.650208 M 0.952103 0 32 (. The) widthshow
180 597.650146 M 0.957108 0 32 (abo) widthshow
194.290085 597.650146 M 0.957108 0 32 (v) widthshow
199.140167 597.650146 M 0.957108 0 32 (e scenarios are a special case of deadlock. The easiest w) widthshow
433.251343 597.650146 M 0.957108 0 32 (ay to a) widthshow
461.625671 597.650146 M 0.957108 0 32 (v) widthshow
466.425781 597.650146 M 0.957108 0 32 (oid deadlock with) widthshow
180 609.650146 M 0.857269 0 32 (mute) widthshow
199.850082 609.650146 M 0.857269 0 32 (x) widthshow
204.700165 609.650146 M 0.857269 0 32 (es is to impose a total ordering on the mute) widthshow
384.755676 609.650146 M 0.857269 0 32 (x) widthshow
389.605774 609.650146 M 0.857269 0 32 (es, and then ensure that threads only) widthshow
(lock mute) 180.0 621.65 T
(x) 219.57 621.65 T
(es in increasing order) 224.42 621.65 T
(.) 309.68 621.65 T
180 645.650146 M 1.232834 0 32 (One important issue the programmer must decide is what kind of granularity to use in) widthshow
180 657.650146 M 0.470688 0 32 (protecting shared data with mute) widthshow
312.822845 657.650146 M 0.470688 0 32 (x) widthshow
317.672913 657.650146 M 0.470688 0 32 (es. The tw) widthshow
359.894348 657.650146 M 0.470688 0 32 (o e) widthshow
372.155151 657.650146 M 0.470688 0 32 (xtremes are to ha) widthshow
441.957336 657.650146 M 0.470688 0 32 (v) widthshow
446.807404 657.650146 M 0.470688 0 32 (e one mute) widthshow
491.478882 657.650146 M 0.470688 0 32 (x protecting) widthshow
180 669.650085 M 0.244553 0 32 (all shared memory) widthshow
254.26947 669.650085 M 0.244553 0 32 (, and to ha) widthshow
296.463257 669.650085 M 0.244553 0 32 (v) widthshow
301.313324 669.650085 M 0.244553 0 32 (e one mute) widthshow
345.532532 669.650085 M 0.244553 0 32 (x for e) widthshow
371.871765 669.650085 M 0.244553 0 32 (v) widthshow
376.721863 669.650085 M 0.244553 0 32 (ery byte of shared memory) widthshow
484.800415 669.650085 M 0.244553 0 32 (. Finer granu-) widthshow
180 681.650085 M 0.707657 0 32 (larity normally increases the possible parallelism, because less data is lock) widthshow
484.986633 681.650085 M 0.707657 0 32 (ed at an) widthshow
517.352051 681.650085 M 0.707657 0 32 (y one) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 59 59
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (55 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Synchr) 72.0 56.824 T
(onization) 99.342 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.622208 0 32 (time. Ho) widthshow
107.372345 115.666656 M 0.622208 0 32 (we) widthshow
118.782486 115.666656 M 0.622208 0 32 (v) widthshow
123.632568 115.666656 M 0.622208 0 32 (er) widthshow
131.002792 115.666656 M 0.622208 0 32 (, it also increases the o) widthshow
224.503922 115.666656 M 0.622208 0 32 (v) widthshow
229.354004 115.666656 M 0.622208 0 32 (erhead lost to locking and unlocking mute) widthshow
401.257324 115.666656 M 0.622208 0 32 (x) widthshow
406.107422 115.666656 M 0.622208 0 32 (es and) widthshow
(increases the possibility of deadlock.) 72.0 127.667 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(Management of Synchr) 72.0 159.0 T
(onization V) 191.772 159.0 T
(ariables) 249.673 159.0 T
3 FF
72 175.666626 M 1.124954 0 32 (A mute) widthshow
102.695038 175.666626 M 1.124954 0 32 (x or condition v) widthshow
169.430038 175.666626 M 1.124954 0 32 (ariable can be allocated dynamically from the heap, or the pro-) widthshow
72 187.666611 M 0.892792 0 32 (grammer can tak) widthshow
140.885651 187.666611 M 0.892792 0 32 (e an object of the referent type, initialize it appropriately) widthshow
374.331177 187.666611 M 0.892792 0 32 (, and then use) widthshow
(its address.) 72.0 199.667 T
72 223.66658 M 1.795502 0 32 (The functions ) widthshow
1 FF
133.361008 223.66658 M 1.795502 0 32 (mutex_alloc) widthshow
3 FF
185.021011 223.66658 M 1.795502 0 32 ( and ) widthshow
1 FF
208.052017 223.66658 M 1.795502 0 32 (condition_alloc) widthshow
3 FF
273.062012 223.66658 M 1.795502 0 32 ( pro) widthshow
290.537598 223.66658 M 1.795502 0 32 (vide dynamic allocation of mute) widthshow
426.999695 223.66658 M 1.795502 0 32 (x) widthshow
(and condition objects.) 72.0 235.667 T
1 FF
72 259.666565 M 1.083939 0 32 (mutex_fr) widthshow
111.250107 259.666565 M 1.083939 0 32 (ee) widthshow
3 FF
120.130112 259.666565 M 1.083939 0 32 ( and ) widthshow
1 FF
141.737991 259.666565 M 1.083939 0 32 (condition_fr) widthshow
194.338089 259.666565 M 1.083939 0 32 (ee) widthshow
3 FF
203.218094 259.666565 M 1.083939 0 32 ( allo) widthshow
221.55217 259.666565 M 1.083939 0 32 (w the programmer to de-allocate mute) widthshow
379.84198 259.666565 M 1.083939 0 32 (x and condi-) widthshow
72 271.666534 M 0.106613 0 32 (tion objects that were allocated dynamically) widthshow
248.243439 271.666534 M 0.106613 0 32 (. Before de-allocating such an object, the pro-) widthshow
72 283.666504 M 1.811478 0 32 (grammer must guarantee that no other thread will reference it. In particular) widthshow
391.446533 283.666504 M 1.811478 0 32 (, a thread) widthshow
72 295.666504 M 1.526337 0 32 (block) widthshow
94.120056 295.666504 M 1.526337 0 32 (ed in ) widthshow
1 FF
119.392731 295.666504 M 1.526337 0 32 (mutex_lock) widthshow
3 FF
168.832733 295.666504 M 1.526337 0 32 ( or ) widthshow
1 FF
185.215408 295.666504 M 1.526337 0 32 (condition_wait) widthshow
3 FF
248.555405 295.666504 M 1.526337 0 32 ( should be vie) widthshow
308.714539 295.666504 M 1.526337 0 32 (wed as referencing the object) widthshow
72 307.666504 M 0.141937 0 32 (continually) widthshow
116.350357 307.666504 M 0.141937 0 32 (, so freeing the object \322out from under\323 such a thread is erroneous, and can re-) widthshow
(sult in b) 72.0 319.666 T
(ugs that are e) 104.03 319.666 T
(xtremely dif) 156.92 319.666 T
<de63756c7420746f20747261636b20646f> 205.83 319.666 T
(wn.) 271.41 319.666 T
72 343.666443 M 1.709213 0 32 (A programmer can initialize an object of the struct) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
287.853729 343.666443 M 1.709213 0 32 ( mute) widthshow
311.30304 343.666443 M 1.709213 0 32 (x) widthshow
3 FF
315.743042 343.666443 M 1.709213 0 32 ( or struct) widthshow
5 FF
354.711487 343.666443 M 1.709213 0 32 ( condition) widthshow
3 FF
396.700684 343.666443 M 1.709213 0 32 ( referent) widthshow
72 355.666443 M 0.646393 0 32 (type with ) widthshow
1 FF
113.292786 355.666443 M 0.646393 0 32 (mutex_init) widthshow
3 FF
159.402786 355.666443 M 0.646393 0 32 ( or ) widthshow
1 FF
174.025574 355.666443 M 0.646393 0 32 (condition_init) widthshow
3 FF
233.485565 355.666443 M 0.646393 0 32 (, so that its address can be used where) widthshow
390.316864 355.666443 M 0.646393 0 32 (v) widthshow
395.166931 355.666443 M 0.646393 0 32 (er an ob-) widthshow
72 367.666443 M 1.076614 0 32 (ject of type ) widthshow
5 FF
122.719849 367.666443 M 1.076614 0 32 (mute) widthshow
141.959961 367.666443 M 1.076614 0 32 (x_t) widthshow
3 FF
154.179962 367.666443 M 1.076614 0 32 ( or ) widthshow
5 FF
169.663193 367.666443 M 1.076614 0 32 (condition_t) widthshow
3 FF
215.22319 367.666443 M 1.076614 0 32 ( is e) widthshow
233.336502 367.666443 M 1.076614 0 32 (xpected. F) widthshow
275.923218 367.666443 M 1.076614 0 32 (or e) widthshow
292.119904 367.666443 M 1.076614 0 32 (xample, the ) widthshow
1 FF
343.433136 367.666443 M 1.076614 0 32 (mutex_alloc) widthshow
3 FF
395.09314 367.666443 M 1.076614 0 32 ( function) widthshow
(could be written in terms of ) 72.0 379.666 T
1 FF
(mutex_init) 185.32 379.666 T
3 FF
( as follo) 231.43 379.666 T
(ws:) 263.4 379.666 T
([1]) 87.34 397.666 T
5 FF
( mute) 108.0 397.666 T
(x_t) 129.74 397.666 T
1 FF
( mutex_alloc) 141.96 397.666 T
3 FF
(\(\)) 196.12 397.666 T
([2]) 87.34 409.666 T
({) 108.0 409.666 T
([3]) 87.34 421.666 T
(re) 144.0 421.666 T
(gister) 151.62 421.666 T
5 FF
( mute) 173.84 421.666 T
(x_t) 195.58 421.666 T
(m) 288.0 421.666 T
3 FF
(;) 295.22 421.666 T
([4]) 87.34 433.666 T
5 FF
( m) 144.0 433.666 T
3 FF
( = \() 153.72 433.666 T
5 FF
(mute) 167.69 433.666 T
(x_t) 186.93 433.666 T
3 FF
(\) ) 199.15 433.666 T
1 FF
(malloc ) 204.98 433.666 T
3 FF
(\(sizeof \(struct ) 235.81 433.666 T
5 FF
(mute) 293.57 433.666 T
(x) 312.81 433.666 T
3 FF
(\)\);) 317.25 433.666 T
([5]) 87.34 445.666 T
( ) 144.0 445.666 T
1 FF
(mutex_init) 146.5 445.666 T
3 FF
(\() 192.61 445.666 T
5 FF
(m) 195.94 445.666 T
3 FF
(\);) 203.16 445.666 T
([6]) 87.34 457.666 T
( return ) 144.0 457.666 T
5 FF
(m) 172.88 457.666 T
3 FF
(;) 180.1 457.666 T
([7]) 87.34 469.666 T
(}) 108.0 469.666 T
72 491.66629 M 0.880737 0 32 (Initialization of the referent type is most often used when the programmer has included) widthshow
72 503.66626 M 0.40596 0 32 (the referent type itself \(rather than a pointer\) in a lar) widthshow
284.149719 503.66626 M 0.40596 0 32 (ger structure, for more ef) widthshow
385.763733 503.66626 M 0.40596 0 32 <de6369656e742073746f722d> widthshow
72 515.66626 M 1.319199 0 32 (age allocation. F) widthshow
140.868484 515.66626 M 1.319199 0 32 (or instance, a data structure might contain a component of type struct) widthshow
5 FF
72 527.66626 M 0.566864 0 32 (mute) widthshow
91.240112 527.66626 M 0.566864 0 32 (x) widthshow
3 FF
95.680115 527.66626 M 0.566864 0 32 ( to allo) widthshow
124.343979 527.66626 M 0.566864 0 32 (w each instance of that structure to be lock) widthshow
299.848969 527.66626 M 0.566864 0 32 (ed independently) widthshow
368.366211 527.66626 M 0.566864 0 32 (. During initial-) widthshow
72 539.66626 M 0.668411 0 32 (ization of the instance, the programmer w) widthshow
242.820541 539.66626 M 0.668411 0 32 (ould call ) widthshow
1 FF
281.37738 539.66626 M 0.668411 0 32 (mutex_init) widthshow
3 FF
327.487366 539.66626 M 0.668411 0 32 ( on the struct ) widthshow
5 FF
384.601013 539.66626 M 0.668411 0 32 (mute) widthshow
403.841125 539.66626 M 0.668411 0 32 (x) widthshow
3 FF
408.281128 539.66626 M 0.668411 0 32 ( com-) widthshow
72 551.666199 M 4.551773 0 32 (ponent. The alternati) widthshow
163.893692 551.666199 M 4.551773 0 32 (v) widthshow
168.743774 551.666199 M 4.551773 0 32 (e of using a ) widthshow
5 FF
235.830872 551.666199 M 4.551773 0 32 (mute) widthshow
255.070984 551.666199 M 4.551773 0 32 (x_t) widthshow
3 FF
267.290985 551.666199 M 4.551773 0 32 ( component and initializing it using) widthshow
1 FF
(mutex_alloc) 72.0 563.666 T
3 FF
( w) 123.66 563.666 T
(ould be less ef) 133.28 563.666 T
<de6369656e742e> 190.52 563.666 T
1 FF
72 587.666199 M 0.563965 0 32 (mutex_clear) widthshow
3 FF
124.76001 587.666199 M 0.563965 0 32 ( and ) widthshow
1 FF
145.327942 587.666199 M 0.563965 0 32 (condition_clear) widthshow
3 FF
211.437943 587.666199 M 0.563965 0 32 ( should be called before freeing the storage associated) widthshow
3 FF
72 599.666138 M 0.139313 0 32 (with an object of the struct ) widthshow
5 FF
182.265884 599.666138 M 0.139313 0 32 (mute) widthshow
201.505997 599.666138 M 0.139313 0 32 (x) widthshow
3 FF
205.945999 599.666138 M 0.139313 0 32 ( or struct ) widthshow
5 FF
244.41394 599.666138 M 0.139313 0 32 (condition) widthshow
3 FF
282.193939 599.666138 M 0.139313 0 32 ( referent type. \(Clearing a mute) widthshow
408.26062 599.666138 M 0.139313 0 32 (x cur-) widthshow
3 FF
72 611.666138 M 0.5336 0 32 (rently does nothing; clearing a condition v) widthshow
244.381744 611.666138 M 0.5336 0 32 (ariable broadcasts its condition.\) F) widthshow
384.40625 611.666138 M 0.5336 0 32 (or e) widthshow
400.059937 611.666138 M 0.5336 0 32 (xample,) widthshow
3 FF
(the ) 72.0 623.666 T
1 FF
(mutex_fr) 86.72 623.666 T
(ee) 125.97 623.666 T
3 FF
( procedure could be written in terms of ) 134.85 623.666 T
1 FF
(mutex_clear) 293.15 623.666 T
3 FF
( as follo) 345.91 623.666 T
(ws:) 377.88 623.666 T
([1]) 87.34 641.666 T
(v) 108.0 641.666 T
(oid ) 112.8 641.666 T
1 FF
(mutex_fr) 128.08 641.666 T
(ee ) 167.33 641.666 T
3 FF
(\() 178.71 641.666 T
5 FF
(mute) 182.04 641.666 T
(x_t m) 201.28 641.666 T
3 FF
(\)) 223.22 641.666 T
([2]) 87.34 653.666 T
({) 108.0 653.666 T
([3]) 87.34 665.666 T
1 FF
(mutex_clear) 144.0 665.666 T
3 FF
(\() 196.76 665.666 T
5 FF
(m) 200.09 665.666 T
3 FF
(\);) 207.31 665.666 T
([4]) 87.34 677.666 T
1 FF
(fr) 144.0 677.666 T
(ee ) 151.59 677.666 T
3 FF
(\(\(char *\) ) 162.97 677.666 T
5 FF
(m) 200.17 677.666 T
3 FF
(\);) 207.39 677.666 T
([5]) 87.34 689.666 T
(}) 108.0 689.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 60 60
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(56 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(C Thr) 180.0 56.824 T
(eads) 203.589 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 119.983978 360 3.024002 CR
0.25 SL
2 SC
0 G
540 121.5 M
180 121.5 L
S
0 0 612 792 CR
3 (Times-Bold) 14 1 mymakefontmetric
3 FF
(Shar) 180.0 116.317 T
(ed V) 208.532 116.317 T
(ariables) 234.853 116.317 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
180 140.674637 M 0.224609 0 32 (All global and static v) widthshow
268.978577 140.674637 M 0.224609 0 32 (ariables are shared among all threads: if one thread modi\336es such a) widthshow
180 152.674622 M 1.249161 0 32 (v) widthshow
184.750137 152.674622 M 1.249161 0 32 (ariable, all other threads will observ) widthshow
334.706055 152.674622 M 1.249161 0 32 (e the ne) widthshow
368.054504 152.674622 M 1.249161 0 32 (w v) widthshow
383.773804 152.674622 M 1.249161 0 32 (alue. In addition, a v) widthshow
470.730591 152.674622 M 1.249161 0 32 (ariable reachable) widthshow
180 164.674606 M 1.49353 0 32 (from a pointer is shared among all threads that can de-reference that pointer) widthshow
500.622711 164.674606 M 1.49353 0 32 (. This in-) widthshow
180 176.674591 M 0.213547 0 32 (cludes objects pointed to by shared v) widthshow
328.791443 176.674591 M 0.213547 0 32 (ariables of pointer type, as well as ar) widthshow
476.736389 176.674591 M 0.213547 0 32 (guments passed) widthshow
(by reference in ) 180.0 188.675 T
0 FF
(cthr) 242.47 188.675 T
(ead_f) 260.06 188.675 T
(ork) 283.14 188.675 T
4 FF
(.) 298.14 188.675 T
180 212.674561 M 1.152451 0 32 (When pointers are shared, some care is required to a) widthshow
399.552185 212.674561 M 1.152451 0 32 (v) widthshow
404.352295 212.674561 M 1.152451 0 32 (oid dangling reference problems.) widthshow
180 224.674545 M 0.613327 0 32 (The programmer must ensure that the lifetime of the object pointed to is long enough to) widthshow
180 236.67453 M 0.196609 0 32 (allo) widthshow
194.750137 236.67453 M 0.196609 0 32 (w the other threads to de-reference the pointer) widthshow
380.236755 236.67453 M 0.196609 0 32 (. Since there is no bound on the relati) widthshow
530.709778 236.67453 M 0.196609 0 32 (v) widthshow
535.559814 236.67453 M 0.196609 0 32 (e) widthshow
180 248.674515 M 0.322113 0 32 (e) widthshow
184.290085 248.674515 M 0.322113 0 32 (x) widthshow
189.140167 248.674515 M 0.322113 0 32 (ecution speed of threads, the simplest solution is to share pointers to global or heap-al-) widthshow
180 260.6745 M 0.338699 0 32 (located objects only) widthshow
260.017761 260.6745 M 0.338699 0 32 (. If a pointer to a local v) widthshow
358.228821 260.6745 M 0.338699 0 32 (ariable is shared, the procedure in which that) widthshow
180 272.6745 M 0.768585 0 32 (v) widthshow
184.750137 272.6745 M 0.768585 0 32 (ariable is de\336ned must remain acti) widthshow
325.823212 272.6745 M 0.768585 0 32 (v) widthshow
330.673279 272.6745 M 0.768585 0 32 (e until it can be guaranteed that the pointer will no) widthshow
180 284.674469 M 1.003296 0 32 (longer be de-referenced by other threads. The synchronization functions can be used to) widthshow
(ensure this.) 180.0 296.674 T
180 320.674438 M 1.543762 0 32 (The programmer must remember that unless a library) widthshow
403.726715 320.674438 M 1.543762 0 32 (, lik) widthshow
420.73053 320.674438 M 1.543762 0 32 (e the standard C library) widthshow
520.125977 320.674438 M 1.543762 0 32 (, has) widthshow
180 332.674438 M 0.814926 0 32 (been designed to w) widthshow
259.274841 332.674438 M 0.814926 0 32 (ork in the presence of re-entranc) widthshow
392.869568 332.674438 M 0.814926 0 32 (y) widthshow
397.21994 332.674438 M 0.814926 0 32 (, the operations pro) widthshow
476.724792 332.674438 M 0.814926 0 32 (vided by the li-) widthshow
180 344.674408 M 0.420761 0 32 (brary must be presumed to mak) widthshow
308.373871 344.674408 M 0.420761 0 32 (e unprotected use of shared data. Hence, the programmer) widthshow
180 356.674377 M 1.068604 0 32 (must protect ag) widthshow
243.747238 356.674377 M 1.068604 0 32 (ainst this through the use of a mute) widthshow
391.347534 356.674377 M 1.068604 0 32 (x that is lock) widthshow
445.843414 356.674377 M 1.068604 0 32 (ed before e) widthshow
492.150757 356.674377 M 1.068604 0 32 (v) widthshow
497.000854 356.674377 M 1.068604 0 32 (ery library) widthshow
(call \(or sequence of library calls\) and unlock) 180.0 368.674 T
(ed afterw) 358.46 368.674 T
(ards.) 395.84 368.674 T
180 392.674377 M 0.637924 0 32 (Dynamic allocation and freeing of user) widthshow
339.339752 392.674377 M 0.637924 0 32 (-de\336ned data structures is typically accomplished) widthshow
180 404.674347 M 0.512268 0 32 (with the standard C functions ) widthshow
0 FF
302.83136 404.674347 M 0.512268 0 32 (malloc) widthshow
4 FF
331.161346 404.674347 M 0.512268 0 32 ( and ) widthshow
0 FF
351.625885 404.674347 M 0.512268 0 32 (fr) widthshow
359.216003 404.674347 M 0.512268 0 32 (ee) widthshow
4 FF
368.096008 404.674347 M 0.512268 0 32 (. The C threads package pro) widthshow
482.697449 404.674347 M 0.512268 0 32 (vides v) widthshow
511.6698 404.674347 M 0.512268 0 32 (ersions) widthshow
(of these functions that w) 180.0 416.674 T
(ork correctly in the presence of multiple threads.) 278.22 416.674 T
180 458.007629 360 3.024002 CR
540 459.52 M
180 459.52 L
S
0 0 612 792 CR
3 FF
(Using the C Thr) 180.0 454.341 T
(eads P) 276.586 454.341 T
(ackage) 314.946 454.341 T
4 FF
180 478.698303 M 0.75058 0 32 (T) widthshow
185.31044 478.698303 M 0.75058 0 32 (o compile a program that uses C threads, the user must include the \336le ) widthshow
0 FF
479.39856 478.698303 M 0.75058 0 32 (cthr) widthshow
496.988678 478.698303 M 0.75058 0 32 (eads.h) widthshow
4 FF
523.93866 478.698303 M 0.75058 0 32 (. T) widthshow
534.999695 478.698303 M 0.75058 0 32 (o) widthshow
180 490.698273 M 0.00293 0 32 (link a program that uses C threads, the user must specify on the ) widthshow
0 FF
436.118103 490.698273 M 0.00293 0 32 (cc) widthshow
4 FF
444.998108 490.698273 M 0.00293 0 32 ( command line the ) widthshow
0 FF
521.6698 490.698273 M 0.00293 0 32 (-lth-) widthshow
180 502.698242 M 0.192566 0 32 (r) widthshow
184.260101 502.698242 M 0.192566 0 32 (eads ) widthshow
4 FF
205.842667 502.698242 M 0.192566 0 32 (library before the ) widthshow
0 FF
278.340393 502.698242 M 0.192566 0 32 (-lmach) widthshow
4 FF
307.780396 502.698242 M 0.192566 0 32 ( library) widthshow
336.483307 502.698242 M 0.192566 0 32 (. Linking a program in this w) widthshow
454.47876 502.698242 M 0.192566 0 32 (ay is suf) widthshow
487.944031 502.698242 M 0.192566 0 32 <de6369656e7420746f20696e692d> widthshow
(tialize and be) 180.0 514.698 T
(gin use of the C threads package.) 233.17 514.698 T
180 556.031555 360 3.024002 CR
540 557.54 M
180 557.54 L
S
0 0 612 792 CR
3 FF
(Deb) 180.0 552.365 T
(ugging) 203.828 552.365 T
4 FF
(Deb) 180.0 576.722 T
(ugging with multiple C threads can be a problem for a v) 196.46 576.722 T
(ariety of reasons:) 420.35 576.722 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 594.722 T
4 FF
193.535995 594.722168 M 0.204849 0 32 (The order of thread conte) widthshow
295.83551 594.722168 M 0.204849 0 32 (xt switching is not repeatable in successi) widthshow
459.574738 594.722168 M 0.204849 0 32 (v) widthshow
464.424805 594.722168 M 0.204849 0 32 (e e) widthshow
475.859741 594.722168 M 0.204849 0 32 (x) widthshow
480.709839 594.722168 M 0.204849 0 32 (ecutions of the) widthshow
(program, so ob) 193.536 606.722 T
(vious synchronization b) 253.656 606.722 T
(ugs may be dif) 349.006 606.722 T
<de63756c7420746f20de6e642e> 407.916 606.722 T
5 FF
<a5> 180.0 621.722 T
4 FF
193.535995 621.722168 M 0.850296 0 32 (Since the program consists of multiple e) widthshow
359.58786 621.722168 M 0.850296 0 32 (x) widthshow
364.437927 621.722168 M 0.850296 0 32 (ecution points, e) widthshow
431.818604 621.722168 M 0.850296 0 32 (xisting deb) widthshow
476.639038 621.722168 M 0.850296 0 32 (uggers may not) widthshow
(be usable.) 193.536 633.722 T
5 FF
<a5> 180.0 648.722 T
4 FF
(The user may need to w) 193.536 648.722 T
(orry about concurrent calls to C library routines.) 289.246 648.722 T
180 672.722107 M 0.746841 0 32 (One w) widthshow
207.026901 672.722107 M 0.746841 0 32 (ay to a) widthshow
234.980698 672.722107 M 0.746841 0 32 (v) widthshow
239.780807 672.722107 M 0.746841 0 32 (oid these problems is to set the number of k) widthshow
421.112427 672.722107 M 0.746841 0 32 (ernel threads to 1 \() widthshow
0 FF
499.079834 672.722107 M 0.746841 0 32 (cthr) widthshow
516.669922 672.722107 M 0.746841 0 32 (ead_-) widthshow
180 684.722107 M 0.967056 0 32 (set_k) widthshow
202.120056 684.722107 M 0.967056 0 32 (er) widthshow
210.850143 684.722107 M 0.967056 0 32 (nel_limit) widthshow
4 FF
248.630142 684.722107 M 0.967056 0 32 (\). In this w) widthshow
294.761353 684.722107 M 0.967056 0 32 (ay) widthshow
303.551727 684.722107 M 0.967056 0 32 (, the v) widthshow
329.955994 684.722107 M 0.967056 0 32 (arious C threads act as co-routines and may be de-) widthshow
(b) 180.0 696.722 T
(ugged more as a sequential program.) 184.8 696.722 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 61 61
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (57 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Examples) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Associating Names with C Thr) 72.0 117.0 T
(ead Objects) 228.444 117.0 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 133.666656 M 0.158188 0 32 (A name \(actually) widthshow
140.536743 133.666656 M 0.158188 0 32 (, a pointer to a character string\) can be associated with a C thread, a mu-) widthshow
72 145.666641 M 0.268631 0 32 (te) widthshow
79.070084 145.666641 M 0.268631 0 32 (x or a condition v) widthshow
150.444748 145.666641 M 0.268631 0 32 (ariable. These names are not currently used for an) widthshow
352.103912 145.666641 M 0.268631 0 32 (ything, b) widthshow
387.732666 145.666641 M 0.268631 0 32 (ut the) widthshow
410.351379 145.666641 M 0.268631 0 32 (y can) widthshow
72 157.666626 M 1.47995 0 32 (be of use to deb) widthshow
141.039917 157.666626 M 1.47995 0 32 (ugging. Such names are set via ) widthshow
1 FF
276.289612 157.666626 M 1.47995 0 32 (cthr) widthshow
293.87973 157.666626 M 1.47995 0 32 (ead_set_name) widthshow
4 FF
353.869751 157.666626 M 1.47995 0 32 (, ) widthshow
1 FF
360.34967 157.666626 M 1.47995 0 32 (mutex_set_name) widthshow
4 FF
72 169.666611 M 2.092438 0 32 (and ) widthshow
1 FF
91.03244 169.666611 M 2.092438 0 32 (condition_set_name) widthshow
4 FF
176.03244 169.666611 M 2.092438 0 32 (, and retrie) widthshow
223.007462 169.666611 M 2.092438 0 32 (v) widthshow
227.857544 169.666611 M 2.092438 0 32 (ed via ) widthshow
1 FF
258.702423 169.666611 M 2.092438 0 32 (cthr) widthshow
276.292542 169.666611 M 2.092438 0 32 (ead_name) widthshow
4 FF
319.622528 169.666611 M 2.092438 0 32 (, ) widthshow
1 FF
326.714966 169.666611 M 2.092438 0 32 (mutex_name) widthshow
4 FF
381.704956 169.666611 M 2.092438 0 32 ( and ) widthshow
1 FF
405.329834 169.666611 M 2.092438 0 32 (condi-) widthshow
(tion_name) 72.0 181.667 T
4 FF
(.) 117.0 181.667 T
3 FF
(Pitfalls of Pr) 72.0 213.0 T
(eempti) 136.44 213.0 T
(v) 170.976 213.0 T
(ely Scheduled Thr) 176.856 213.0 T
(eads) 269.988 213.0 T
4 FF
72 229.66658 M 1.312103 0 32 (The C run-time library needs a substantial amount of modi\336cation in order to be used) widthshow
72 241.666565 M 0.034561 0 32 (with preempti) widthshow
127.6147 241.666565 M 0.034561 0 32 (v) widthshow
132.464783 241.666565 M 0.034561 0 32 (ely scheduled threads. Currently the user must ensure that calls to the stan-) widthshow
72 253.66655 M 0.19928 0 32 (dard I/O library are serialized, through the use of one or more mute) widthshow
343.341492 253.66655 M 0.19928 0 32 (x v) widthshow
355.790894 253.66655 M 0.19928 0 32 (ariables. \(The stor-) widthshow
(age allocation functions ) 72.0 265.667 T
1 FF
(malloc) 170.04 265.667 T
4 FF
( and ) 198.37 265.667 T
1 FF
(fr) 217.81 265.667 T
(ee ) 225.4 265.667 T
4 FF
(do not require an) 236.78 265.667 T
(y special precautions.\)) 304.67 265.667 T
72 289.666504 M 0.419189 0 32 (The deb) widthshow
104.709305 289.666504 M 0.419189 0 32 (uggers currently a) widthshow
177.547806 289.666504 M 0.419189 0 32 (v) widthshow
182.297943 289.666504 M 0.419189 0 32 (ailable under Mach cannot be used on programs that run with) widthshow
72 301.666504 M 0.931625 0 32 (preempti) widthshow
107.30014 301.666504 M 0.931625 0 32 (v) widthshow
112.150223 301.666504 M 0.931625 0 32 (ely scheduled threads. Furthermore, the v) widthshow
282.458435 301.666504 M 0.931625 0 32 (ery act of turning on tracing or add-) widthshow
72 313.666504 M 1.269943 0 32 (ing print statements may perturb programs that incorrectly depend on thread e) widthshow
397.709473 313.666504 M 1.269943 0 32 (x) widthshow
402.55957 313.666504 M 1.269943 0 32 (ecution) widthshow
72 325.666473 M 0.314331 0 32 (speed. One technique that is useful in such cases is to v) widthshow
296.287781 325.666473 M 0.314331 0 32 (ary the granularity of locking and) widthshow
72 337.666443 M 1.054993 0 32 (synchronization used in the program, making sure that the program w) widthshow
361.02002 337.666443 M 1.054993 0 32 (orks with coarse-) widthshow
(grained synchronization before re\336ning it further) 72.0 349.666 T
(.) 267.24 349.666 T
72 390.999756 360 3.024002 CR
432 392.51 M
72 392.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Examples) 72.0 387.333 T
4 FF
(The follo) 72.0 411.69 T
(wing e) 108.69 411.69 T
(xamples illustrate the use of the C threads f) 135.48 411.69 T
(acilities.) 308.69 411.69 T
3 FF
(Hoar) 72.0 443.024 T
(e Monitors) 98.448 443.024 T
4 FF
(This program demonstrates the use of these f) 72.0 459.69 T
(acilities to program Hoare monitors.) 251.59 459.69 T
72 470.023712 360 9 CR
1 G
72 470.023712 360 9 NF
0 G
4 FF
(/*) 91.224 477.855 T
3 SL
0 SC
0.6667 G
422.91 474.52 M
422.91 479.77 L
432 474.52 L
422.91 469.27 L
F
422.91 474.52 M
108 474.52 L
S
0 0 612 792 CR
0 G
4 FF
(Producer/consumer with bounded b) 108.0 486.69 T
(uf) 250.28 486.69 T
(fer) 258.36 486.69 T
(.) 268.911 486.69 T
108 496.690369 M 1.834946 0 32 (The producer reads characters from stdin and puts them into the b) widthshow
390.984558 496.690369 M 1.834946 0 32 (uf) widthshow
399.064697 496.690369 M 1.834946 0 32 (fer) widthshow
409.61499 496.690369 M 1.834946 0 32 (. The) widthshow
108 506.690338 M 1.564941 0 32 (consumer gets characters from the b) widthshow
260.30484 506.690338 M 1.564941 0 32 (uf) widthshow
268.384979 506.690338 M 1.564941 0 32 (fer and writes them to stdout. The tw) widthshow
426.999634 506.690338 M 1.564941 0 32 (o) widthshow
72 519.023682 360 9 CR
1 G
72 519.023682 360 9 NF
0 G
4 FF
(*/) 90.0 526.85 T
0.6667 G
117.09 523.52 M
117.09 518.27 L
108 523.52 L
117.09 528.77 L
F
432 523.52 M
117.09 523.52 L
S
0 0 612 792 CR
0 G
4 FF
(threads e) 108.0 516.69 T
(x) 143.67 516.69 T
(ecute concurrently e) 148.52 516.69 T
(xcept when synchronized by the b) 229.45 516.69 T
(uf) 365.61 516.69 T
(fer) 373.691 516.69 T
(.) 384.241 516.69 T
([1]) 87.34 537.69 T
(#include ) 108.0 537.69 T
1 FF
(<stdio.h>) 144.94 537.69 T
4 FF
([2]) 87.34 549.69 T
(#include ) 108.0 549.69 T
1 FF
(<cthr) 144.94 549.69 T
(eads.h>) 168.23 549.69 T
4 FF
([3]) 87.34 561.69 T
(typedef struct ) 108.0 561.69 T
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
(b) 165.21 561.69 T
(uf) 170.01 561.69 T
(fer) 177.61 561.69 T
4 FF
([4]) 87.34 573.69 T
({) 108.0 573.69 T
([5]) 87.34 585.69 T
(struct) 144.0 585.69 T
6 FF
( mute) 166.22 585.69 T
(x) 187.96 585.69 T
(loc) 288.0 585.69 T
(k) 300.02 585.69 T
4 FF
(;) 304.46 585.69 T
([6]) 87.34 597.69 T
(char *) 144.0 597.69 T
6 FF
(c) 288.0 597.69 T
(har) 292.29 597.69 T
(s) 306.08 597.69 T
4 FF
(;) 309.97 597.69 T
72 602.02356 360 9 CR
1 G
72 602.02356 360 9 NF
0 G
4 FF
(/*) 90.0 609.855 T
0.6667 G
422.91 606.52 M
422.91 611.77 L
432 606.52 L
422.91 601.27 L
F
422.91 606.52 M
288 606.52 L
S
72 621.02356 360 9 CR
1 G
72 621.02356 360 9 NF
0 G
4 FF
(*/) 90.0 628.85 T
0.6667 G
297.09 625.52 M
297.09 620.27 L
288 625.52 L
297.09 630.77 L
F
432 625.52 M
297.09 625.52 L
S
0 0 612 792 CR
0 G
6 FF
(c) 288.0 618.69 T
(har) 292.29 618.69 T
(s) 306.08 618.69 T
4 FF
([0...) 309.97 618.69 T
6 FF
(size) 325.8 618.69 T
4 FF
<d0315d> 340.8 618.69 T
([7]) 87.34 639.69 T
(int) 144.0 639.69 T
6 FF
(size) 288.0 639.69 T
4 FF
(;) 303.0 639.69 T
([8]) 87.34 651.69 T
(int) 144.0 651.69 T
6 FF
(px) 288.0 651.69 T
4 FF
(,) 297.44 651.69 T
6 FF
( cx) 299.94 651.69 T
4 FF
(;) 311.32 651.69 T
72 656.023499 360 9 CR
1 G
72 656.023499 360 9 NF
0 G
4 FF
(/*) 90.0 663.855 T
0.6667 G
422.91 660.52 M
422.91 665.77 L
432 660.52 L
422.91 655.27 L
F
422.91 660.52 M
288 660.52 L
S
72 675.023499 360 9 CR
1 G
72 675.023499 360 9 NF
0 G
4 FF
(*/) 90.0 682.85 T
0.6667 G
297.09 679.52 M
297.09 674.27 L
288 679.52 L
297.09 684.77 L
F
432 679.52 M
297.09 679.52 L
S
0 0 612 792 CR
0 G
4 FF
(producer and consumer indices) 288.0 672.69 T
([9]) 87.34 693.69 T
(int) 144.0 693.69 T
6 FF
(count) 288.0 693.69 T
4 FF
(;) 310.22 693.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 62 62
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(58 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(C Thr) 180.0 56.824 T
(eads) 203.589 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 198.0 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
396 110.48 L
S
0 0 612 792 CR
0 G
3 FF
396 122.650665 M 3.089981 0 32 (number of un-consumed chars in) widthshow
180 134.983978 360 9 CR
1 G
180 134.983978 360 9 NF
0 G
3 FF
(*/) 198.0 142.81 T
0.6667 G
405.09 139.48 M
405.09 134.23 L
396 139.48 L
405.09 144.73 L
F
540 139.48 M
405.09 139.48 L
S
0 0 612 792 CR
0 G
3 FF
(b) 396.0 132.651 T
(uf) 400.8 132.651 T
(fer) 408.88 132.651 T
([10]) 190.34 153.651 T
(struct) 252.0 153.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
( condition) 274.22 153.651 T
(non_empty) 396.0 153.651 T
3 FF
(,) 439.23 153.651 T
4 FF
( non_full) 441.73 153.651 T
3 FF
(;) 477.57 153.651 T
([11]) 190.34 165.651 T
(} *) 216.0 165.651 T
4 FF
(b) 228.3 165.651 T
(uf) 233.1 165.651 T
(fer_t) 240.7 165.651 T
3 FF
(;) 259.59 165.651 T
([12]) 190.34 177.651 T
(v) 216.0 177.651 T
(oid ) 220.8 177.651 T
0 FF
(b) 236.08 177.651 T
(uffer_put ) 241.44 177.651 T
3 FF
(\(char ) 284.49 177.651 T
4 FF
(c) 307.53 177.651 T
(h) 311.82 177.651 T
3 FF
(, ) 316.82 177.651 T
4 FF
(b) 321.82 177.651 T
(uf) 326.62 177.651 T
(fer_t) 334.221 177.651 T
3 FF
( ) 353.111 177.651 T
4 FF
(b) 355.611 177.651 T
3 FF
(\)) 360.611 177.651 T
([13]) 190.34 189.651 T
({) 216.0 189.651 T
([14]) 190.34 201.651 T
0 FF
(mutex_lock ) 252.0 201.651 T
3 FF
(\(&) 303.94 201.651 T
4 FF
(b) 315.05 201.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 320.05 201.651 T
4 FF
(loc) 329.92 201.651 T
(k) 341.94 201.651 T
3 FF
(\);) 346.38 201.651 T
([15]) 190.34 213.651 T
(while \() 252.0 213.651 T
4 FF
(b) 280.05 213.651 T
5 FF
<ae> 285.05 213.651 T
4 FF
(count) 294.92 213.651 T
3 FF
( ==) 317.14 213.651 T
4 FF
( b) 330.92 213.651 T
5 FF
<ae> 338.42 213.651 T
4 FF
(size) 348.29 213.651 T
3 FF
(\)) 363.29 213.651 T
([16]) 190.34 225.651 T
0 FF
(condition_wait ) 288.0 225.651 T
3 FF
(\(&) 353.84 225.651 T
4 FF
(b) 364.95 225.651 T
5 FF
<ae> 369.95 225.651 T
4 FF
(non_full) 379.82 225.651 T
3 FF
(, &) 413.16 225.651 T
4 FF
(b) 425.94 225.651 T
5 FF
<ae> 430.94 225.651 T
4 FF
(loc) 440.81 225.651 T
(k) 452.83 225.651 T
3 FF
(\);) 457.27 225.651 T
([17]) 190.34 237.651 T
(ASSER) 252.0 237.651 T
(T\(0 <= ) 282.52 237.651 T
4 FF
(b) 313.24 237.651 T
5 FF
<ae> 318.24 237.651 T
4 FF
(count) 328.11 237.651 T
3 FF
( &&) 350.33 237.651 T
4 FF
( b) 368.39 237.651 T
5 FF
<ae> 375.89 237.651 T
4 FF
(count) 385.76 237.651 T
3 FF
( <) 407.98 237.651 T
4 FF
( b) 416.12 237.651 T
5 FF
<ae> 423.62 237.651 T
4 FF
(size) 433.49 237.651 T
3 FF
(\);) 448.49 237.651 T
([18]) 190.34 249.651 T
4 FF
(b) 252.0 249.651 T
5 FF
<ae> 257.0 249.651 T
4 FF
(c) 266.87 249.651 T
(har) 271.16 249.651 T
(s ) 284.95 249.651 T
3 FF
([) 291.34 249.651 T
4 FF
(b) 294.67 249.651 T
5 FF
<ae> 299.67 249.651 T
4 FF
(px) 309.54 249.651 T
3 FF
(] = ) 318.98 249.651 T
4 FF
(c) 332.95 249.651 T
(h) 337.24 249.651 T
3 FF
(;) 342.24 249.651 T
([19]) 190.34 261.65 T
4 FF
(b) 252.0 261.65 T
5 FF
<ae> 257.0 261.65 T
4 FF
(px) 266.87 261.65 T
3 FF
( = \() 276.31 261.65 T
4 FF
(b) 290.28 261.65 T
5 FF
<ae> 295.28 261.65 T
4 FF
(px) 305.15 261.65 T
3 FF
( + 1\)%) 314.59 261.65 T
4 FF
( b) 341.89 261.65 T
5 FF
<ae> 349.39 261.65 T
4 FF
(size) 359.26 261.65 T
3 FF
(;) 374.26 261.65 T
([20]) 190.34 273.65 T
4 FF
(b) 252.0 273.65 T
5 FF
<ae> 257.0 273.65 T
4 FF
(count) 266.87 273.65 T
3 FF
( += 1;) 289.09 273.65 T
([21]) 190.34 285.65 T
0 FF
(condition_signal ) 252.0 285.65 T
3 FF
(\(&) 324.52 285.65 T
4 FF
(b) 335.63 285.65 T
5 FF
<ae> 340.63 285.65 T
4 FF
(non_empty) 350.5 285.65 T
3 FF
(\);) 394.38 285.65 T
([22]) 190.34 297.65 T
0 FF
(mutex_unlock ) 252.0 297.65 T
3 FF
(\(&) 315.06 297.65 T
4 FF
(b) 326.17 297.65 T
5 FF
<ae> 331.17 297.65 T
4 FF
(loc) 341.04 297.65 T
(k) 353.06 297.65 T
3 FF
(\);) 357.5 297.65 T
([23]) 190.34 309.65 T
(}) 216.0 309.65 T
([24]) 190.34 321.65 T
(char ) 216.0 321.65 T
0 FF
(b) 235.71 321.65 T
(uffer_get ) 241.07 321.65 T
3 FF
(\() 282.44 321.65 T
4 FF
(b) 285.77 321.65 T
(uf) 290.57 321.65 T
(fer_t) 298.17 321.65 T
3 FF
( ) 317.06 321.65 T
4 FF
(b) 319.56 321.65 T
3 FF
(\)) 324.56 321.65 T
([25]) 190.34 333.65 T
({) 216.0 333.65 T
([26]) 190.34 345.65 T
(char) 252.0 345.65 T
4 FF
(c) 396.0 345.65 T
(h) 400.29 345.65 T
3 FF
(;) 405.29 345.65 T
([27]) 190.34 357.65 T
0 FF
(mutex_lock ) 252.0 357.65 T
3 FF
(\(&) 303.94 357.65 T
4 FF
(b) 315.05 357.65 T
5 FF
<ae> 320.05 357.65 T
4 FF
(loc) 329.92 357.65 T
(k) 341.94 357.65 T
3 FF
(\);) 346.38 357.65 T
([28]) 190.34 369.65 T
(while \() 252.0 369.65 T
4 FF
(b) 280.05 369.65 T
5 FF
<ae> 285.05 369.65 T
4 FF
(count) 294.92 369.65 T
3 FF
( == 0\)) 317.14 369.65 T
([29]) 190.34 381.65 T
0 FF
(condition_wait ) 288.0 381.65 T
3 FF
(\(&) 353.84 381.65 T
4 FF
(b) 364.95 381.65 T
5 FF
<ae> 369.95 381.65 T
4 FF
(non_empty) 379.82 381.65 T
3 FF
(, &) 423.05 381.65 T
4 FF
(b) 435.83 381.65 T
5 FF
<ae> 440.83 381.65 T
4 FF
(loc) 450.7 381.65 T
(k) 462.72 381.65 T
3 FF
(\);) 467.16 381.65 T
([30]) 190.34 393.65 T
(ASSER) 252.0 393.65 T
(T\(0 <) 282.52 393.65 T
4 FF
( b) 305.1 393.65 T
5 FF
<ae> 312.6 393.65 T
4 FF
(count) 322.47 393.65 T
3 FF
( &&) 344.69 393.65 T
4 FF
( b) 362.75 393.65 T
5 FF
<ae> 370.25 393.65 T
4 FF
(count) 380.12 393.65 T
3 FF
( <=) 402.34 393.65 T
4 FF
( b) 416.12 393.65 T
5 FF
<ae> 423.62 393.65 T
4 FF
(size) 433.49 393.65 T
3 FF
(\);) 448.49 393.65 T
([31]) 190.34 405.65 T
4 FF
(c) 252.0 405.65 T
(h) 256.29 405.65 T
3 FF
( =) 261.29 405.65 T
4 FF
( b) 269.43 405.65 T
5 FF
<ae> 276.93 405.65 T
4 FF
(c) 286.8 405.65 T
(har) 291.09 405.65 T
(s ) 304.88 405.65 T
3 FF
([) 311.27 405.65 T
4 FF
(b) 314.6 405.65 T
5 FF
<ae> 319.6 405.65 T
4 FF
(cx) 329.47 405.65 T
3 FF
(];) 338.35 405.65 T
([32]) 190.34 417.65 T
4 FF
(b) 252.0 417.65 T
5 FF
<ae> 257.0 417.65 T
4 FF
(cx) 266.87 417.65 T
3 FF
( = \() 275.75 417.65 T
4 FF
(b) 289.72 417.65 T
5 FF
<ae> 294.72 417.65 T
4 FF
(cx) 304.59 417.65 T
3 FF
( + 1\)% ) 313.47 417.65 T
4 FF
(b) 343.27 417.65 T
5 FF
<ae> 348.27 417.65 T
4 FF
(size) 358.14 417.65 T
3 FF
(;) 373.14 417.65 T
([33]) 190.34 429.65 T
4 FF
(b) 252.0 429.65 T
5 FF
<ae> 257.0 429.65 T
4 FF
(count) 266.87 429.65 T
3 FF
( \320= 1;) 289.09 429.65 T
([34]) 190.34 441.65 T
0 FF
(condition_signal ) 252.0 441.65 T
3 FF
(\(&) 324.52 441.65 T
4 FF
(b) 335.63 441.65 T
5 FF
<ae> 340.63 441.65 T
4 FF
(non_full) 350.5 441.65 T
3 FF
(\);) 383.84 441.65 T
([35]) 190.34 453.65 T
0 FF
(mutex_unlock ) 252.0 453.65 T
3 FF
(\(&) 315.06 453.65 T
4 FF
(b) 326.17 453.65 T
5 FF
<ae> 331.17 453.65 T
4 FF
(loc) 341.04 453.65 T
(k) 353.06 453.65 T
3 FF
(\);) 357.5 453.65 T
([36]) 190.34 465.65 T
(return) 252.0 465.65 T
4 FF
( c) 275.88 465.65 T
(h) 282.67 465.65 T
3 FF
(;) 287.67 465.65 T
([37]) 190.34 477.65 T
(}) 216.0 477.65 T
([38]) 190.34 489.65 T
(v) 216.0 489.65 T
(oid ) 220.8 489.65 T
0 FF
(pr) 236.08 489.65 T
(oducer ) 245.9 489.65 T
3 FF
(\() 277.84 489.65 T
4 FF
(b) 281.17 489.65 T
(uf) 285.97 489.65 T
(fer_t) 293.57 489.65 T
3 FF
( ) 312.46 489.65 T
6 (Times-BoldItalic) 10 1 mymakefontmetric
6 FF
(b) 314.96 489.65 T
3 FF
(\)) 319.96 489.65 T
([39]) 190.34 501.65 T
({) 216.0 501.65 T
([40]) 190.34 513.65 T
(int) 252.0 513.65 T
4 FF
(c) 396.0 513.65 T
(h) 400.29 513.65 T
3 FF
(;) 405.29 513.65 T
([41]) 190.34 525.65 T
(do) 252.0 525.65 T
([42]) 190.34 537.65 T
0 FF
(b) 288.0 537.65 T
(uffer_put ) 293.36 537.65 T
3 FF
(\(\() 336.41 537.65 T
4 FF
(c) 343.07 537.65 T
(h) 347.36 537.65 T
3 FF
( = ) 352.36 537.65 T
0 FF
(getchar) 363.0 537.65 T
3 FF
(\(\)\), ) 395.21 537.65 T
4 FF
(b) 410.2 537.65 T
3 FF
(\);) 415.2 537.65 T
([43]) 190.34 549.65 T
(while \() 252.0 549.65 T
4 FF
(c) 280.05 549.65 T
(h!) 284.34 549.65 T
3 FF
(= EOF\);) 292.67 549.65 T
([44]) 190.34 561.65 T
(}) 216.0 561.65 T
([45]) 190.34 573.65 T
(v) 216.0 573.65 T
(oid ) 220.8 573.65 T
0 FF
(consumer ) 236.08 573.65 T
3 FF
(\() 280.24 573.65 T
4 FF
(b) 283.57 573.65 T
(uf) 288.37 573.65 T
(fer_t) 295.97 573.65 T
3 FF
( ) 314.86 573.65 T
4 FF
(b) 317.36 573.65 T
3 FF
(\)) 322.36 573.65 T
([46]) 190.34 585.65 T
({) 216.0 585.65 T
([47]) 190.34 597.65 T
(int) 252.0 597.65 T
4 FF
(c) 396.0 597.65 T
(h) 400.29 597.65 T
3 FF
(;) 405.29 597.65 T
([48]) 190.34 609.65 T
(while \(\() 252.0 609.65 T
4 FF
(c) 283.38 609.65 T
(h) 287.67 609.65 T
3 FF
( = ) 292.67 609.65 T
0 FF
(b) 303.31 609.65 T
(uffer_get ) 308.67 609.65 T
3 FF
(\() 350.04 609.65 T
4 FF
(b) 353.37 609.65 T
3 FF
(\)\)!= EOF\)) 358.37 609.65 T
([49]) 190.34 621.65 T
0 FF
(printf ) 288.0 621.65 T
3 FF
(\(\322%c\323,) 315.5 621.65 T
4 FF
( c) 342.98 621.65 T
(h) 349.77 621.65 T
3 FF
(\);) 354.77 621.65 T
([50]) 190.34 633.65 T
(}) 216.0 633.65 T
([51]) 190.34 645.65 T
4 FF
(b) 216.0 645.65 T
(uf) 220.8 645.65 T
(fer_t ) 228.4 645.65 T
0 FF
(b) 249.79 645.65 T
(uffer_alloc ) 255.15 645.65 T
3 FF
(\(int ) 303.75 645.65 T
4 FF
(size) 320.14 645.65 T
3 FF
(\)) 335.14 645.65 T
([52]) 190.34 657.65 T
({) 216.0 657.65 T
([53]) 190.34 669.65 T
4 FF
(b) 252.0 669.65 T
(uf) 256.8 669.65 T
(fer_t) 264.4 669.65 T
(b) 396.0 669.65 T
3 FF
(;) 401.0 669.65 T
([54]) 190.34 681.65 T
(e) 252.0 681.65 T
(xtern char *) 256.29 681.65 T
0 FF
(malloc) 304.05 681.65 T
3 FF
(\(\);) 332.38 681.65 T
([55]) 190.34 693.65 T
4 FF
(b) 252.0 693.65 T
3 FF
( = \() 257.0 693.65 T
4 FF
(b) 270.97 693.65 T
(uf) 275.77 693.65 T
(fer_t) 283.37 693.65 T
3 FF
(\) ) 302.26 693.65 T
0 FF
(malloc ) 308.09 693.65 T
3 FF
(\(sizeof \(struct) 338.92 693.65 T
4 FF
( b) 394.18 693.65 T
(uf) 401.48 693.65 T
(fer) 409.08 693.65 T
3 FF
(\)\);) 420.19 693.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 63 63
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (59 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Examples) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([56]) 82.34 115.667 T
1 FF
(mutex_init ) 144.0 115.667 T
3 FF
(\(&) 192.61 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(b) 203.72 115.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 208.72 115.667 T
4 FF
(loc) 218.59 115.667 T
(k) 230.61 115.667 T
3 FF
(\);) 235.05 115.667 T
([57]) 82.34 127.667 T
4 FF
(b) 144.0 127.667 T
5 FF
<ae> 149.0 127.667 T
4 FF
(size) 158.87 127.667 T
3 FF
( = ) 173.87 127.667 T
4 FF
(size) 184.51 127.667 T
3 FF
(;) 199.51 127.667 T
([58]) 82.34 139.667 T
4 FF
(b) 144.0 139.667 T
5 FF
<ae> 149.0 139.667 T
4 FF
(c) 158.87 139.667 T
(har) 163.16 139.667 T
(s) 176.95 139.667 T
3 FF
( =) 180.84 139.667 T
1 FF
( malloc ) 188.98 139.667 T
3 FF
(\(\(unsigned\)) 222.31 139.667 T
4 FF
( size) 268.41 139.667 T
3 FF
(\);) 285.91 139.667 T
([59]) 82.34 151.667 T
4 FF
(b) 144.0 151.667 T
5 FF
<ae> 149.0 151.667 T
4 FF
(px) 158.87 151.667 T
3 FF
( = ) 168.31 151.667 T
4 FF
(b) 178.95 151.667 T
5 FF
<ae> 183.95 151.667 T
4 FF
(cx) 193.82 151.667 T
3 FF
( =) 202.7 151.667 T
4 FF
( b) 210.84 151.667 T
5 FF
<ae> 218.34 151.667 T
4 FF
(count) 228.21 151.667 T
3 FF
( = 0;) 250.43 151.667 T
([60]) 82.34 163.667 T
1 FF
(condition_init ) 144.0 163.667 T
3 FF
(\(&) 205.96 163.667 T
4 FF
(b) 217.07 163.667 T
5 FF
<ae> 222.07 163.667 T
4 FF
(non_empty) 231.94 163.667 T
3 FF
(\);) 275.82 163.667 T
([61]) 82.34 175.667 T
1 FF
(condition_init ) 144.0 175.667 T
3 FF
(\(&) 205.96 175.667 T
4 FF
(b) 217.07 175.667 T
5 FF
<ae> 222.07 175.667 T
4 FF
(non_full) 231.94 175.667 T
3 FF
(\);) 265.28 175.667 T
([62]) 82.34 187.667 T
(return) 144.0 187.667 T
4 FF
( b) 167.88 187.667 T
3 FF
(;) 175.38 187.667 T
([63]) 82.34 199.667 T
(}) 108.0 199.667 T
([64]) 82.34 211.667 T
(#de\336ne B) 108.0 211.667 T
(UFFER_SIZE) 146.51 211.667 T
(10) 288.0 211.667 T
([65]) 82.34 223.667 T
(int ) 108.0 223.667 T
1 FF
(main) 121.06 223.667 T
3 FF
(\(\)) 142.73 223.667 T
([66]) 82.34 235.667 T
({) 108.0 235.667 T
([67]) 82.34 247.666 T
4 FF
( b) 144.0 247.666 T
(uf) 151.3 247.666 T
(fer_t) 158.9 247.666 T
(b) 288.0 247.666 T
3 FF
( =) 293.0 247.666 T
1 FF
( b) 301.14 247.666 T
(uffer_alloc) 309.0 247.666 T
3 FF
(\(B) 355.1 247.666 T
(UFFER_SIZE\);) 365.0 247.666 T
([68]) 82.34 259.666 T
1 FF
(cthr) 144.0 259.666 T
(ead_detach) 161.59 259.666 T
3 FF
(\() 209.92 259.666 T
1 FF
(cthr) 213.25 259.666 T
(ead_f) 230.84 259.666 T
(ork) 253.92 259.666 T
3 FF
(\() 268.92 259.666 T
1 FF
(pr) 272.25 259.666 T
(oducer) 282.07 259.666 T
3 FF
(,) 311.111 259.666 T
4 FF
( b) 313.611 259.666 T
3 FF
(\)\);) 321.111 259.666 T
([69]) 82.34 271.666 T
1 FF
(cthr) 144.0 271.666 T
(ead_detach) 161.59 271.666 T
3 FF
(\() 209.92 271.666 T
1 FF
(cthr) 213.25 271.666 T
(ead_f) 230.84 271.666 T
(ork) 253.92 271.666 T
3 FF
(\() 268.92 271.666 T
1 FF
(consumer) 272.25 271.666 T
3 FF
(,) 313.511 271.666 T
4 FF
( b) 316.011 271.666 T
3 FF
(\)\);) 323.511 271.666 T
([70]) 82.34 283.666 T
(return 0;) 144.0 283.666 T
([71]) 82.34 295.666 T
(}) 108.0 295.666 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Single Master / Multiple Sla) 72.0 325.0 T
(v) 215.04 325.0 T
(es) 220.92 325.0 T
3 FF
72 341.666412 M 2.273788 0 32 (The follo) widthshow
110.963928 341.666412 M 2.273788 0 32 (wing e) widthshow
140.027802 341.666412 M 2.273788 0 32 (xample sho) widthshow
187.881729 341.666412 M 2.273788 0 32 (ws ho) widthshow
213.515656 341.666412 M 2.273788 0 32 (w to structure a program in which a single master) widthshow
(thread spa) 72.0 353.666 T
(wns a number of concurrent sla) 112.67 353.666 T
(v) 238.27 353.666 T
(es and then w) 243.12 353.666 T
(aits until the) 297.73 353.666 T
(y all \336nish.) 347.03 353.666 T
72 363.999725 360 9 CR
1 G
72 363.999725 360 9 NF
0 G
3 FF
(/*) 91.224 371.831 T
3 SL
0 SC
0.6667 G
422.91 368.5 M
422.91 373.75 L
432 368.5 L
422.91 363.25 L
F
422.91 368.5 M
108 368.5 L
S
72 382.999695 360 9 CR
1 G
72 382.999695 360 9 NF
0 G
3 FF
(*/) 90.0 390.826 T
0.6667 G
117.09 387.5 M
117.09 382.25 L
108 387.5 L
117.09 392.75 L
F
432 387.5 M
117.09 387.5 L
S
0 0 612 792 CR
0 G
3 FF
(Master/sla) 108.0 380.666 T
(v) 149.46 380.666 T
(e program structure.) 154.31 380.666 T
([1]) 87.34 401.666 T
(#include) 108.0 401.666 T
1 FF
( <stdio.h>) 142.44 401.666 T
3 FF
([2]) 87.34 413.666 T
(#include) 108.0 413.666 T
1 FF
( <cthr) 142.44 413.666 T
(eads.h>) 168.23 413.666 T
3 FF
([3]) 87.34 425.666 T
(int) 108.0 425.666 T
4 FF
(count) 288.0 425.666 T
3 FF
(;) 310.22 425.666 T
72 429.999664 360 9 CR
1 G
72 429.999664 360 9 NF
0 G
3 FF
(/*) 90.0 437.831 T
0.6667 G
422.91 434.5 M
422.91 439.75 L
432 434.5 L
422.91 429.25 L
F
422.91 434.5 M
288 434.5 L
S
72 448.999634 360 9 CR
1 G
72 448.999634 360 9 NF
0 G
3 FF
(*/) 90.0 456.826 T
0.6667 G
297.09 453.5 M
297.09 448.25 L
288 453.5 L
297.09 458.75 L
F
432 453.5 M
297.09 453.5 L
S
0 0 612 792 CR
0 G
3 FF
(number of sla) 288.0 446.666 T
(v) 342.79 446.666 T
(es acti) 347.64 446.666 T
(v) 372.66 446.666 T
(e) 377.51 446.666 T
([4]) 87.34 467.666 T
4 FF
(mute) 108.0 467.666 T
(x_t) 127.24 467.666 T
(loc) 288.0 467.666 T
(k) 300.02 467.666 T
3 FF
(;) 304.46 467.666 T
72 471.999634 360 9 CR
1 G
72 471.999634 360 9 NF
0 G
3 FF
(/*) 90.0 479.831 T
0.6667 G
422.91 476.5 M
422.91 481.75 L
432 476.5 L
422.91 471.25 L
F
422.91 476.5 M
288 476.5 L
S
72 490.999634 360 9 CR
1 G
72 490.999634 360 9 NF
0 G
3 FF
(*/) 90.0 498.826 T
0.6667 G
297.09 495.5 M
297.09 490.25 L
288 495.5 L
297.09 500.75 L
F
432 495.5 M
297.09 495.5 L
S
0 0 612 792 CR
0 G
3 FF
(mutual e) 288.0 488.666 T
(xclusion for count) 322.57 488.666 T
([5]) 87.34 509.666 T
4 FF
(condition_t) 108.0 509.666 T
(done) 288.0 509.666 T
3 FF
(;) 307.44 509.666 T
72 513.999634 360 9 CR
1 G
72 513.999634 360 9 NF
0 G
3 FF
(/*) 90.0 521.831 T
0.6667 G
422.91 518.5 M
422.91 523.75 L
432 518.5 L
422.91 513.25 L
F
422.91 518.5 M
288 518.5 L
S
72 532.999573 360 9 CR
1 G
72 532.999573 360 9 NF
0 G
3 FF
(*/) 90.0 540.826 T
0.6667 G
297.09 537.5 M
297.09 532.25 L
288 537.5 L
297.09 542.75 L
F
432 537.5 M
297.09 537.5 L
S
0 0 612 792 CR
0 G
3 FF
(signalled each time a sla) 288.0 530.666 T
(v) 385.56 530.666 T
(e \336nishes) 390.41 530.666 T
72 543.999573 360 9 CR
1 G
72 543.999573 360 9 NF
0 G
3 FF
(/*) 91.224 551.831 T
0.6667 G
422.91 548.5 M
422.91 553.75 L
432 548.5 L
422.91 543.25 L
F
422.91 548.5 M
108 548.5 L
S
0 0 612 792 CR
0 G
3 FF
108 560.66626 M 2.857437 0 32 (Each sla) widthshow
144.257553 560.66626 M 2.857437 0 32 (v) widthshow
149.107635 560.66626 M 2.857437 0 32 (e just counts up to its ar) widthshow
261.072357 560.66626 M 2.857437 0 32 (gument, yielding the processor on each) widthshow
108 570.66626 M 0.207092 0 32 (iteration. When it is \336nished, it decrements the global count and signals that it is) widthshow
72 582.999512 360 9 CR
1 G
72 582.999512 360 9 NF
0 G
3 FF
(*/) 90.0 590.826 T
0.6667 G
117.09 587.5 M
117.09 582.25 L
108 587.5 L
117.09 592.75 L
F
432 587.5 M
117.09 587.5 L
S
0 0 612 792 CR
0 G
3 FF
(done.) 108.0 580.666 T
([6]) 87.34 601.666 T
(v) 108.0 601.666 T
(oid ) 112.8 601.666 T
1 FF
(sla) 128.08 601.666 T
(v) 139.5 601.666 T
(e ) 144.4 601.666 T
3 FF
(\(int ) 151.34 601.666 T
4 FF
(n) 167.73 601.666 T
3 FF
(\)) 172.73 601.666 T
([7]) 87.34 613.666 T
({) 108.0 613.666 T
([8]) 87.34 625.666 T
(int) 144.0 625.666 T
4 FF
(i) 288.0 625.666 T
3 FF
(;) 290.78 625.666 T
([9]) 87.34 637.666 T
(for \() 144.0 637.666 T
4 FF
(i) 161.49 637.666 T
3 FF
( = 0;) 164.27 637.666 T
4 FF
( i) 182.69 637.666 T
3 FF
( < ) 187.97 637.666 T
4 FF
(n) 198.61 637.666 T
3 FF
(; ) 203.61 637.666 T
4 FF
(i) 208.89 637.666 T
3 FF
( += 1\)) 211.67 637.666 T
([10]) 82.34 649.666 T
1 FF
(cthr) 180.0 649.666 T
(ead_yield) 197.59 649.666 T
3 FF
(\(\);) 238.15 649.666 T
([11]) 82.34 661.666 T
1 FF
(mutex_lock) 144.0 661.666 T
3 FF
(\() 193.44 661.666 T
4 FF
(loc) 196.77 661.666 T
(k) 208.79 661.666 T
3 FF
(\);) 213.23 661.666 T
([12]) 82.34 673.666 T
4 FF
(count) 144.0 673.666 T
3 FF
( \320= 1;) 166.22 673.666 T
([13]) 82.34 685.666 T
1 FF
(printf ) 144.0 685.666 T
3 FF
(\(\322Sla) 171.5 685.666 T
(v) 191.85 685.666 T
(e \336nished %d c) 196.7 685.666 T
(ycles.\\n\323, ) 257.93 685.666 T
4 FF
(n) 298.2 685.666 T
3 FF
(\);) 303.2 685.666 T
([14]) 82.34 697.666 T
1 FF
(condition_signal ) 144.0 697.666 T
3 FF
(\() 216.52 697.666 T
4 FF
(done) 219.85 697.666 T
3 FF
(\);) 239.29 697.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 64 64
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(60 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(C Thr) 180.0 56.824 T
(eads) 203.589 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([15]) 190.34 113.651 T
0 FF
(mutex_unlock ) 252.0 113.651 T
3 FF
(\() 315.06 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(loc) 318.39 113.651 T
(k) 330.41 113.651 T
3 FF
(\);) 334.85 113.651 T
([16]) 190.34 125.651 T
(}) 216.0 125.651 T
180 129.983978 360 9 CR
1 G
180 129.983978 360 9 NF
0 G
3 FF
(/*) 199.224 137.815 T
3 SL
0.6667 G
530.91 134.48 M
530.91 139.73 L
540 134.48 L
530.91 129.23 L
F
530.91 134.48 M
216 134.48 L
S
0 0 612 792 CR
0 G
3 FF
216 146.650635 M 1.868515 0 32 (The master spa) widthshow
280.127136 146.650635 M 1.868515 0 32 (wns a gi) widthshow
316.944275 146.650635 M 1.868515 0 32 (v) widthshow
321.794373 146.650635 M 1.868515 0 32 (en number of sla) widthshow
394.130035 146.650635 M 1.868515 0 32 (v) widthshow
398.980103 146.650635 M 1.868515 0 32 (es and then w) widthshow
459.19574 146.650635 M 1.868515 0 32 (aits for them all to) widthshow
180 158.983948 360 9 CR
1 G
180 158.983948 360 9 NF
0 G
3 FF
(*/) 198.0 166.81 T
0.6667 G
225.09 163.48 M
225.09 158.23 L
216 163.48 L
225.09 168.73 L
F
540 163.48 M
225.09 163.48 L
S
0 0 612 792 CR
0 G
3 FF
<de6e6973682e> 216.0 156.651 T
([17]) 190.34 177.651 T
(v) 216.0 177.651 T
(oid ) 220.8 177.651 T
0 FF
(master ) 236.08 177.651 T
3 FF
(\(int ) 268.01 177.651 T
4 FF
(nslaves) 284.4 177.651 T
3 FF
(\)) 313.84 177.651 T
([18]) 190.34 189.651 T
({) 216.0 189.651 T
([19]) 190.34 201.651 T
(int) 252.0 201.651 T
4 FF
(i) 396.0 201.651 T
3 FF
(;) 398.78 201.651 T
([20]) 190.34 213.651 T
(for \() 252.0 213.651 T
4 FF
(i) 269.49 213.651 T
3 FF
( = 1;) 272.27 213.651 T
4 FF
( i) 290.69 213.651 T
3 FF
( <= ) 295.97 213.651 T
4 FF
(nslaves) 312.25 213.651 T
3 FF
(; ) 341.69 213.651 T
4 FF
(i) 346.97 213.651 T
3 FF
( += 1\)) 349.75 213.651 T
([21]) 190.34 225.651 T
({) 252.0 225.651 T
([22]) 190.34 237.651 T
0 FF
(mutex_lock) 288.0 237.651 T
3 FF
(\() 337.44 237.651 T
4 FF
(loc) 340.77 237.651 T
(k) 352.79 237.651 T
3 FF
(\);) 357.23 237.651 T
180 241.983856 360 9 CR
1 G
180 241.983856 360 9 NF
0 G
3 FF
(/*) 199.224 249.815 T
0.6667 G
530.91 246.48 M
530.91 251.73 L
540 246.48 L
530.91 241.23 L
F
530.91 246.48 M
216 246.48 L
S
0 0 612 792 CR
0 G
3 FF
288 258.650513 M 2.388107 0 32 (F) widthshow
293.410095 258.650513 M 2.388107 0 32 (ork a sla) widthshow
331.866394 258.650513 M 2.388107 0 32 (v) widthshow
336.716492 258.650513 M 2.388107 0 32 (e and detach it, since the master ne) widthshow
492.593384 258.650513 M 2.388107 0 32 (v) widthshow
497.443481 258.650513 M 2.388107 0 32 (er joins it) widthshow
180 270.983826 360 9 CR
1 G
180 270.983826 360 9 NF
0 G
3 FF
(*/) 198.0 278.81 T
0.6667 G
225.09 275.48 M
225.09 270.23 L
216 275.48 L
225.09 280.73 L
F
540 275.48 M
225.09 275.48 L
S
0 0 612 792 CR
0 G
3 FF
(indi) 288.0 268.65 T
(vidually) 303.31 268.65 T
(.) 335.44 268.65 T
([23]) 190.34 289.65 T
4 FF
(count) 288.0 289.65 T
3 FF
( += 1;) 310.22 289.65 T
([24]) 190.34 301.65 T
0 FF
(cthr) 288.0 301.65 T
(ead_detach) 305.59 301.65 T
3 FF
(\() 353.92 301.65 T
0 FF
(cthr) 357.25 301.65 T
(ead_f) 374.84 301.65 T
(ork) 397.92 301.65 T
3 FF
(\() 412.92 301.65 T
0 FF
(sla) 416.25 301.65 T
(v) 427.67 301.65 T
(e) 432.571 301.65 T
3 FF
(, ) 437.011 301.65 T
0 FF
(random) 442.011 301.65 T
3 FF
(\(\)% 1000\)\);) 475.901 301.65 T
([25]) 190.34 313.65 T
0 FF
(mutex_unlock ) 288.0 313.65 T
3 FF
(\() 351.06 313.65 T
4 FF
(loc) 354.39 313.65 T
(k) 366.41 313.65 T
3 FF
(\);) 370.85 313.65 T
([26]) 190.34 325.65 T
(}) 252.0 325.65 T
([27]) 190.34 337.65 T
0 FF
(mutex_lock) 252.0 337.65 T
3 FF
(\() 301.44 337.65 T
4 FF
(loc) 304.77 337.65 T
(k) 316.79 337.65 T
3 FF
(\);) 321.23 337.65 T
([28]) 190.34 349.65 T
(while \() 252.0 349.65 T
4 FF
(count!) 280.05 349.65 T
3 FF
(= 0\)) 305.6 349.65 T
([29]) 190.34 361.65 T
0 FF
(condition_wait ) 288.0 361.65 T
3 FF
(\() 353.84 361.65 T
4 FF
(done) 357.17 361.65 T
3 FF
(, ) 376.61 361.65 T
4 FF
(loc) 381.61 361.65 T
(k) 393.63 361.65 T
3 FF
(\);) 398.07 361.65 T
([30]) 190.34 373.65 T
0 FF
(mutex_unlock ) 252.0 373.65 T
3 FF
(\() 315.06 373.65 T
4 FF
(loc) 318.39 373.65 T
(k) 330.41 373.65 T
3 FF
(\);) 334.85 373.65 T
([31]) 190.34 385.65 T
0 FF
(printf ) 252.0 385.65 T
3 FF
(\(\322) 279.5 385.65 T
(All %d sla) 286.47 385.65 T
(v) 328.491 385.65 T
(es ha) 333.341 385.65 T
(v) 353.411 385.65 T
(e \336nished.\\n\323, ) 358.261 385.65 T
4 FF
(nslaves) 416.591 385.65 T
3 FF
(\);) 446.031 385.65 T
([32]) 190.34 397.65 T
0 FF
(cthr) 252.0 397.65 T
(ead_exit) 269.59 397.65 T
3 FF
(\(0\);) 305.14 397.65 T
([33]) 190.34 409.65 T
(}) 216.0 409.65 T
([34]) 190.34 421.65 T
(int ) 216.0 421.65 T
0 FF
(main) 229.06 421.65 T
3 FF
(\(\)) 250.73 421.65 T
([35]) 190.34 433.65 T
({) 216.0 433.65 T
([36]) 190.34 445.65 T
4 FF
(count) 252.0 445.65 T
3 FF
( = 0;) 274.22 445.65 T
([37]) 190.34 457.65 T
4 FF
(loc) 252.0 457.65 T
(k) 264.02 457.65 T
3 FF
( = ) 268.46 457.65 T
0 FF
(mutex_alloc) 279.1 457.65 T
3 FF
(\(\);) 330.76 457.65 T
([38]) 190.34 469.65 T
4 FF
(done) 252.0 469.65 T
3 FF
( = ) 271.44 469.65 T
0 FF
(condition_alloc) 282.08 469.65 T
3 FF
(\(\);) 347.09 469.65 T
([39]) 190.34 481.65 T
0 FF
(srandom ) 252.0 481.65 T
3 FF
(\() 292.28 481.65 T
0 FF
(time ) 295.61 481.65 T
3 FF
(\(\(int *\) 0\)\);) 316.99 481.65 T
180 485.983582 360 9 CR
1 G
180 485.983582 360 9 NF
0 G
3 FF
(/*) 198.0 493.815 T
0.6667 G
530.91 490.48 M
530.91 495.73 L
540 490.48 L
530.91 485.23 L
F
530.91 490.48 M
396 490.48 L
S
180 504.983551 360 9 CR
1 G
180 504.983551 360 9 NF
0 G
3 FF
(*/) 198.0 512.81 T
0.6667 G
405.09 509.48 M
405.09 504.23 L
396 509.48 L
405.09 514.73 L
F
540 509.48 M
405.09 509.48 L
S
0 0 612 792 CR
0 G
3 FF
(initialize random number generator) 396.0 502.65 T
([40]) 190.34 523.65 T
0 FF
(master ) 252.0 523.65 T
3 FF
(\(\(int\) ) 283.93 523.65 T
0 FF
(random) 306.98 523.65 T
3 FF
(\(\)% 16\);) 340.87 523.65 T
180 527.983521 360 9 CR
1 G
180 527.983521 360 9 NF
0 G
3 FF
(/*) 198.0 535.815 T
0.6667 G
530.91 532.48 M
530.91 537.73 L
540 532.48 L
530.91 527.23 L
F
530.91 532.48 M
396 532.48 L
S
180 546.983521 360 9 CR
1 G
180 546.983521 360 9 NF
0 G
3 FF
(*/) 198.0 554.81 T
0.6667 G
405.09 551.48 M
405.09 546.23 L
396 551.48 L
405.09 556.73 L
F
540 551.48 M
405.09 551.48 L
S
0 0 612 792 CR
0 G
3 FF
(create up to 15 sla) 396.0 544.65 T
(v) 468.56 544.65 T
(es) 473.41 544.65 T
([41]) 190.34 565.65 T
(return 0;) 252.0 565.65 T
([42]) 190.34 577.65 T
(}) 216.0 577.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 65 65
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (61 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (CHAPTER 6) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (Multi-Threaded IPC\320) ashow
3 FF
180 146 M -0.479736 0 (Based Serv) ashow
283.490845 146 M -0.479736 0 (ers) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666656 M 1.015961 0 32 (A serv) widthshow
99.246048 367.666656 M 1.015961 0 32 (er has a wide range of concerns in order to correctly function. This is especially) widthshow
72 379.666626 M 1.541397 0 32 (true if the serv) widthshow
134.514282 379.666626 M 1.541397 0 32 (er is multi-threaded; that is, if it can process multiple simultaneous re-) widthshow
72 391.666626 M 2.446289 0 32 (quests. This chapter concerns the details in) widthshow
257.63797 391.666626 M 2.446289 0 32 (v) widthshow
262.43808 391.666626 M 2.446289 0 32 (olv) widthshow
275.068176 391.666626 M 2.446289 0 32 (ed in writing a correctly functioning) widthshow
72 403.666626 M 1.068222 0 32 (multi-threaded serv) widthshow
150.958313 403.666626 M 1.068222 0 32 (er) widthshow
158.178619 403.666626 M 1.068222 0 32 (. \(The basic issues in) widthshow
245.651733 403.666626 M 1.068222 0 32 (v) widthshow
250.451843 403.666626 M 1.068222 0 32 (olv) widthshow
263.081909 403.666626 M 1.068222 0 32 (ed in an IPC-based serv) widthshow
362.184906 403.666626 M 1.068222 0 32 (er are co) widthshow
398.591431 403.666626 M 1.068222 0 32 (v) widthshow
403.441528 403.666626 M 1.068222 0 32 (ered in) widthshow
4 FF
(CHAPTER 4.\)) 72.0 415.667 T
72 456.999878 360 3.024002 CR
432 458.51 M
72 458.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Basic Multi-Thr) 72.0 453.333 T
(eaded Ser) 168.586 453.333 T
(v) 227.162 453.333 T
(er Structur) 234.022 453.333 T
(e) 301.026 453.333 T
4 FF
72 477.690552 M 0.609131 0 32 (A multi-threaded serv) widthshow
160.828354 477.690552 M 0.609131 0 32 (er can process multiple requests in parallel. The most ob) widthshow
391.680634 477.690552 M 0.609131 0 32 (vious rea-) widthshow
72 489.690552 M 0.516891 0 32 (son to write a multi-threaded serv) widthshow
209.134552 489.690552 M 0.516891 0 32 (er is for parallelism. Multi-threading allo) widthshow
375.339172 489.690552 M 0.516891 0 32 (ws a serv) widthshow
413.433044 489.690552 M 0.516891 0 32 (er to) widthshow
72 501.690521 M 0.426407 0 32 (mak) widthshow
89.120056 501.690521 M 0.426407 0 32 (e use of multiple processors. Also, for serv) widthshow
263.315002 501.690521 M 0.426407 0 32 (er operations that can block w) widthshow
385.597107 501.690521 M 0.426407 0 32 (aiting for I/) widthshow
72 513.690491 M 0.154526 0 32 (O completion, multiple threads can support multiple outstanding I/O operations for great-) widthshow
(er I/O parallelism.) 72.0 525.69 T
72 549.690491 M 0.303299 0 32 (This latter case, o) widthshow
143.299988 549.690491 M 0.303299 0 32 (v) widthshow
148.15007 549.690491 M 0.303299 0 32 (erlapping I/O operations, is a special case of the more general issue of) widthshow
72 561.69043 M 0.574646 0 32 (starv) widthshow
91.19014 561.69043 M 0.574646 0 32 (ation. If a serv) widthshow
150.52417 561.69043 M 0.574646 0 32 (er has some operations that can tak) widthshow
293.842102 561.69043 M 0.574646 0 32 (e a long time, multiple threads al-) widthshow
(lo) 72.0 573.69 T
(w other client requests to be processed in the interim, assuming no interdependencies.) 79.53 573.69 T
72 597.69043 M 0.551605 0 32 (Not all serv) widthshow
119.613297 597.69043 M 0.551605 0 32 (ers should be multi-threaded, though. A serv) widthshow
301.083008 597.69043 M 0.551605 0 32 (er whose operations are in) widthshow
407.85968 597.69043 M 0.551605 0 32 (v) widthshow
412.65979 597.69043 M 0.551605 0 32 (ok) widthshow
422.559845 597.69043 M 0.551605 0 32 (ed) widthshow
72 609.69043 M 0.235825 0 32 (infrequently \(there tends to be little parallelism\) or whose operations complete quickly or) widthshow
72 621.69043 M 0.716278 0 32 (al) widthshow
79.120056 621.69043 M 0.716278 0 32 (w) widthshow
86.240112 621.69043 M 0.716278 0 32 (ays pre) widthshow
115.306534 621.69043 M 0.716278 0 32 (v) widthshow
120.156616 621.69043 M 0.716278 0 32 (ent other concurrent operations from proceeding w) widthshow
327.634369 621.69043 M 0.716278 0 32 (ould be best serv) widthshow
397.123291 621.69043 M 0.716278 0 32 (ed being) widthshow
(single-threaded.) 72.0 633.69 T
72 657.690369 M 0.466919 0 32 (The issues in) widthshow
124.754059 657.690369 M 0.466919 0 32 (v) widthshow
129.554169 657.690369 M 0.466919 0 32 (olv) widthshow
142.18425 657.690369 M 0.466919 0 32 (ed in writing a multi-threaded serv) widthshow
282.958923 657.690369 M 0.466919 0 32 (er\321serv) widthshow
317.239014 657.690369 M 0.466919 0 32 (er or) widthshow
336.126038 657.690369 M 0.466919 0 32 (g) widthshow
341.07608 657.690369 M 0.466919 0 32 (anization, locking, op-) widthshow
72 669.690369 M 1.733932 0 32 (eration sequencing, consistenc) widthshow
197.237961 669.690369 M 1.733932 0 32 (y\321are the basic issues in) widthshow
305.42392 669.690369 M 1.733932 0 32 (v) widthshow
310.22403 669.690369 M 1.733932 0 32 (olv) widthshow
322.854126 669.690369 M 1.733932 0 32 (ed in all system program-) widthshow
72 681.690308 M 1.679337 0 32 (ming, clearly be) widthshow
139.918762 681.690308 M 1.679337 0 32 (yond the scope of a te) widthshow
235.645538 681.690308 M 1.679337 0 32 (xt such as this. These issues are dri) widthshow
387.131042 681.690308 M 1.679337 0 32 (v) widthshow
391.98114 681.690308 M 1.679337 0 32 (en by the) widthshow
72 693.690308 M 0.224258 0 32 (nature and e) widthshow
121.16861 693.690308 M 0.224258 0 32 (xtent of parallelism desired and the consistenc) widthshow
307.334259 693.690308 M 0.224258 0 32 (y that must be presented to cli-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 66 66
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(62 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 1.263687 0 32 (ents. The remainder of this te) widthshow
303.36853 113.650665 M 1.263687 0 32 (xt co) widthshow
324.202301 113.650665 M 1.263687 0 32 (v) widthshow
329.052368 113.650665 M 1.263687 0 32 (ers such issues at top le) widthshow
428.720947 113.650665 M 1.263687 0 32 (v) widthshow
433.571045 113.650665 M 1.263687 0 32 (el in the conte) widthshow
493.592194 113.650665 M 1.263687 0 32 (xt of Mach) widthshow
(IPC-based serv) 180.0 125.651 T
(ers.) 240.67 125.651 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(Ser) 180.0 156.984 T
(v) 197.208 156.984 T
(er Or) 203.088 156.984 T
(ganization) 231.288 156.984 T
3 FF
180 173.650635 M 1.406281 0 32 (W) widthshow
189.040222 173.650635 M 1.406281 0 32 (ith a single-threaded \(synchronous\) serv) widthshow
355.035461 173.650635 M 1.406281 0 32 (er) widthshow
362.40567 173.650635 M 1.406281 0 32 (, it does not matter which service requests) widthshow
180 185.65062 M 1.470718 0 32 (act upon which serv) widthshow
264.522247 185.65062 M 1.470718 0 32 (er maintained objects. There are no con\337icts; each request is pro-) widthshow
180 197.650604 M 0.955353 0 32 (cessed in order; order of requests is maintained; the single thread handles whate) widthshow
510.594421 197.650604 M 0.955353 0 32 (v) widthshow
515.444458 197.650604 M 0.955353 0 32 (er ob-) widthshow
180 209.650589 M 0.957031 0 32 (ject a request names, and when it is done, can safely w) widthshow
408.987427 209.650589 M 0.957031 0 32 (ork on a dif) widthshow
457.988647 209.650589 M 0.957031 0 32 (ferent object for the) widthshow
(ne) 180.0 221.651 T
(xt request.) 189.29 221.651 T
180 245.650558 M 0.769958 0 32 (When a serv) widthshow
231.37001 245.650558 M 0.769958 0 32 (er is multi-threaded, the relationship between acti) widthshow
433.759918 245.650558 M 0.769958 0 32 (v) widthshow
438.609985 245.650558 M 0.769958 0 32 (e threads and the objects) widthshow
180 257.650543 M 1.284592 0 32 (the) widthshow
192.070084 257.650543 M 1.284592 0 32 (y are manipulating is much more comple) widthshow
363.497742 257.650543 M 1.284592 0 32 (x. Unless something is done, it is possible) widthshow
180 269.650513 M 0.86998 0 32 (that multiple threads are simultaneously trying to manipulate the same object \(one e) widthshow
525.7099 269.650513 M 0.86998 0 32 (v) widthshow
530.559998 269.650513 M 0.86998 0 32 (en) widthshow
(possibly trying to delete it\).) 180.0 281.651 T
180 305.650513 M 0.421295 0 32 (There are v) widthshow
226.122742 305.650513 M 0.421295 0 32 (arious w) widthshow
260.604095 305.650513 M 0.421295 0 32 (ays to handle this class of problem. The simplest approach is to ha) widthshow
530.709778 305.650513 M 0.421295 0 32 (v) widthshow
535.559814 305.650513 M 0.421295 0 32 (e) widthshow
180 317.650482 M 0.609161 0 32 (a single thread that recei) widthshow
279.936798 317.650482 M 0.609161 0 32 (v) widthshow
284.786865 317.650482 M 0.609161 0 32 (es all incoming messages and hands them of) widthshow
466.281158 317.650482 M 0.609161 0 32 (f, portioning them) widthshow
180 329.650452 M 0.430679 0 32 (to service threads. The single thread k) widthshow
334.394165 329.650452 M 0.430679 0 32 (eeps track of which service threads are doing what) widthshow
180 341.650452 M 0.180664 0 32 (so that it can guarantee order and consistenc) widthshow
358.014771 341.650452 M 0.180664 0 32 (y) widthshow
362.365112 341.650452 M 0.180664 0 32 (. This approach has the adv) widthshow
472.438599 341.650452 M 0.180664 0 32 (antage that order) widthshow
180 353.650452 M 0.896637 0 32 (is easily handled. Request priorities, if pro) widthshow
354.659912 353.650452 M 0.896637 0 32 (vided, are also easily handled. This approach) widthshow
180 365.650421 M 0.511932 0 32 (is not v) widthshow
210.323944 365.650421 M 0.511932 0 32 (ery ef) widthshow
233.626022 365.650421 M 0.511932 0 32 <de6369656e742c2074686f7567683b207468652073696e676c6520746872656164206973206120626f74746c656e65636b20616e6420616c6c20726571756573747320726571756972652061642d> widthshow
(ditional conte) 180.0 377.65 T
(xt switches for processing.) 234.57 377.65 T
180 401.650391 M 0.990936 0 32 (Most multi-threaded serv) widthshow
282.931946 401.650391 M 0.990936 0 32 (ers utilize multiple threads each directly recei) widthshow
470.807739 401.650391 M 0.990936 0 32 (ving requests for) widthshow
180 413.650391 M 0.260696 0 32 (service. Gi) widthshow
223.330841 413.650391 M 0.260696 0 32 (v) widthshow
228.180923 413.650391 M 0.260696 0 32 (en the multiple possible recei) widthshow
346.183838 413.650391 M 0.260696 0 32 (v) widthshow
351.033936 413.650391 M 0.260696 0 32 (ers, it is possible to ha) widthshow
441.027527 413.650391 M 0.260696 0 32 (v) widthshow
445.877625 413.650391 M 0.260696 0 32 (e dif) widthshow
463.938446 413.650391 M 0.260696 0 32 (ferent mappings of) widthshow
(service threads to objects the) 180.0 425.65 T
(y service.) 295.38 425.65 T
180 449.65033 M 0.652618 0 32 (At one e) widthshow
215.035324 449.65033 M 0.652618 0 32 (xtreme, each thread can recei) widthshow
334.28595 449.65033 M 0.652618 0 32 (v) widthshow
339.136047 449.65033 M 0.652618 0 32 (e from its o) widthshow
386.674042 449.65033 M 0.652618 0 32 (wn \(unique\) port \(set\) which names a) widthshow
180 461.65033 M 0.797989 0 32 (set of objects maintained by that thread which is disjoint from the set maintained by all) widthshow
180 473.65033 M 1.289902 0 32 (other threads. In this w) widthshow
276.989685 473.65033 M 1.289902 0 32 (ay) widthshow
285.780029 473.65033 M 1.289902 0 32 (, each thread is basically its o) widthshow
410.749573 473.65033 M 1.289902 0 32 (wn single-threaded serv) widthshow
508.709473 473.65033 M 1.289902 0 32 (er) widthshow
515.92981 473.65033 M 1.289902 0 32 (. This) widthshow
180 485.650299 M 0.779953 0 32 (w) widthshow
187.120056 485.650299 M 0.779953 0 32 (as the approach tak) widthshow
266.279968 485.650299 M 0.779953 0 32 (en by some early Mach serv) widthshow
382.499847 485.650299 M 0.779953 0 32 (ers. The disadv) widthshow
444.629883 485.650299 M 0.779953 0 32 (antage of this approach) widthshow
180 497.650269 M 0.034668 0 32 (is that gi) widthshow
214.26947 497.650269 M 0.034668 0 32 (v) widthshow
219.119553 497.650269 M 0.034668 0 32 (en the static allocation of objects to threads, the serv) widthshow
428.69165 497.650269 M 0.034668 0 32 (er does not adjust to the dy-) widthshow
180 509.650269 M 1.20575 0 32 (namic distrib) widthshow
233.505859 509.650269 M 1.20575 0 32 (ution of requests from clients\321it is dif) widthshow
396.040497 509.650269 M 1.20575 0 32 <de63756c7420746f206d616b> widthshow
448.912048 509.650269 M 1.20575 0 32 (e a reasonable assign-) widthshow
180 521.650269 M 0.445969 0 32 (ment of a ne) widthshow
230.79805 521.650269 M 0.445969 0 32 (w object to a thread. Also, this approach does not simplify locking concerns) widthshow
180 533.650269 M 0.557281 0 32 (as much as might be suspected; the v) widthshow
331.691101 533.650269 M 0.557281 0 32 (arious threads must still be concerned with the cre-) widthshow
(ation and deletion of objects.) 180.0 545.65 T
180 569.650208 M 0.384933 0 32 (At the other e) widthshow
235.71489 569.650208 M 0.384933 0 32 (xtreme, each service thread recei) widthshow
368.334778 569.650208 M 0.384933 0 32 (v) widthshow
373.184875 569.650208 M 0.384933 0 32 (es requests from a single port \(set\) repre-) widthshow
180 581.650208 M 0.608292 0 32 (senting all objects maintained by the serv) widthshow
349.039856 581.650208 M 0.608292 0 32 (er) widthshow
356.260132 581.650208 M 0.608292 0 32 (. This approach pro) widthshow
435.695129 581.650208 M 0.608292 0 32 (vides the greatest dynam-) widthshow
(ics, b) 180.0 593.65 T
(ut requires the greatest care for operation ordering and consistenc) 200.91 593.65 T
(y) 462.63 593.65 T
(.) 466.981 593.65 T
180 617.650146 M 0.278091 0 32 (Either of these multiple thread approaches mak) widthshow
370.41864 617.650146 M 0.278091 0 32 (es priority management, if pro) widthshow
492.751099 617.650146 M 0.278091 0 32 (vided, dif) widthshow
531.109314 617.650146 M 0.278091 0 32 <de2d> widthshow
180 629.650146 M 0.38765 0 32 (cult. Dif) widthshow
213.467789 629.650146 M 0.38765 0 32 (ferent ports \(and sets\) are typically required to represent dif) widthshow
454.696808 629.650146 M 0.38765 0 32 (ferent priority of ser-) widthshow
(vice.) 180.0 641.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 67 67
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (63 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Locking, Operation Sequencing and Consistency) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Ho) 72.0 117.0 T
(w Many Thr) 87.216 117.0 T
(eads?) 151.668 117.0 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 133.666656 M 0.211365 0 32 (The number of threads a serv) widthshow
189.816925 133.666656 M 0.211365 0 32 (er should ha) widthshow
238.919769 133.666656 M 0.211365 0 32 (v) widthshow
243.769852 133.666656 M 0.211365 0 32 (e depends on the possible or e) widthshow
364.868134 133.666656 M 0.211365 0 32 (xpected parallel-) widthshow
(ism the serv) 72.0 145.667 T
(er will pro) 120.18 145.667 T
(vide.) 161.69 145.667 T
72 169.666626 M 0.890732 0 32 (The number and nature of threads allocated depends on the serv) widthshow
336.247437 169.666626 M 0.890732 0 32 (er or) widthshow
355.558289 169.666626 M 0.890732 0 32 (g) widthshow
360.508301 169.666626 M 0.890732 0 32 (anization. If indi-) widthshow
72 181.666611 M 0.597641 0 32 (vidual threads service indi) widthshow
178.80307 181.666611 M 0.597641 0 32 (vidual objects or clients, then the allocation of threads is dri) widthshow
423.669617 181.666611 M 0.597641 0 32 (v-) widthshow
(en by this concern. In a more dynamic serv) 72.0 193.667 T
(er) 244.31 193.667 T
(, the question becomes more dif) 251.68 193.667 T
<de63756c742e> 379.19 193.667 T
72 217.66658 M 0.407288 0 32 (First of all, assuming that the possible usage could be that high, a serv) widthshow
357.404846 217.66658 M 0.407288 0 32 (er w) widthshow
375.202179 217.66658 M 0.407288 0 32 (ould normally) widthshow
72 229.666565 M 1.080627 0 32 (allocate a number of Mach k) widthshow
191.99321 229.666565 M 1.080627 0 32 (ernel threads at least as lar) widthshow
303.016479 229.666565 M 1.080627 0 32 (ge as the number of processors) widthshow
(that could e) 72.0 241.667 T
(x) 118.51 241.667 T
(ecute them.) 123.36 241.667 T
72 265.666534 M 0.731613 0 32 (The number of C-threads multiple) widthshow
211.426544 265.666534 M 0.731613 0 32 (x) widthshow
216.276627 265.666534 M 0.731613 0 32 (ed onto those k) widthshow
279.201538 265.666534 M 0.731613 0 32 (ernel threads depends on the possible) widthshow
72 277.666504 M 0.263779 0 32 (resource or locking con\337icts that can occur while servicing a client request. F) widthshow
384.675476 277.666504 M 0.263779 0 32 (or e) widthshow
400.059326 277.666504 M 0.263779 0 32 (xample,) widthshow
72 289.666504 M 0.025253 0 32 (if no client request will e) widthshow
171.586411 289.666504 M 0.025253 0 32 (v) widthshow
176.436493 289.666504 M 0.025253 0 32 (er cause a C-thread to block w) widthshow
298.118103 289.666504 M 0.025253 0 32 (aiting for another) widthshow
367.198822 289.666504 M 0.025253 0 32 (, there is no rea-) widthshow
(son wh) 72.0 301.666 T
(y a one-to-one mapping of C-threads to k) 100.56 301.666 T
(ernel threads is not possible.) 265.71 301.666 T
72 325.666473 M 1.823578 0 32 (If client requests can block \(especially inde\336nitely\), there are v) widthshow
340.322388 325.666473 M 1.823578 0 32 (arious other concerns.) widthshow
72 337.666443 M 0.784943 0 32 (First of all, there should al) widthshow
181.374771 337.666443 M 0.784943 0 32 (w) widthshow
188.494827 337.666443 M 0.784943 0 32 (ays be a thread w) widthshow
260.954651 337.666443 M 0.784943 0 32 (aiting for ne) widthshow
311.154694 337.666443 M 0.784943 0 32 (w client requests \(such as the) widthshow
72 349.666443 M 1.04068 0 32 (one that may un-block some w) widthshow
200.143463 349.666443 M 1.04068 0 32 (aiting threads\). One possibility is to create a ne) widthshow
396.249054 349.666443 M 1.04068 0 32 (w thread) widthshow
72 361.666443 M 0.821259 0 32 (when the last thread becomes b) widthshow
201.156418 361.666443 M 0.821259 0 32 (usy) widthshow
214.396774 361.666443 M 0.821259 0 32 (. A more deferred approach is to create a ne) widthshow
396.468262 361.666443 M 0.821259 0 32 (w thread) widthshow
(when a thread \(perhaps the last one\) blocks.) 72.0 373.666 T
72 414.999695 360 3.024002 CR
432 416.51 M
72 416.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Locking, Operation Sequencing and Consistency) 72.0 411.333 T
4 FF
72 435.690369 M 0.715591 0 32 (Unless one allocates a dif) widthshow
176.812515 435.690369 M 0.715591 0 32 (ferent thread for each object \(or set\) and has no issue with the) widthshow
72 447.690369 M 0.392838 0 32 (dynamic creation and deletion of objects, then one needs to lock serv) widthshow
352.231323 447.690369 M 0.392838 0 32 (er data structures to) widthshow
72 459.690338 M 2.446899 0 32 (guarantee the proper operation sequencing and consistenc) widthshow
317.581512 459.690338 M 2.446899 0 32 (y) widthshow
321.931885 459.690338 M 2.446899 0 32 (. This section will brie\337y) widthshow
(touch on these issues.) 72.0 471.69 T
3 FF
(Lock Granularity) 72.0 503.024 T
4 FF
72 519.690308 M 0.432465 0 32 (The basic mechanism used to maintain consistenc) widthshow
273.864868 519.690308 M 0.432465 0 32 (y when manipulating an object is lock-) widthshow
72 531.690308 M 0.505676 0 32 (ing. A lock \(called a ) widthshow
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
158.398392 531.690308 M 0.505676 0 32 (mute) widthshow
177.638504 531.690308 M 0.505676 0 32 (x) widthshow
4 FF
182.078506 531.690308 M 0.505676 0 32 ( in C-threads parlance\) protects data \(not code\) by pre) widthshow
402.14978 531.690308 M 0.505676 0 32 (v) widthshow
406.999847 531.690308 M 0.505676 0 32 (enting) widthshow
72 543.690308 M 0.201416 0 32 (other threads not holding the lock from manipulating the data protected by the lock while) widthshow
72 555.690247 M 1.263733 0 32 (a thread holding the lock is manipulating the data. A lock ) widthshow
6 FF
318.101074 555.690247 M 1.263733 0 32 (pr) widthshow
326.541321 555.690247 M 1.263733 0 32 (otects) widthshow
4 FF
349.871338 555.690247 M 1.263733 0 32 ( a data element if a) widthshow
72 567.690247 M 0.817978 0 32 (thread must ) widthshow
6 FF
123.075958 567.690247 M 0.817978 0 32 (hold) widthshow
4 FF
140.855957 567.690247 M 0.817978 0 32 ( the lock protecting the data element in order to mak) widthshow
358.345825 567.690247 M 0.817978 0 32 (e an) widthshow
375.39386 567.690247 M 0.817978 0 32 (y reference to) widthshow
72 579.690247 M 0.454971 0 32 (the data element. Since only one thread holds the lock at a time, the data element cannot) widthshow
72 591.690186 M 0.864059 0 32 (be under) widthshow
107.394165 591.690186 M 0.864059 0 32 (going modi\336cation by another thread while being e) widthshow
317.992676 591.690186 M 0.864059 0 32 (xamined or modi\336ed by the) widthshow
(lock holding thread.) 72.0 603.69 T
72 627.690186 M 0.847961 0 32 (The granularity of locks is concerned with the e) widthshow
269.703796 627.690186 M 0.847961 0 32 (xtent of data protected by that lock and) widthshow
72 639.690186 M 1.66153 0 32 (the e) widthshow
92.671616 639.690186 M 1.66153 0 32 (xtent of the operations performed upon that data while holding the lock; coarse-) widthshow
72 651.690186 M 0.314972 0 32 (grained locking is in ef) widthshow
165.220032 651.690186 M 0.314972 0 32 (fect when a small number of locks is used, each protecting a wide) widthshow
72 663.690125 M 1.630661 0 32 (range of data \(the limit being a single global lock that protects all data\); \336ne-grained) widthshow
72 675.690125 M 1.149979 0 32 (locking is in ef) widthshow
134.920074 675.690125 M 1.149979 0 32 (fect when each lock protects a small amount of data \(possibly one lock) widthshow
(per object or e) 72.0 687.69 T
(v) 129.23 687.69 T
(en \336ner) 134.08 687.69 T
(-grained than that\).) 164.15 687.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 68 68
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(64 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.297318 0 32 (The locking granularity needed for a serv) widthshow
347.144012 113.650665 M 0.297318 0 32 (er is directly related to the reason wh) widthshow
497.195282 113.650665 M 0.297318 0 32 (y the serv-) widthshow
180 125.65065 M 0.256195 0 32 (er is multi-threaded in the \336rst place: if the serv) widthshow
372.405853 125.65065 M 0.256195 0 32 (er wishes to perform some number of op-) widthshow
180 137.650635 M 1.128036 0 32 (erations concurrently) widthshow
265.178406 137.650635 M 1.128036 0 32 (, the data must ha) widthshow
339.760681 137.650635 M 1.128036 0 32 (v) widthshow
344.610748 137.650635 M 1.128036 0 32 (e suf) widthshow
364.648926 137.650635 M 1.128036 0 32 <de6369656e746c7920de6e652d677261696e6564206c6f636b7320746f207065726d69742074686f7365> widthshow
180 149.65062 M 2.590744 0 32 (multiple threads to e) widthshow
269.562317 149.65062 M 2.590744 0 32 (x) widthshow
274.412415 149.65062 M 2.590744 0 32 (ecute without needing the locks held by the other threads. If) widthshow
180 161.650604 M 0.903046 0 32 (threads are assigned per object or client, locks should be chosen accordingly; if threads) widthshow
180 173.650589 M 0.922272 0 32 (are dynamically assigned, locks are chosen to permit operations to proceed with as fe) widthshow
532.779724 173.650589 M 0.922272 0 32 (w) widthshow
(lock con\337icts as possible gi) 180.0 185.651 T
(v) 289.75 185.651 T
(en the e) 294.6 185.651 T
(xpected distrib) 325.55 185.651 T
(ution of requests.) 384.51 185.651 T
180 209.650558 M 0.229294 0 32 (It is often reasonable to use a small number of coarse-grained locks. F) widthshow
462.821655 209.650558 M 0.229294 0 32 (or e) widthshow
478.171021 209.650558 M 0.229294 0 32 (xample, if each) widthshow
180 221.650543 M 0.710632 0 32 (service request is v) widthshow
258.35199 221.650543 M 0.710632 0 32 (ery short, a single global lock may be reasonable. The e) widthshow
488.038422 221.650543 M 0.710632 0 32 (xistence of a) widthshow
180 233.650528 M 0.404617 0 32 (single lock doesn\325) widthshow
253.399338 233.650528 M 0.404617 0 32 (t mean that e) widthshow
305.743347 233.650528 M 0.404617 0 32 (v) widthshow
310.593414 233.650528 M 0.404617 0 32 (ery operation in the serv) widthshow
409.261963 233.650528 M 0.404617 0 32 (er is serialized; there is still par-) widthshow
180 245.650513 M 0.8284 0 32 (allel reception and v) widthshow
263.605347 245.650513 M 0.8284 0 32 (alidation of service requests, the e) widthshow
403.677429 245.650513 M 0.8284 0 32 (x) widthshow
408.527527 245.650513 M 0.8284 0 32 (ecution time of which may v) widthshow
527.229614 245.650513 M 0.8284 0 32 (ery) widthshow
180 257.650513 M 0.900757 0 32 (much dw) widthshow
217.740814 257.650513 M 0.900757 0 32 (arf the request e) widthshow
284.433167 257.650513 M 0.900757 0 32 (x) widthshow
289.283264 257.650513 M 0.900757 0 32 (ecution time. Such coarse-grained locks also ha) widthshow
484.727936 257.650513 M 0.900757 0 32 (v) widthshow
489.578003 257.650513 M 0.900757 0 32 (e the adv) widthshow
527.229675 257.650513 M 0.900757 0 32 (an-) widthshow
(tage that the) 180.0 269.65 T
(y can be statically allocated.) 228.73 269.65 T
180 293.650452 M 0.80658 0 32 (When there are more and \336ner) widthshow
305.733032 293.650452 M 0.80658 0 32 (-grained locks, the comple) widthshow
414.092865 293.650452 M 0.80658 0 32 (xity rises dramatically) widthshow
503.936401 293.650452 M 0.80658 0 32 (. Also, it) widthshow
180 305.650452 M 1.116821 0 32 (is possible that the o) widthshow
265.987366 305.650452 M 1.116821 0 32 (v) widthshow
270.837463 305.650452 M 1.116821 0 32 (erhead in manipulating the locks can e) widthshow
431.248474 305.650452 M 1.116821 0 32 (xceed the bene\336t achie) widthshow
525.709106 305.650452 M 1.116821 0 32 (v) widthshow
530.559204 305.650452 M 1.116821 0 32 (ed) widthshow
(from maintaining them.) 180.0 317.65 T
180 341.650421 M 0.837479 0 32 (A typical form of \336ne-grained locks is a lock per structure. As such, the allocation of a) widthshow
180 353.650391 M 0.187256 0 32 (ne) widthshow
189.19014 353.650391 M 0.187256 0 32 (w structure in) widthshow
244.154877 353.650391 M 0.187256 0 32 (v) widthshow
248.954987 353.650391 M 0.187256 0 32 (olv) widthshow
261.585083 353.650391 M 0.187256 0 32 (es the allocation of a protecting lock as well, most lik) widthshow
476.947693 353.650391 M 0.187256 0 32 (ely in the struc-) widthshow
(ture itself. This brings up the topic of the e) 180.0 365.65 T
(xistence of objects and the protection needed.) 350.39 365.65 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(Object Existence and Naming) 180.0 396.984 T
3 FF
180 413.650391 M 1.463272 0 32 (W) widthshow
189.040222 413.650391 M 1.463272 0 32 (ith a single-threaded \(synchronous\) serv) widthshow
355.263428 413.650391 M 1.463272 0 32 (er) widthshow
362.633636 413.650391 M 1.463272 0 32 (, the serv) widthshow
401.790283 413.650391 M 1.463272 0 32 (er has no constraint on its object) widthshow
180 425.65036 M 0.626099 0 32 (naming scheme. Each service request is recei) widthshow
364.286743 425.65036 M 0.626099 0 32 (v) widthshow
369.136841 425.65036 M 0.626099 0 32 (ed, with some object name; the serv) widthshow
516.333496 425.65036 M 0.626099 0 32 (er de-) widthshow
(termines if the named object e) 180.0 437.65 T
(xists, performs the operation and returns a result.) 300.66 437.65 T
180 461.65033 M 0.421371 0 32 (W) widthshow
189.040222 461.65033 M 0.421371 0 32 (ith a multi-threaded serv) widthshow
288.194427 461.65033 M 0.421371 0 32 (er) widthshow
295.564636 461.65033 M 0.421371 0 32 (, the issue of whether an object e) widthshow
429.444336 461.65033 M 0.421371 0 32 (xists when a request comes) widthshow
180 473.65033 M 0.022888 0 32 (in and locating the object is not tri) widthshow
316.850342 473.65033 M 0.022888 0 32 (vial. It follo) widthshow
364.146271 473.65033 M 0.022888 0 32 (ws that while the serv) widthshow
451.297913 473.65033 M 0.022888 0 32 (er is recei) widthshow
489.963837 473.65033 M 0.022888 0 32 (ving and be-) widthshow
180 485.650299 M 0.28186 0 32 (ginning to start a service request for some object that another thread may be trying to de-) widthshow
(lete that object.) 180.0 497.65 T
180 521.650269 M 0.983307 0 32 (A simple approach to this problem is to maintain a table that maps client object names) widthshow
180 533.650269 M 0.97995 0 32 (into data structure references. This table w) widthshow
356.009766 533.650269 M 0.97995 0 32 (ould ha) widthshow
386.509827 533.650269 M 0.97995 0 32 (v) widthshow
391.359924 533.650269 M 0.97995 0 32 (e a single global lock protecting the) widthshow
180 545.650269 M 0.347778 0 32 (e) widthshow
184.290085 545.650269 M 0.347778 0 32 (xistence of elements in the table. Ho) widthshow
331.93689 545.650269 M 0.347778 0 32 (we) widthshow
343.347046 545.650269 M 0.347778 0 32 (v) widthshow
348.197144 545.650269 M 0.347778 0 32 (er) widthshow
355.567352 545.650269 M 0.347778 0 32 (, this global lock forms a major bottleneck. A) widthshow
180 557.650208 M 0.751373 0 32 (global lock may be necessary to protect the master data structures that go) widthshow
481.586609 557.650208 M 0.751373 0 32 (v) widthshow
486.436676 557.650208 M 0.751373 0 32 (ern the e) widthshow
522.219482 557.650208 M 0.751373 0 32 (xist-) widthshow
180 569.650208 M 0.805847 0 32 (ence of an object \(and therefore this global lock must be held to create or delete an ob-) widthshow
180 581.650208 M 0.884659 0 32 (ject\), b) widthshow
208.454773 581.650208 M 0.884659 0 32 (ut it is undesirable to ha) widthshow
308.508179 581.650208 M 0.884659 0 32 (v) widthshow
313.358276 581.650208 M 0.884659 0 32 (e to hold the global lock merely to locate an object for) widthshow
(each and e) 180.0 593.65 T
(v) 221.95 593.65 T
(ery service request.) 226.8 593.65 T
180 617.650146 M 0.964539 0 32 (The base alternati) widthshow
252.769226 617.650146 M 0.964539 0 32 (v) widthshow
257.619324 617.650146 M 0.964539 0 32 (e is to pro) widthshow
300.083008 617.650146 M 0.964539 0 32 (vide clients with some identi\336er that more directly locates) widthshow
(the object data structures in the serv) 180.0 629.65 T
(er) 323.71 629.65 T
(.) 330.93 629.65 T
180 653.650146 M 0.125534 0 32 (One such identi\336er is an array inde) widthshow
320.573303 653.650146 M 0.125534 0 32 (x. If objects are allocated from an array) widthshow
478.52243 653.650146 M 0.125534 0 32 (, clients can di-) widthshow
180 665.650146 M 1.172592 0 32 (rectly supply an array inde) widthshow
291.180481 665.650146 M 1.172592 0 32 (x to name an object\325) widthshow
376.97113 665.650146 M 1.172592 0 32 (s data structure. The inde) widthshow
482.321594 665.650146 M 1.172592 0 32 (x that a client) widthshow
180 677.650085 M 0.534622 0 32 (supplies may not name an entry in use, b) widthshow
347.117096 677.650085 M 0.534622 0 32 (ut the static location of the entry corresponding) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 69 69
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (65 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Locking, Operation Sequencing and Consistency) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.81459 0 32 (to that inde) widthshow
118.479263 115.666656 M 0.81459 0 32 (x allo) widthshow
141.543991 115.666656 M 0.81459 0 32 (ws the serv) widthshow
188.01326 115.666656 M 0.81459 0 32 (er to locate and lock the structure safely) widthshow
352.745789 115.666656 M 0.81459 0 32 (. W) widthshow
367.600586 115.666656 M 0.81459 0 32 (ith the structure) widthshow
(lock) 72.0 127.667 T
(ed, the serv) 89.12 127.667 T
(er can determine whether the inde) 134.79 127.667 T
(x) 270.43 127.667 T
(ed element is still v) 275.28 127.667 T
(alid.) 352.81 127.667 T
72 151.666626 M 0.533295 0 32 (An alternati) widthshow
119.773438 151.666626 M 0.533295 0 32 (v) widthshow
124.62352 151.666626 M 0.533295 0 32 (e is to use the request port name itself. W) widthshow
294.553406 151.666626 M 0.533295 0 32 (ith ) widthshow
1 FF
308.146698 151.666626 M 0.533295 0 32 (mach_port_allocate_name) widthshow
3 FF
420.906708 151.666626 M 0.533295 0 32 (, it) widthshow
72 163.666611 M 0.38623 0 32 (is possible to arrange for the request port names to match the address of the object struc-) widthshow
72 175.666595 M 0.69191 0 32 (ture so named. Ho) widthshow
147.145874 175.666595 M 0.69191 0 32 (we) widthshow
158.556015 175.666595 M 0.69191 0 32 (v) widthshow
163.406097 175.666595 M 0.69191 0 32 (er) widthshow
170.776321 175.666595 M 0.69191 0 32 (, since a task does not ha) widthshow
273.877899 175.666595 M 0.69191 0 32 (v) widthshow
278.727966 175.666595 M 0.69191 0 32 (e complete control o) widthshow
362.583801 175.666595 M 0.69191 0 32 (v) widthshow
367.433899 175.666595 M 0.69191 0 32 (er its port name) widthshow
72 187.66658 M 0.473785 0 32 (space \(the k) widthshow
120.607635 187.66658 M 0.473785 0 32 (ernel creates port names for rights recei) widthshow
281.48053 187.66658 M 0.473785 0 32 (v) widthshow
286.330597 187.66658 M 0.473785 0 32 (ed in messages\), an arbitrary virtual) widthshow
72 199.666565 M 0.490601 0 32 (address may not be usable as a port name because of name collision. Thus, some care in) widthshow
(choosing port names is necessary) 72.0 211.667 T
(.) 204.66 211.667 T
72 235.666534 M 0.751221 0 32 (F) widthshow
77.41008 235.666534 M 0.751221 0 32 (or this latter approach to be v) widthshow
198.867554 235.666534 M 0.751221 0 32 (alid, the serv) widthshow
251.600082 235.666534 M 0.751221 0 32 (er must arrange for the object address to re-) widthshow
72 247.666519 M 0.445862 0 32 (main v) widthshow
99.695999 247.666519 M 0.445862 0 32 (alid as long as an) widthshow
170.209534 247.666519 M 0.445862 0 32 (y client can send a service request, that is, the serv) widthshow
376.138245 247.666519 M 0.445862 0 32 (er cannot free) widthshow
72 259.666504 M 0.367966 0 32 (the object structure until it processes a no-more-senders noti\336cation. \(A no-more-senders) widthshow
72 271.666504 M 0.30925 0 32 (noti\336cation indicates the absence of send rights at the time the message w) widthshow
370.571075 271.666504 M 0.30925 0 32 (as generated. It) widthshow
72 283.666473 M 0.332214 0 32 (does not, ho) widthshow
121.024567 283.666473 M 0.332214 0 32 (we) widthshow
132.434708 283.666473 M 0.332214 0 32 (v) widthshow
137.28479 283.666473 M 0.332214 0 32 (er) widthshow
144.655014 283.666473 M 0.332214 0 32 (, indicate the absence of send-once rights. If send-once rights are gi) widthshow
417.709534 283.666473 M 0.332214 0 32 (v) widthshow
422.559631 283.666473 M 0.332214 0 32 (en) widthshow
72 295.666443 M 0.131989 0 32 (to clients as well, the serv) widthshow
175.830032 295.666443 M 0.131989 0 32 (er must w) widthshow
215.434067 295.666443 M 0.131989 0 32 (ait until the number the number of send-once generat-) widthshow
72 307.666443 M 1.881943 0 32 (ed messages \(and send-once noti\336cations\) recei) widthshow
271.389893 307.666443 M 1.881943 0 32 (v) widthshow
276.23996 307.666443 M 1.881943 0 32 (ed matches the number of send-once) widthshow
72 319.666443 M 1.144974 0 32 (rights it generated.\) Since the no-more-senders processing must synchronize with other) widthshow
72 331.666412 M 0.231964 0 32 (threads possibly e) widthshow
143.974014 331.666412 M 0.231964 0 32 (x) widthshow
148.824097 331.666412 M 0.231964 0 32 (ecuting \(older\) requests upon the object, the no-more-senders process-) widthshow
(ing w) 72.0 343.666 T
(ould typically require obtaining the object\325) 94.4 343.666 T
(s o) 265.22 343.666 T
(wn lock.) 276.361 343.666 T
72 367.666382 M 1.012421 0 32 (The no-more-senders noti\336cation races with the production of send rights in the serv) widthshow
422.279175 367.666382 M 1.012421 0 32 (er) widthshow
429.499451 367.666382 M 1.012421 0 32 (.) widthshow
72 379.666382 M 1.704102 0 32 (That is, between the time the k) widthshow
205.164673 379.666382 M 1.704102 0 32 (ernel generates a no-more-senders noti\336cation and the) widthshow
72 391.666351 M 1.053497 0 32 (time the serv) widthshow
125.617081 391.666351 M 1.053497 0 32 (er recei) widthshow
156.120728 391.666351 M 1.053497 0 32 (v) widthshow
160.97081 391.666351 M 1.053497 0 32 (es it, the serv) widthshow
216.751389 391.666351 M 1.053497 0 32 (er may ha) widthshow
258.088501 391.666351 M 1.053497 0 32 (v) widthshow
262.938599 391.666351 M 1.053497 0 32 (e generated another send right. Thus, the) widthshow
72 403.666321 M 1.089172 0 32 (serv) widthshow
88.510086 403.666321 M 1.089172 0 32 (er must synchronize with its o) widthshow
213.976089 403.666321 M 1.089172 0 32 (wn send right generation via the mak) widthshow
368.721191 403.666321 M 1.089172 0 32 (e-send count in) widthshow
(the no-more-senders noti\336cation message.) 72.0 415.666 T
72 439.666321 M 1.129028 0 32 (The no-more-senders noti\336cation message includes the name of the port \(recei) widthshow
396.860474 439.666321 M 1.129028 0 32 (v) widthshow
401.710541 439.666321 M 1.129028 0 32 (e right\)) widthshow
72 451.66629 M 1.159164 0 32 (losing its senders and so this noti\336cation can be sent to an) widthshow
315.980896 451.66629 M 1.159164 0 32 (y con) widthshow
338.680298 451.66629 M 1.159164 0 32 (v) widthshow
343.530365 451.66629 M 1.159164 0 32 (enient port. Ho) widthshow
405.868835 451.66629 M 1.159164 0 32 (we) widthshow
417.278992 451.66629 M 1.159164 0 32 (v) widthshow
422.129059 451.66629 M 1.159164 0 32 (er) widthshow
429.499268 451.66629 M 1.159164 0 32 (,) widthshow
3 FF
72 463.66626 M 0.394974 0 32 (since no-more-senders processing must synchronize with other operations upon the asso-) widthshow
72 475.66626 M 0.209305 0 32 (ciated object, it is con) widthshow
159.927444 475.66626 M 0.209305 0 32 (v) widthshow
164.777527 475.66626 M 0.209305 0 32 (enient to use the object\325) widthshow
260.605042 475.66626 M 0.209305 0 32 (s port itself as the noti\336cation port \(that is,) widthshow
3 FF
72 487.66626 M 1.558533 0 32 (use the same port for both client service requests and k) widthshow
306.885406 487.66626 M 1.558533 0 32 (ernel noti\336cations\) so that the) widthshow
3 FF
72 499.666229 M 0.748291 0 32 (port\325) widthshow
90.890305 499.666229 M 0.748291 0 32 (s sequence number can be used for combined synchronization \(refer to the descrip-) widthshow
72 511.666199 M 0.741577 0 32 (tion of request ordering belo) widthshow
188.586456 511.666199 M 0.741577 0 32 (w\). The serv) widthshow
240.179703 511.666199 M 0.741577 0 32 (er can safely detect k) widthshow
327.456085 511.666199 M 0.741577 0 32 (ernel noti\336cations \(dif) widthshow
417.569397 511.666199 M 0.741577 0 32 (fer-) widthshow
3 FF
72 523.666199 M 0.812103 0 32 (entiate them from f) widthshow
151.266373 523.666199 M 0.812103 0 32 (ak) widthshow
160.60643 523.666199 M 0.812103 0 32 (e client generated messages\) by the IPC right type included in the) widthshow
72 535.666199 M 0.130722 0 32 (message. Noti\336cation messages are sent via send-once rights. If only the k) widthshow
370.788025 535.666199 M 0.130722 0 32 (ernel is pro) widthshow
415.889557 535.666199 M 0.130722 0 32 (vid-) widthshow
72 547.666138 M 0.530701 0 32 (ed send-once rights \(clients need send rights so as to send multiple service requests an) widthshow
423.669922 547.666138 M 0.530701 0 32 (y-) widthshow
(w) 72.0 559.666 T
(ay\), then the serv) 79.12 559.666 T
(er can tell messages that must ha) 147.84 559.666 T
(v) 278.73 559.666 T
(e originated in the k) 283.58 559.666 T
(ernel.) 363.47 559.666 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(Blocking Operations and Deadlock) 72.0 590.999 T
3 FF
72 607.666138 M 0.10498 0 32 (It is typically the case that the data in a serv) widthshow
247.869904 607.666138 M 0.10498 0 32 (er will be protected by multiple locks. F) widthshow
408.444855 607.666138 M 0.10498 0 32 (or e) widthshow
423.669922 607.666138 M 0.10498 0 32 (x-) widthshow
72 619.666138 M 0.971222 0 32 (ample, there may be a global lock that protects the list of objects and a per) widthshow
383.538452 619.666138 M 0.971222 0 32 (-object lock) widthshow
72 631.666138 M 0.270645 0 32 (protecting the state of each object. The order in which these multiple locks can be lock) widthshow
422.559753 631.666138 M 0.270645 0 32 (ed) widthshow
(must be chosen carefully to a) 72.0 643.666 T
(v) 188.72 643.666 T
(oid deadlock.) 193.52 643.666 T
72 667.666077 M 0.494263 0 32 (Deadlock is a situation in which multiple threads are each block) widthshow
332.91272 667.666077 M 0.494263 0 32 (ed w) widthshow
352.467041 667.666077 M 0.494263 0 32 (aiting for locks that) widthshow
72 679.666077 M 0.755798 0 32 (the other threads hold. F) widthshow
172.363281 679.666077 M 0.755798 0 32 (or e) widthshow
188.239166 679.666077 M 0.755798 0 32 (xample, if thread A holds lock X and is w) widthshow
362.141418 679.666077 M 0.755798 0 32 (aiting for lock Y) widthshow
429.499512 679.666077 M 0.755798 0 32 (,) widthshow
(and thread B holds lock Y and is w) 72.0 691.666 T
(aiting for lock X, neither thread will e) 212.44 691.666 T
(v) 363.83 691.666 T
(er proceed.) 368.68 691.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 70 70
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(66 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 1.425278 0 32 (The typical w) widthshow
237.740616 113.650665 M 1.425278 0 32 (ay to a) widthshow
267.05127 113.650665 M 1.425278 0 32 (v) widthshow
271.851379 113.650665 M 1.425278 0 32 (oid these situations is to choose a \(partial\) order in which locks) widthshow
180 125.65065 M 0.188751 0 32 (must be acquired. So, gi) widthshow
277.165161 125.65065 M 0.188751 0 32 (v) widthshow
282.015228 125.65065 M 0.188751 0 32 (en an) widthshow
303.434082 125.65065 M 0.188751 0 32 (y tw) widthshow
321.022888 125.65065 M 0.188751 0 32 (o locks X and Y) widthshow
385.478577 125.65065 M 0.188751 0 32 (, there w) widthshow
420.466156 125.65065 M 0.188751 0 32 (ould be a rule stating whether) widthshow
180 137.650635 M 0.853226 0 32 (X must be obtained \336rst, or Y) widthshow
302.990051 137.650635 M 0.853226 0 32 (. If all code locks these locks in the same order) widthshow
498.582581 137.650635 M 0.853226 0 32 (, no dead-) widthshow
180 149.65062 M 0.509949 0 32 (lock can occur) widthshow
238.780212 149.65062 M 0.509949 0 32 (. It is not necessary that all locks be acquired by all code paths, though; if) widthshow
180 161.650604 M 1.430588 0 32 (locks X, Y and Z must be acquired in that order to pre) widthshow
413.267212 161.650604 M 1.430588 0 32 (v) widthshow
418.11731 161.650604 M 1.430588 0 32 (ent deadlock, b) widthshow
481.598572 161.650604 M 1.430588 0 32 (ut a particular) widthshow
180 173.650589 M 0.770493 0 32 (code path needs only locks X and Z, it need not acquire Y) widthshow
419.856628 173.650589 M 0.770493 0 32 (. Also, code is free to release) widthshow
(the locks in an) 180.0 185.651 T
(y order) 237.9 185.651 T
(, as long as it does not try to reacquire an) 266.1 185.651 T
(y locks it released.) 430.09 185.651 T
180 209.650558 M 0.289948 0 32 (It must be remembered that a serv) widthshow
317.6698 209.650558 M 0.289948 0 32 (er\325) widthshow
328.220093 209.650558 M 0.289948 0 32 (s o) widthshow
339.650177 209.650558 M 0.289948 0 32 (wn locks are not the only source of deadlock. If a) widthshow
180 221.650543 M 0.049973 0 32 (thread mak) widthshow
224.660034 221.650543 M 0.049973 0 32 (es a request of another thread \(or another serv) widthshow
408.179932 221.650543 M 0.049973 0 32 (er\) that then mak) widthshow
476.269897 221.650543 M 0.049973 0 32 (es a \(nested\) re-) widthshow
180 233.650528 M 0.829315 0 32 (quest of this serv) widthshow
250.388031 233.650528 M 0.829315 0 32 (er/thread, this loop of calls can deadlock if the nested call requires the) widthshow
180 245.650513 M 0.673294 0 32 (same lock \(or thread, if the request requires service by a thread dedicated to some func-) widthshow
(tion\).) 180.0 257.65 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(Request Ordering) 180.0 288.984 T
3 FF
180 305.650482 M 1.175262 0 32 (If a single client mak) widthshow
269.031128 305.650482 M 1.175262 0 32 (es only synchronous requests of a serv) widthshow
429.792786 305.650482 M 1.175262 0 32 (er) widthshow
437.163025 305.650482 M 1.175262 0 32 (, then no matter ho) widthshow
516.884216 305.650482 M 1.175262 0 32 (w the) widthshow
180 317.650452 M 0.191345 0 32 (serv) widthshow
196.510086 317.650452 M 0.191345 0 32 (er is or) widthshow
224.48288 317.650452 M 0.191345 0 32 (g) widthshow
229.432907 317.650452 M 0.191345 0 32 (anized, the client\325) widthshow
300.635925 317.650452 M 0.191345 0 32 (s requests will be processed in order) widthshow
446.204285 317.650452 M 0.191345 0 32 (. When there are multi-) widthshow
180 329.650452 M 0.904388 0 32 (ple \(asynchronously e) widthshow
269.418884 329.650452 M 0.904388 0 32 (x) widthshow
274.268951 329.650452 M 0.904388 0 32 (ecuting\) clients, or clients making asynchronous service requests) widthshow
180 341.650452 M 0.49263 0 32 (\(such as the k) widthshow
236.087952 341.650452 M 0.49263 0 32 (ernel\325) widthshow
258.858276 341.650452 M 0.49263 0 32 (s e) widthshow
270.030975 341.650452 M 0.49263 0 32 (xternal memory management and noti\336cation interf) widthshow
478.754211 341.650452 M 0.49263 0 32 (aces\), the issue) widthshow
(of the order in which these requests should be e) 180.0 353.65 T
(x) 370.09 353.65 T
(ecuted arises.) 374.94 353.65 T
180 377.650391 M 0.428085 0 32 (On the one hand, it w) widthshow
268.140503 377.650391 M 0.428085 0 32 (ould seem as though requests should be e) widthshow
436.247192 377.650391 M 0.428085 0 32 (x) widthshow
441.09726 377.650391 M 0.428085 0 32 (ecuted in strict order ac-) widthshow
180 389.650391 M 1.107285 0 32 (cording to the order in which the) widthshow
317.583801 389.650391 M 1.107285 0 32 (y were recei) widthshow
368.408508 389.650391 M 1.107285 0 32 (v) widthshow
373.258606 389.650391 M 1.107285 0 32 (ed from the request port. Ev) widthshow
490.845123 389.650391 M 1.107285 0 32 (en this rule,) widthshow
180 401.650391 M 0.874512 0 32 (though, is dif) widthshow
234.559158 401.650391 M 0.874512 0 32 <de63756c7420746f20696d706c656d656e742e204966206d756c7469706c6520746872656164732063616e207265636569> widthshow
433.740906 401.650391 M 0.874512 0 32 (v) widthshow
438.590973 401.650391 M 0.874512 0 32 (e messages from a gi) widthshow
525.709167 401.650391 M 0.874512 0 32 (v) widthshow
530.559265 401.650391 M 0.874512 0 32 (en) widthshow
180 413.65036 M 0.589935 0 32 (port, then service thread A can recei) widthshow
327.959778 413.65036 M 0.589935 0 32 (v) widthshow
332.809875 413.65036 M 0.589935 0 32 (e a message, be preempted, be follo) widthshow
478.83963 413.65036 M 0.589935 0 32 (wed by service) widthshow
180 425.65033 M 1.162598 0 32 (thread B which recei) widthshow
266.267944 425.65033 M 1.162598 0 32 (v) widthshow
271.118042 425.65033 M 1.162598 0 32 (es the ne) widthshow
308.283325 425.65033 M 1.162598 0 32 (xt message and processes it before thread A e) widthshow
499.504272 425.65033 M 1.162598 0 32 (v) widthshow
504.35434 425.65033 M 1.162598 0 32 (en had a) widthshow
(chance to record the f) 180.0 437.65 T
(act that it recei) 266.53 437.65 T
(v) 325.43 437.65 T
(ed a message.) 330.28 437.65 T
180 461.65033 M 0.372467 0 32 (This problem can be a) widthshow
270.159973 461.65033 M 0.372467 0 32 (v) widthshow
274.960083 461.65033 M 0.372467 0 32 (oided by using the k) widthshow
357.460022 461.65033 M 0.372467 0 32 (ernel generated sequence numbers associated) widthshow
180 473.650299 M 1.327667 0 32 (with each port. The k) widthshow
270.470734 473.650299 M 1.327667 0 32 (ernel increments its sequence number whene) widthshow
455.979248 473.650299 M 1.327667 0 32 (v) widthshow
460.829315 473.650299 M 1.327667 0 32 (er a message is re-) widthshow
180 485.650269 M 0.704224 0 32 (cei) widthshow
191.410141 485.650269 M 0.704224 0 32 (v) widthshow
196.260223 485.650269 M 0.704224 0 32 (ed. The serv) widthshow
246.668762 485.650269 M 0.704224 0 32 (er w) widthshow
264.763062 485.650269 M 0.704224 0 32 (ould maintain its o) widthshow
341.355835 485.650269 M 0.704224 0 32 (wn count of the last message processed. When a) widthshow
180 497.650269 M 1.644928 0 32 (thread recei) widthshow
228.315079 497.650269 M 1.644928 0 32 (v) widthshow
233.165161 497.650269 M 1.644928 0 32 (es a message, it w) widthshow
311.574951 497.650269 M 1.644928 0 32 (ould compare its message\325) widthshow
422.330017 497.650269 M 1.644928 0 32 (s sequence number with the) widthshow
180 509.650269 M 0.121185 0 32 (serv) widthshow
196.510086 509.650269 M 0.121185 0 32 (er\325) widthshow
207.060394 509.650269 M 0.121185 0 32 (s count \(under protection of some lock, of course\); if there is a g) widthshow
465.755859 509.650269 M 0.121185 0 32 (ap, then some oth-) widthshow
180 521.650269 M 0.9478 0 32 (er threads ha) widthshow
232.785721 521.650269 M 0.9478 0 32 (v) widthshow
237.635803 521.650269 M 0.9478 0 32 (e recei) widthshow
264.703735 521.650269 M 0.9478 0 32 (v) widthshow
269.553833 521.650269 M 0.9478 0 32 (ed messages that the) widthshow
354.177307 521.650269 M 0.9478 0 32 (y ha) widthshow
371.865234 521.650269 M 0.9478 0 32 (v) widthshow
376.715332 521.650269 M 0.9478 0 32 (e not yet processed, so this thread must) widthshow
180 533.650208 M 0.157013 0 32 (defer to them. Note that a sender\325) widthshow
314.5224 533.650208 M 0.157013 0 32 (s message that w) widthshow
382.383484 533.650208 M 0.157013 0 32 (as too lar) widthshow
419.177612 533.650208 M 0.157013 0 32 (ge in some w) widthshow
472.598724 533.650208 M 0.157013 0 32 (ay will cause the) widthshow
3 FF
180 545.650208 M 0.323563 0 32 (message recei) widthshow
235.883713 545.650208 M 0.323563 0 32 (v) widthshow
240.733795 545.650208 M 0.323563 0 32 (e to f) widthshow
261.830994 545.650208 M 0.323563 0 32 (ail and yet consume a sequence number) widthshow
422.072693 545.650208 M 0.323563 0 32 (. ) widthshow
0 FF
427.39624 545.650208 M 0.323563 0 32 (mach_msg_ser) widthshow
490.616302 545.650208 M 0.323563 0 32 (v) widthshow
495.516357 545.650208 M 0.323563 0 32 (er) widthshow
3 FF
504.396362 545.650208 M 0.323563 0 32 ( supplies) widthshow
180 557.650208 M 0.91304 0 32 (the errant header to its de-multiple) widthshow
322.445312 557.650208 M 0.91304 0 32 (xing routine so that the sequence number is counted.) widthshow
180 569.650146 M 0.373535 0 32 (\(Of course, ille) widthshow
240.857162 569.650146 M 0.373535 0 32 (g) widthshow
245.80719 569.650146 M 0.373535 0 32 (al messages, such as those with an unkno) widthshow
413.1521 569.650146 M 0.373535 0 32 (wn operation ID, will also con-) widthshow
180 581.650146 M 1.092255 0 32 (sume a sequence number) widthshow
283.127014 581.650146 M 1.092255 0 32 (, b) widthshow
294.019348 581.650146 M 1.092255 0 32 (ut these will be passed by ) widthshow
0 FF
405.562897 581.650146 M 1.092255 0 32 (mach_msg_ser) widthshow
468.782959 581.650146 M 1.092255 0 32 (v) widthshow
473.683014 581.650146 M 1.092255 0 32 (er) widthshow
3 FF
482.563019 581.650146 M 1.092255 0 32 ( to be consid-) widthshow
180 593.650146 M 2.644501 0 32 (ered by the message de-multiple) widthshow
319.848083 593.650146 M 2.644501 0 32 (xing routine.\) The set of threads holding messages) widthshow
3 FF
(w) 180.0 605.65 T
(aiting to be processed forms the deferred processing queue.) 187.12 605.65 T
180 629.650146 M 0.573502 0 32 (It is not al) widthshow
221.900558 629.650146 M 0.573502 0 32 (w) widthshow
229.020615 629.650146 M 0.573502 0 32 (ays possible, or desirable, to e) widthshow
351.99823 629.650146 M 0.573502 0 32 (x) widthshow
356.848297 629.650146 M 0.573502 0 32 (ecute client requests in strict \336rst-in, \336rst-out) widthshow
180 641.650085 M 0.95993 0 32 (order) widthshow
200.700226 641.650085 M 0.95993 0 32 (, nor is it al) widthshow
249.720001 641.650085 M 0.95993 0 32 (w) widthshow
256.840057 641.650085 M 0.95993 0 32 (ays necessary) widthshow
311.850342 641.650085 M 0.95993 0 32 (. F) widthshow
323.220367 641.650085 M 0.95993 0 32 (or e) widthshow
339.300385 641.650085 M 0.95993 0 32 (xample, consider the data read logic in a POSIX) widthshow
180 653.650085 M 1.222794 0 32 <de6c652073797374656d2e2041206769> widthshow
248.978516 653.650085 M 1.222794 0 32 (v) widthshow
253.828598 653.650085 M 1.222794 0 32 (en client request may require reading more than one disk block. The) widthshow
180 665.650085 M 0.540573 0 32 (read atomicity rules state that the data read must be an atomic vie) widthshow
447.857056 665.650085 M 0.540573 0 32 (w of the \336le\321the read) widthshow
180 677.650024 M 0.971634 0 32 (must not sho) widthshow
232.8134 677.650024 M 0.971634 0 32 (w partial results of not-yet-completed write calls. Thus, all blocks af) widthshow
515.569885 677.650024 M 0.971634 0 32 (fected) widthshow
180 689.650024 M 0.214951 0 32 (by the data read must be lock) widthshow
298.389771 689.650024 M 0.214951 0 32 (ed while the data is being copied from the blocks. Ho) widthshow
513.869446 689.650024 M 0.214951 0 32 (we) widthshow
525.279541 689.650024 M 0.214951 0 32 (v) widthshow
530.129639 689.650024 M 0.214951 0 32 (er) widthshow
537.499878 689.650024 M 0.214951 0 32 (,) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 71 71
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (67 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.560638 0 32 (it is not necessary to k) widthshow
163.863251 115.666656 M 0.560638 0 32 (eep the blocks already in memory lock) widthshow
322.097168 115.666656 M 0.560638 0 32 (ed while w) widthshow
366.998474 115.666656 M 0.560638 0 32 (aiting for others) widthshow
72 127.666641 M 0.940582 0 32 (to be transferred from disk; only when all blocks are in memory is it necessary to hold) widthshow
72 139.666626 M 0.173721 0 32 (them lock) widthshow
111.793777 139.666626 M 0.173721 0 32 (ed. As such, a request to write one of the blocks that strictly speaking arri) widthshow
407.81604 139.666626 M 0.173721 0 32 (v) widthshow
412.666138 139.666626 M 0.173721 0 32 (ed at) widthshow
(the serv) 72.0 151.667 T
(er after the read request could be processed \336rst.) 103.23 151.667 T
72 175.666595 M 1.184952 0 32 (In general, it is not necessary to e) widthshow
214.004761 175.666595 M 1.184952 0 32 (x) widthshow
218.854843 175.666595 M 1.184952 0 32 (ecute client requests in strict client order; it is only) widthshow
72 187.66658 M 0.278625 0 32 (necessary to e) widthshow
128.497345 187.66658 M 0.278625 0 32 (x) widthshow
133.347427 187.66658 M 0.278625 0 32 (ecute them in the order that the clients can detect that the) widthshow
364.2724 187.66658 M 0.278625 0 32 (y were e) widthshow
398.549744 187.66658 M 0.278625 0 32 (x) widthshow
403.399841 187.66658 M 0.278625 0 32 (ecuted.) widthshow
72 199.666565 M 1.428864 0 32 (That is, if a client cannot tell that a request w) widthshow
266.438721 199.666565 M 1.428864 0 32 (as e) widthshow
282.987671 199.666565 M 1.428864 0 32 (x) widthshow
287.837738 199.666565 M 1.428864 0 32 (ecuted until it gets its reply or via) widthshow
72 211.66655 M 0.949249 0 32 (some other request of the serv) widthshow
196.846344 211.66655 M 0.949249 0 32 (er) widthshow
204.216568 211.66655 M 0.949249 0 32 (, then the serv) widthshow
263.014404 211.66655 M 0.949249 0 32 (er is free to \(implicitly\) re-order requests) widthshow
72 223.666534 M 1.158096 0 32 (until it does send such a reply or respond to some other request that e) widthshow
364.693451 223.666534 M 1.158096 0 32 (xposes the com-) widthshow
(pleteness or non-completeness of the pre) 72.0 235.667 T
(vious request.) 234.77 235.667 T
72 259.666504 M 0.593292 0 32 (F) widthshow
77.41008 259.666504 M 0.593292 0 32 (or increased parallelism, a serv) widthshow
203.763351 259.666504 M 0.593292 0 32 (er may not w) widthshow
257.933289 259.666504 M 0.593292 0 32 (ant to hold an object lock) widthshow
362.17981 259.666504 M 0.593292 0 32 (ed during the en-) widthshow
72 271.666504 M 0.627975 0 32 (tire e) widthshow
92.748062 271.666504 M 0.627975 0 32 (x) widthshow
97.598145 271.666504 M 0.627975 0 32 (ecution of a service request. In such a situation, then, the serv) widthshow
350.415985 271.666504 M 0.627975 0 32 (er needs some other) widthshow
72 283.666473 M 0.674515 0 32 (defense besides the object lock to pre) widthshow
225.207245 283.666473 M 0.674515 0 32 (v) widthshow
230.057327 283.666473 M 0.674515 0 32 (ent no-more-senders processing from deleting the) widthshow
72 295.666443 M 0.341415 0 32 (object. A typical approach is to maintain a count of the number of in-progress operations) widthshow
72 307.666443 M 1.115982 0 32 (on the object \(the count being protected by the object lock\). The object can be deleted) widthshow
(when the no-more-senders noti\336cation is recei) 72.0 319.666 T
(v) 256.99 319.666 T
(ed and the in-progress count hits zero.) 261.84 319.666 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(Documentation) 72.0 351.0 T
3 FF
72 367.666412 M 0.709991 0 32 (The locking rules are perhaps the most important property of a serv) widthshow
349.330017 367.666412 M 0.709991 0 32 (er to document. The) widthshow
(serv) 72.0 379.666 T
(er should document:) 88.51 379.666 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 72.0 397.666 T
3 FF
(The locking hierarch) 85.536 397.666 T
(y) 168.796 397.666 T
(.) 173.146 397.666 T
5 FF
<a5> 72.0 412.666 T
3 FF
(F) 85.536 412.666 T
(or each data \336eld, the lock protecting it.) 90.946 412.666 T
5 FF
<a5> 72.0 427.666 T
3 FF
85.535995 427.666351 M 0.463287 0 32 (F) widthshow
90.946075 427.666351 M 0.463287 0 32 (or each module entry) widthshow
176.386307 427.666351 M 0.463287 0 32 (, what locks must be held on entry) widthshow
316.189697 427.666351 M 0.463287 0 32 (, what locks can be held and) widthshow
(what locks might be tak) 85.536 439.666 T
(en or released.) 180.986 439.666 T
72 480.999634 360 3.024002 CR
432 482.51 M
72 482.51 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Multi-Thr) 72.0 477.333 T
(eaded Object-Oriented Example) 133.194 477.333 T
3 FF
72 501.690308 M 0.46489 0 32 (The follo) widthshow
109.155029 501.690308 M 0.46489 0 32 (wing C++ e) widthshow
157.32489 501.690308 M 0.46489 0 32 (xample sho) widthshow
203.369919 501.690308 M 0.46489 0 32 (ws a simpli\336ed b) widthshow
272.624695 501.690308 M 0.46489 0 32 (ut typical object-oriented serv) widthshow
393.569458 501.690308 M 0.46489 0 32 (er) widthshow
400.789764 501.690308 M 0.46489 0 32 (. In this) widthshow
72 513.690308 M 0.99559 0 32 (serv) widthshow
88.510086 513.690308 M 0.99559 0 32 (er) widthshow
95.88031 513.690308 M 0.99559 0 32 (, a send right held by a client represents a reference to an object managed by the) widthshow
72 525.690247 M 0.702209 0 32 (serv) widthshow
88.510086 525.690247 M 0.702209 0 32 (er) widthshow
95.730392 525.690247 M 0.702209 0 32 (. The serv) widthshow
136.694901 525.690247 M 0.702209 0 32 (er\325) widthshow
147.245209 525.690247 M 0.702209 0 32 (s port name for the corresponding recei) widthshow
308.388611 525.690247 M 0.702209 0 32 (v) widthshow
313.238708 525.690247 M 0.702209 0 32 (e right locates the data struc-) widthshow
72 537.690247 M 0.864487 0 32 (ture representing the object. No-more-senders noti\336cation is used to determine when an) widthshow
72 549.690247 M 0.620728 0 32 (object should be deleted. The e) widthshow
199.373734 549.690247 M 0.620728 0 32 (xample maintains a single link) widthshow
323.976685 549.690247 M 0.620728 0 32 (ed list of objects protected) widthshow
72 561.690186 M 0.191833 0 32 (by a global lock; each object has its o) widthshow
223.264816 561.690186 M 0.191833 0 32 (wn object lock that protects manipulation of the ob-) widthshow
(ject\325) 72.0 573.69 T
(s visible state.) 89.22 573.69 T
4 FF
(Interface De\336nitions) 72.0 605.024 T
3 FF
72 621.690186 M 0.318375 0 32 (There are tw) widthshow
123.066818 621.690186 M 0.318375 0 32 (o interf) widthshow
152.445251 621.690186 M 0.318375 0 32 (ace de\336nition \336les. Operations upon objects, sent to the object\325) widthshow
406.680939 621.690186 M 0.318375 0 32 (s port,) widthshow
72 633.690186 M 0.411377 0 32 (are de\336ned in ) widthshow
1 FF
130.164139 633.690186 M 0.411377 0 32 (object) widthshow
3 FF
156.264145 633.690186 M 0.411377 0 32 (.defs. The serv) widthshow
215.806992 633.690186 M 0.411377 0 32 (er\325) widthshow
226.3573 633.690186 M 0.411377 0 32 (s lookup operation, though, is not sent to an object) widthshow
72 645.690186 M 0.027618 0 32 (port, it is sent to a speci\336c serv) widthshow
195.923416 645.690186 M 0.027618 0 32 (er port that responds to such requests. This operation is de-) widthshow
<de6e656420696e20> 72.0 657.69 T
1 FF
(ooser) 104.78 657.69 T
(v) 127.45 657.69 T
(er) 132.35 657.69 T
3 FF
(.defs.) 140.68 657.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 72 72
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(68 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 2.891769 0 32 (The interesting detail in the lookup operation is the use of MA) widthshow
461.10968 113.650665 M 2.891769 0 32 (CH_MSG_TYPE_-) widthshow
180 125.65065 M 0.994339 0 32 (MO) widthshow
195.610275 125.65065 M 0.994339 0 32 (VE_SEND. Refer to the de\336nition of this operation \() widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
414.934998 125.65065 M 0.994339 0 32 (object_list) widthshow
3 FF
456.60498 125.65065 M 0.994339 0 32 (::) widthshow
0 FF
462.164978 125.65065 M 0.994339 0 32 <de6e645f6f725f6d616b> widthshow
517.075073 125.65065 M 0.994339 0 32 (e) widthshow
3 FF
521.515015 125.65065 M 0.994339 0 32 (\) for) widthshow
(an e) 180.0 137.651 T
(xplanation.) 196.23 137.651 T
180 147.983963 360 9 CR
1 G
180 147.983963 360 9 NF
0 G
3 FF
(/*) 199.224 155.815 T
3 SL
0.6667 G
530.91 152.48 M
530.91 157.73 L
540 152.48 L
530.91 147.23 L
F
530.91 152.48 M
216 152.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 164.651 T
0 FF
(ooser) 236.84 164.651 T
(v) 259.51 164.651 T
(er) 264.41 164.651 T
(.) 272.291 164.651 T
3 FF
(defs) 274.791 164.651 T
(Author: Richard P) 216.0 174.651 T
(. Dra) 288.221 174.651 T
(v) 308.011 174.651 T
(es) 312.861 174.651 T
180 186.983917 360 9 CR
1 G
180 186.983917 360 9 NF
0 G
3 FF
(*/) 198.0 194.81 T
0.6667 G
225.09 191.48 M
225.09 186.23 L
216 191.48 L
225.09 196.73 L
F
540 191.48 M
225.09 191.48 L
S
0 0 612 792 CR
0 G
3 FF
(Interf) 216.0 184.651 T
(ace de\336nitions for ) 238.11 184.651 T
0 FF
(ooser) 312.82 184.651 T
(v) 335.49 184.651 T
(er) 340.39 184.651 T
3 FF
(.) 348.72 184.651 T
([1]) 195.34 205.651 T
(subsystem ) 216.0 205.651 T
4 FF
(ooserver) 260.17 205.651 T
3 FF
(2783600;) 396.0 205.651 T
([2]) 195.34 217.651 T
(serv) 216.0 217.651 T
(erpre\336x ) 232.51 217.651 T
0 FF
(do_) 266.11 217.651 T
3 FF
(;) 281.67 217.651 T
([3]) 195.34 229.651 T
(#include <mach/std_types.defs>) 216.0 229.651 T
180 233.983871 360 9 CR
1 G
180 233.983871 360 9 NF
0 G
3 FF
(/*) 199.224 241.815 T
0.6667 G
530.91 238.48 M
530.91 243.73 L
540 238.48 L
530.91 233.23 L
F
530.91 238.48 M
216 238.48 L
S
180 252.983856 360 9 CR
1 G
180 252.983856 360 9 NF
0 G
3 FF
(*/) 198.0 260.81 T
0.6667 G
225.09 257.48 M
225.09 252.23 L
216 257.48 L
225.09 262.73 L
F
540 257.48 M
225.09 257.48 L
S
0 0 612 792 CR
0 G
3 FF
(Get an object port.) 216.0 250.651 T
([4]) 195.34 271.651 T
(routine ) 216.0 271.651 T
0 FF
(ooser) 246.83 271.651 T
(v) 269.5 271.651 T
(er_lookup) 274.4 271.651 T
3 FF
([5]) 195.34 283.65 T
(\() 216.0 283.65 T
([6]) 195.34 295.65 T
4 FF
(server) 252.0 295.65 T
3 FF
(: mach_port_t;) 396.0 295.65 T
([7]) 195.34 307.65 T
4 FF
(name) 252.0 307.65 T
3 FF
(: int;) 396.0 307.65 T
([8]) 195.34 319.65 T
(out ) 252.0 319.65 T
4 FF
(object) 267.28 319.65 T
3 FF
(: mach_port_t = ) 396.0 319.65 T
(MA) 306.0 329.65 T
(CH_MSG_TYPE_MO) 321.71 329.65 T
(VE_SEND) 412.88 329.65 T
([9]) 195.34 341.65 T
(\);) 216.0 341.65 T
(This \336le de\336nes a simple change and query operation for the object\325) 180.0 363.65 T
(s inte) 451.9 363.65 T
(ger v) 473.14 363.65 T
(alue.) 493.161 363.65 T
180 373.983734 360 9 CR
1 G
180 373.983734 360 9 NF
0 G
3 FF
(/*) 199.224 381.815 T
0.6667 G
530.91 378.48 M
530.91 383.73 L
540 378.48 L
530.91 373.23 L
F
530.91 378.48 M
216 378.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 390.65 T
0 FF
(object.) 236.84 390.65 T
3 FF
(defs) 265.44 390.65 T
(Author: Richard P) 216.0 400.65 T
(. Dra) 288.221 400.65 T
(v) 308.011 400.65 T
(es) 312.861 400.65 T
180 412.983704 360 9 CR
1 G
180 412.983704 360 9 NF
0 G
3 FF
(*/) 198.0 420.81 T
0.6667 G
225.09 417.48 M
225.09 412.23 L
216 417.48 L
225.09 422.73 L
F
540 417.48 M
225.09 417.48 L
S
0 0 612 792 CR
0 G
3 FF
(Interf) 216.0 410.65 T
(ace de\336nitions for ) 238.11 410.65 T
0 FF
(ooser) 312.82 410.65 T
(v) 335.49 410.65 T
(er) 340.39 410.65 T
3 FF
( objects.) 349.27 410.65 T
([1]) 195.34 431.65 T
(subsystem ) 216.0 431.65 T
4 FF
(object) 260.17 431.65 T
3 FF
(2783700;) 396.0 431.65 T
([2]) 195.34 443.65 T
(serv) 216.0 443.65 T
(erpre\336x ) 232.51 443.65 T
0 FF
(do_) 266.11 443.65 T
3 FF
(;) 281.67 443.65 T
([3]) 195.34 455.65 T
(#include <mach/std_types.defs>) 216.0 455.65 T
180 459.983643 360 9 CR
1 G
180 459.983643 360 9 NF
0 G
3 FF
(/*) 199.224 467.815 T
0.6667 G
530.91 464.48 M
530.91 469.73 L
540 464.48 L
530.91 459.23 L
F
530.91 464.48 M
216 464.48 L
S
180 478.983643 360 9 CR
1 G
180 478.983643 360 9 NF
0 G
3 FF
(*/) 198.0 486.81 T
0.6667 G
225.09 483.48 M
225.09 478.23 L
216 483.48 L
225.09 488.73 L
F
540 483.48 M
225.09 483.48 L
S
0 0 612 792 CR
0 G
3 FF
(Operations on an object port.) 216.0 476.65 T
([4]) 195.34 497.65 T
(routine ) 216.0 497.65 T
0 FF
(object_change) 246.83 497.65 T
3 FF
([5]) 195.34 509.65 T
(\() 216.0 509.65 T
([6]) 195.34 521.65 T
4 FF
(object) 252.0 521.65 T
3 FF
(: mach_port_t;) 396.0 521.65 T
([7]) 195.34 533.65 T
4 FF
(value) 252.0 533.65 T
3 FF
(: int) 396.0 533.65 T
([8]) 195.34 545.65 T
(\);) 216.0 545.65 T
([9]) 195.34 557.65 T
(routine ) 216.0 557.65 T
0 FF
(object_query) 246.83 557.65 T
3 FF
([10]) 190.34 569.65 T
(\() 216.0 569.65 T
([11]) 190.34 581.65 T
4 FF
(object) 252.0 581.65 T
3 FF
(: mach_port_t;) 396.0 581.65 T
([12]) 190.34 593.65 T
(out ) 252.0 593.65 T
4 FF
(value) 267.28 593.65 T
3 FF
(: int) 396.0 593.65 T
([13]) 190.34 605.65 T
(\);) 216.0 605.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Ser) 180.0 634.983 T
(v) 197.208 634.983 T
(er Pr) 203.088 634.983 T
(ogram De\336nitions) 229.188 634.983 T
3 FF
180 651.650146 M 0.780716 0 32 (The serv) widthshow
215.340805 651.650146 M 0.780716 0 32 (er code follo) widthshow
267.192383 651.650146 M 0.780716 0 32 (ws. It be) widthshow
302.763916 651.650146 M 0.780716 0 32 (gins with the pre-requisite e) widthshow
417.386841 651.650146 M 0.780716 0 32 (xternal de\336nitions \(all de\336ned) widthshow
180 663.650146 M 0.923492 0 32 (as ) widthshow
4 FF
191.753494 663.650146 M 0.923492 0 32 (e) widthshow
195.993607 663.650146 M 0.923492 0 32 (xtern \322C\323) widthshow
3 FF
237.757095 663.650146 M 0.923492 0 32 ( because the) widthshow
288.324158 663.650146 M 0.923492 0 32 (y were written for general C use\). Included are de\336nitions of) widthshow
180 675.650085 M 1.06163 0 32 (the MIG generated serv) widthshow
277.724976 675.650085 M 1.06163 0 32 (er routines. Notice that some internal routines are also declared) widthshow
180 687.650085 M 0.720596 0 32 (here as ) widthshow
4 FF
211.981201 687.650085 M 0.720596 0 32 (e) widthshow
216.221313 687.650085 M 0.720596 0 32 (xtern \322C\323) widthshow
3 FF
257.781921 687.650085 M 0.720596 0 32 ( so that appropriate linkage is generated for them so that the) widthshow
505.238586 687.650085 M 0.720596 0 32 (y can be) widthshow
(called by MIG generated stubs.) 180.0 699.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 73 73
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (69 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 108 360 9 CR
72 108 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 91.224 115.831 T
3 SL
0 SC
0.6667 G
422.91 112.5 M
422.91 117.75 L
432 112.5 L
422.91 107.25 L
F
422.91 112.5 M
108 112.5 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 108.0 124.667 T
1 FF
(ooser) 128.84 124.667 T
(v) 151.51 124.667 T
(er) 156.41 124.667 T
(.c) 164.291 124.667 T
3 FF
(Original C v) 108.0 134.667 T
(ersion by Richard P) 157.85 134.667 T
(. Dra) 235.901 134.667 T
(v) 255.691 134.667 T
(es) 260.541 134.667 T
108 144.666626 M 1.17717 0 32 (Sample object-oriented serv) widthshow
222.404434 144.666626 M 1.17717 0 32 (er) widthshow
229.624741 144.666626 M 1.17717 0 32 (. Each object pro) widthshow
300.766357 144.666626 M 1.17717 0 32 (vides a single v) widthshow
365.987976 144.666626 M 1.17717 0 32 (alue that can be) widthshow
72 156.999939 360 9 CR
1 G
72 156.999939 360 9 NF
0 G
3 FF
(*/) 90.0 164.826 T
0.6667 G
117.09 161.5 M
117.09 156.25 L
108 161.5 L
117.09 166.75 L
F
432 161.5 M
117.09 161.5 L
S
0 0 612 792 CR
0 G
3 FF
(set and e) 108.0 154.667 T
(xamined.) 142.84 154.667 T
([1]) 87.34 175.667 T
(e) 108.0 175.667 T
(xtern \322C\323) 112.29 175.667 T
([2]) 87.34 187.667 T
({) 108.0 187.667 T
([3]) 87.34 199.667 T
(#include <stdio.h>) 108.0 199.667 T
([4]) 87.34 211.667 T
(#include <mach.h>) 108.0 211.667 T
([5]) 87.34 223.667 T
(#include <mach/message.h>) 108.0 223.667 T
([6]) 87.34 235.667 T
(#include <mach/notify) 108.0 235.667 T
(.h>) 198.26 235.667 T
([7]) 87.34 247.667 T
(#include <mach_error) 108.0 247.667 T
(.h>) 196.12 247.667 T
([8]) 87.34 259.666 T
(#include <mig_errors.h>) 108.0 259.666 T
([9]) 87.34 271.666 T
(#include \322cthreads.h\323) 108.0 271.666 T
([10]) 82.34 283.666 T
(e) 144.0 283.666 T
(xtern k) 148.29 283.666 T
(ern_return_t ) 176.24 283.666 T
1 FF
(mach_msg_ser) 228.17 283.666 T
(v) 291.39 283.666 T
(er) 296.29 283.666 T
3 FF
( \(boolean_t \(*\) ) 305.17 283.666 T
(\(mach_msg_header_t*, mach_msg_header_t*\), ) 198.0 293.666 T
(mach_msg_size_t, mach_port_t, mach_msg_option_t\);) 198.0 303.666 T
([11]) 82.34 315.666 T
(e) 144.0 315.666 T
(xtern k) 148.29 315.666 T
(ern_return_t ) 176.24 315.666 T
1 FF
(netname_check_in) 228.17 315.666 T
3 FF
( \(mach_port_t, char*, ) 307.61 315.666 T
(mach_port_t, mach_port_t\);) 198.0 325.666 T
([12]) 82.34 337.666 T
(e) 144.0 337.666 T
(xtern v) 148.29 337.666 T
(oid quit \(int, ...\);) 176.14 337.666 T
([13]) 82.34 349.666 T
(e) 144.0 349.666 T
(xtern int atoi \(char*\);) 148.29 349.666 T
([14]) 82.34 361.666 T
(e) 144.0 361.666 T
(xtern boolean_t ) 148.29 361.666 T
1 FF
(ooser) 213.28 361.666 T
(v) 235.95 361.666 T
(er_ser) 240.85 361.666 T
(v) 267.4 361.666 T
(er) 272.3 361.666 T
3 FF
(\(mach_msg_header_t*, ) 281.18 361.666 T
(mach_msg_header_t*\);) 198.0 371.666 T
([15]) 82.34 383.666 T
(e) 144.0 383.666 T
(xtern boolean_t ) 148.29 383.666 T
1 FF
(object_ser) 213.28 383.666 T
(v) 257.05 383.666 T
(er) 261.95 383.666 T
3 FF
(\(mach_msg_header_t*, ) 270.83 383.666 T
(mach_msg_header_t*\);) 198.0 393.666 T
([16]) 82.34 405.666 T
(typedef long int size_t;) 144.0 405.666 T
([17]) 82.34 417.666 T
(e) 144.0 417.666 T
(xtern v) 148.29 417.666 T
(oid *malloc\(size_t\);) 176.14 417.666 T
([18]) 82.34 429.666 T
(e) 144.0 429.666 T
(xtern v) 148.29 429.666 T
(oid free \(v) 176.14 429.666 T
(oid*\);) 217.59 429.666 T
([19]) 82.34 441.666 T
(e) 144.0 441.666 T
(xtern k) 148.29 441.666 T
(ern_return_t ) 176.24 441.666 T
1 FF
(do_object_change) 228.17 441.666 T
3 FF
(\(mach_port_t ) 304.83 441.666 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(port) 361.21 441.666 T
3 FF
(, int ) 377.88 441.666 T
4 FF
(value) 395.94 441.666 T
3 FF
(\);) 417.6 441.666 T
([20]) 82.34 453.666 T
(e) 144.0 453.666 T
(xtern k) 148.29 453.666 T
(ern_return_t ) 176.24 453.666 T
1 FF
(do_object_query) 228.17 453.666 T
3 FF
(\(mach_port_t ) 299.83 453.666 T
4 FF
(port) 356.21 453.666 T
3 FF
(, int *) 372.88 453.666 T
4 FF
(valuep) 395.94 453.666 T
3 FF
(\);) 422.6 453.666 T
([21]) 82.34 465.666 T
(e) 144.0 465.666 T
(xtern k) 148.29 465.666 T
(ern_return_t ) 176.24 465.666 T
1 FF
(do_ooser) 228.17 465.666 T
(v) 266.4 465.666 T
(er_lookup) 271.3 465.666 T
3 FF
(\(mach_port_t ) 314.64 465.666 T
4 FF
(server) 371.02 465.666 T
3 FF
(, int ) 395.61 465.666 T
4 FF
(name) 198.0 475.666 T
3 FF
(, mach_port_t *) 219.66 475.666 T
4 FF
(portp) 282.71 475.666 T
3 FF
(\);) 304.38 475.666 T
([22]) 82.34 487.666 T
(}) 108.0 487.666 T
([23]) 82.34 499.666 T
3 FF
(struct mach_port_limits) 108.0 499.666 T
4 FF
(port_bounds) 288.0 499.666 T
3 FF
( = ) 338.56 499.666 T
({MA) 162.0 509.666 T
(CH_POR) 182.51 509.666 T
(T_QLIMIT_DEF) 220.251 509.666 T
(A) 289.501 509.666 T
(UL) 296.171 509.666 T
(T) 308.582 509.666 T
(, 0, 4, 1024};) 313.952 509.666 T
72 513.999512 360 9 CR
1 G
72 513.999512 360 9 NF
0 G
3 FF
(/*) 90.0 521.831 T
0.6667 G
422.91 518.5 M
422.91 523.75 L
432 518.5 L
422.91 513.25 L
F
422.91 518.5 M
288 518.5 L
S
0 0 612 792 CR
0 G
3 FF
288 530.666138 M 7.626495 0 32 (Pre) widthshow
301.080139 530.666138 M 7.626495 0 32 (v) widthshow
305.930237 530.666138 M 7.626495 0 32 (ent out-of-line deli) widthshow
395.92334 530.666138 M 7.626495 0 32 (v) widthshow
400.773438 530.666138 M 7.626495 0 32 (ery or) widthshow
72 542.999451 360 9 CR
1 G
72 542.999451 360 9 NF
0 G
3 FF
(*/) 90.0 550.826 T
0.6667 G
297.09 547.5 M
297.09 542.25 L
288 547.5 L
297.09 552.75 L
F
432 547.5 M
297.09 547.5 L
S
0 0 612 792 CR
0 G
3 FF
(e) 288.0 540.666 T
(xcess port right deli) 292.29 540.666 T
(v) 371.2 540.666 T
(ery) 376.05 540.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Space and Matching P) 72.0 578.999 T
(ort Allocator) 186.768 578.999 T
3 FF
72 595.666138 M 0.490677 0 32 (Since the objects maintained by this serv) widthshow
238.114151 595.666138 M 0.490677 0 32 (er will use their object data structure virtual ad-) widthshow
72 607.666077 M 0.912247 0 32 (dress as their recei) widthshow
148.626892 607.666077 M 0.912247 0 32 (ving port right name, memory space and recei) widthshow
338.612793 607.666077 M 0.912247 0 32 (v) widthshow
343.46286 607.666077 M 0.912247 0 32 (e rights are generated) widthshow
72 619.666077 M 1.819153 0 32 (together) widthshow
104.220306 619.666077 M 1.819153 0 32 (. T) widthshow
116.349899 619.666077 M 1.819153 0 32 (o handle the case where a virtual address accidentally collides with a port) widthshow
72 631.666077 M 1.000778 0 32 (name, the general memory allocator \(global ::) widthshow
1 FF
261.024689 631.666077 M 1.000778 0 32 (operator) widthshow
3 FF
298.23468 631.666077 M 1.000778 0 32 ( ) widthshow
1 FF
301.735474 631.666077 M 1.000778 0 32 (new) widthshow
3 FF
318.955475 631.666077 M 1.000778 0 32 (\) is rede\336ned to ensure this) widthshow
72 643.666016 M 1.84227 0 32 (match. The allocator continues to allocate space until it can allocate a matching port) widthshow
72 655.666016 M 1.063309 0 32 (name, then frees an) widthshow
152.790024 655.666016 M 1.063309 0 32 (y e) widthshow
165.643417 655.666016 M 1.063309 0 32 (xtraneous blocks \() widthshow
4 FF
241.090042 655.666016 M 1.063309 0 32 (badobjects) widthshow
3 FF
284.420044 655.666016 M 1.063309 0 32 (\). An) widthshow
305.883423 655.666016 M 1.063309 0 32 (y space freed will probably be) widthshow
(usable in the future, as the con\337icting rights in client messages come and go.) 72.0 667.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 74 74
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(70 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
0 0 612 792 CR
0 G
3 FF
216 122.650665 M 1.069946 0 32 (Allocate a structure and a port together) widthshow
378.089905 122.650665 M 1.069946 0 32 (, so that the structure\325) widthshow
468.75 122.650665 M 1.069946 0 32 (s address and the) widthshow
180 134.983978 360 9 CR
1 G
180 134.983978 360 9 NF
0 G
3 FF
(*/) 198.0 142.81 T
0.6667 G
225.09 139.48 M
225.09 134.23 L
216 139.48 L
225.09 144.73 L
F
540 139.48 M
225.09 139.48 L
S
0 0 612 792 CR
0 G
3 FF
(port\325) 216.0 132.651 T
(s name are the same) 234.89 132.651 T
([24]) 190.34 153.651 T
(static v) 216.0 153.651 T
(oid* ::) 244.41 153.651 T
0 FF
(operator) 270.25 153.651 T
3 FF
( ) 307.46 153.651 T
0 FF
(new ) 309.96 153.651 T
3 FF
(\(size_t ) 329.68 153.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(size) 358.84 153.651 T
3 FF
(\)) 373.84 153.651 T
([25]) 190.34 165.651 T
({) 216.0 165.651 T
([26]) 190.34 177.651 T
(char *) 252.0 177.651 T
4 FF
(badobjects) 396.0 177.651 T
3 FF
( = NULL;) 439.33 177.651 T
([27]) 190.34 189.651 T
(char *) 252.0 189.651 T
4 FF
(object_p) 396.0 189.651 T
3 FF
(;) 430.44 189.651 T
([28]) 190.34 201.651 T
(k) 252.0 201.651 T
(ern_return_t) 256.9 201.651 T
4 FF
(kr) 396.0 201.651 T
3 FF
(;) 404.33 201.651 T
([29]) 190.34 213.651 T
(for \(;;\)) 252.0 213.651 T
([30]) 190.34 225.651 T
({) 252.0 225.651 T
([31]) 190.34 237.651 T
4 FF
(object_p) 288.0 237.651 T
3 FF
( = \(char*\) malloc\() 322.44 237.651 T
4 FF
(size) 395.0 237.651 T
3 FF
(\);) 410.0 237.651 T
([32]) 190.34 249.651 T
(if \() 288.0 249.651 T
4 FF
(object_p) 299.94 249.651 T
3 FF
( == NULL\)) 334.38 249.651 T
([33]) 190.34 261.65 T
(quit\(1, \322) 324.0 261.65 T
0 FF
(ooser) 357.33 261.65 T
(v) 380.0 261.65 T
(er) 384.9 261.65 T
3 FF
(: malloc f) 393.78 261.65 T
(ailed\\n\323\);) 432.01 261.65 T
180 265.983826 360 9 CR
1 G
180 265.983826 360 9 NF
0 G
3 FF
(/*) 199.224 273.815 T
0.6667 G
530.91 270.48 M
530.91 275.73 L
540 270.48 L
530.91 265.23 L
F
530.91 270.48 M
216 270.48 L
S
180 284.983826 360 9 CR
1 G
180 284.983826 360 9 NF
0 G
3 FF
(*/) 198.0 292.81 T
0.6667 G
225.09 289.48 M
225.09 284.23 L
216 289.48 L
225.09 294.73 L
F
540 289.48 M
225.09 289.48 L
S
0 0 612 792 CR
0 G
3 FF
(T) 288.0 282.65 T
(ry to allocate a port with this name) 293.76 282.65 T
([34]) 190.34 303.65 T
(kr = ) 288.0 303.65 T
0 FF
(mach_port_allocate_name) 306.97 303.65 T
3 FF
(\() 419.73 303.65 T
0 FF
(mach_task_self) 423.06 303.65 T
3 FF
(\(\), ) 488.61 303.65 T
(MA) 342.0 313.65 T
(CH_POR) 357.71 313.65 T
(T_RIGHT_RECEIVE, ) 395.451 313.65 T
(\(mach_port_t\) ) 342.0 323.65 T
4 FF
(object_p) 401.71 323.65 T
3 FF
(\);) 436.15 323.65 T
([35]) 190.34 335.65 T
(if \() 288.0 335.65 T
4 FF
(kr) 299.94 335.65 T
3 FF
( == KERN_SUCCESS\)) 308.27 335.65 T
([36]) 190.34 347.65 T
(break;) 324.0 347.65 T
([37]) 190.34 359.65 T
(if \() 288.0 359.65 T
4 FF
(kr) 299.94 359.65 T
3 FF
( != KERN_N) 308.27 359.65 T
(AME_EXISTS\)) 361.33 359.65 T
([38]) 190.34 371.65 T
(quit\(1, \322) 324.0 371.65 T
0 FF
(ooser) 357.33 371.65 T
(v) 380.0 371.65 T
(er) 384.9 371.65 T
3 FF
(: ) 393.78 371.65 T
0 FF
(mach_port_allocate_name) 399.06 371.65 T
3 FF
(: ) 511.82 371.65 T
(%s\\n\323, mach_error_string\() 378.0 381.65 T
4 FF
(kr) 484.64 381.65 T
3 FF
(\)\);) 492.97 381.65 T
180 385.983704 360 9 CR
1 G
180 385.983704 360 9 NF
0 G
3 FF
(/*) 199.224 393.815 T
0.6667 G
530.91 390.48 M
530.91 395.73 L
540 390.48 L
530.91 385.23 L
F
530.91 390.48 M
216 390.48 L
S
180 404.983673 360 9 CR
1 G
180 404.983673 360 9 NF
0 G
3 FF
(*/) 198.0 412.81 T
0.6667 G
225.09 409.48 M
225.09 404.23 L
216 409.48 L
225.09 414.73 L
F
540 409.48 M
225.09 409.48 L
S
0 0 612 792 CR
0 G
3 FF
(Sa) 288.0 402.65 T
(v) 297.8 402.65 T
(e this structure and try ag) 302.65 402.65 T
(ain) 403.97 402.65 T
([39]) 190.34 423.65 T
(* \(char **\) ) 288.0 423.65 T
4 FF
(object_p) 334.37 423.65 T
3 FF
( = ) 368.81 423.65 T
4 FF
(badobjects) 379.45 423.65 T
3 FF
(;) 422.78 423.65 T
([40]) 190.34 435.65 T
4 FF
(badobjects) 288.0 435.65 T
3 FF
( = ) 331.33 435.65 T
4 FF
(object_p) 341.97 435.65 T
3 FF
(;) 376.41 435.65 T
([41]) 190.34 447.65 T
(}) 252.0 447.65 T
180 451.983643 360 9 CR
1 G
180 451.983643 360 9 NF
0 G
3 FF
(/*) 199.224 459.815 T
0.6667 G
530.91 456.48 M
530.91 461.73 L
540 456.48 L
530.91 451.23 L
F
530.91 456.48 M
216 456.48 L
S
180 470.983612 360 9 CR
1 G
180 470.983612 360 9 NF
0 G
3 FF
(*/) 198.0 478.81 T
0.6667 G
225.09 475.48 M
225.09 470.23 L
216 475.48 L
225.09 480.73 L
F
540 475.48 M
225.09 475.48 L
S
0 0 612 792 CR
0 G
3 FF
(Free the unused objects) 252.0 468.65 T
([42]) 190.34 489.65 T
(while \() 252.0 489.65 T
4 FF
(badobjects) 280.05 489.65 T
3 FF
( != NULL\)) 323.38 489.65 T
([43]) 190.34 501.65 T
({) 252.0 501.65 T
([44]) 190.34 513.65 T
(char *) 288.0 513.65 T
4 FF
(ne) 396.0 513.65 T
(xt) 405.24 513.65 T
3 FF
( = * \(char **\) ) 412.46 513.65 T
4 FF
(badobjects) 469.47 513.65 T
3 FF
(;) 512.8 513.65 T
([45]) 190.34 525.65 T
(free\() 288.0 525.65 T
4 FF
(badobjects) 306.87 525.65 T
3 FF
(\);) 350.2 525.65 T
([46]) 190.34 537.65 T
4 FF
(badobjects) 288.0 537.65 T
3 FF
( = ) 331.33 537.65 T
4 FF
(ne) 341.97 537.65 T
(xt) 351.21 537.65 T
3 FF
(;) 358.43 537.65 T
([47]) 190.34 549.65 T
(}) 252.0 549.65 T
([48]) 190.34 561.65 T
(\(v) 252.0 561.65 T
(oid\) ) 260.13 561.65 T
0 FF
(mach_port_set_attrib) 278.74 561.65 T
(utes ) 371.3 561.65 T
3 FF
(\() 391.02 561.65 T
0 FF
(mach_task_self) 394.35 561.65 T
3 FF
(\(\), \(mach_port_t\) ) 459.9 561.65 T
4 FF
(object_p) 306.0 571.65 T
3 FF
(, MA) 340.44 571.65 T
(CH_POR) 361.15 571.65 T
(T_LIMITS_INFO, ) 398.891 571.65 T
3 FF
(&) 306.0 581.65 T
4 FF
(port_bounds) 313.78 581.65 T
3 FF
(, ) 364.34 581.65 T
(MA) 306.0 591.65 T
(CH_POR) 321.71 591.65 T
(T_LIMITS_INFO_COUNT\);) 359.451 591.65 T
([49]) 190.34 603.65 T
(return \(v) 252.0 603.65 T
(oid*\) ) 286.51 603.65 T
4 FF
(object_p) 310.12 603.65 T
3 FF
(;) 344.56 603.65 T
([50]) 190.34 615.65 T
(}) 216.0 615.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Object De\336nition) 180.0 644.983 T
3 FF
180 661.650085 M 1.302979 0 32 (The ) widthshow
4 FF
199.352982 661.650085 M 1.302979 0 32 (object) widthshow
3 FF
223.792984 661.650085 M 1.302979 0 32 ( class de\336nes the client visible object. It\325) widthshow
395.124146 661.650085 M 1.302979 0 32 (s de\336nition is di) widthshow
462.963196 661.650085 M 1.302979 0 32 (vided among three) widthshow
180 673.650085 M 0.532639 0 32 (classes \(via inheritance\) that de\336ne data protected by dif) widthshow
409.511292 673.650085 M 0.532639 0 32 (ferent locks supporting dif) widthshow
516.679321 673.650085 M 0.532639 0 32 (ferent) widthshow
(le) 180.0 685.65 T
(v) 186.97 685.65 T
(els of mechanism.) 191.82 685.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 75 75
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (71 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 1.199188 0 32 (The lo) widthshow
98.779327 115.666656 M 1.199188 0 32 (west le) widthshow
127.778656 115.666656 M 1.199188 0 32 (v) widthshow
132.628738 115.666656 M 1.199188 0 32 (el class, ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
169.187119 115.666656 M 1.199188 0 32 (object_link) widthshow
3 FF
213.627121 115.666656 M 1.199188 0 32 (, de\336nes the \336elds that link an object into the object) widthshow
72 127.666641 M 0.913803 0 32 (list \(friend class ) widthshow
4 FF
141.121414 127.666641 M 0.913803 0 32 (object_list) widthshow
3 FF
182.791412 127.666641 M 0.913803 0 32 (\). These \336elds concern the basic e) widthshow
323.364319 127.666641 M 0.913803 0 32 (xistence and naming of an) widthshow
72 139.666626 M 0.345993 0 32 (object. \(A class parameterized by type of name w) widthshow
272.66803 139.666626 M 0.345993 0 32 (ould probably be used in a more gener-) widthshow
72 151.666611 M 1.061432 0 32 (al e) widthshow
87.071518 151.666611 M 1.061432 0 32 (xample.\) This class de\336nes only a constructor) widthshow
275.92041 151.666611 M 1.061432 0 32 (. All manipulations of these \336elds are) widthshow
72 163.666595 M 0.512466 0 32 (made by the ) widthshow
4 FF
124.917404 163.666595 M 0.512466 0 32 (object_list) widthshow
3 FF
166.587402 163.666595 M 0.512466 0 32 ( class and so the) widthshow
233.477356 163.666595 M 0.512466 0 32 (y are pri) widthshow
267.572449 163.666595 M 0.512466 0 32 (v) widthshow
272.322571 163.666595 M 0.512466 0 32 (ate to the ) widthshow
4 FF
313.019958 163.666595 M 0.512466 0 32 (object_link) widthshow
3 FF
357.459961 163.666595 M 0.512466 0 32 ( class. Since all of) widthshow
72 175.66658 M 0.91922 0 32 (these \336elds concern e) widthshow
160.417755 175.66658 M 0.91922 0 32 (xistence and naming, the) widthshow
262.455505 175.66658 M 0.91922 0 32 (y are protected by the global lock \(in the) widthshow
4 FF
72 187.666565 M 0.480682 0 32 (object_list) widthshow
3 FF
113.669998 187.666565 M 0.480682 0 32 ( class\), another good reason to mak) widthshow
257.814148 187.666565 M 0.480682 0 32 (e them pri) widthshow
299.075684 187.666565 M 0.480682 0 32 (v) widthshow
303.825806 187.666565 M 0.480682 0 32 (ate so deri) widthshow
345.637329 187.666565 M 0.480682 0 32 (v) widthshow
350.487396 187.666565 M 0.480682 0 32 (ed classes can\325) widthshow
410.688873 187.666565 M 0.480682 0 32 (t ma-) widthshow
(nipulate them \(since the) 72.0 199.667 T
(y don\325) 167.67 199.667 T
(t reference the global lock\).) 193.32 199.667 T
72 223.666534 M 0.28392 0 32 (The ) widthshow
4 FF
90.333923 223.666534 M 0.28392 0 32 (object_base) widthshow
3 FF
138.103928 223.666534 M 0.28392 0 32 ( class de\336nes \336elds concerned with controlling and synchronizing opera-) widthshow
(tions upon objects. These \336elds are all protected by the object lock, one of the \336elds.) 72.0 235.667 T
72 259.666504 M 0.946609 0 32 (The ) widthshow
4 FF
90.996613 259.666504 M 0.946609 0 32 (object) widthshow
3 FF
115.436615 259.666504 M 0.946609 0 32 ( class, then, only de\336nes the \336elds of interest to the client visible object \(the) widthshow
(object\325) 72.0 271.666 T
(s v) 99.22 271.666 T
(alue\). These \336elds are also protected by the \(inherited as protected\) object lock.) 110.36 271.666 T
([51]) 82.34 289.666 T
(class ) 108.0 289.666 T
4 FF
(object_list) 129.94 289.666 T
3 FF
(;) 171.61 289.666 T
72 293.999817 360 9 CR
1 G
72 293.999817 360 9 NF
0 G
3 FF
(/*) 91.224 301.831 T
3 SL
0 SC
0.6667 G
422.91 298.5 M
422.91 303.75 L
432 298.5 L
422.91 293.25 L
F
422.91 298.5 M
108 298.5 L
S
72 312.999786 360 9 CR
1 G
72 312.999786 360 9 NF
0 G
3 FF
(*/) 90.0 320.826 T
0.6667 G
117.09 317.5 M
117.09 312.25 L
108 317.5 L
117.09 322.75 L
F
432 317.5 M
117.09 317.5 L
S
0 0 612 792 CR
0 G
3 FF
(forw) 144.0 310.666 T
(ard reference) 162.78 310.666 T
72 341.666443 M 0.750732 0 32 (The ) widthshow
4 FF
90.800735 341.666443 M 0.750732 0 32 (object_link) widthshow
3 FF
135.240738 341.666443 M 0.750732 0 32 ( class de\336nes the name\320port relationship and the linking of the object in) widthshow
72 353.666443 M 0.657837 0 32 (the global list so that a name lookup operation can be done. The name\320port relationship) widthshow
72 365.666412 M 1.323044 0 32 (includes the mak) widthshow
142.316147 365.666412 M 1.323044 0 32 (e-send count used to determine when the object may be unlink) widthshow
405.406677 365.666412 M 1.323044 0 32 (ed \(no) widthshow
(more send rights mean that no one continues to care about the object\325) 72.0 377.666 T
(s v) 349.18 377.666 T
(alue\).) 360.32 377.666 T
([52]) 82.34 395.666 T
(class ) 108.0 395.666 T
4 FF
(object_link) 129.94 395.666 T
3 FF
([53]) 82.34 407.666 T
({) 108.0 407.666 T
([54]) 82.34 419.666 T
(friend class ) 144.0 419.666 T
4 FF
(object_list) 192.32 419.666 T
3 FF
(;) 233.99 419.666 T
([55]) 82.34 431.666 T
(public:) 108.0 431.666 T
([56]) 82.34 443.666 T
1 FF
(object_link) 144.0 443.666 T
3 FF
( \(int ) 191.78 443.666 T
4 FF
(name) 210.67 443.666 T
3 FF
(, ) 232.33 443.666 T
4 FF
(object_link) 237.33 443.666 T
3 FF
(* ) 281.77 443.666 T
4 FF
(ne) 289.27 443.666 T
(xt_object) 298.51 443.666 T
3 FF
(\);) 335.17 443.666 T
([57]) 82.34 455.666 T
(pri) 108.0 455.666 T
(v) 118.86 455.666 T
(ate:) 123.61 455.666 T
72 459.999634 360 9 CR
1 G
72 459.999634 360 9 NF
0 G
3 FF
(/*) 91.224 467.831 T
0.6667 G
422.91 464.5 M
422.91 469.75 L
432 464.5 L
422.91 459.25 L
F
422.91 464.5 M
108 464.5 L
S
0 0 612 792 CR
0 G
3 FF
108 476.66629 M 0.435638 0 32 (All \336elds are protected by the global lock. The) widthshow
297.69519 476.66629 M 0.435638 0 32 (y are all pri) widthshow
344.572266 476.66629 M 0.435638 0 32 (v) widthshow
349.322388 476.66629 M 0.435638 0 32 (ate since only friend) widthshow
72 488.999603 360 9 CR
1 G
72 488.999603 360 9 NF
0 G
3 FF
(*/) 90.0 496.826 T
0.6667 G
117.09 493.5 M
117.09 488.25 L
108 493.5 L
117.09 498.75 L
F
432 493.5 M
117.09 493.5 L
S
0 0 612 792 CR
0 G
3 FF
(class ) 108.0 486.666 T
4 FF
(object_list) 129.94 486.666 T
3 FF
( manipulates them.) 171.61 486.666 T
([58]) 82.34 507.666 T
4 FF
(object_link) 144.0 507.666 T
3 FF
(*) 188.44 507.666 T
4 FF
(o_ne) 288.0 507.666 T
(xt) 307.24 507.666 T
3 FF
(;) 314.46 507.666 T
72 511.999573 360 9 CR
1 G
72 511.999573 360 9 NF
0 G
3 FF
(/*) 90.0 519.831 T
0.6667 G
422.91 516.5 M
422.91 521.75 L
432 516.5 L
422.91 511.25 L
F
422.91 516.5 M
288 516.5 L
S
72 530.999573 360 9 CR
1 G
72 530.999573 360 9 NF
0 G
3 FF
(*/) 90.0 538.826 T
0.6667 G
297.09 535.5 M
297.09 530.25 L
288 535.5 L
297.09 540.75 L
F
432 535.5 M
297.09 535.5 L
S
0 0 612 792 CR
0 G
3 FF
(ne) 288.0 528.666 T
(xt in list of objects) 297.29 528.666 T
([59]) 82.34 549.666 T
(mach_port_t) 144.0 549.666 T
4 FF
(o_port) 288.0 549.666 T
3 FF
(;) 314.67 549.666 T
72 553.999573 360 9 CR
1 G
72 553.999573 360 9 NF
0 G
3 FF
(/*) 90.0 561.831 T
0.6667 G
422.91 558.5 M
422.91 563.75 L
432 558.5 L
422.91 553.25 L
F
422.91 558.5 M
288 558.5 L
S
72 572.999512 360 9 CR
1 G
72 572.999512 360 9 NF
0 G
3 FF
(*/) 90.0 580.826 T
0.6667 G
297.09 577.5 M
297.09 572.25 L
288 577.5 L
297.09 582.75 L
F
432 577.5 M
297.09 577.5 L
S
0 0 612 792 CR
0 G
3 FF
(port representing the object) 288.0 570.666 T
([60]) 82.34 591.666 T
(mach_port_mscount_t) 144.0 591.666 T
4 FF
(o_mscount) 288.0 591.666 T
3 FF
(;) 331.33 591.666 T
72 595.999512 360 9 CR
1 G
72 595.999512 360 9 NF
0 G
3 FF
(/*) 90.0 603.831 T
0.6667 G
422.91 600.5 M
422.91 605.75 L
432 600.5 L
422.91 595.25 L
F
422.91 600.5 M
288 600.5 L
S
72 614.999512 360 9 CR
1 G
72 614.999512 360 9 NF
0 G
3 FF
(*/) 90.0 622.826 T
0.6667 G
297.09 619.5 M
297.09 614.25 L
288 619.5 L
297.09 624.75 L
F
432 619.5 M
297.09 619.5 L
S
0 0 612 792 CR
0 G
3 FF
(mak) 288.0 612.666 T
(e-send count for the port) 305.12 612.666 T
([61]) 82.34 633.666 T
(int) 144.0 633.666 T
4 FF
(o_name) 288.0 633.666 T
3 FF
(;) 319.66 633.666 T
72 637.999512 360 9 CR
1 G
72 637.999512 360 9 NF
0 G
3 FF
(/*) 90.0 645.831 T
0.6667 G
422.91 642.5 M
422.91 647.75 L
432 642.5 L
422.91 637.25 L
F
422.91 642.5 M
288 642.5 L
S
72 656.999512 360 9 CR
1 G
72 656.999512 360 9 NF
0 G
3 FF
(*/) 90.0 664.826 T
0.6667 G
297.09 661.5 M
297.09 656.25 L
288 661.5 L
297.09 666.75 L
F
432 661.5 M
297.09 661.5 L
S
0 0 612 792 CR
0 G
3 FF
(client ID) 288.0 654.666 T
([62]) 82.34 675.666 T
(};) 108.0 675.666 T
([63]) 82.34 687.666 T
4 FF
(object_link) 108.0 687.666 T
3 FF
(::) 152.44 687.666 T
1 FF
(object_link) 158.0 687.666 T
3 FF
( \(int ) 205.78 687.666 T
4 FF
(name) 224.67 687.666 T
3 FF
(, ) 246.33 687.666 T
4 FF
(object_link) 251.33 687.666 T
3 FF
(* ) 295.77 687.666 T
4 FF
(ne) 303.27 687.666 T
(xt_object) 312.51 687.666 T
3 FF
(\)) 349.17 687.666 T
([64]) 82.34 699.666 T
({) 108.0 699.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 76 76
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(72 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([65]) 190.34 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(o_port) 252.0 113.651 T
3 FF
( = \(mach_port_t\) ) 278.67 113.651 T
4 FF
(this) 349.02 113.651 T
3 FF
(;) 363.47 113.651 T
180 117.983994 360 9 CR
1 G
180 117.983994 360 9 NF
0 G
3 FF
(/*) 198.0 125.815 T
3 SL
0.6667 G
530.91 122.48 M
530.91 127.73 L
540 122.48 L
530.91 117.23 L
F
530.91 122.48 M
396 122.48 L
S
0 0 612 792 CR
0 G
0 FF
396 134.65065 M 0.527985 0 32 (operator new) widthshow
3 FF
453.458008 134.65065 M 0.527985 0 32 ( allocated a port with) widthshow
180 146.983963 360 9 CR
1 G
180 146.983963 360 9 NF
0 G
3 FF
(*/) 198.0 154.81 T
0.6667 G
405.09 151.48 M
405.09 146.23 L
396 151.48 L
405.09 156.73 L
F
540 151.48 M
405.09 151.48 L
S
0 0 612 792 CR
0 G
4 FF
(this) 396.0 144.651 T
3 FF
( name) 410.45 144.651 T
([66]) 190.34 165.651 T
4 FF
(o_mscount) 252.0 165.651 T
3 FF
( = 0;) 295.33 165.651 T
([67]) 190.34 177.651 T
4 FF
(o_ne) 252.0 177.651 T
(xt) 271.24 177.651 T
3 FF
( = ) 278.46 177.651 T
4 FF
(ne) 289.1 177.651 T
(xt_object) 298.34 177.651 T
3 FF
(;) 335.0 177.651 T
([68]) 190.34 189.651 T
4 FF
(o_name) 252.0 189.651 T
3 FF
( = ) 283.66 189.651 T
4 FF
(name) 294.3 189.651 T
3 FF
(;) 315.96 189.651 T
([69]) 190.34 201.651 T
(}) 216.0 201.651 T
180 223.650558 M 0.703735 0 32 (The ) widthshow
4 FF
198.753738 223.650558 M 0.703735 0 32 (object_base) widthshow
3 FF
246.523743 223.650558 M 0.703735 0 32 ( class encapsulates the operation-in-progress and object synchronization) widthshow
180 235.650543 M 0.344574 0 32 (mechanisms. Included is a lock on all of these \336elds \(and \336elds in deri) widthshow
465.309631 235.650543 M 0.344574 0 32 (v) widthshow
470.159698 235.650543 M 0.344574 0 32 (ed classes, which) widthshow
180 247.650528 M 0.165817 0 32 (is wh) widthshow
201.505844 247.650528 M 0.165817 0 32 (y the lock is protected instead of pri) widthshow
346.006714 247.650528 M 0.165817 0 32 (v) widthshow
350.756836 247.650528 M 0.165817 0 32 (ate\). The ) widthshow
4 FF
389.128479 247.650528 M 0.165817 0 32 (wait) widthshow
3 FF
406.35849 247.650528 M 0.165817 0 32 ( and ) widthshow
4 FF
426.130127 247.650528 M 0.165817 0 32 (seqno) widthshow
3 FF
449.460144 247.650528 M 0.165817 0 32 ( \336elds are used to syn-) widthshow
180 259.650513 M 1.383286 0 32 (chronize the ) widthshow
234.41658 259.649963 9.440002 1 NF
3 FF
234.41658 259.650513 M 1.383286 0 32 (be) widthshow
243.706665 259.649963 30.559998 1 NF
243.706665 259.650513 M 1.383286 0 32 (ginning) widthshow
3 FF
274.266663 259.650513 M 1.383286 0 32 ( of operations; in particular) widthshow
388.27002 259.650513 M 1.383286 0 32 (, to defer the be) widthshow
456.13327 259.650513 M 1.383286 0 32 (ginning of no-more-) widthshow
180 271.650513 M 0.307159 0 32 (senders noti\336cations until all preceding operations ha) widthshow
394.953064 271.650513 M 0.307159 0 32 (v) widthshow
399.803162 271.650513 M 0.307159 0 32 (e obtained a ) widthshow
4 FF
451.544647 271.650513 M 0.307159 0 32 (r) widthshow
455.06485 271.650513 M 0.307159 0 32 (efer) widthshow
470.245056 271.650513 M 0.307159 0 32 (ence) widthshow
3 FF
488.565063 271.650513 M 0.307159 0 32 (. The ) widthshow
4 FF
512.22937 271.650513 M 0.307159 0 32 (alive_-) widthshow
180 283.650482 M 0.446198 0 32 (count) widthshow
3 FF
202.220001 283.650482 M 0.446198 0 32 ( \336eld is a count of references to the object that pre) widthshow
407.108337 283.650482 M 0.446198 0 32 (v) widthshow
411.958435 283.650482 M 0.446198 0 32 (ent the object from being delet-) widthshow
180 295.650452 M 1.449234 0 32 (ed. \(The object can be unlink) widthshow
303.786255 295.650452 M 1.449234 0 32 (ed whene) widthshow
343.025635 295.650452 M 1.449234 0 32 (v) widthshow
347.875702 295.650452 M 1.449234 0 32 (er the send count is zero; the ) widthshow
4 FF
474.940369 295.650452 M 1.449234 0 32 (object_list) widthshow
3 FF
516.610352 295.650452 M 1.449234 0 32 ( class) widthshow
180 307.650452 M 1.389999 0 32 (will do this without obtaining the object lock. The object will not actually be deleted,) widthshow
180 319.650452 M 0.964233 0 32 (though, until the global list reference is remo) widthshow
366.579712 319.650452 M 0.964233 0 32 (v) widthshow
371.42981 319.650452 M 0.964233 0 32 (ed \(when the object is unlink) widthshow
491.971039 319.650452 M 0.964233 0 32 (ed from the) widthshow
180 331.650421 M 0.672791 0 32 (global list\) ) widthshow
226.905579 331.649872 14.440002 1 NF
3 FF
226.905579 331.650421 M 0.672791 0 32 (and) widthshow
3 FF
241.345581 331.650421 M 0.672791 0 32 ( all operations in progress ha) widthshow
359.769653 331.650421 M 0.672791 0 32 (v) widthshow
364.619751 331.650421 M 0.672791 0 32 (e completed. The ali) widthshow
448.038269 331.650421 M 0.672791 0 32 (v) widthshow
452.888336 331.650421 M 0.672791 0 32 (e count records all of) widthshow
(these references.\)) 180.0 343.65 T
180 367.650391 M 0.968399 0 32 (The methods de\336ned for the ) widthshow
4 FF
300.10199 367.650391 M 0.968399 0 32 (object_base) widthshow
3 FF
347.872009 367.650391 M 0.968399 0 32 ( class \(aside from the constructor\) add a refer-) widthshow
180 379.650391 M 1.097214 0 32 (ence and remo) widthshow
240.354523 379.650391 M 1.097214 0 32 (v) widthshow
245.204605 379.650391 M 1.097214 0 32 (e a reference. ) widthshow
0 FF
304.566284 379.650391 M 1.097214 0 32 (synchr) widthshow
333.276367 379.650391 M 1.097214 0 32 (onize_and_r) widthshow
385.876465 379.650391 M 1.097214 0 32 (efer) widthshow
402.346558 379.650391 M 1.097214 0 32 (ence) widthshow
3 FF
421.226562 379.650391 M 1.097214 0 32 ( adds a reference; while it is) widthshow
180 391.65036 M 1.457626 0 32 (at it, it synchronizes \(under protection of the object lock and sequence number \336elds\)) widthshow
180 403.65033 M 1.399918 0 32 (with other operations. ) widthshow
0 FF
274.189758 403.65033 M 1.399918 0 32 (is_ali) widthshow
296.319824 403.65033 M 1.399918 0 32 (v) widthshow
301.219849 403.65033 M 1.399918 0 32 (e_and_der) widthshow
346.039978 403.65033 M 1.399918 0 32 (efer) widthshow
362.510071 403.65033 M 1.399918 0 32 (ence) widthshow
3 FF
381.390076 403.65033 M 1.399918 0 32 ( remo) widthshow
405.690063 403.65033 M 1.399918 0 32 (v) widthshow
410.540161 403.65033 M 1.399918 0 32 (es a reference; it also indicates) widthshow
180 415.65033 M 0.754242 0 32 (whether there are an) widthshow
263.46283 415.65033 M 0.754242 0 32 (y remaining references. If there are none, no ne) widthshow
458.616943 415.65033 M 0.754242 0 32 (w references can be) widthshow
180 427.65033 M 0.513107 0 32 (added \(the object is not in the global list so no client can \336nd it and no operations are in) widthshow
(progress\) so the object can be deleted.) 180.0 439.65 T
180 463.650269 M 0.754242 0 32 (Although the object is lock) widthshow
291.247009 463.650269 M 0.754242 0 32 (ed for e) widthshow
323.045654 463.650269 M 0.754242 0 32 (v) widthshow
327.895752 463.650269 M 0.754242 0 32 (ery manipulation thereof \(and one of the bene\336ts of) widthshow
180 475.650269 M 0.278625 0 32 (the structure here is that each method in ) widthshow
4 FF
344.419006 475.650269 M 0.278625 0 32 (object_base) widthshow
3 FF
392.189026 475.650269 M 0.278625 0 32 ( and its deri) widthshow
439.715027 475.650269 M 0.278625 0 32 (v) widthshow
444.565125 475.650269 M 0.278625 0 32 (ed class ) widthshow
4 FF
479.00238 475.650269 M 0.278625 0 32 (object) widthshow
3 FF
503.442383 475.650269 M 0.278625 0 32 ( tak) widthshow
518.341064 475.650269 M 0.278625 0 32 (e and) widthshow
180 487.650269 M 0.107605 0 32 (release the object lock\), the object is not held lock) widthshow
381.388519 487.650269 M 0.107605 0 32 (ed from the time that the message is re-) widthshow
180 499.650238 M 0.622635 0 32 (cei) widthshow
191.410141 499.650238 M 0.622635 0 32 (v) widthshow
196.260223 499.650238 M 0.622635 0 32 (ed and synchronized with others to the time that the reply is generated. This is done) widthshow
180 511.650208 M 0.528717 0 32 (here to sho) widthshow
224.687576 511.650208 M 0.528717 0 32 (w the mechanisms when the object is not to be lock) widthshow
435.964813 511.650208 M 0.528717 0 32 (ed for the entire duration.) widthshow
180 523.650208 M 0.701599 0 32 (The alternati) widthshow
231.271744 523.650208 M 0.701599 0 32 (v) widthshow
236.121826 523.650208 M 0.701599 0 32 (e w) widthshow
250.883484 523.650208 M 0.701599 0 32 (ould be to ha) widthshow
304.728394 523.650208 M 0.701599 0 32 (v) widthshow
309.578491 523.650208 M 0.701599 0 32 (e a method that performs object synchronization, return-) widthshow
180 535.650208 M 0.159988 0 32 (ing with the object lock) widthshow
274.980011 535.650208 M 0.159988 0 32 (ed, and another method that unlocks the object. \(Additional meth-) widthshow
180 547.650146 M 3.029968 0 32 (ods w) widthshow
206.540024 547.650146 M 3.029968 0 32 (ould be necessary to handle the global list reference.\) Ha) widthshow
460.769897 547.650146 M 3.029968 0 32 (ving such e) widthshow
512.229919 547.650146 M 3.029968 0 32 (xternal) widthshow
180 559.650146 M 0.337097 0 32 (kno) widthshow
194.750137 559.650146 M 0.337097 0 32 (wledge as to whether the object is lock) widthshow
352.259888 559.650146 M 0.337097 0 32 (ed dif) widthshow
375.397125 559.650146 M 0.337097 0 32 (fers little from the e) widthshow
456.025604 559.650146 M 0.337097 0 32 (xplicit reference ma-) widthshow
180 571.650146 M 0.452271 0 32 (nipulation here. One must be careful holding the lock for the operation duration, though;) widthshow
180 583.650146 M 1.84845 0 32 (the no-more-senders logic w) widthshow
299.585419 583.650146 M 1.84845 0 32 (ould then need to hold both the global and object locks.) widthshow
180 595.650146 M 0.329239 0 32 (Some order w) widthshow
236.658539 595.650146 M 0.329239 0 32 (ould be chosen for these locks \(either obtain the global lock before starting) widthshow
180 607.650085 M 1.868973 0 32 (no-more-senders processing, or after the synchronization and object locking has been) widthshow
180 619.650085 M 0.948639 0 32 (done\); this order must be the same for all other such manipulations \(of which there are) widthshow
(currently none\).) 180.0 631.65 T
([70]) 190.34 649.65 T
(class ) 216.0 649.65 T
4 FF
(object_base) 237.94 649.65 T
3 FF
( : public ) 285.71 649.65 T
4 FF
(object_link) 320.99 649.65 T
3 FF
([71]) 190.34 661.65 T
({) 216.0 661.65 T
([72]) 190.34 673.65 T
(public:) 216.0 673.65 T
([73]) 190.34 685.65 T
0 FF
(object_base) 252.0 685.65 T
3 FF
( \(int ) 301.99 685.65 T
4 FF
(name) 320.88 685.65 T
3 FF
(, ) 342.54 685.65 T
4 FF
(object_link) 347.54 685.65 T
3 FF
(* ) 391.98 685.65 T
4 FF
(ne) 399.48 685.65 T
(xt_object) 408.72 685.65 T
3 FF
(\);) 445.38 685.65 T
([74]) 190.34 697.65 T
(v) 252.0 697.65 T
(oid ) 256.8 697.65 T
0 FF
(synchr) 272.08 697.65 T
(onize_and_r) 300.79 697.65 T
(efer) 353.39 697.65 T
(ence) 369.86 697.65 T
3 FF
( \(int ) 388.74 697.65 T
4 FF
(seqno) 407.63 697.65 T
3 FF
(\);) 430.96 697.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 77 77
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (73 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([75]) 82.34 115.667 T
(int ) 144.0 115.667 T
1 FF
(is_ali) 157.06 115.667 T
(v) 179.19 115.667 T
(e_and_der) 184.09 115.667 T
(efer) 228.91 115.667 T
(ence) 245.38 115.667 T
3 FF
( \(\);) 264.26 115.667 T
([76]) 82.34 127.667 T
(protected:) 108.0 127.667 T
72 131.999969 360 9 CR
1 G
72 131.999969 360 9 NF
0 G
3 FF
(/*) 91.224 139.831 T
3 SL
0 SC
0.6667 G
422.91 136.5 M
422.91 141.75 L
432 136.5 L
422.91 131.25 L
F
422.91 136.5 M
108 136.5 L
S
72 150.999954 360 9 CR
1 G
72 150.999954 360 9 NF
0 G
3 FF
(*/) 90.0 158.826 T
0.6667 G
117.09 155.5 M
117.09 150.25 L
108 155.5 L
117.09 160.75 L
F
432 155.5 M
117.09 155.5 L
S
0 0 612 792 CR
0 G
3 FF
(All \336elds are protected by the object lock.) 108.0 148.667 T
([77]) 82.34 169.667 T
(struct mute) 144.0 169.667 T
(x) 188.57 169.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(o_loc) 288.0 169.667 T
(k) 310.02 169.667 T
3 FF
(;) 314.46 169.667 T
72 173.999939 360 9 CR
1 G
72 173.999939 360 9 NF
0 G
3 FF
(/*) 90.0 181.831 T
0.6667 G
422.91 178.5 M
422.91 183.75 L
432 178.5 L
422.91 173.25 L
F
422.91 178.5 M
288 178.5 L
S
72 192.999924 360 9 CR
1 G
72 192.999924 360 9 NF
0 G
3 FF
(*/) 90.0 200.826 T
0.6667 G
297.09 197.5 M
297.09 192.25 L
288 197.5 L
297.09 202.75 L
F
432 197.5 M
297.09 197.5 L
S
0 0 612 792 CR
0 G
3 FF
(lock for the object) 288.0 190.667 T
([78]) 82.34 211.667 T
(pri) 108.0 211.667 T
(v) 118.86 211.667 T
(ate:) 123.61 211.667 T
([79]) 82.34 223.667 T
(struct condition) 144.0 223.667 T
4 FF
(o_wait) 288.0 223.667 T
3 FF
(;) 315.23 223.667 T
72 227.999893 360 9 CR
1 G
72 227.999893 360 9 NF
0 G
3 FF
(/*) 90.0 235.831 T
0.6667 G
422.91 232.5 M
422.91 237.75 L
432 232.5 L
422.91 227.25 L
F
422.91 232.5 M
288 232.5 L
S
72 246.999878 360 9 CR
1 G
72 246.999878 360 9 NF
0 G
3 FF
(*/) 90.0 254.826 T
0.6667 G
297.09 251.5 M
297.09 246.25 L
288 251.5 L
297.09 256.75 L
F
432 251.5 M
297.09 251.5 L
S
0 0 612 792 CR
0 G
3 FF
(w) 288.0 244.667 T
(ait for sequence number) 295.12 244.667 T
([80]) 82.34 265.667 T
(mach_port_seqno_t) 144.0 265.667 T
4 FF
(o_seqno) 288.0 265.667 T
3 FF
(;) 321.33 265.667 T
72 269.999878 360 9 CR
1 G
72 269.999878 360 9 NF
0 G
3 FF
(/*) 90.0 277.831 T
0.6667 G
422.91 274.5 M
422.91 279.75 L
432 274.5 L
422.91 269.25 L
F
422.91 274.5 M
288 274.5 L
S
72 288.999847 360 9 CR
1 G
72 288.999847 360 9 NF
0 G
3 FF
(*/) 90.0 296.826 T
0.6667 G
297.09 293.5 M
297.09 288.25 L
288 293.5 L
297.09 298.75 L
F
432 293.5 M
297.09 293.5 L
S
0 0 612 792 CR
0 G
3 FF
(sequence number for the port) 288.0 286.667 T
([81]) 82.34 307.667 T
(unsigned int) 144.0 307.667 T
4 FF
(o_alive_count) 288.0 307.667 T
3 FF
(;) 344.66 307.667 T
72 311.999817 360 9 CR
1 G
72 311.999817 360 9 NF
0 G
3 FF
(/*) 90.0 319.831 T
0.6667 G
422.91 316.5 M
422.91 321.75 L
432 316.5 L
422.91 311.25 L
F
422.91 316.5 M
288 316.5 L
S
0 0 612 792 CR
0 G
3 FF
288 328.666504 M 1.527969 0 32 (internal refs\321one for being in the) widthshow
288 338.666473 M 12.602463 0 32 (object list, one for each) widthshow
72 350.999786 360 9 CR
1 G
72 350.999786 360 9 NF
0 G
3 FF
(*/) 90.0 358.826 T
0.6667 G
297.09 355.5 M
297.09 350.25 L
288 355.5 L
297.09 360.75 L
F
432 355.5 M
297.09 355.5 L
S
0 0 612 792 CR
0 G
3 FF
(outstanding operation) 288.0 348.666 T
([82]) 82.34 369.666 T
(};) 108.0 369.666 T
([83]) 82.34 381.666 T
4 FF
(object_base) 108.0 381.666 T
3 FF
(::) 155.77 381.666 T
1 FF
(object_base) 161.33 381.666 T
3 FF
( \(int ) 211.32 381.666 T
4 FF
(name) 230.21 381.666 T
3 FF
(, ) 251.87 381.666 T
4 FF
(object_link) 256.87 381.666 T
3 FF
(* ) 301.31 381.666 T
4 FF
(ne) 308.81 381.666 T
(xt_object) 318.05 381.666 T
3 FF
(\)) 354.71 381.666 T
([84]) 82.34 393.666 T
(: ) 108.0 393.666 T
4 FF
(object_link) 113.28 393.666 T
3 FF
( \() 157.72 393.666 T
4 FF
(name) 163.55 393.666 T
3 FF
(, ) 185.21 393.666 T
4 FF
(ne) 190.21 393.666 T
(xt_object) 199.45 393.666 T
3 FF
(\)) 236.11 393.666 T
([85]) 82.34 405.666 T
({) 108.0 405.666 T
([86]) 82.34 417.666 T
4 FF
(o_alive_count) 144.0 417.666 T
3 FF
( = 1;) 200.66 417.666 T
72 421.999695 360 9 CR
1 G
72 421.999695 360 9 NF
0 G
3 FF
(/*) 90.0 429.831 T
0.6667 G
422.91 426.5 M
422.91 431.75 L
432 426.5 L
422.91 421.25 L
F
422.91 426.5 M
288 426.5 L
S
0 0 612 792 CR
0 G
3 FF
288 438.666382 M 0.916595 0 32 (One because the object will ha) widthshow
414.853088 438.666382 M 0.916595 0 32 (v) widthshow
419.703186 438.666382 M 0.916595 0 32 (e a) widthshow
72 450.999695 360 9 CR
1 G
72 450.999695 360 9 NF
0 G
3 FF
(*/) 90.0 458.826 T
0.6667 G
297.09 455.5 M
297.09 450.25 L
288 455.5 L
297.09 460.75 L
F
432 455.5 M
297.09 455.5 L
S
0 0 612 792 CR
0 G
3 FF
(send right assigned) 288.0 448.666 T
([87]) 82.34 469.666 T
4 FF
(o_seqno) 144.0 469.666 T
3 FF
( = 0;) 177.33 469.666 T
([88]) 82.34 481.666 T
1 FF
(mutex_init ) 144.0 481.666 T
3 FF
(\(&) 192.61 481.666 T
4 FF
(o_loc) 203.72 481.666 T
(k) 225.74 481.666 T
3 FF
(\);) 230.18 481.666 T
([89]) 82.34 493.666 T
1 FF
(condition_init ) 144.0 493.666 T
3 FF
(\(&) 205.96 493.666 T
4 FF
(o_wait) 217.07 493.666 T
3 FF
(\);) 244.3 493.666 T
([90]) 82.34 505.666 T
(}) 108.0 505.666 T
72 527.66626 M 0.087814 0 32 (The ) widthshow
1 FF
90.137817 527.66626 M 0.087814 0 32 (condition_wait) widthshow
3 FF
153.477814 527.66626 M 0.087814 0 32 ( call belo) widthshow
190.063583 527.66626 M 0.087814 0 32 (w releases the lock \(and re-obtains it\); this is okay) widthshow
391.004272 527.66626 M 0.087814 0 32 (, since be-) widthshow
72 539.66626 M 0.846634 0 32 (fore that we increment the ali) widthshow
193.453323 539.66626 M 0.846634 0 32 (v) widthshow
198.303406 539.66626 M 0.846634 0 32 (e count to indicate our operation in progress, and we ha-) widthshow
72 551.66626 M 1.356308 0 32 (v) widthshow
76.850082 551.66626 M 1.356308 0 32 (en\325) widthshow
89.440186 551.66626 M 1.356308 0 32 (t yet incremented the sequence number indicating that we ha) widthshow
343.897095 551.66626 M 1.356308 0 32 (v) widthshow
348.747192 551.66626 M 1.356308 0 32 (e synchronized with) widthshow
(other operations in progress.) 72.0 563.666 T
([91]) 82.34 581.666 T
(v) 108.0 581.666 T
(oid ) 112.8 581.666 T
4 FF
(object_base) 128.08 581.666 T
3 FF
(::) 175.85 581.666 T
1 FF
(synchr) 181.41 581.666 T
(onize_and_r) 210.12 581.666 T
(efer) 262.72 581.666 T
(ence) 279.19 581.666 T
3 FF
( \(int ) 298.07 581.666 T
4 FF
(seqno) 316.96 581.666 T
3 FF
(\)) 340.29 581.666 T
([92]) 82.34 593.666 T
({) 108.0 593.666 T
([93]) 82.34 605.666 T
1 FF
(mutex_lock) 144.0 605.666 T
3 FF
(\(&) 193.44 605.666 T
4 FF
(o_loc) 204.55 605.666 T
(k) 226.57 605.666 T
3 FF
(\);) 231.01 605.666 T
([94]) 82.34 617.666 T
4 FF
(o_alive_count) 144.0 617.666 T
3 FF
(++;) 200.66 617.666 T
72 621.999512 360 9 CR
1 G
72 621.999512 360 9 NF
0 G
3 FF
(/*) 91.224 629.831 T
0.6667 G
422.91 626.5 M
422.91 631.75 L
432 626.5 L
422.91 621.25 L
F
422.91 626.5 M
108 626.5 L
S
0 0 612 792 CR
0 G
3 FF
144 638.666138 M 0.366776 0 32 (W) widthshow
152.640442 638.666138 M 0.366776 0 32 (e w) widthshow
167.067276 638.666138 M 0.366776 0 32 (ait for an) widthshow
203.750916 638.666138 M 0.366776 0 32 (y pre) widthshow
224.137833 638.666138 M 0.366776 0 32 (vious requests to get this f) widthshow
330.591766 638.666138 M 0.366776 0 32 (ar) widthshow
337.812073 638.666138 M 0.366776 0 32 (. In particular) widthshow
392.295837 638.666138 M 0.366776 0 32 (, we can\325) widthshow
429.219513 638.666138 M 0.366776 0 32 (t) widthshow
144 648.666138 M 0.953247 0 32 (process a no-more-senders noti\336cation for a port while some pre) widthshow
410.329407 648.666138 M 0.953247 0 32 (vious) widthshow
144 658.666138 M 1.177444 0 32 (requests on the port ha) widthshow
239.049896 658.666138 M 1.177444 0 32 (v) widthshow
243.899979 658.666138 M 1.177444 0 32 (en\325) widthshow
256.490082 658.666138 M 1.177444 0 32 (t yet translated the port into an object and) widthshow
72 670.999451 360 9 CR
1 G
72 670.999451 360 9 NF
0 G
3 FF
(*/) 90.0 678.826 T
0.6667 G
117.09 675.5 M
117.09 670.25 L
108 675.5 L
117.09 680.75 L
F
432 675.5 M
117.09 675.5 L
S
0 0 612 792 CR
0 G
3 FF
(tak) 144.0 668.666 T
(en a reference for the object, incrementing the ) 156.12 668.666 T
4 FF
(alive_count) 343.0 668.666 T
3 FF
( count.) 389.66 668.666 T
([95]) 82.34 689.666 T
(while \() 144.0 689.666 T
4 FF
(o_seqno) 172.05 689.666 T
3 FF
( < ) 205.38 689.666 T
4 FF
(seqno) 216.02 689.666 T
3 FF
(\)) 239.35 689.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 78 78
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(74 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([96]) 190.34 113.651 T
0 FF
(condition_wait ) 288.0 113.651 T
3 FF
(\(&) 353.84 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(o_wait) 364.95 113.651 T
3 FF
(, &) 392.18 113.651 T
4 FF
(o_loc) 404.96 113.651 T
(k) 426.98 113.651 T
3 FF
(\);) 431.42 113.651 T
([97]) 190.34 125.651 T
4 FF
(o_seqno) 252.0 125.651 T
3 FF
(++;) 285.33 125.651 T
([98]) 190.34 137.651 T
0 FF
(mutex_unlock) 252.0 137.651 T
3 FF
(\(&) 312.56 137.651 T
4 FF
(o_loc) 323.67 137.651 T
(k) 345.69 137.651 T
3 FF
(\);) 350.13 137.651 T
([99]) 190.34 149.651 T
0 FF
(condition_br) 252.0 149.651 T
(oadcast) 306.83 149.651 T
3 FF
(\(&) 339.05 149.651 T
4 FF
(o_wait) 350.16 149.651 T
3 FF
(\);) 377.39 149.651 T
([100]) 185.34 161.651 T
(}) 216.0 161.651 T
([101]) 185.34 173.651 T
(int ) 216.0 173.651 T
4 FF
(object_base) 229.06 173.651 T
3 FF
(::) 276.83 173.651 T
0 FF
(is_ali) 282.39 173.651 T
(v) 304.52 173.651 T
(e_and_der) 309.42 173.651 T
(efer) 354.24 173.651 T
(ence) 370.71 173.651 T
3 FF
( \(\)) 389.59 173.651 T
([102]) 185.34 185.651 T
({) 216.0 185.651 T
([103]) 185.34 197.651 T
(int) 252.0 197.651 T
4 FF
(r) 396.0 197.651 T
(efer) 399.52 197.651 T
(enced) 414.7 197.651 T
3 FF
(;) 438.02 197.651 T
([104]) 185.34 209.651 T
0 FF
(mutex_lock) 252.0 209.651 T
3 FF
(\(&) 301.44 209.651 T
4 FF
(o_loc) 312.55 209.651 T
(k) 334.57 209.651 T
3 FF
(\);) 339.01 209.651 T
([105]) 185.34 221.651 T
4 FF
(r) 252.0 221.651 T
(efer) 255.52 221.651 T
(enced) 270.7 221.651 T
3 FF
( = \(0 != \320\320) 294.02 221.651 T
4 FF
(o_alive_count) 336.96 221.651 T
3 FF
(\);) 393.62 221.651 T
([106]) 185.34 233.651 T
0 FF
(mutex_unlock) 252.0 233.651 T
3 FF
(\(&) 312.56 233.651 T
4 FF
(o_loc) 323.67 233.651 T
(k) 345.69 233.651 T
3 FF
(\);) 350.13 233.651 T
([107]) 185.34 245.65 T
(return ) 252.0 245.65 T
4 FF
(r) 278.38 245.65 T
(efer) 281.9 245.65 T
(enced) 297.08 245.65 T
3 FF
(;) 320.4 245.65 T
([108]) 185.34 257.65 T
(}) 216.0 257.65 T
180 279.650452 M 1.056595 0 32 (The ) widthshow
4 FF
199.106598 279.650452 M 1.056595 0 32 (object) widthshow
3 FF
223.5466 279.650452 M 1.056595 0 32 ( class has only the object\325) widthshow
331.319885 279.650452 M 1.056595 0 32 (s v) widthshow
343.516602 279.650452 M 1.056595 0 32 (alue to de\336ne. The only methods are the ) widthshow
0 FF
514.99939 279.650452 M 1.056595 0 32 (query) widthshow
3 FF
(and ) 180.0 291.65 T
0 FF
(change) 196.94 291.65 T
3 FF
( operations. The object lock is held while referencing the object v) 226.94 291.65 T
(alue.) 488.86 291.65 T
([109]) 185.34 309.65 T
(class ) 216.0 309.65 T
4 FF
(object) 237.94 309.65 T
3 FF
( : public ) 262.38 309.65 T
4 FF
(object_base) 297.66 309.65 T
3 FF
([110]) 185.34 321.65 T
({) 216.0 321.65 T
([111]) 185.34 333.65 T
(public:) 216.0 333.65 T
([112]) 185.34 345.65 T
0 FF
(object) 252.0 345.65 T
3 FF
( \(int ) 278.1 345.65 T
4 FF
(name) 296.99 345.65 T
3 FF
(, ) 318.65 345.65 T
4 FF
(object_link) 323.65 345.65 T
3 FF
(* ) 368.09 345.65 T
4 FF
(ne) 375.59 345.65 T
(xt_object) 384.83 345.65 T
3 FF
(\);) 421.49 345.65 T
([113]) 185.34 357.65 T
(v) 252.0 357.65 T
(oid ) 256.8 357.65 T
0 FF
(change) 272.08 357.65 T
3 FF
( \(int ) 302.08 357.65 T
4 FF
(value) 320.97 357.65 T
3 FF
(\);) 342.63 357.65 T
([114]) 185.34 369.65 T
(int ) 252.0 369.65 T
0 FF
(query) 265.06 369.65 T
3 FF
( \(\);) 290.06 369.65 T
([115]) 185.34 381.65 T
(pri) 216.0 381.65 T
(v) 226.86 381.65 T
(ate:) 231.61 381.65 T
180 385.983673 360 9 CR
1 G
180 385.983673 360 9 NF
0 G
3 FF
(/*) 199.224 393.815 T
3 SL
0.6667 G
530.91 390.48 M
530.91 395.73 L
540 390.48 L
530.91 385.23 L
F
530.91 390.48 M
216 390.48 L
S
180 404.983643 360 9 CR
1 G
180 404.983643 360 9 NF
0 G
3 FF
(*/) 198.0 412.81 T
0.6667 G
225.09 409.48 M
225.09 404.23 L
216 409.48 L
225.09 414.73 L
F
540 409.48 M
225.09 409.48 L
S
0 0 612 792 CR
0 G
3 FF
(The follo) 216.0 402.65 T
(wing \336elds are protected by the object lock.) 252.69 402.65 T
([116]) 185.34 423.65 T
(int) 252.0 423.65 T
4 FF
(o_value) 396.0 423.65 T
3 FF
(;) 427.66 423.65 T
180 427.983643 360 9 CR
1 G
180 427.983643 360 9 NF
0 G
3 FF
(/*) 198.0 435.815 T
0.6667 G
530.91 432.48 M
530.91 437.73 L
540 432.48 L
530.91 427.23 L
F
530.91 432.48 M
396 432.48 L
S
180 446.983643 360 9 CR
1 G
180 446.983643 360 9 NF
0 G
3 FF
(*/) 198.0 454.81 T
0.6667 G
405.09 451.48 M
405.09 446.23 L
396 451.48 L
405.09 456.73 L
F
540 451.48 M
405.09 451.48 L
S
0 0 612 792 CR
0 G
3 FF
(the object\325) 396.0 444.65 T
(s v) 437.94 444.65 T
(alue) 449.08 444.65 T
([117]) 185.34 465.65 T
(};) 216.0 465.65 T
([118]) 185.34 477.65 T
4 FF
(object) 216.0 477.65 T
3 FF
(::) 240.44 477.65 T
0 FF
(object) 246.0 477.65 T
3 FF
( \(int ) 272.1 477.65 T
4 FF
(name) 290.99 477.65 T
3 FF
(, ) 312.65 477.65 T
4 FF
(object_link) 317.65 477.65 T
3 FF
(* ) 362.09 477.65 T
4 FF
(ne) 369.59 477.65 T
(xt_object) 378.83 477.65 T
3 FF
(\)) 415.49 477.65 T
([119]) 185.34 489.65 T
(: ) 216.0 489.65 T
4 FF
(object_base) 221.28 489.65 T
3 FF
( \() 269.05 489.65 T
4 FF
(name) 274.88 489.65 T
3 FF
(, ) 296.54 489.65 T
4 FF
(ne) 301.54 489.65 T
(xt_object) 310.78 489.65 T
3 FF
(\)) 347.44 489.65 T
([120]) 185.34 501.65 T
({) 216.0 501.65 T
([121]) 185.34 513.65 T
4 FF
(o_value) 252.0 513.65 T
3 FF
( = 0;) 283.66 513.65 T
([122]) 185.34 525.65 T
(}) 216.0 525.65 T
([123]) 185.34 537.65 T
(v) 216.0 537.65 T
(oid ) 220.8 537.65 T
4 FF
(object) 236.08 537.65 T
3 FF
(::) 260.52 537.65 T
0 FF
(change) 266.08 537.65 T
3 FF
( \(int ) 296.08 537.65 T
4 FF
(value) 314.97 537.65 T
3 FF
(\)) 336.63 537.65 T
([124]) 185.34 549.65 T
({) 216.0 549.65 T
([125]) 185.34 561.65 T
0 FF
(mutex_lock) 252.0 561.65 T
3 FF
(\(&) 301.44 561.65 T
4 FF
(o_loc) 312.55 561.65 T
(k) 334.57 561.65 T
3 FF
(\);) 339.01 561.65 T
([126]) 185.34 573.65 T
4 FF
(o_value) 252.0 573.65 T
3 FF
( = ) 283.66 573.65 T
4 FF
(value) 294.3 573.65 T
3 FF
(;) 315.96 573.65 T
([127]) 185.34 585.65 T
0 FF
(mutex_unlock) 252.0 585.65 T
3 FF
(\(&) 312.56 585.65 T
4 FF
(o_loc) 323.67 585.65 T
(k) 345.69 585.65 T
3 FF
(\);) 350.13 585.65 T
([128]) 185.34 597.65 T
(}) 216.0 597.65 T
([129]) 185.34 609.65 T
(int ) 216.0 609.65 T
4 FF
(object) 229.06 609.65 T
3 FF
(::) 253.5 609.65 T
0 FF
(query) 259.06 609.65 T
3 FF
( \(\)) 284.06 609.65 T
([130]) 185.34 621.65 T
({) 216.0 621.65 T
([131]) 185.34 633.65 T
(int ) 252.0 633.65 T
4 FF
(value) 265.06 633.65 T
3 FF
(;) 286.72 633.65 T
([132]) 185.34 645.65 T
0 FF
(mutex_lock) 252.0 645.65 T
3 FF
(\(&) 301.44 645.65 T
4 FF
(o_loc) 312.55 645.65 T
(k) 334.57 645.65 T
3 FF
(\);) 339.01 645.65 T
([133]) 185.34 657.65 T
4 FF
(value) 252.0 657.65 T
3 FF
( = ) 273.66 657.65 T
4 FF
(o_value) 284.3 657.65 T
3 FF
(;) 315.96 657.65 T
([134]) 185.34 669.65 T
0 FF
(mutex_unlock) 252.0 669.65 T
3 FF
(\(&) 312.56 669.65 T
4 FF
(o_loc) 323.67 669.65 T
(k) 345.69 669.65 T
3 FF
(\);) 350.13 669.65 T
([135]) 185.34 681.65 T
(return ) 252.0 681.65 T
4 FF
(value) 278.38 681.65 T
3 FF
(;) 300.04 681.65 T
([136]) 185.34 693.65 T
(}) 216.0 693.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 79 79
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (75 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Object List De\336nition) 72.0 117.0 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 133.666656 M 1.003494 0 32 (The ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
91.053497 133.666656 M 1.003494 0 32 (object_list) widthshow
4 FF
132.723495 133.666656 M 1.003494 0 32 ( class de\336nes the list of object kno) widthshow
276.988098 133.666656 M 1.003494 0 32 (wn to the serv) widthshow
336.228668 133.666656 M 1.003494 0 32 (er) widthshow
343.448975 133.666656 M 1.003494 0 32 (. Its methods concern) widthshow
(the e) 72.0 145.667 T
(xistence of the objects \(class ) 91.01 145.667 T
5 FF
(object) 207.93 145.667 T
4 FF
(\).) 232.37 145.667 T
72 169.666626 M 0.564606 0 32 (The ) widthshow
1 FF
90.614609 169.666626 M 0.564606 0 32 <de6e645f6f725f6d616b> widthshow
145.524658 169.666626 M 0.564606 0 32 (e) widthshow
4 FF
149.964661 169.666626 M 0.564606 0 32 ( method locates or creates an object. It can do this using just the glo-) widthshow
72 181.666611 M 1.139328 0 32 (bal lock. If the object e) widthshow
169.746735 181.666611 M 1.139328 0 32 (xists, the method returns a ne) widthshow
292.403503 181.666611 M 1.139328 0 32 (w send right for the object \(using) widthshow
72 193.666595 M 1.247284 0 32 (only \336elds in the ) widthshow
5 FF
146.439133 193.666595 M 1.247284 0 32 (object_link) widthshow
4 FF
190.879135 193.666595 M 1.247284 0 32 ( base class\). If the object doesn\325) widthshow
326.202942 193.666595 M 1.247284 0 32 (t e) widthshow
337.020325 193.666595 M 1.247284 0 32 (xist, it is created. Note) widthshow
72 205.66658 M 0.816833 0 32 (that the object lock isn\325) widthshow
168.967438 205.66658 M 0.816833 0 32 (t necessary in such a case because there can be no references to) widthshow
(the object and no other thread can \336nd it \(gi) 72.0 217.667 T
(v) 247.0 217.667 T
(en the holding of the global list lock\).) 251.85 217.667 T
72 241.66655 M 0.242874 0 32 (The ) widthshow
1 FF
90.292877 241.66655 M 0.242874 0 32 (unr) widthshow
105.672974 241.66655 M 0.242874 0 32 (efer) widthshow
122.143082 241.66655 M 0.242874 0 32 (enced_object) widthshow
4 FF
177.68309 241.66655 M 0.242874 0 32 ( method is ef) widthshow
230.101852 241.66655 M 0.242874 0 32 (fecti) widthshow
247.621994 241.66655 M 0.242874 0 32 (v) widthshow
252.472076 241.66655 M 0.242874 0 32 (ely the re) widthshow
289.917969 241.66655 M 0.242874 0 32 (v) widthshow
294.768066 241.66655 M 0.242874 0 32 (erse of ) widthshow
1 FF
324.683807 241.66655 M 0.242874 0 32 <de6e645f6f725f6d616b> widthshow
379.593872 241.66655 M 0.242874 0 32 (e) widthshow
4 FF
384.033875 241.66655 M 0.242874 0 32 (. If success-) widthshow
72 253.666534 M 0.34935 0 32 (ful, it unlinks the object. \(Actual deletion of the object cannot be done with only the glo-) widthshow
72 265.666504 M 1.071503 0 32 (bal lock held\321there may be operations in progress.\) This method contains the logic to) widthshow
72 277.666504 M 0.691605 0 32 (synchronize with the k) widthshow
164.794876 277.666504 M 0.691605 0 32 (ernel\325) widthshow
187.565186 277.666504 M 0.691605 0 32 (s mak) widthshow
211.766846 277.666504 M 0.691605 0 32 (e-send count logic, so the method will not necessarily) widthshow
(unlink the object.) 72.0 289.666 T
72 313.666473 M 1.176453 0 32 (The ) widthshow
1 FF
91.226456 313.666473 M 1.176453 0 32 (port_set) widthshow
4 FF
126.216461 313.666473 M 1.176453 0 32 ( method is used simply to return the v) widthshow
286.48822 313.666473 M 1.176453 0 32 (alue of the port set held by the list) widthshow
(naming all object ports.) 72.0 325.666 T
([137]) 77.34 343.666 T
(class ) 108.0 343.666 T
5 FF
(object_list) 129.94 343.666 T
4 FF
([138]) 77.34 355.666 T
({) 108.0 355.666 T
([139]) 77.34 367.666 T
(public:) 108.0 367.666 T
([140]) 77.34 379.666 T
1 FF
(object_list) 144.0 379.666 T
4 FF
( \(\);) 187.88 379.666 T
([141]) 77.34 391.666 T
(mach_port_t ) 144.0 391.666 T
1 FF
<de6e645f6f725f6d616b> 197.05 391.666 T
(e) 251.96 391.666 T
4 FF
( \(int ) 256.4 391.666 T
5 FF
(name) 275.29 391.666 T
4 FF
(\);) 296.95 391.666 T
([142]) 77.34 403.666 T
(int ) 144.0 403.666 T
1 FF
(unr) 157.06 403.666 T
(efer) 172.44 403.666 T
(enced_object) 188.91 403.666 T
4 FF
( \() 244.45 403.666 T
5 FF
(object_link) 250.28 403.666 T
4 FF
(* ) 294.72 403.666 T
5 FF
(object_p) 302.22 403.666 T
4 FF
(, ) 336.66 403.666 T
(mach_port_mscount_t ) 198.0 413.666 T
5 FF
(mscount) 289.94 413.666 T
4 FF
(\);) 323.27 413.666 T
([143]) 77.34 425.666 T
(mach_port_t ) 144.0 425.666 T
1 FF
(port_set) 197.05 425.666 T
4 FF
( \(\);) 232.04 425.666 T
([144]) 77.34 437.666 T
(pri) 108.0 437.666 T
(v) 118.86 437.666 T
(ate:) 123.61 437.666 T
72 441.999634 360 9 CR
1 G
72 441.999634 360 9 NF
0 G
4 FF
(/*) 91.224 449.831 T
3 SL
0 SC
0.6667 G
422.91 446.5 M
422.91 451.75 L
432 446.5 L
422.91 441.25 L
F
422.91 446.5 M
108 446.5 L
S
0 0 612 792 CR
0 G
4 FF
108 458.666321 M 0.834961 0 32 (The global lock protects the object list, which implies the e) widthshow
352.569702 458.666321 M 0.834961 0 32 (xistence and names) widthshow
108 468.66629 M 1.243774 0 32 (of objects, including the mscount. Each object has its o) widthshow
339.204102 468.66629 M 1.243774 0 32 (wn lock for its pri) widthshow
415.589355 468.66629 M 1.243774 0 32 (v) widthshow
420.339478 468.66629 M 1.243774 0 32 (ate) widthshow
72 480.999603 360 9 CR
1 G
72 480.999603 360 9 NF
0 G
4 FF
(*/) 90.0 488.826 T
0.6667 G
117.09 485.5 M
117.09 480.25 L
108 485.5 L
117.09 490.75 L
F
432 485.5 M
117.09 485.5 L
S
0 0 612 792 CR
0 G
4 FF
<de656c64732e> 108.0 478.666 T
([145]) 77.34 499.666 T
(struct mute) 144.0 499.666 T
(x) 188.57 499.666 T
5 FF
(g_loc) 288.0 499.666 T
(k) 310.02 499.666 T
4 FF
(;) 314.46 499.666 T
([146]) 77.34 511.666 T
5 FF
(object_link) 144.0 511.666 T
4 FF
(*) 188.44 511.666 T
5 FF
(g_head) 288.0 511.666 T
4 FF
(;) 317.44 511.666 T
72 515.999573 360 9 CR
1 G
72 515.999573 360 9 NF
0 G
4 FF
(/*) 90.0 523.831 T
0.6667 G
422.91 520.5 M
422.91 525.75 L
432 520.5 L
422.91 515.25 L
F
422.91 520.5 M
288 520.5 L
S
72 534.999573 360 9 CR
1 G
72 534.999573 360 9 NF
0 G
4 FF
(*/) 90.0 542.826 T
0.6667 G
297.09 539.5 M
297.09 534.25 L
288 539.5 L
297.09 544.75 L
F
432 539.5 M
297.09 539.5 L
S
0 0 612 792 CR
0 G
4 FF
(pointer to \336rst object in list) 288.0 532.666 T
([147]) 77.34 553.666 T
(mach_port_t) 144.0 553.666 T
5 FF
(g_object_ports) 288.0 553.666 T
4 FF
(;) 348.0 553.666 T
72 557.999512 360 9 CR
1 G
72 557.999512 360 9 NF
0 G
4 FF
(/*) 90.0 565.831 T
0.6667 G
422.91 562.5 M
422.91 567.75 L
432 562.5 L
422.91 557.25 L
F
422.91 562.5 M
288 562.5 L
S
72 576.999512 360 9 CR
1 G
72 576.999512 360 9 NF
0 G
4 FF
(*/) 90.0 584.826 T
0.6667 G
297.09 581.5 M
297.09 576.25 L
288 581.5 L
297.09 586.75 L
F
432 581.5 M
297.09 581.5 L
S
0 0 612 792 CR
0 G
4 FF
(port set to hold all object ports) 288.0 574.666 T
([148]) 77.34 595.666 T
(};) 108.0 595.666 T
([149]) 77.34 607.666 T
5 FF
(object_list) 108.0 607.666 T
4 FF
(::) 149.67 607.666 T
1 FF
(object_list) 155.23 607.666 T
4 FF
( \(\)) 199.11 607.666 T
([150]) 77.34 619.666 T
({) 108.0 619.666 T
([151]) 77.34 631.666 T
1 FF
(mutex_init) 144.0 631.666 T
4 FF
( \(&) 190.11 631.666 T
5 FF
(g_loc) 203.72 631.666 T
(k) 225.74 631.666 T
4 FF
(\);) 230.18 631.666 T
([152]) 77.34 643.666 T
5 FF
(g_head) 144.0 643.666 T
4 FF
( = NULL;) 173.44 643.666 T
72 647.999451 360 9 CR
1 G
72 647.999451 360 9 NF
0 G
4 FF
(/*) 91.224 655.831 T
0.6667 G
422.91 652.5 M
422.91 657.75 L
432 652.5 L
422.91 647.25 L
F
422.91 652.5 M
108 652.5 L
S
72 666.999451 360 9 CR
1 G
72 666.999451 360 9 NF
0 G
4 FF
(*/) 90.0 674.826 T
0.6667 G
117.09 671.5 M
117.09 666.25 L
108 671.5 L
117.09 676.75 L
F
432 671.5 M
117.09 671.5 L
S
0 0 612 792 CR
0 G
4 FF
(Allocate a port set from which serv) 144.0 664.666 T
(er threads will recei) 284.93 664.666 T
(v) 363.82 664.666 T
(e) 368.67 664.666 T
([153]) 77.34 685.666 T
(\(v) 144.0 685.666 T
(oid\) ) 152.13 685.666 T
1 FF
(mach_port_allocate) 170.74 685.666 T
4 FF
(\() 255.17 685.666 T
1 FF
(mach_task_self) 258.5 685.666 T
4 FF
(\(\), ) 324.05 685.666 T
(MA) 198.0 695.666 T
(CH_POR) 213.71 695.666 T
(T_RIGHT_POR) 251.451 695.666 T
(T_SET) 316.961 695.666 T
(, &) 345.111 695.666 T
5 FF
(g_object_ports) 357.891 695.666 T
4 FF
(\);) 417.891 695.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 80 80
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(76 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([154]) 185.34 113.651 T
(}) 216.0 113.651 T
180 135.65065 M 0.15686 0 32 (The structure of the objects and the list allo) widthshow
354.315033 135.65065 M 0.15686 0 32 (ws this method to operate purely with the glo-) widthshow
180 147.650635 M 1.81842 0 32 (bal lock, simply searching the object list for the client supplied name. As mentioned) widthshow
180 159.65062 M 0.486298 0 32 (abo) widthshow
194.290085 159.65062 M 0.486298 0 32 (v) widthshow
199.140167 159.65062 M 0.486298 0 32 (e, it is safe to create a ne) widthshow
300.594421 159.65062 M 0.486298 0 32 (w object here if the desired one is not found, adding its re-) widthshow
(cei) 180.0 171.651 T
(v) 191.41 171.651 T
(e right to the port set and starting the no-more-senders noti\336cation \(race\).) 196.26 171.651 T
180 195.650589 M 2.924347 0 32 (The interesting detail here is the use of ) widthshow
0 FF
361.144775 195.650589 M 2.924347 0 32 (mach_port_insert_right) widthshow
3 FF
463.354797 195.650589 M 2.924347 0 32 ( \(MA) widthshow
487.819366 195.650589 M 2.924347 0 32 (CH_POR) widthshow
525.559692 195.650589 M 2.924347 0 32 (T_-) widthshow
180 207.650574 M 0.468628 0 32 (TYPE_MAKE_SEND\) and the use of MA) widthshow
352.753357 207.650574 M 0.468628 0 32 (CH_POR) widthshow
390.493713 207.650574 M 0.468628 0 32 (T_TYPE_MO) widthshow
447.213989 207.650574 M 0.468628 0 32 (VE_SEND in the MIG) widthshow
180 219.650558 M 0.930786 0 32 (de\336nition for the method \() widthshow
0 FF
289.273132 219.650558 M 0.930786 0 32 (ooser) widthshow
311.943207 219.650558 M 0.930786 0 32 (v) widthshow
316.843262 219.650558 M 0.930786 0 32 (er_lookup) widthshow
3 FF
360.183258 219.650558 M 0.930786 0 32 (\). It w) widthshow
386.104889 219.650558 M 0.930786 0 32 (ould seem that this could be replaced) widthshow
180 231.650543 M 1.729889 0 32 (with the use of MA) widthshow
264.289795 231.650543 M 1.729889 0 32 (CH_POR) widthshow
302.03009 231.650543 M 1.729889 0 32 (T_TYPE_MAKE_SEND in the MIG interf) widthshow
481.609741 231.650543 M 1.729889 0 32 (ace de\336nition.) widthshow
180 243.650528 M 0.26561 0 32 (This replacement f) widthshow
255.411285 243.650528 M 0.26561 0 32 (ails, ho) widthshow
284.317017 243.650528 M 0.26561 0 32 (we) widthshow
295.727173 243.650528 M 0.26561 0 32 (v) widthshow
300.577271 243.650528 M 0.26561 0 32 (er) widthshow
307.947479 243.650528 M 0.26561 0 32 (, in error cases. T) widthshow
377.630371 243.650528 M 0.26561 0 32 (o see this, consider the race between the) widthshow
180 255.650513 M 0.384674 0 32 (time that the global lock is released and the time that the send right w) widthshow
463.035522 255.650513 M 0.384674 0 32 (ould be created via) widthshow
180 267.650513 M 0.645325 0 32 (the send of the reply message. During this time a no-more-senders noti\336cation could ar-) widthshow
180 279.650482 M 0.758698 0 32 (ri) widthshow
185.860138 279.650482 M 0.758698 0 32 (v) widthshow
190.71022 279.650482 M 0.758698 0 32 (e which could delete the object \(and the port\) thereby causing our reply to use an in-) widthshow
180 291.650452 M 0.762634 0 32 (v) widthshow
184.750137 291.650452 M 0.762634 0 32 (alid port \(possibly a port which could be reassigned during that time\). This is wh) widthshow
518.407043 291.650452 M 0.762634 0 32 (y our) widthshow
180 303.650452 M 0.172455 0 32 (mak) widthshow
197.120056 303.650452 M 0.172455 0 32 (e-send count must be incremented here \(under protection of the global lock\). Ho) widthshow
520.259705 303.650452 M 0.172455 0 32 (we) widthshow
531.6698 303.650452 M 0.172455 0 32 (v-) widthshow
180 315.650452 M 0.120544 0 32 (er) widthshow
187.370224 315.650452 M 0.120544 0 32 (, if the reply message \(which w) widthshow
313.243561 315.650452 M 0.120544 0 32 (ould ha) widthshow
342.884216 315.650452 M 0.120544 0 32 (v) widthshow
347.734314 315.650452 M 0.120544 0 32 (e made a send right\) cannot be sent \(such as be-) widthshow
180 327.650421 M 2.961914 0 32 (cause of an in) widthshow
243.745972 327.650421 M 2.961914 0 32 (v) widthshow
248.496109 327.650421 M 2.961914 0 32 (alid reply destination\), ) widthshow
0 FF
350.151855 327.650421 M 2.961914 0 32 (mach_msg_ser) widthshow
413.371918 327.650421 M 2.961914 0 32 (v) widthshow
418.271973 327.650421 M 2.961914 0 32 (er) widthshow
3 FF
427.151978 327.650421 M 2.961914 0 32 ( will destro) widthshow
477.975861 327.650421 M 2.961914 0 32 (y the message) widthshow
180 339.650391 M 0.362427 0 32 (without a send right ha) widthshow
272.909821 339.650391 M 0.362427 0 32 (ving been made \(thereby not incrementing the k) widthshow
467.256897 339.650391 M 0.362427 0 32 (ernel\325) widthshow
490.027191 339.650391 M 0.362427 0 32 (s mak) widthshow
513.899658 339.650391 M 0.362427 0 32 (e-send) widthshow
180 351.650391 M 0.08609 0 32 (count, which must be done so that it matches our count\). As such, we need a w) widthshow
496.507507 351.650391 M 0.08609 0 32 (ay to guar-) widthshow
180 363.650391 M 0.683517 0 32 (antee the generation of the send right, by doing it e) widthshow
390.265259 363.650391 M 0.683517 0 32 (xplicitly) widthshow
422.955627 363.650391 M 0.683517 0 32 (. The use of MA) widthshow
491.109924 363.650391 M 0.683517 0 32 (CH_MSG_-) widthshow
180 375.65036 M 0.336075 0 32 (TYPE_MO) widthshow
225.610275 375.65036 M 0.336075 0 32 (VE_SEND in the reply message not only arranges for the k) widthshow
466.051086 375.65036 M 0.336075 0 32 (ernel to gi) widthshow
507.023376 375.65036 M 0.336075 0 32 (v) widthshow
511.873474 375.65036 M 0.336075 0 32 (e a) widthshow
523.439636 375.65036 M 0.336075 0 32 (w) widthshow
530.559692 375.65036 M 0.336075 0 32 (ay) widthshow
180 387.65033 M 0.215942 0 32 (the right, b) widthshow
223.841995 387.65033 M 0.215942 0 32 (ut it also cues in ) widthshow
0 FF
292.421692 387.65033 M 0.215942 0 32 (mach_msg_ser) widthshow
355.641785 387.65033 M 0.215942 0 32 (v) widthshow
360.541809 387.65033 M 0.215942 0 32 (er) widthshow
3 FF
369.421814 387.65033 M 0.215942 0 32 ( to deallocate the right if the message can-) widthshow
(not be sent.) 180.0 399.65 T
([155]) 185.34 417.65 T
(mach_port_t ) 216.0 417.65 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(object_list) 269.05 417.65 T
3 FF
(::) 310.72 417.65 T
0 FF
<de6e645f6f725f6d616b> 316.28 417.65 T
(e) 371.19 417.65 T
3 FF
( \(int ) 375.63 417.65 T
4 FF
(name) 394.52 417.65 T
3 FF
(\)) 416.18 417.65 T
([156]) 185.34 429.65 T
({) 216.0 429.65 T
([157]) 185.34 441.65 T
4 FF
(object_link) 252.0 441.65 T
3 FF
(*) 296.44 441.65 T
4 FF
(object_p) 396.0 441.65 T
3 FF
(;) 430.44 441.65 T
([158]) 185.34 453.65 T
(mach_port_t) 252.0 453.65 T
4 FF
(port) 396.0 453.65 T
3 FF
(;) 412.67 453.65 T
([159]) 185.34 465.65 T
(k) 252.0 465.65 T
(ern_return_t) 256.9 465.65 T
4 FF
(kr) 396.0 465.65 T
3 FF
(;) 404.33 465.65 T
180 469.983582 360 9 CR
1 G
180 469.983582 360 9 NF
0 G
3 FF
(/*) 199.224 477.815 T
3 SL
0.6667 G
530.91 474.48 M
530.91 479.73 L
540 474.48 L
530.91 469.23 L
F
530.91 474.48 M
216 474.48 L
S
180 488.983582 360 9 CR
1 G
180 488.983582 360 9 NF
0 G
3 FF
(*/) 198.0 496.81 T
0.6667 G
225.09 493.48 M
225.09 488.23 L
216 493.48 L
225.09 498.73 L
F
540 493.48 M
225.09 493.48 L
S
0 0 612 792 CR
0 G
3 FF
(W) 252.0 486.65 T
(e reference no \336elds here protected by the object lock.) 260.64 486.65 T
([160]) 185.34 507.65 T
0 FF
(mutex_lock) 252.0 507.65 T
3 FF
(\(&) 301.44 507.65 T
4 FF
(g_loc) 312.55 507.65 T
(k) 334.57 507.65 T
3 FF
(\);) 339.01 507.65 T
([161]) 185.34 519.65 T
(for \() 252.0 519.65 T
4 FF
(object_p) 269.49 519.65 T
3 FF
( = ) 303.93 519.65 T
4 FF
(g_head) 314.57 519.65 T
3 FF
(; ) 344.01 519.65 T
4 FF
(object_p) 349.29 519.65 T
3 FF
( != NULL; ) 383.73 519.65 T
4 FF
(object_p) 429.64 519.65 T
3 FF
( = ) 464.08 519.65 T
4 FF
(object_p) 306.0 529.65 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 340.44 529.65 T
4 FF
(o_ne) 350.31 529.65 T
(xt) 369.55 529.65 T
3 FF
(\)) 376.77 529.65 T
([162]) 185.34 541.65 T
(if \() 288.0 541.65 T
4 FF
(object_p) 299.94 541.65 T
5 FF
<ae> 334.38 541.65 T
4 FF
(o_name) 344.25 541.65 T
3 FF
( == ) 375.91 541.65 T
4 FF
(name) 392.19 541.65 T
3 FF
(\)) 413.85 541.65 T
([163]) 185.34 553.65 T
(break;) 324.0 553.65 T
([164]) 185.34 565.65 T
(if \() 252.0 565.65 T
4 FF
(object_p) 263.94 565.65 T
3 FF
( == NULL\)) 298.38 565.65 T
([165]) 185.34 577.65 T
({) 252.0 577.65 T
([166]) 185.34 589.65 T
(mach_port_t) 288.0 589.65 T
4 FF
(pr) 396.0 589.65 T
(e) 404.52 589.65 T
(vious) 408.81 589.65 T
3 FF
(;) 429.92 589.65 T
180 593.983459 360 9 CR
1 G
180 593.983459 360 9 NF
0 G
3 FF
(/*) 199.224 601.815 T
0.6667 G
530.91 598.48 M
530.91 603.73 L
540 598.48 L
530.91 593.23 L
F
530.91 598.48 M
216 598.48 L
S
180 612.983398 360 9 CR
1 G
180 612.983398 360 9 NF
0 G
3 FF
(*/) 198.0 620.81 T
0.6667 G
225.09 617.48 M
225.09 612.23 L
216 617.48 L
225.09 622.73 L
F
540 617.48 M
225.09 617.48 L
S
0 0 612 792 CR
0 G
3 FF
(Create a ne) 288.0 610.65 T
(w object and port for it) 332.73 610.65 T
([167]) 185.34 631.65 T
4 FF
(object_p) 288.0 631.65 T
3 FF
( = ne) 322.44 631.65 T
(w ) 342.27 631.65 T
4 FF
(object) 351.99 631.65 T
3 FF
( \() 376.43 631.65 T
4 FF
(name) 382.26 631.65 T
3 FF
(, ) 403.92 631.65 T
4 FF
(g_head) 408.92 631.65 T
3 FF
(\);) 438.36 631.65 T
([168]) 185.34 643.65 T
4 FF
(g_head) 288.0 643.65 T
3 FF
( = ) 317.44 643.65 T
4 FF
(object_p) 328.08 643.65 T
3 FF
(;) 362.52 643.65 T
([169]) 185.34 655.65 T
4 FF
(port) 288.0 655.65 T
3 FF
( = \(mach_port_t\) ) 304.67 655.65 T
4 FF
(object_p) 375.02 655.65 T
3 FF
(;) 409.46 655.65 T
180 659.983398 360 9 CR
1 G
180 659.983398 360 9 NF
0 G
3 FF
(/*) 199.224 667.815 T
0.6667 G
530.91 664.48 M
530.91 669.73 L
540 664.48 L
530.91 659.23 L
F
530.91 664.48 M
216 664.48 L
S
180 678.983398 360 9 CR
1 G
180 678.983398 360 9 NF
0 G
3 FF
(*/) 198.0 686.81 T
0.6667 G
225.09 683.48 M
225.09 678.23 L
216 683.48 L
225.09 688.73 L
F
540 683.48 M
225.09 683.48 L
S
0 0 612 792 CR
0 G
3 FF
(Put the object port into the port set) 288.0 676.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 81 81
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (77 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([170]) 77.34 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 180.0 115.667 T
3 FF
( = ) 188.33 115.667 T
1 FF
(mach_port_mo) 198.97 115.667 T
(v) 263.86 115.667 T
(e_member) 268.76 115.667 T
3 FF
(\() 313.74 115.667 T
1 FF
(mach_task_self) 317.07 115.667 T
3 FF
(\(\), ) 382.62 115.667 T
4 FF
(port) 394.28 115.667 T
3 FF
(, ) 410.95 115.667 T
4 FF
(g_object_ports) 234.0 125.667 T
3 FF
(\);) 294.0 125.667 T
([171]) 77.34 137.667 T
(if \() 180.0 137.667 T
4 FF
(kr) 191.94 137.667 T
3 FF
( != KERN_SUCCESS\)) 200.27 137.667 T
([172]) 77.34 149.667 T
(quit\(1, \322) 216.0 149.667 T
1 FF
(ooser) 249.33 149.667 T
(v) 272.0 149.667 T
(er) 276.9 149.667 T
3 FF
(: ) 285.78 149.667 T
1 FF
(mach_port_mo) 291.06 149.667 T
(v) 355.95 149.667 T
(e_member) 360.85 149.667 T
3 FF
(: ) 405.83 149.667 T
(%s\\n\323, mach_error_string\() 270.0 159.667 T
4 FF
(kr) 376.64 159.667 T
3 FF
(\)\);) 384.97 159.667 T
72 163.999924 360 9 CR
1 G
72 163.999924 360 9 NF
0 G
3 FF
(/*) 91.224 171.831 T
3 SL
0 SC
0.6667 G
422.91 168.5 M
422.91 173.75 L
432 168.5 L
422.91 163.25 L
F
422.91 168.5 M
108 168.5 L
S
72 182.999908 360 9 CR
1 G
72 182.999908 360 9 NF
0 G
3 FF
(*/) 90.0 190.826 T
0.6667 G
117.09 187.5 M
117.09 182.25 L
108 187.5 L
117.09 192.75 L
F
432 187.5 M
117.09 187.5 L
S
0 0 612 792 CR
0 G
3 FF
(Request the initial no-more-senders noti\336cation) 180.0 180.667 T
([173]) 77.34 201.667 T
4 FF
(kr) 180.0 201.667 T
3 FF
( = ) 188.33 201.667 T
1 FF
(mach_port_r) 198.97 201.667 T
(equest_noti\336cation) 254.89 201.667 T
3 FF
(\() 335.45 201.667 T
1 FF
(mach_task_self) 338.78 201.667 T
3 FF
(\(\), ) 404.33 201.667 T
4 FF
(object_p) 234.0 211.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 268.44 211.667 T
4 FF
(o_port) 278.31 211.667 T
3 FF
(, ) 304.98 211.667 T
(MA) 234.0 221.667 T
(CH_NO) 249.71 221.667 T
(TIFY_NO_SENDERS, 1, ) 282.64 221.667 T
4 FF
(object_p) 234.0 231.667 T
5 FF
<ae> 268.44 231.667 T
4 FF
(o_port) 278.31 231.667 T
3 FF
(, ) 304.98 231.667 T
(MA) 234.0 241.667 T
(CH_MSG_TYPE_MAKE_SEND_ONCE, ) 249.71 241.667 T
(&) 234.0 251.666 T
4 FF
(pr) 241.78 251.666 T
(e) 250.3 251.666 T
(vious) 254.59 251.666 T
3 FF
(\);) 275.7 251.666 T
([174]) 77.34 263.666 T
(if \(\() 180.0 263.666 T
4 FF
(kr) 195.27 263.666 T
3 FF
( != KERN_SUCCESS\) || \() 203.6 263.666 T
4 FF
(pr) 308.8 263.666 T
(e) 317.32 263.666 T
(vious) 321.61 263.666 T
3 FF
( != ) 342.72 263.666 T
(MA) 234.0 273.666 T
(CH_POR) 249.71 273.666 T
(T_NULL\)\)) 287.451 273.666 T
([175]) 77.34 285.666 T
(quit\(1, \322) 216.0 285.666 T
1 FF
(ooser) 249.33 285.666 T
(v) 272.0 285.666 T
(er) 276.9 285.666 T
3 FF
(: ) 285.78 285.666 T
1 FF
(mach_port_r) 270.0 295.666 T
(equest_noti\336cation) 325.92 295.666 T
3 FF
(: ) 406.48 295.666 T
(%s\\n\323, mach_error_string\() 270.0 305.666 T
4 FF
(kr) 376.64 305.666 T
3 FF
(\)\);) 384.97 305.666 T
([176]) 77.34 317.666 T
(}) 144.0 317.666 T
([177]) 77.34 329.666 T
4 FF
(object_p) 144.0 329.666 T
5 FF
<ae> 178.44 329.666 T
4 FF
(o_mscount) 188.31 329.666 T
3 FF
(++;) 231.64 329.666 T
([178]) 77.34 341.666 T
4 FF
(port) 144.0 341.666 T
3 FF
( = ) 160.67 341.666 T
4 FF
(object_p) 171.31 341.666 T
5 FF
<ae> 205.75 341.666 T
4 FF
(o_port) 215.62 341.666 T
3 FF
(;) 242.29 341.666 T
([179]) 77.34 353.666 T
4 FF
(kr) 144.0 353.666 T
3 FF
( = ) 152.33 353.666 T
1 FF
(mach_port_insert_right ) 162.97 353.666 T
3 FF
(\() 267.68 353.666 T
1 FF
(mach_task_self) 271.01 353.666 T
3 FF
(\(\), ) 336.56 353.666 T
4 FF
(port) 348.22 353.666 T
3 FF
(, ) 364.89 353.666 T
4 FF
(port) 369.89 353.666 T
3 FF
(, ) 386.56 353.666 T
(MA) 198.0 363.666 T
(CH_MSG_TYPE_MAKE_SEND\);) 213.71 363.666 T
([180]) 77.34 375.666 T
(if \() 144.0 375.666 T
4 FF
(kr) 155.94 375.666 T
3 FF
( != KERN_SUCCESS\)) 164.27 375.666 T
([181]) 77.34 387.666 T
(quit\(1, \322) 180.0 387.666 T
1 FF
(ooser) 213.33 387.666 T
(v) 236.0 387.666 T
(er) 240.9 387.666 T
3 FF
(: ) 249.78 387.666 T
1 FF
(mach_port_insert_right) 255.06 387.666 T
3 FF
(: %s\\n\323, ) 357.27 387.666 T
(mach_error_string\() 234.0 397.666 T
4 FF
(kr) 311.2 397.666 T
3 FF
(\)\);) 319.53 397.666 T
([182]) 77.34 409.666 T
1 FF
(mutex_unlock) 144.0 409.666 T
3 FF
(\(&) 204.56 409.666 T
4 FF
(g_loc) 215.67 409.666 T
(k) 237.69 409.666 T
3 FF
(\);) 242.13 409.666 T
72 413.999603 360 9 CR
1 G
72 413.999603 360 9 NF
0 G
3 FF
(/*) 91.224 421.831 T
0.6667 G
422.91 418.5 M
422.91 423.75 L
432 418.5 L
422.91 413.25 L
F
422.91 418.5 M
108 418.5 L
S
0 0 612 792 CR
0 G
3 FF
144 430.66626 M 0.217392 0 32 (It is safe to unlock e) widthshow
225.657104 430.66626 M 0.217392 0 32 (v) widthshow
230.507187 430.66626 M 0.217392 0 32 (erything no) widthshow
276.304718 430.66626 M 0.217392 0 32 (w) widthshow
282.875061 430.66626 M 0.217392 0 32 (, with the port v) widthshow
347.104797 430.66626 M 0.217392 0 32 (alue remaining v) widthshow
414.499695 430.66626 M 0.217392 0 32 (alid,) widthshow
144 440.66626 M 1.28772 0 32 (e) widthshow
148.19014 440.66626 M 1.28772 0 32 (v) widthshow
153.040222 440.66626 M 1.28772 0 32 (en though we ha) widthshow
222.523499 440.66626 M 1.28772 0 32 (v) widthshow
227.373581 440.66626 M 1.28772 0 32 (e not incremented the ) widthshow
4 FF
321.39447 440.66626 M 1.28772 0 32 (alive_count) widthshow
3 FF
368.054474 440.66626 M 1.28772 0 32 ( count, because) widthshow
144 450.666229 M 1.211014 0 32 (no ne) widthshow
166.901154 450.666229 M 1.211014 0 32 (w no-more-senders noti\336cation will be generated gi) widthshow
380.547394 450.666229 M 1.211014 0 32 (v) widthshow
385.397461 450.666229 M 1.211014 0 32 (en our ne) widthshow
424.779663 450.666229 M 1.211014 0 32 (w) widthshow
144 460.666199 M 0.846558 0 32 (send right, and an) widthshow
217.489761 460.666199 M 0.846558 0 32 (y pending no-more-senders noti\336cation will \336nd our) widthshow
144 470.666199 M 0.678787 0 32 (mak) widthshow
161.120056 470.666199 M 0.678787 0 32 (e-send count not matching the k) widthshow
292.454041 470.666199 M 0.678787 0 32 (ernel\325) widthshow
315.224365 470.666199 M 0.678787 0 32 (s since we ha) widthshow
370.10083 470.666199 M 0.678787 0 32 (v) widthshow
374.950928 470.666199 M 0.678787 0 32 (e incremented) widthshow
72 482.999512 360 9 CR
1 G
72 482.999512 360 9 NF
0 G
3 FF
(*/) 90.0 490.826 T
0.6667 G
117.09 487.5 M
117.09 482.25 L
108 487.5 L
117.09 492.75 L
F
432 487.5 M
117.09 487.5 L
S
0 0 612 792 CR
0 G
3 FF
(our mscount.) 144.0 480.666 T
([183]) 77.34 501.666 T
(return ) 144.0 501.666 T
4 FF
(port) 170.38 501.666 T
3 FF
(;) 187.05 501.666 T
([184]) 77.34 513.666 T
(}) 108.0 513.666 T
72 535.666138 M 0.914261 0 32 (The follo) widthshow
109.604401 535.666138 M 0.914261 0 32 (wing method unlinks the object if there really are no more send rights. Object) widthshow
72 547.666138 M 0.39325 0 32 (deletion doesn\325) widthshow
133.593353 547.666138 M 0.39325 0 32 (t occur until ) widthshow
1 FF
185.603104 547.666138 M 0.39325 0 32 (object_demux) widthshow
3 FF
245.593109 547.666138 M 0.39325 0 32 ( \336nds the last reference remo) widthshow
363.209473 547.666138 M 0.39325 0 32 (v) widthshow
368.05954 547.666138 M 0.39325 0 32 (ed. If the object) widthshow
72 559.666138 M 1.567078 0 32 (is unlink) widthshow
108.197128 559.666138 M 1.567078 0 32 (ed, TR) widthshow
136.584427 559.666138 M 1.567078 0 32 (UE is returned so the caller kno) widthshow
272.377045 559.666138 M 1.567078 0 32 (ws to remo) widthshow
319.80127 559.666138 M 1.567078 0 32 (v) widthshow
324.651367 559.666138 M 1.567078 0 32 (e the global list reference) widthshow
72 571.666077 M 0.266373 0 32 (\(ali) widthshow
85.080139 571.666077 M 0.266373 0 32 (v) widthshow
89.930222 571.666077 M 0.266373 0 32 (e count\) corresponding to being un-link) widthshow
249.752151 571.666077 M 0.266373 0 32 (ed. The caller of this method f) widthshow
372.060455 571.666077 M 0.266373 0 32 (aces no race in) widthshow
72 583.666077 M 0.039215 0 32 (remo) widthshow
92.400085 583.666077 M 0.039215 0 32 (ving the global link reference \(which requires the object lock\) with other threads try-) widthshow
72 595.666077 M 0.807953 0 32 (ing to locate the object \(which requires the global lock\), e) widthshow
310.61969 595.666077 M 0.807953 0 32 (v) widthshow
315.469788 595.666077 M 0.807953 0 32 (en though the caller will not) widthshow
72 607.666016 M 1.073944 0 32 (be holding the global lock when it does, because no ne) widthshow
301.06958 607.666016 M 1.073944 0 32 (w messages will be arri) widthshow
398.985535 607.666016 M 1.073944 0 32 (ving for) widthshow
72 619.666016 M 0.203964 0 32 (this object \(no send rights e) widthshow
183.139908 619.666016 M 0.203964 0 32 (xist\) and the object is unlink) widthshow
297.6698 619.666016 M 0.203964 0 32 (ed. An interesting property of the) widthshow
72 631.666016 M 0.246841 0 32 (program\325) widthshow
108.660309 631.666016 M 0.246841 0 32 (s structure is that there is no place in the program where both the global and ob-) widthshow
(ject locks are held at the same time.) 72.0 643.666 T
72 653.999329 360 9 CR
1 G
72 653.999329 360 9 NF
0 G
3 FF
(/*) 91.224 661.831 T
0.6667 G
422.91 658.5 M
422.91 663.75 L
432 658.5 L
422.91 653.25 L
F
422.91 658.5 M
108 658.5 L
S
72 672.999329 360 9 CR
1 G
72 672.999329 360 9 NF
0 G
3 FF
(*/) 90.0 680.826 T
0.6667 G
117.09 677.5 M
117.09 672.25 L
108 677.5 L
117.09 682.75 L
F
432 677.5 M
117.09 677.5 L
S
0 0 612 792 CR
0 G
3 FF
(Possibly delete \(unlink\) an object.) 108.0 670.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 82 82
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(78 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([185]) 185.34 113.651 T
(int ) 216.0 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(object_list) 229.06 113.651 T
3 FF
(::) 270.73 113.651 T
0 FF
(unr) 276.29 113.651 T
(efer) 291.67 113.651 T
(enced_object) 308.14 113.651 T
3 FF
( \() 363.68 113.651 T
4 FF
(object_link) 369.51 113.651 T
3 FF
(* ) 413.95 113.651 T
4 FF
(object_p) 421.45 113.651 T
3 FF
(, ) 455.89 113.651 T
(mach_port_mscount_t ) 270.0 123.651 T
4 FF
(mscount) 361.94 123.651 T
3 FF
(\)) 395.27 123.651 T
([186]) 185.34 135.651 T
({) 216.0 135.651 T
([187]) 185.34 147.651 T
(int) 252.0 147.651 T
4 FF
(r) 396.0 147.651 T
(esult) 399.52 147.651 T
3 FF
( = F) 418.41 147.651 T
(ALSE;) 433.871 147.651 T
([188]) 185.34 159.651 T
0 FF
(mutex_lock) 252.0 159.651 T
3 FF
(\(&) 301.44 159.651 T
4 FF
(g_loc) 312.55 159.651 T
(k) 334.57 159.651 T
3 FF
(\);) 339.01 159.651 T
([189]) 185.34 171.651 T
(if \() 252.0 171.651 T
4 FF
(object_p) 263.94 171.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 298.38 171.651 T
4 FF
(o_mscount) 308.25 171.651 T
3 FF
( == ) 351.58 171.651 T
4 FF
(mscount) 367.86 171.651 T
3 FF
(\)) 401.19 171.651 T
([190]) 185.34 183.651 T
({) 252.0 183.651 T
180 187.983902 360 9 CR
1 G
180 187.983902 360 9 NF
0 G
3 FF
(/*) 199.224 195.815 T
3 SL
0.6667 G
530.91 192.48 M
530.91 197.73 L
540 192.48 L
530.91 187.23 L
F
530.91 192.48 M
216 192.48 L
S
0 0 612 792 CR
0 G
3 FF
288 204.650558 M 1.268158 0 32 (Since we hold the global lock, no ne) widthshow
442.167236 204.650558 M 1.268158 0 32 (w send rights are being) widthshow
288 214.650543 M 2.874939 0 32 (generated \(that are not re\337ected in our mak) widthshow
480.47467 214.650543 M 2.874939 0 32 (e-send count\).) widthshow
288 224.650528 M 0.356628 0 32 (Thus, we are safe to mark the object dead and unlink it. There) widthshow
288 234.650513 M 1.918716 0 32 (may still be other outstanding operations in progress; when) widthshow
288 244.650497 M 3.28598 0 32 (the last one ends \(probably this one\), the object will be) widthshow
180 256.983826 360 9 CR
1 G
180 256.983826 360 9 NF
0 G
3 FF
(*/) 198.0 264.81 T
0.6667 G
225.09 261.48 M
225.09 256.23 L
216 261.48 L
225.09 266.73 L
F
540 261.48 M
225.09 261.48 L
S
0 0 612 792 CR
0 G
3 FF
(deleted \(by ) 288.0 254.65 T
0 FF
(object_demux) 335.21 254.65 T
3 FF
(\).) 395.2 254.65 T
([191]) 185.34 275.65 T
4 FF
(object_link) 288.0 275.65 T
3 FF
(*) 332.44 275.65 T
4 FF
(pr) 396.0 275.65 T
(e) 404.52 275.65 T
(v_object_p) 408.81 275.65 T
3 FF
(;) 452.69 275.65 T
([192]) 185.34 287.65 T
(if \() 288.0 287.65 T
4 FF
(object_p) 299.94 287.65 T
3 FF
( == ) 334.38 287.65 T
4 FF
(g_head) 350.66 287.65 T
3 FF
(\)) 380.1 287.65 T
([193]) 185.34 299.65 T
4 FF
(g_head) 324.0 299.65 T
3 FF
( = ) 353.44 299.65 T
4 FF
(object_p) 364.08 299.65 T
5 FF
<ae> 398.52 299.65 T
4 FF
(o_ne) 408.39 299.65 T
(xt) 427.63 299.65 T
3 FF
(;) 434.85 299.65 T
([194]) 185.34 311.65 T
(else) 288.0 311.65 T
([195]) 185.34 323.65 T
({) 288.0 323.65 T
([196]) 185.34 335.65 T
(for \() 324.0 335.65 T
4 FF
(pr) 341.49 335.65 T
(e) 350.01 335.65 T
(v_object_p) 354.3 335.65 T
3 FF
( = ) 398.18 335.65 T
4 FF
(g_head) 408.82 335.65 T
3 FF
(; ) 438.26 335.65 T
4 FF
(pr) 443.54 335.65 T
(e) 452.061 335.65 T
(v_object_p) 456.351 335.65 T
3 FF
( != ) 500.231 335.65 T
(NULL; ) 378.0 345.65 T
4 FF
(pr) 409.94 345.65 T
(e) 418.46 345.65 T
(v_object_p) 422.75 345.65 T
3 FF
( = ) 466.63 345.65 T
4 FF
(pr) 378.0 355.65 T
(e) 386.52 355.65 T
(v_object_p) 390.81 355.65 T
5 FF
<ae> 434.69 355.65 T
4 FF
(o_ne) 444.56 355.65 T
(xt) 463.8 355.65 T
3 FF
(\)) 471.02 355.65 T
([197]) 185.34 367.65 T
(if \() 360.0 367.65 T
4 FF
(pr) 371.94 367.65 T
(e) 380.46 367.65 T
(v_object_p) 384.75 367.65 T
5 FF
<ae> 428.63 367.65 T
4 FF
(o_ne) 438.5 367.65 T
(xt) 457.74 367.65 T
3 FF
( == ) 464.96 367.65 T
4 FF
(object_p) 481.24 367.65 T
3 FF
(\)) 515.68 367.65 T
([198]) 185.34 379.65 T
(break;) 396.0 379.65 T
([199]) 185.34 391.65 T
(if \() 324.0 391.65 T
4 FF
(pr) 335.94 391.65 T
(e) 344.46 391.65 T
(v_object_p) 348.75 391.65 T
3 FF
( == NULL\)) 392.63 391.65 T
([200]) 185.34 403.65 T
(quit\(1, \322) 360.0 403.65 T
0 FF
(ooser) 393.33 403.65 T
(v) 416.0 403.65 T
(er) 420.9 403.65 T
3 FF
(: object not in object ) 429.78 403.65 T
(list\\n\323\);) 414.0 413.65 T
([201]) 185.34 425.65 T
4 FF
(pr) 324.0 425.65 T
(e) 332.52 425.65 T
(v_object_p) 336.81 425.65 T
5 FF
<ae> 380.69 425.65 T
4 FF
(o_ne) 390.56 425.65 T
(xt) 409.8 425.65 T
3 FF
( = ) 417.02 425.65 T
4 FF
(object_p) 427.66 425.65 T
5 FF
<ae> 462.1 425.65 T
4 FF
(o_ne) 471.97 425.65 T
(xt) 491.211 425.65 T
3 FF
(;) 498.431 425.65 T
([202]) 185.34 437.65 T
(}) 288.0 437.65 T
([203]) 185.34 449.65 T
(\(v) 288.0 449.65 T
(oid\) ) 296.13 449.65 T
0 FF
(mach_port_mod_r) 314.74 449.65 T
(efs) 394.55 449.65 T
3 FF
( \() 406.21 449.65 T
0 FF
(mach_task_self) 412.04 449.65 T
3 FF
( \(\), ) 477.59 449.65 T
4 FF
(object_p) 342.0 459.65 T
5 FF
<ae> 376.44 459.65 T
4 FF
(o_port) 386.31 459.65 T
3 FF
(, ) 412.98 459.65 T
(MA) 342.0 469.65 T
(CH_POR) 357.71 469.65 T
(T_RIGHT_RECEIVE, \3201\);) 395.451 469.65 T
([204]) 185.34 481.65 T
4 FF
(object_p) 288.0 481.65 T
5 FF
<ae> 322.44 481.65 T
4 FF
(o_port) 332.31 481.65 T
3 FF
( = MA) 358.98 481.65 T
(CH_POR) 385.33 481.65 T
(T_NULL;) 423.071 481.65 T
([205]) 185.34 493.65 T
4 FF
(r) 288.0 493.65 T
(esult) 291.52 493.65 T
3 FF
( = TR) 310.41 493.65 T
(UE;) 333.43 493.65 T
180 497.983521 360 9 CR
1 G
180 497.983521 360 9 NF
0 G
3 FF
(/*) 198.0 505.815 T
0.6667 G
530.91 502.48 M
530.91 507.73 L
540 502.48 L
530.91 497.23 L
F
530.91 502.48 M
396 502.48 L
S
180 516.983521 360 9 CR
1 G
180 516.983521 360 9 NF
0 G
3 FF
(*/) 198.0 524.81 T
0.6667 G
405.09 521.48 M
405.09 516.23 L
396 521.48 L
405.09 526.73 L
F
540 521.48 M
405.09 521.48 L
S
0 0 612 792 CR
0 G
3 FF
(means object no longer kno) 396.0 514.65 T
(wn) 506.29 514.65 T
([206]) 185.34 535.65 T
(}) 252.0 535.65 T
([207]) 185.34 547.65 T
(else) 252.0 547.65 T
([208]) 185.34 559.65 T
({) 252.0 559.65 T
([209]) 185.34 571.65 T
(mach_port_t) 288.0 571.65 T
4 FF
(pr) 396.0 571.65 T
(e) 404.52 571.65 T
(vious) 408.81 571.65 T
3 FF
(;) 429.92 571.65 T
([210]) 185.34 583.65 T
(k) 288.0 583.65 T
(ern_return_t) 292.9 583.65 T
4 FF
(kr) 396.0 583.65 T
3 FF
(;) 404.33 583.65 T
180 587.983398 360 9 CR
1 G
180 587.983398 360 9 NF
0 G
3 FF
(/*) 199.224 595.815 T
0.6667 G
530.91 592.48 M
530.91 597.73 L
540 592.48 L
530.91 587.23 L
F
530.91 592.48 M
216 592.48 L
S
0 0 612 792 CR
0 G
3 FF
288 604.650085 M 2.89711 0 32 (This means a ) widthshow
0 FF
351.961334 604.650085 M 2.89711 0 32 (do_ooser) widthshow
390.191406 604.650085 M 2.89711 0 32 (v) widthshow
395.091431 604.650085 M 2.89711 0 32 (er_lookup) widthshow
3 FF
438.431458 604.650085 M 2.89711 0 32 ( slipped in and created) widthshow
288 614.650024 M 1.591949 0 32 (another send right for the object, so we shouldn\325) widthshow
494.135712 614.650024 M 1.591949 0 32 (t destro) widthshow
525.347717 614.650024 M 1.591949 0 32 (y it) widthshow
180 626.983398 360 9 CR
1 G
180 626.983398 360 9 NF
0 G
3 FF
(*/) 198.0 634.81 T
0.6667 G
225.09 631.48 M
225.09 626.23 L
216 631.48 L
225.09 636.73 L
F
540 631.48 M
225.09 631.48 L
S
0 0 612 792 CR
0 G
3 FF
(yet. W) 288.0 624.65 T
(e request another no-more-senders noti\336cation instead.) 313.86 624.65 T
([211]) 185.34 645.65 T
4 FF
(kr) 288.0 645.65 T
3 FF
( = ) 296.33 645.65 T
0 FF
(mach_port_r) 306.97 645.65 T
(equest_noti\336cation) 362.89 645.65 T
3 FF
(\() 443.45 645.65 T
0 FF
(mach_task_self) 446.78 645.65 T
3 FF
(\(\), ) 512.33 645.65 T
4 FF
(object_p) 342.0 655.65 T
5 FF
<ae> 376.44 655.65 T
4 FF
(o_port) 386.31 655.65 T
3 FF
(, ) 412.98 655.65 T
(MA) 342.0 665.65 T
(CH_NO) 357.71 665.65 T
(TIFY_NO_SENDERS, ) 390.64 665.65 T
4 FF
(object_p) 342.0 675.65 T
5 FF
<ae> 376.44 675.65 T
4 FF
(o_mscount) 386.31 675.65 T
3 FF
(, ) 429.64 675.65 T
4 FF
(object_p) 434.64 675.65 T
5 FF
<ae> 469.08 675.65 T
4 FF
(o_port) 478.95 675.65 T
3 FF
(, ) 505.62 675.65 T
(MA) 342.0 685.65 T
(CH_MSG_TYPE_MAKE_SEND_ONCE, ) 357.71 685.65 T
(&) 342.0 695.65 T
4 FF
(pr) 349.78 695.65 T
(e) 358.3 695.65 T
(vious) 362.59 695.65 T
3 FF
(\);) 383.7 695.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 83 83
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (79 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([212]) 77.34 115.667 T
(if \(\() 180.0 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 195.27 115.667 T
3 FF
( != KERN_SUCCESS\) || \() 203.6 115.667 T
4 FF
(pr) 308.8 115.667 T
(e) 317.32 115.667 T
(vious) 321.61 115.667 T
3 FF
( != ) 342.72 115.667 T
(MA) 234.0 125.667 T
(CH_POR) 249.71 125.667 T
(T_NULL\)\)) 287.451 125.667 T
([213]) 77.34 137.667 T
(quit\(1, \322) 216.0 137.667 T
1 FF
(ooser) 249.33 137.667 T
(v) 272.0 137.667 T
(er) 276.9 137.667 T
3 FF
(: ) 285.78 137.667 T
1 FF
(mach_port_r) 270.0 147.667 T
(equest_noti\336cation) 325.92 147.667 T
3 FF
(: ) 406.48 147.667 T
(%s\\n\323, mach_error_string\() 270.0 157.667 T
4 FF
(kr) 376.64 157.667 T
3 FF
(\)\);) 384.97 157.667 T
([214]) 77.34 169.667 T
(}) 144.0 169.667 T
([215]) 77.34 181.667 T
1 FF
(mutex_unlock) 144.0 181.667 T
3 FF
(\(&) 204.56 181.667 T
4 FF
(g_loc) 215.67 181.667 T
(k) 237.69 181.667 T
3 FF
(\);) 242.13 181.667 T
([216]) 77.34 193.667 T
(return ) 144.0 193.667 T
4 FF
(r) 170.38 193.667 T
(esult) 173.9 193.667 T
3 FF
(;) 192.79 193.667 T
([217]) 77.34 205.667 T
(}) 108.0 205.667 T
72 209.999863 360 9 CR
1 G
72 209.999863 360 9 NF
0 G
3 FF
(/*) 91.224 217.831 T
3 SL
0 SC
0.6667 G
422.91 214.5 M
422.91 219.75 L
432 214.5 L
422.91 209.25 L
F
422.91 214.5 M
108 214.5 L
S
72 228.999847 360 9 CR
1 G
72 228.999847 360 9 NF
0 G
3 FF
(*/) 90.0 236.826 T
0.6667 G
117.09 233.5 M
117.09 228.25 L
108 233.5 L
117.09 238.75 L
F
432 233.5 M
117.09 233.5 L
S
0 0 612 792 CR
0 G
3 FF
(Return the port set into which all object ports are placed) 108.0 226.667 T
([218]) 77.34 247.667 T
(mach_port_t ) 108.0 247.667 T
4 FF
(object_list) 161.05 247.667 T
3 FF
(::) 202.72 247.667 T
1 FF
(port_set) 208.28 247.667 T
3 FF
( \(\)) 243.27 247.667 T
([219]) 77.34 259.666 T
({) 108.0 259.666 T
([220]) 77.34 271.666 T
(return ) 144.0 271.666 T
4 FF
(g_object_ports) 170.38 271.666 T
3 FF
(;) 230.38 271.666 T
([221]) 77.34 283.666 T
(}) 108.0 283.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(MIG T) 72.0 313.0 T
(ar) 107.233 313.0 T
(get Routines) 118.441 313.0 T
3 FF
72 329.666443 M 0.095673 0 32 (The follo) widthshow
108.785812 329.666443 M 0.095673 0 32 (wing routines are the actual tar) widthshow
232.664291 329.666443 M 0.095673 0 32 (get routines of the MIG generated stubs, after ini-) widthshow
72 341.666443 M 1.151611 0 32 (tial object reference processing by ) widthshow
1 FF
217.43808 341.666443 M 1.151611 0 32 (object_demux) widthshow
3 FF
277.428101 341.666443 M 1.151611 0 32 (. V) widthshow
290.200012 341.666443 M 1.151611 0 32 (irtually all w) widthshow
343.513306 341.666443 M 1.151611 0 32 (ork is done by object) widthshow
(methods.) 72.0 353.666 T
([222]) 77.34 371.666 T
(static ) 108.0 371.666 T
4 FF
(object_list) 131.61 371.666 T
3 FF
(*) 173.28 371.666 T
4 FF
(all_objects) 288.0 371.666 T
3 FF
(;) 331.89 371.666 T
72 375.999725 360 9 CR
1 G
72 375.999725 360 9 NF
0 G
3 FF
(/*) 91.224 383.831 T
0.6667 G
422.91 380.5 M
422.91 385.75 L
432 380.5 L
422.91 375.25 L
F
422.91 380.5 M
108 380.5 L
S
72 394.999695 360 9 CR
1 G
72 394.999695 360 9 NF
0 G
3 FF
(*/) 90.0 402.826 T
0.6667 G
117.09 399.5 M
117.09 394.25 L
108 399.5 L
117.09 404.75 L
F
432 399.5 M
117.09 399.5 L
S
0 0 612 792 CR
0 G
3 FF
(pointer to the global object list) 144.0 392.666 T
([223]) 77.34 413.666 T
(k) 108.0 413.666 T
(ern_return_t ) 112.9 413.666 T
1 FF
(do_object_change) 164.83 413.666 T
3 FF
( \(mach_port_t ) 241.49 413.666 T
4 FF
(port) 300.37 413.666 T
3 FF
(, int ) 317.04 413.666 T
4 FF
(value) 335.1 413.666 T
3 FF
(\)) 356.76 413.666 T
([224]) 77.34 425.666 T
({) 108.0 425.666 T
([225]) 77.34 437.666 T
4 FF
(object) 144.0 437.666 T
3 FF
(*) 168.44 437.666 T
4 FF
(object_p) 288.0 437.666 T
3 FF
( = \() 322.44 437.666 T
4 FF
(object) 336.41 437.666 T
3 FF
(*\) ) 360.85 437.666 T
4 FF
(port) 371.68 437.666 T
3 FF
(;) 388.35 437.666 T
([226]) 77.34 449.666 T
4 FF
(object_p) 144.0 449.666 T
6 (Symbol) 10 1 mymakefontmetric
6 FF
<ae> 178.44 449.666 T
1 FF
(change) 188.31 449.666 T
3 FF
( \() 218.31 449.666 T
4 FF
(value) 224.14 449.666 T
3 FF
(\);) 245.8 449.666 T
([227]) 77.34 461.666 T
(return KERN_SUCCESS;) 144.0 461.666 T
([228]) 77.34 473.666 T
(}) 108.0 473.666 T
([229]) 77.34 485.666 T
(k) 108.0 485.666 T
(ern_return_t ) 112.9 485.666 T
1 FF
(do_object_query) 164.83 485.666 T
3 FF
(\(mach_port_t ) 236.49 485.666 T
4 FF
(port) 292.87 485.666 T
3 FF
(, int *) 309.54 485.666 T
4 FF
(valuep) 332.6 485.666 T
3 FF
(\)) 359.26 485.666 T
([230]) 77.34 497.666 T
({) 108.0 497.666 T
([231]) 77.34 509.666 T
4 FF
(object) 144.0 509.666 T
3 FF
(*) 168.44 509.666 T
( ) 288.0 509.666 T
4 FF
(object_p) 290.5 509.666 T
3 FF
( = \() 324.94 509.666 T
4 FF
(object) 338.91 509.666 T
3 FF
(*\) ) 363.35 509.666 T
4 FF
(port) 374.18 509.666 T
3 FF
(;) 390.85 509.666 T
([232]) 77.34 521.666 T
(*) 144.0 521.666 T
4 FF
(valuep) 149.0 521.666 T
3 FF
( = ) 175.66 521.666 T
4 FF
(object_p) 186.3 521.666 T
6 FF
<ae> 220.74 521.666 T
1 FF
(query) 230.61 521.666 T
3 FF
(\(\);) 255.61 521.666 T
([233]) 77.34 533.666 T
(return KERN_SUCCESS;) 144.0 533.666 T
([234]) 77.34 545.666 T
(}) 108.0 545.666 T
([235]) 77.34 557.666 T
(k) 108.0 557.666 T
(ern_return_t ) 112.9 557.666 T
1 FF
(do_ooser) 164.83 557.666 T
(v) 203.06 557.666 T
(er_lookup) 207.96 557.666 T
3 FF
(\(mach_port_t ) 251.3 557.666 T
4 FF
(server) 307.68 557.666 T
3 FF
(, int ) 332.27 557.666 T
4 FF
(name) 350.33 557.666 T
3 FF
(, mach_port_t ) 371.99 557.666 T
(*) 162.0 567.666 T
4 FF
(portp) 167.0 567.666 T
3 FF
(\)) 188.67 567.666 T
([236]) 77.34 579.666 T
({) 108.0 579.666 T
([237]) 77.34 591.666 T
(*) 144.0 591.666 T
4 FF
(portp) 149.0 591.666 T
3 FF
( = ) 170.67 591.666 T
4 FF
(all_objects) 181.31 591.666 T
6 FF
<ae> 225.2 591.666 T
1 FF
<de6e645f6f725f6d616b> 235.07 591.666 T
(e) 289.98 591.666 T
3 FF
( \() 294.42 591.666 T
4 FF
(name) 300.25 591.666 T
3 FF
(\);) 321.91 591.666 T
([238]) 77.34 603.666 T
(return KERN_SUCCESS;) 144.0 603.666 T
([239]) 77.34 615.666 T
(}) 108.0 615.666 T
([240]) 77.34 627.666 T
3 FF
(k) 108.0 627.666 T
(ern_return_t ) 112.9 627.666 T
1 FF
(do_mach_notify_no_senders ) 164.83 627.666 T
3 FF
(\(mach_port_t ) 289.0 627.666 T
4 FF
(notify) 345.38 627.666 T
3 FF
(, ) 367.51 627.666 T
(mach_port_mscount_t ) 162.0 637.666 T
4 FF
(mscount) 253.94 637.666 T
3 FF
(, mach_port_name_t ) 287.27 637.666 T
4 FF
(name) 371.98 637.666 T
3 FF
(\)) 393.64 637.666 T
3 FF
([241]) 77.34 649.666 T
3 FF
({) 108.0 649.666 T
3 FF
([242]) 77.34 661.666 T
4 FF
(object) 144.0 661.666 T
3 FF
(*) 168.44 661.666 T
4 FF
(object_p) 288.0 661.666 T
3 FF
( = \() 322.44 661.666 T
4 FF
(object) 336.41 661.666 T
3 FF
(*\)) 360.85 661.666 T
4 FF
( notify) 369.18 661.666 T
3 FF
(;) 394.46 661.666 T
3 FF
([243]) 77.34 673.666 T
3 FF
(if \() 144.0 673.666 T
4 FF
(all_objects) 155.94 673.666 T
6 FF
<ae> 199.83 673.666 T
1 FF
(unr) 209.7 673.666 T
(efer) 225.08 673.666 T
(enced_object) 241.55 673.666 T
3 FF
( \() 297.09 673.666 T
4 FF
(object_p) 302.92 673.666 T
3 FF
(, ) 337.36 673.666 T
4 FF
(mscount) 342.36 673.666 T
3 FF
(\)\)) 375.69 673.666 T
3 FF
([244]) 77.34 685.666 T
3 FF
(\(v) 180.0 685.666 T
(oid\) ) 188.13 685.666 T
4 FF
(object_p) 206.74 685.666 T
6 FF
<ae> 241.18 685.666 T
1 FF
(is_ali) 251.05 685.666 T
(v) 273.18 685.666 T
(e_and_der) 278.08 685.666 T
(efer) 322.9 685.666 T
(ence) 339.37 685.666 T
3 FF
( \(\);) 358.25 685.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 84 84
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(80 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 198.0 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
396 110.48 L
S
180 124.983994 360 9 CR
1 G
180 124.983994 360 9 NF
0 G
3 FF
(*/) 198.0 132.81 T
0.6667 G
405.09 129.48 M
405.09 124.23 L
396 129.48 L
405.09 134.73 L
F
540 129.48 M
405.09 129.48 L
S
0 0 612 792 CR
0 G
3 FF
(remo) 396.0 122.651 T
(v) 416.4 122.651 T
(e global reference) 421.25 122.651 T
3 FF
([245]) 185.34 143.651 T
3 FF
(return KERN_SUCCESS;) 252.0 143.651 T
3 FF
([246]) 185.34 155.651 T
3 FF
(}) 216.0 155.651 T
3 FF
([247]) 185.34 167.651 T
3 FF
(k) 216.0 167.651 T
(ern_return_t ) 220.9 167.651 T
0 FF
(do_mach_notify_dead_name) 272.83 167.651 T
3 FF
(\(mach_port_t ) 395.61 167.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(notify) 451.99 167.651 T
3 FF
(, ) 474.12 167.651 T
(mach_port_name_t ) 270.0 177.651 T
4 FF
(name) 349.71 177.651 T
3 FF
(\)) 371.37 177.651 T
3 FF
([248]) 185.34 189.651 T
0 FF
(quit) 252.0 189.651 T
3 FF
(\(1, \322) 269.23 189.651 T
0 FF
(ooser) 287.0 189.651 T
(v) 309.67 189.651 T
(er) 314.57 189.651 T
3 FF
(: do_mach_notify_dead_name\\n\323\);) 323.45 189.651 T
3 FF
([249]) 185.34 201.651 T
3 FF
(return KERN_SUCCESS;) 252.0 201.651 T
3 FF
([250]) 185.34 213.651 T
3 FF
(}) 216.0 213.651 T
3 FF
([251]) 185.34 225.651 T
3 FF
(k) 216.0 225.651 T
(ern_return_t ) 220.9 225.651 T
0 FF
(do_mach_notify_port_deleted) 272.83 225.651 T
3 FF
(\(mach_port_t ) 400.6 225.651 T
4 FF
(notify) 456.98 225.651 T
3 FF
(, ) 479.11 225.651 T
(mach_port_name_t ) 270.0 235.651 T
4 FF
(name) 349.71 235.651 T
3 FF
(\)) 371.37 235.651 T
3 FF
([252]) 185.34 247.651 T
3 FF
({) 216.0 247.651 T
3 FF
([253]) 185.34 259.65 T
0 FF
(quit) 252.0 259.65 T
3 FF
(\(1, \322) 269.23 259.65 T
0 FF
(ooser) 287.0 259.65 T
(v) 309.67 259.65 T
(er) 314.57 259.65 T
3 FF
(: do_mach_notify_port_deleted\\n\323\);) 323.45 259.65 T
3 FF
([254]) 185.34 271.65 T
3 FF
(return KERN_F) 252.0 271.65 T
(AILURE;) 315.42 271.65 T
3 FF
([255]) 185.34 283.65 T
3 FF
(}) 216.0 283.65 T
3 FF
([256]) 185.34 295.65 T
3 FF
(k) 216.0 295.65 T
(ern_return_t ) 220.9 295.65 T
0 FF
(do_mach_notify_send_once) 272.83 295.65 T
3 FF
(\(mach_port_t ) 390.61 295.65 T
4 FF
(port) 446.99 295.65 T
3 FF
(\)) 463.66 295.65 T
3 FF
([257]) 185.34 307.65 T
3 FF
({) 216.0 307.65 T
3 FF
([258]) 185.34 319.65 T
0 FF
(quit) 252.0 319.65 T
3 FF
(\(1, \322) 269.23 319.65 T
0 FF
(ooser) 287.0 319.65 T
(v) 309.67 319.65 T
(er) 314.57 319.65 T
3 FF
(: do_mach_notify_send_once\\n\323\);) 323.45 319.65 T
3 FF
([259]) 185.34 331.65 T
3 FF
(return KERN_F) 252.0 331.65 T
(AILURE;) 315.42 331.65 T
3 FF
([260]) 185.34 343.65 T
3 FF
(}) 216.0 343.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Object Refer) 180.0 372.984 T
(ence Pr) 246.084 372.984 T
(ocessing) 284.184 372.984 T
3 FF
180 389.650391 M 0.204575 0 32 (The ) widthshow
0 FF
198.254578 389.650391 M 0.204575 0 32 (object_demux) widthshow
3 FF
258.244568 389.650391 M 0.204575 0 32 ( routine brack) widthshow
314.093811 389.650391 M 0.204575 0 32 (ets all incoming operations on an object so as to proper-) widthshow
180 401.65036 M 1.24176 0 32 (ly maintain the ) widthshow
4 FF
246.225281 401.65036 M 1.24176 0 32 (alive_count) widthshow
3 FF
292.885284 401.65036 M 1.24176 0 32 ( count. Note that a no-more-senders noti\336cation, which can) widthshow
180 413.65033 M 0.537292 0 32 (be vie) widthshow
204.447433 413.65033 M 0.537292 0 32 (wed as an operation on the global list, is still object speci\336c and must synchronize) widthshow
(with all other operations on an object \(to pre) 180.0 425.65 T
(v) 357.5 425.65 T
(ent premature unlinking of the object\).) 362.35 425.65 T
([261]) 185.34 443.65 T
(static boolean_t ) 216.0 443.65 T
0 FF
(object_demux) 281.55 443.65 T
3 FF
(\(mach_msg_header_t *) 341.54 443.65 T
4 FF
(r) 435.13 443.65 T
(equest) 438.65 443.65 T
3 FF
(, ) 464.2 443.65 T
(mach_msg_header_t *) 270.0 453.65 T
4 FF
(r) 360.26 453.65 T
(eply) 363.78 453.65 T
3 FF
(\)) 380.44 453.65 T
([262]) 185.34 465.65 T
({) 216.0 465.65 T
([263]) 185.34 477.65 T
4 FF
(object) 252.0 477.65 T
3 FF
(*) 276.44 477.65 T
4 FF
(object_p) 396.0 477.65 T
3 FF
(;) 430.44 477.65 T
180 481.983582 360 9 CR
1 G
180 481.983582 360 9 NF
0 G
3 FF
(/*) 199.224 489.815 T
0.6667 G
530.91 486.48 M
530.91 491.73 L
540 486.48 L
530.91 481.23 L
F
530.91 486.48 M
216 486.48 L
S
180 500.983582 360 9 CR
1 G
180 500.983582 360 9 NF
0 G
3 FF
(*/) 198.0 508.81 T
0.6667 G
225.09 505.48 M
225.09 500.23 L
216 505.48 L
225.09 510.73 L
F
540 505.48 M
225.09 505.48 L
S
0 0 612 792 CR
0 G
3 FF
(T) 252.0 498.65 T
(ranslate the port into an object) 257.76 498.65 T
([264]) 185.34 519.65 T
4 FF
(object_p) 252.0 519.65 T
3 FF
( = \() 286.44 519.65 T
4 FF
(object) 300.41 519.65 T
3 FF
(*\)) 324.85 519.65 T
4 FF
( r) 333.18 519.65 T
(equest) 339.2 519.65 T
6 (Symbol) 10 1 mymakefontmetric
6 FF
<ae> 364.75 519.65 T
4 FF
(msgh_local_port) 374.62 519.65 T
3 FF
(;) 442.4 519.65 T
180 523.983582 360 9 CR
1 G
180 523.983582 360 9 NF
0 G
3 FF
(/*) 199.224 531.815 T
0.6667 G
530.91 528.48 M
530.91 533.73 L
540 528.48 L
530.91 523.23 L
F
530.91 528.48 M
216 528.48 L
S
0 0 612 792 CR
0 G
3 FF
252 540.650208 M 3.446655 0 32 (It is not necessary to hold the global lock here to maintain the) widthshow
252 550.650208 M 1.517639 0 32 (e) widthshow
256.2901 550.650208 M 1.517639 0 32 (xistence of the object while we try to lock it. W) widthshow
460.916931 550.650208 M 1.517639 0 32 (e can\325) widthshow
486.404663 550.650208 M 1.517639 0 32 (t possibly be) widthshow
252 560.650208 M 2.851791 0 32 (racing with some other thread trying to delete the object \(that is,) widthshow
252 570.650146 M 0.954208 0 32 (processing a no-more-senders noti\336cation\) because the strict sequence) widthshow
252 580.650146 M 0.303604 0 32 (number ordering of these messages \(the same port is used for no-more-) widthshow
252 590.650146 M 0.805969 0 32 (senders as well as client requests\) means that no-more-senders will be) widthshow
252 600.650146 M 0.562469 0 32 (deferred \(not started\) until the other requests \(such as this one\) ha) widthshow
520.427307 600.650146 M 0.562469 0 32 (v) widthshow
525.277405 600.650146 M 0.562469 0 32 (e at) widthshow
180 612.983459 360 9 CR
1 G
180 612.983459 360 9 NF
0 G
3 FF
(*/) 198.0 620.81 T
0.6667 G
225.09 617.48 M
225.09 612.23 L
216 617.48 L
225.09 622.73 L
F
540 617.48 M
225.09 617.48 L
S
0 0 612 792 CR
0 G
3 FF
(least started \(thereby obtaining a reference\).) 252.0 610.65 T
([265]) 185.34 631.65 T
4 FF
(object_p) 252.0 631.65 T
6 FF
<ae> 286.44 631.65 T
0 FF
(synchr) 296.31 631.65 T
(onize_and_r) 325.02 631.65 T
(efer) 377.62 631.65 T
(ence) 394.09 631.65 T
3 FF
( \() 412.97 631.65 T
4 FF
(r) 418.8 631.65 T
(equest) 422.321 631.65 T
6 FF
<ae> 447.871 631.65 T
4 FF
(msgh_seqno) 457.741 631.65 T
3 FF
(\);) 507.181 631.65 T
180 635.983398 360 9 CR
1 G
180 635.983398 360 9 NF
0 G
3 FF
(/*) 199.224 643.815 T
0.6667 G
530.91 640.48 M
530.91 645.73 L
540 640.48 L
530.91 635.23 L
F
530.91 640.48 M
216 640.48 L
S
0 0 612 792 CR
0 G
3 FF
252 652.650085 M 2.976105 0 32 (If this message w) widthshow
330.538391 652.650085 M 2.976105 0 32 (as sent to a send-once right, then it must be a) widthshow
252 662.650085 M 3.556473 0 32 (le) widthshow
259.070068 662.650085 M 3.556473 0 32 (gitimate no-more-senders noti\336cation. \(W) widthshow
437.249939 662.650085 M 3.556473 0 32 (e gi) widthshow
455.27655 662.650085 M 3.556473 0 32 (v) widthshow
460.126648 662.650085 M 3.556473 0 32 (e send-once rights) widthshow
180 674.983398 360 9 CR
1 G
180 674.983398 360 9 NF
0 G
3 FF
(*/) 198.0 682.81 T
0.6667 G
225.09 679.48 M
225.09 674.23 L
216 679.48 L
225.09 684.73 L
F
540 679.48 M
225.09 679.48 L
S
0 0 612 792 CR
0 G
3 FF
(only to the k) 252.0 672.65 T
(ernel.\) Otherwise use ) 302.18 672.65 T
0 FF
(object_ser) 389.93 672.65 T
(v) 433.7 672.65 T
(er) 438.6 672.65 T
3 FF
(, passing the object.) 447.08 672.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 85 85
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (81 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([266]) 77.34 115.667 T
(if \(MA) 144.0 115.667 T
(CH_MSGH_BITS_LOCAL\() 171.65 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(r) 287.76 115.667 T
(equest) 291.28 115.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 316.83 115.667 T
4 FF
(msgh_bits) 326.7 115.667 T
3 FF
(\) == ) 367.26 115.667 T
(MA) 198.0 125.667 T
(CH_MSG_TYPE_POR) 213.71 125.667 T
(T_SEND_ONCE\)) 308.121 125.667 T
([267]) 77.34 137.667 T
3 FF
(\(v) 180.0 137.667 T
(oid\) ) 188.13 137.667 T
1 FF
(notify_ser) 206.74 137.667 T
(v) 249.41 137.667 T
(er) 254.31 137.667 T
3 FF
( \() 263.19 137.667 T
4 FF
(r) 269.02 137.667 T
(equest) 272.54 137.667 T
3 FF
(, ) 298.09 137.667 T
4 FF
(r) 303.09 137.667 T
(eply) 306.611 137.667 T
3 FF
(\);) 323.271 137.667 T
3 FF
([268]) 77.34 149.667 T
3 FF
(else) 144.0 149.667 T
72 153.999939 360 9 CR
1 G
72 153.999939 360 9 NF
0 G
3 FF
(/*) 91.224 161.831 T
3 SL
0 SC
0.6667 G
422.91 158.5 M
422.91 163.75 L
432 158.5 L
422.91 153.25 L
F
422.91 158.5 M
108 158.5 L
S
0 0 612 792 CR
0 G
3 FF
180 170.666595 M 1.809006 0 32 (W) widthshow
188.640442 170.666595 M 1.809006 0 32 (e check here for a null reply right for tw) widthshow
365.051575 170.666595 M 1.809006 0 32 (o reasons. First,) widthshow
180 180.66658 M 3.648941 0 32 (there is no sense doing w) widthshow
298.964783 180.66658 M 3.648941 0 32 (ork if the client doesn\325) widthshow
403.920654 180.66658 M 3.648941 0 32 (t care.) widthshow
180 190.666565 M 4.188843 0 32 (Secondly) widthshow
216.570358 190.666565 M 4.188843 0 32 (, this catches the case where the client sent a) widthshow
180 200.66655 M 1.281738 0 32 (message too lar) widthshow
244.593582 200.66655 M 1.281738 0 32 (ge \321 the message we ha) widthshow
349.942383 200.66655 M 1.281738 0 32 (v) widthshow
354.79248 200.66655 M 1.281738 0 32 (e is only a header) widthshow
429.499664 200.66655 M 1.281738 0 32 (,) widthshow
72 212.999863 360 9 CR
1 G
72 212.999863 360 9 NF
0 G
3 FF
(*/) 90.0 220.826 T
0.6667 G
117.09 217.5 M
117.09 212.25 L
108 217.5 L
117.09 222.75 L
F
432 217.5 M
117.09 217.5 L
S
0 0 612 792 CR
0 G
3 FF
(b) 180.0 210.667 T
(ut it does sho) 184.8 210.667 T
(w the consumption of a sequence number) 237.61 210.667 T
(.) 403.141 210.667 T
3 FF
([269]) 77.34 231.667 T
(if \() 180.0 231.667 T
4 FF
(r) 191.94 231.667 T
(equest) 195.46 231.667 T
5 FF
<ae> 221.01 231.667 T
4 FF
(msgh_r) 230.88 231.667 T
(emote) 260.51 231.667 T
3 FF
(!= MA) 284.39 231.667 T
(CH_POR) 311.571 231.667 T
(T_NULL\)) 349.311 231.667 T
3 FF
([270]) 77.34 243.667 T
(\(v) 216.0 243.667 T
(oid\) ) 224.13 243.667 T
1 FF
(object_ser) 242.74 243.667 T
(v) 286.51 243.667 T
(er ) 291.41 243.667 T
3 FF
(\() 302.79 243.667 T
4 FF
(r) 306.12 243.667 T
(equest) 309.64 243.667 T
3 FF
(, ) 335.19 243.667 T
4 FF
(r) 340.19 243.667 T
(eply) 343.711 243.667 T
3 FF
(\);) 360.371 243.667 T
72 247.999832 360 9 CR
1 G
72 247.999832 360 9 NF
0 G
3 FF
(/*) 91.224 255.831 T
0.6667 G
422.91 252.5 M
422.91 257.75 L
432 252.5 L
422.91 247.25 L
F
422.91 252.5 M
108 252.5 L
S
0 0 612 792 CR
0 G
3 FF
144 264.666504 M 1.14093 0 32 (Decrement the ) widthshow
4 FF
207.371872 264.666504 M 1.14093 0 32 (alive_count) widthshow
3 FF
254.031876 264.666504 M 1.14093 0 32 ( count. If we \336nd no references, the object) widthshow
144 274.666473 M 1.564514 0 32 (has already been unlink) widthshow
243.29361 274.666473 M 1.564514 0 32 (ed from the object chain, there are no e) widthshow
411.999817 274.666473 M 1.564514 0 32 (xtant) widthshow
144 284.666443 M 1.686401 0 32 (send rights for it, therefore no one can \336nd it, so we can delete the) widthshow
72 296.999756 360 9 CR
1 G
72 296.999756 360 9 NF
0 G
3 FF
(*/) 90.0 304.826 T
0.6667 G
117.09 301.5 M
117.09 296.25 L
108 301.5 L
117.09 306.75 L
F
432 301.5 M
117.09 301.5 L
S
0 0 612 792 CR
0 G
3 FF
(object here \(without the global lock\).) 144.0 294.666 T
([271]) 77.34 315.666 T
(if \(! ) 144.0 315.666 T
4 FF
(object_p) 161.77 315.666 T
5 FF
<ae> 196.21 315.666 T
1 FF
(is_ali) 206.08 315.666 T
(v) 228.21 315.666 T
(e_and_der) 233.11 315.666 T
(efer) 277.93 315.666 T
(ence) 294.4 315.666 T
3 FF
( \(\)\)) 313.28 315.666 T
([272]) 77.34 327.666 T
(delete ) 180.0 327.666 T
4 FF
(object_p) 206.38 327.666 T
3 FF
(;) 240.82 327.666 T
([273]) 77.34 339.666 T
(return TR) 144.0 339.666 T
(UE;) 182.76 339.666 T
([274]) 77.34 351.666 T
3 FF
(}) 108.0 351.666 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Ser) 72.0 381.0 T
(v) 89.208 381.0 T
(er Loop and Initialization) 95.088 381.0 T
3 FF
(The follo) 72.0 397.666 T
(wing is basic multi-threaded serv) 108.69 397.666 T
(er loop start-up processing.) 241.3 397.666 T
([275]) 77.34 415.666 T
(#de\336ne MAX_MSG_SIZE) 108.0 415.666 T
(512) 288.0 415.666 T
72 419.999695 360 9 CR
1 G
72 419.999695 360 9 NF
0 G
3 FF
(/*) 90.0 427.831 T
0.6667 G
422.91 424.5 M
422.91 429.75 L
432 424.5 L
422.91 419.25 L
F
422.91 424.5 M
288 424.5 L
S
0 0 612 792 CR
0 G
3 FF
288 436.666321 M 2.303955 0 32 (an upper bound on messages that) widthshow
72 448.999634 360 9 CR
1 G
72 448.999634 360 9 NF
0 G
3 FF
(*/) 90.0 456.826 T
0.6667 G
297.09 453.5 M
297.09 448.25 L
288 453.5 L
297.09 458.75 L
F
432 453.5 M
297.09 453.5 L
S
0 0 612 792 CR
0 G
3 FF
(we handle) 288.0 446.666 T
([276]) 77.34 467.666 T
(static an) 108.0 467.666 T
(y_t ) 140.9 467.666 T
1 FF
(ser) 156.18 467.666 T
(v) 168.85 467.666 T
(er_thr) 173.75 467.666 T
(ead ) 200.78 467.666 T
3 FF
(\(an) 218.28 467.666 T
(y_t ) 230.9 467.666 T
4 FF
(ar) 246.18 467.666 T
(g) 254.701 467.666 T
3 FF
(\)) 259.701 467.666 T
([277]) 77.34 479.666 T
({) 108.0 479.666 T
([278]) 77.34 491.666 T
(k) 144.0 491.666 T
(ern_return_t) 148.9 491.666 T
4 FF
(kr) 288.0 491.666 T
3 FF
(;) 296.33 491.666 T
([279]) 77.34 503.666 T
4 FF
(kr) 144.0 503.666 T
3 FF
( = ) 152.33 503.666 T
1 FF
(mach_msg_ser) 162.97 503.666 T
(v) 226.19 503.666 T
(er) 231.09 503.666 T
3 FF
(\() 239.97 503.666 T
1 FF
(object_demux) 243.3 503.666 T
3 FF
(, MAX_MSG_SIZE, ) 303.29 503.666 T
4 FF
(all_objects) 198.0 513.666 T
5 FF
<ae> 241.89 513.666 T
1 FF
(port_set) 251.76 513.666 T
3 FF
(\(\), ) 286.75 513.666 T
(MA) 198.0 523.666 T
(CH_RCV_TRAILER_TYPE\(MA) 213.71 523.666 T
(CH_MSG_TRAILE) 349.42 523.666 T
(R_FORMA) 198.0 533.666 T
(T_0\) | ) 244.121 533.666 T
(MA) 198.0 543.666 T
(CH_RCV_TRAILER_ELEMENTS\(MA) 213.71 543.666 T
(CH_RCV_T) 376.64 543.666 T
(RAILER_SEQNO\)\);) 198.0 553.666 T
72 557.999512 360 9 CR
1 G
72 557.999512 360 9 NF
0 G
3 FF
(/*) 90.0 565.831 T
0.6667 G
422.91 562.5 M
422.91 567.75 L
432 562.5 L
422.91 557.25 L
F
422.91 562.5 M
288 562.5 L
S
0 0 612 792 CR
0 G
3 FF
288 574.666138 M 6.877365 0 32 (T) widthshow
293.4104 574.666138 M 6.877365 0 32 (ell Mach to return sequence) widthshow
72 586.999512 360 9 CR
1 G
72 586.999512 360 9 NF
0 G
3 FF
(*/) 90.0 594.826 T
0.6667 G
297.09 591.5 M
297.09 586.25 L
288 591.5 L
297.09 596.75 L
F
432 591.5 M
297.09 591.5 L
S
0 0 612 792 CR
0 G
3 FF
(numbers) 288.0 584.666 T
([280]) 77.34 605.666 T
(quit\(1, \322) 144.0 605.666 T
1 FF
(ooser) 177.33 605.666 T
(v) 200.0 605.666 T
(er) 204.9 605.666 T
3 FF
(: ) 213.78 605.666 T
1 FF
(mach_msg_ser) 219.06 605.666 T
(v) 282.28 605.666 T
(er) 287.18 605.666 T
3 FF
(: %s\\n\323, mach_error_string\() 296.06 605.666 T
4 FF
(kr) 407.98 605.666 T
3 FF
(\)\);) 416.31 605.666 T
([281]) 77.34 617.666 T
(return 0;) 144.0 617.666 T
([282]) 77.34 629.666 T
(}) 108.0 629.666 T
([283]) 77.34 641.666 T
(int ) 108.0 641.666 T
1 FF
(main ) 121.06 641.666 T
3 FF
(\(int ) 145.23 641.666 T
4 FF
(ar) 161.62 641.666 T
(gc) 170.14 641.666 T
3 FF
(, char *) 179.58 641.666 T
4 FF
(ar) 209.29 641.666 T
(gv) 217.81 641.666 T
3 FF
([]\)) 227.25 641.666 T
([284]) 77.34 653.666 T
({) 108.0 653.666 T
([285]) 77.34 665.666 T
(int) 144.0 665.666 T
4 FF
(i) 288.0 665.666 T
3 FF
(, ) 290.78 665.666 T
4 FF
(num_thr) 295.78 665.666 T
(eads) 329.3 665.666 T
3 FF
(;) 347.63 665.666 T
([286]) 77.34 677.666 T
(mach_port_t) 144.0 677.666 T
4 FF
(service) 288.0 677.666 T
3 FF
(;) 316.32 677.666 T
([287]) 77.34 689.666 T
(k) 144.0 689.666 T
(ern_return_t) 148.9 689.666 T
4 FF
(kr) 288.0 689.666 T
3 FF
(;) 296.33 689.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 86 86
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(82 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([288]) 185.34 113.651 T
(switch \(ar) 252.0 113.651 T
(gc\)) 291.53 113.651 T
([289]) 185.34 125.651 T
({) 252.0 125.651 T
([290]) 185.34 137.651 T
(case 1:) 252.0 137.651 T
([291]) 185.34 149.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(num_thr) 288.0 149.651 T
(eads) 321.52 149.651 T
3 FF
( = 1;) 339.85 149.651 T
([292]) 185.34 161.651 T
(break;) 288.0 161.651 T
([293]) 185.34 173.651 T
(case 2:) 252.0 173.651 T
([294]) 185.34 185.651 T
4 FF
(num_thr) 288.0 185.651 T
(eads) 321.52 185.651 T
3 FF
( = atoi\() 339.85 185.651 T
4 FF
(ar) 368.82 185.651 T
(gv) 377.34 185.651 T
3 FF
([1]\);) 386.78 185.651 T
([295]) 185.34 197.651 T
(if \() 288.0 197.651 T
4 FF
(num_thr) 299.94 197.651 T
(eads) 333.46 197.651 T
3 FF
( >= 0\)) 351.79 197.651 T
([296]) 185.34 209.651 T
(break;) 324.0 209.651 T
([297]) 185.34 221.651 T
(def) 252.0 221.651 T
(ault:) 264.67 221.651 T
([298]) 185.34 233.651 T
(quit\(1, \322usage: ) 288.0 233.651 T
0 FF
(ooser) 349.38 233.651 T
(v) 372.05 233.651 T
(er) 376.95 233.651 T
3 FF
( [num-threads]\\n\323\);) 385.83 233.651 T
([299]) 185.34 245.65 T
(}) 252.0 245.65 T
180 249.983826 360 9 CR
1 G
180 249.983826 360 9 NF
0 G
3 FF
(/*) 199.224 257.815 T
3 SL
0.6667 G
530.91 254.48 M
530.91 259.73 L
540 254.48 L
530.91 249.23 L
F
530.91 254.48 M
216 254.48 L
S
180 268.983826 360 9 CR
1 G
180 268.983826 360 9 NF
0 G
3 FF
(*/) 198.0 276.81 T
0.6667 G
225.09 273.48 M
225.09 268.23 L
216 273.48 L
225.09 278.73 L
F
540 273.48 M
225.09 273.48 L
S
0 0 612 792 CR
0 G
3 FF
(Start object list.) 252.0 266.65 T
([300]) 185.34 287.65 T
4 FF
(all_objects) 252.0 287.65 T
3 FF
( = ne) 295.89 287.65 T
(w ) 315.72 287.65 T
4 FF
(object_list) 325.44 287.65 T
3 FF
(;) 367.11 287.65 T
180 291.983795 360 9 CR
1 G
180 291.983795 360 9 NF
0 G
3 FF
(/*) 199.224 299.815 T
0.6667 G
530.91 296.48 M
530.91 301.73 L
540 296.48 L
530.91 291.23 L
F
530.91 296.48 M
216 296.48 L
S
180 310.983765 360 9 CR
1 G
180 310.983765 360 9 NF
0 G
3 FF
(*/) 198.0 318.81 T
0.6667 G
225.09 315.48 M
225.09 310.23 L
216 315.48 L
225.09 320.73 L
F
540 315.48 M
225.09 315.48 L
S
0 0 612 792 CR
0 G
3 FF
(Service port created when ) 252.0 308.65 T
4 FF
(object_list) 358.63 308.65 T
3 FF
( w) 400.3 308.65 T
(as allocated.) 409.92 308.65 T
([301]) 185.34 329.65 T
4 FF
(service) 252.0 329.65 T
3 FF
( = \(mach_port_t\) ) 280.32 329.65 T
4 FF
(all_objects) 350.67 329.65 T
3 FF
(;) 394.56 329.65 T
([302]) 185.34 341.65 T
4 FF
(kr) 252.0 341.65 T
3 FF
( = ) 260.33 341.65 T
0 FF
(netname_check_in) 270.97 341.65 T
3 FF
(\() 350.41 341.65 T
4 FF
(name_server_port) 353.74 341.65 T
3 FF
(, \322OOServ) 427.06 341.65 T
(er\323, ) 469.12 341.65 T
0 FF
(mach_task_self) 306.0 351.65 T
3 FF
(\(\), ) 371.55 351.65 T
4 FF
(service) 383.21 351.65 T
3 FF
(\);) 411.53 351.65 T
([303]) 185.34 363.65 T
(if \() 252.0 363.65 T
4 FF
(kr) 263.94 363.65 T
3 FF
( != KERN_SUCCESS\)) 272.27 363.65 T
([304]) 185.34 375.65 T
(quit\(1, \322) 288.0 375.65 T
0 FF
(ooser) 321.33 375.65 T
(v) 344.0 375.65 T
(er) 348.9 375.65 T
3 FF
(: ) 357.78 375.65 T
0 FF
(netname_check_in) 363.06 375.65 T
3 FF
(: %s\\n\323, ) 442.5 375.65 T
(mach_error_string\() 342.0 385.65 T
4 FF
(kr) 419.2 385.65 T
3 FF
(\)\);) 427.53 385.65 T
([305]) 185.34 397.65 T
(for \() 252.0 397.65 T
4 FF
(i) 269.49 397.65 T
3 FF
( = 0; ) 272.27 397.65 T
4 FF
(i) 293.19 397.65 T
3 FF
( < ) 295.97 397.65 T
4 FF
(num_thr) 306.61 397.65 T
(eads) 340.13 397.65 T
3 FF
(; ) 358.46 397.65 T
4 FF
(i) 363.74 397.65 T
3 FF
(++\)) 366.52 397.65 T
([306]) 185.34 409.65 T
0 FF
(cthr) 288.0 409.65 T
(ead_detach) 305.59 409.65 T
3 FF
(\() 353.92 409.65 T
0 FF
(cthr) 357.25 409.65 T
(ead_f) 374.84 409.65 T
(ork) 397.92 409.65 T
3 FF
(\() 412.92 409.65 T
0 FF
(ser) 416.25 409.65 T
(v) 428.92 409.65 T
(er_thr) 433.82 409.65 T
(ead) 460.851 409.65 T
3 FF
(, 0\)\);) 475.851 409.65 T
180 413.983643 360 9 CR
1 G
180 413.983643 360 9 NF
0 G
3 FF
(/*) 199.224 421.815 T
0.6667 G
530.91 418.48 M
530.91 423.73 L
540 418.48 L
530.91 413.23 L
F
530.91 418.48 M
216 418.48 L
S
180 432.983643 360 9 CR
1 G
180 432.983643 360 9 NF
0 G
3 FF
(*/) 198.0 440.81 T
0.6667 G
225.09 437.48 M
225.09 432.23 L
216 437.48 L
225.09 442.73 L
F
540 437.48 M
225.09 437.48 L
S
0 0 612 792 CR
0 G
3 FF
(W) 252.0 430.65 T
(e service messages sent to the service port.) 260.64 430.65 T
([307]) 185.34 451.65 T
4 FF
(kr) 252.0 451.65 T
3 FF
( = ) 260.33 451.65 T
0 FF
(mach_msg_ser) 270.97 451.65 T
(v) 334.19 451.65 T
(er) 339.09 451.65 T
3 FF
(\() 347.97 451.65 T
0 FF
(ooser) 351.3 451.65 T
(v) 373.97 451.65 T
(er_ser) 378.87 451.65 T
(v) 405.42 451.65 T
(er) 410.32 451.65 T
3 FF
(, MAX_MSG_SIZE, ) 418.801 451.65 T
4 FF
(service) 504.911 451.65 T
3 FF
(, ) 533.231 451.65 T
(MA) 306.0 461.65 T
(CH_MSG_OPTION_NONE\);) 321.71 461.65 T
([308]) 185.34 473.65 T
(quit\(1, \322) 252.0 473.65 T
0 FF
(ooser) 285.33 473.65 T
(v) 308.0 473.65 T
(er) 312.9 473.65 T
3 FF
(: ) 321.78 473.65 T
0 FF
(mach_msg_ser) 327.06 473.65 T
(v) 390.28 473.65 T
(er) 395.18 473.65 T
3 FF
(: %s\\n\323, mach_error_string\() 404.06 473.65 T
4 FF
(kr) 515.98 473.65 T
3 FF
(\)\);) 524.31 473.65 T
([309]) 185.34 485.65 T
(return 0;) 252.0 485.65 T
([310]) 185.34 497.65 T
(}) 216.0 497.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Sample Client) 180.0 526.984 T
3 FF
180 543.650208 M 1.637604 0 32 (This sample client program can directly in) widthshow
358.845856 543.650208 M 1.637604 0 32 (v) widthshow
363.645966 543.650208 M 1.637604 0 32 (ok) widthshow
373.546021 543.650208 M 1.637604 0 32 (e all de\336ned methods. It does not itself) widthshow
180 555.650208 M 1.011841 0 32 (k) widthshow
184.900055 555.650208 M 1.011841 0 32 (eep track of the rights it accumulates, b) widthshow
348.973083 555.650208 M 1.011841 0 32 (ut it does detect when it releases the last right) widthshow
(for the object last located with the ) 180.0 567.65 T
4 FF
(l) 318.59 567.65 T
3 FF
( request.) 321.37 567.65 T
180 577.983521 360 9 CR
1 G
180 577.983521 360 9 NF
0 G
3 FF
(/*) 199.224 585.815 T
0.6667 G
530.91 582.48 M
530.91 587.73 L
540 582.48 L
530.91 577.23 L
F
530.91 582.48 M
216 582.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 594.65 T
0 FF
(ooclient.c) 236.84 594.65 T
3 FF
(Author: Richard P) 216.0 604.65 T
(. Dra) 288.221 604.65 T
(v) 308.011 604.65 T
(es) 312.861 604.65 T
180 616.983459 360 9 CR
1 G
180 616.983459 360 9 NF
0 G
3 FF
(*/) 198.0 624.81 T
0.6667 G
225.09 621.48 M
225.09 616.23 L
216 621.48 L
225.09 626.73 L
F
540 621.48 M
225.09 621.48 L
S
0 0 612 792 CR
0 G
3 FF
(Sample client for ) 216.0 614.65 T
0 FF
(ooser) 287.38 614.65 T
(v) 310.05 614.65 T
(er) 314.95 614.65 T
3 FF
(.) 323.28 614.65 T
([1]) 195.34 635.65 T
(#include <stdio.h>) 216.0 635.65 T
([2]) 195.34 647.65 T
(#include <mach.h>) 216.0 647.65 T
([3]) 195.34 659.65 T
(#include <mach/message.h>) 216.0 659.65 T
([4]) 195.34 671.65 T
(#include <mach_error) 216.0 671.65 T
(.h>) 304.12 671.65 T
([5]) 195.34 683.65 T
(#include <serv) 216.0 683.65 T
(ers/netname.h>) 275.09 683.65 T
([6]) 195.34 695.65 T
(#include \322) 216.0 695.65 T
0 FF
(ooser) 257.38 695.65 T
(v) 280.05 695.65 T
(er) 284.95 695.65 T
3 FF
(.h\323) 293.28 695.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 87 87
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (83 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([7]) 87.34 115.667 T
(#include \322) 108.0 115.667 T
1 FF
(object) 149.38 115.667 T
3 FF
(.h\323) 175.48 115.667 T
([8]) 87.34 127.667 T
1 FF
(main) 108.0 127.667 T
3 FF
( \(int ) 129.67 127.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(ar) 148.56 127.667 T
(gc) 157.08 127.667 T
3 FF
(, char *) 166.52 127.667 T
4 FF
(ar) 196.23 127.667 T
(gv) 204.75 127.667 T
3 FF
(\)) 214.19 127.667 T
([9]) 87.34 139.667 T
({) 108.0 139.667 T
([10]) 82.34 151.667 T
(mach_port_t) 144.0 151.667 T
4 FF
(server) 288.0 151.667 T
3 FF
(;) 312.99 151.667 T
([11]) 82.34 163.667 T
(mach_port_t) 144.0 163.667 T
4 FF
(object) 288.0 163.667 T
3 FF
(;) 312.44 163.667 T
([12]) 82.34 175.667 T
(k) 144.0 175.667 T
(ern_return_t) 148.9 175.667 T
4 FF
(kr) 288.0 175.667 T
3 FF
(;) 296.33 175.667 T
72 179.999908 360 9 CR
1 G
72 179.999908 360 9 NF
0 G
3 FF
(/*) 91.224 187.831 T
3 SL
0 SC
0.6667 G
422.91 184.5 M
422.91 189.75 L
432 184.5 L
422.91 179.25 L
F
422.91 184.5 M
108 184.5 L
S
72 198.999893 360 9 CR
1 G
72 198.999893 360 9 NF
0 G
3 FF
(*/) 90.0 206.826 T
0.6667 G
117.09 203.5 M
117.09 198.25 L
108 203.5 L
117.09 208.75 L
F
432 203.5 M
117.09 203.5 L
S
0 0 612 792 CR
0 G
3 FF
(Lookup the port for the ooservice) 144.0 196.667 T
([13]) 82.34 217.667 T
4 FF
(kr) 144.0 217.667 T
3 FF
( = ) 152.33 217.667 T
1 FF
(netname_look_up) 162.97 217.667 T
3 FF
(\() 239.09 217.667 T
4 FF
(name_server_port) 242.42 217.667 T
3 FF
(, \322\323, \322OOServ) 315.74 217.667 T
(er\323, &) 371.68 217.667 T
4 FF
(server) 396.67 217.667 T
3 FF
(\);) 421.66 217.667 T
([14]) 82.34 229.667 T
(if \() 144.0 229.667 T
4 FF
(kr) 155.94 229.667 T
3 FF
( != KERN_SUCCESS\)) 164.27 229.667 T
([15]) 82.34 241.667 T
1 FF
(quit) 180.0 241.667 T
3 FF
(\(1, \322) 197.23 241.667 T
1 FF
(ooclient) 215.0 241.667 T
3 FF
(: ) 248.33 241.667 T
1 FF
(netname_look_up) 253.61 241.667 T
3 FF
(\(OOServ) 329.73 241.667 T
(er\): %s\\n\323, ) 365.68 241.667 T
(mach_error_string\() 234.0 251.667 T
4 FF
(kr) 311.2 251.667 T
3 FF
(\)\);) 319.53 251.667 T
72 255.999832 360 9 CR
1 G
72 255.999832 360 9 NF
0 G
3 FF
(/*) 91.224 263.831 T
0.6667 G
422.91 260.5 M
422.91 265.75 L
432 260.5 L
422.91 255.25 L
F
422.91 260.5 M
108 260.5 L
S
72 274.999817 360 9 CR
1 G
72 274.999817 360 9 NF
0 G
3 FF
(*/) 90.0 282.826 T
0.6667 G
117.09 279.5 M
117.09 274.25 L
108 279.5 L
117.09 284.75 L
F
432 279.5 M
117.09 279.5 L
S
0 0 612 792 CR
0 G
3 FF
(Loop reading and e) 144.0 272.666 T
(x) 221.33 272.666 T
(ecuting commands until eof) 226.18 272.666 T
([16]) 82.34 293.666 T
4 FF
(object) 144.0 293.666 T
3 FF
( = MA) 168.44 293.666 T
(CH_POR) 194.79 293.666 T
(T_NULL;) 232.531 293.666 T
([17]) 82.34 305.666 T
(for \(;;\)) 144.0 305.666 T
([18]) 82.34 317.666 T
({) 144.0 317.666 T
([19]) 82.34 329.666 T
(char) 180.0 329.666 T
4 FF
(command) 288.0 329.666 T
3 FF
([2];) 326.88 329.666 T
([20]) 82.34 341.666 T
(int) 180.0 341.666 T
4 FF
(value) 288.0 341.666 T
3 FF
(;) 309.66 341.666 T
([21]) 82.34 353.666 T
(mach_port_urefs_t) 180.0 353.666 T
4 FF
(object_r) 288.0 353.666 T
(efs) 320.96 353.666 T
3 FF
(;) 332.07 353.666 T
([22]) 82.34 365.666 T
(printf \(\322) 180.0 365.666 T
1 FF
(ooclient) 212.49 365.666 T
3 FF
(> \322\);) 245.82 365.666 T
([23]) 82.34 377.666 T
(if \(scanf\(\322%1s\323, ) 180.0 377.666 T
4 FF
(command) 247.47 377.666 T
3 FF
(\) < 1\)) 286.35 377.666 T
([24]) 82.34 389.666 T
({) 180.0 389.666 T
([25]) 82.34 401.666 T
(printf\(\322\\n\323\);) 216.0 401.666 T
([26]) 82.34 413.666 T
(break;) 216.0 413.666 T
([27]) 82.34 425.666 T
(}) 180.0 425.666 T
([28]) 82.34 437.666 T
4 FF
(kr) 180.0 437.666 T
3 FF
( = KERN_SUCCESS;) 188.33 437.666 T
([29]) 82.34 449.666 T
(switch \() 180.0 449.666 T
4 FF
(command) 211.94 449.666 T
3 FF
([0]\)) 250.82 449.666 T
([30]) 82.34 461.666 T
({) 180.0 461.666 T
([31]) 82.34 473.666 T
(case '?':) 180.0 473.666 T
([32]) 82.34 485.666 T
(case 'h':) 180.0 485.666 T
([33]) 82.34 497.666 T
(printf \(\322Commands:\\n\323\);) 216.0 497.666 T
([34]) 82.34 509.666 T
(printf \(\322l <num> \320 lookup object port reference\\n\323\);) 216.0 509.666 T
([35]) 82.34 521.666 T
(printf \(\322d \320 de-allocate object port reference\\n\323\);) 216.0 521.666 T
([36]) 82.34 533.666 T
(printf \(\322c <num> \320 change the v) 216.0 533.666 T
(alue of the ) 344.78 533.666 T
(object\\n\323\);) 270.0 543.666 T
([37]) 82.34 555.666 T
(printf \(\322q \320 query the v) 216.0 555.666 T
(alue of the object\\n\323\);) 308.23 555.666 T
([38]) 82.34 567.666 T
(break;) 216.0 567.666 T
([39]) 82.34 579.666 T
(case 'l':) 180.0 579.666 T
([40]) 82.34 591.666 T
(if \(scanf \(\322%d\323, &) 216.0 591.666 T
4 FF
(value) 289.86 591.666 T
3 FF
(\) < 1\)) 311.52 591.666 T
([41]) 82.34 603.666 T
({) 216.0 603.666 T
([42]) 82.34 615.666 T
(printf \(\322syntax error\\n\323\);) 252.0 615.666 T
([43]) 82.34 627.666 T
(break;) 252.0 627.666 T
([44]) 82.34 639.666 T
(}) 216.0 639.666 T
72 643.99939 360 9 CR
1 G
72 643.99939 360 9 NF
0 G
3 FF
(/*) 91.224 651.831 T
0.6667 G
422.91 648.5 M
422.91 653.75 L
432 648.5 L
422.91 643.25 L
F
422.91 648.5 M
108 648.5 L
S
72 662.999329 360 9 CR
1 G
72 662.999329 360 9 NF
0 G
3 FF
(*/) 90.0 670.826 T
0.6667 G
117.09 667.5 M
117.09 662.25 L
108 667.5 L
117.09 672.75 L
F
432 667.5 M
117.09 667.5 L
S
0 0 612 792 CR
0 G
3 FF
(Lookup a send right for the object port) 216.0 660.666 T
([45]) 82.34 681.666 T
4 FF
(kr) 216.0 681.666 T
3 FF
( = ) 224.33 681.666 T
1 FF
(ooser) 234.97 681.666 T
(v) 257.64 681.666 T
(er_lookup ) 262.54 681.666 T
3 FF
(\() 308.38 681.666 T
4 FF
(server) 311.71 681.666 T
3 FF
(, ) 336.3 681.666 T
4 FF
(value) 341.3 681.666 T
3 FF
(, &) 362.96 681.666 T
4 FF
(object) 375.74 681.666 T
3 FF
(\);) 400.18 681.666 T
([46]) 82.34 693.666 T
(if \() 216.0 693.666 T
4 FF
(kr) 227.94 693.666 T
3 FF
( == KERN_SUCCESS\)) 236.27 693.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 88 88
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(84 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([47]) 190.34 113.651 T
(printf \(\322Recei) 360.0 113.651 T
(v) 415.01 113.651 T
(ed a send right for the object ) 419.86 113.651 T
(port.\\n\323\);) 414.0 123.651 T
([48]) 190.34 135.651 T
(else) 324.0 135.651 T
([49]) 190.34 147.651 T
(printf \(\322) 360.0 147.651 T
0 FF
(ooclient) 392.49 147.651 T
3 FF
(: ) 425.82 147.651 T
0 FF
(ooser) 431.1 147.651 T
(v) 453.77 147.651 T
(er_lookup) 458.67 147.651 T
3 FF
(: %s\\n\323, ) 502.01 147.651 T
(mach_error_string\() 414.0 157.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 491.2 157.651 T
3 FF
(\)\);) 499.53 157.651 T
([50]) 190.34 169.651 T
(break;) 324.0 169.651 T
([51]) 190.34 181.651 T
(case 'd':) 288.0 181.651 T
180 185.983902 360 9 CR
1 G
180 185.983902 360 9 NF
0 G
3 FF
(/*) 199.224 193.815 T
3 SL
0.6667 G
530.91 190.48 M
530.91 195.73 L
540 190.48 L
530.91 185.23 L
F
530.91 190.48 M
216 190.48 L
S
180 204.983887 360 9 CR
1 G
180 204.983887 360 9 NF
0 G
3 FF
(*/) 198.0 212.81 T
0.6667 G
225.09 209.48 M
225.09 204.23 L
216 209.48 L
225.09 214.73 L
F
540 209.48 M
225.09 209.48 L
S
0 0 612 792 CR
0 G
3 FF
(De-allocate a send right for the object port) 324.0 202.651 T
([52]) 190.34 223.651 T
4 FF
(kr) 324.0 223.651 T
3 FF
( = ) 332.33 223.651 T
0 FF
(mach_port_get_r) 342.97 223.651 T
(efs) 416.66 223.651 T
3 FF
( \() 428.32 223.651 T
0 FF
(mach_task_self) 434.15 223.651 T
3 FF
( \(\), ) 499.7 223.651 T
4 FF
(object) 378.0 233.651 T
3 FF
(, MA) 402.44 233.651 T
(CH_POR) 423.15 233.651 T
(T_RIGHT_SEND, ) 460.891 233.651 T
(&) 378.0 243.651 T
4 FF
(object_r) 385.78 243.651 T
(efs) 418.74 243.651 T
3 FF
(\);) 429.85 243.651 T
([53]) 190.34 255.65 T
(if \() 324.0 255.65 T
4 FF
(kr) 335.94 255.65 T
3 FF
( != KERN_SUCCESS\)) 344.27 255.65 T
([54]) 190.34 267.65 T
({) 324.0 267.65 T
([55]) 190.34 279.65 T
(printf \(\322) 360.0 279.65 T
0 FF
(ooclient) 392.49 279.65 T
3 FF
(: ) 425.82 279.65 T
0 FF
(mach_port_get_r) 431.1 279.65 T
(efs) 504.79 279.65 T
3 FF
(: ) 516.45 279.65 T
(%s\\n\323, mach_error_string\() 414.0 289.65 T
4 FF
(kr) 520.64 289.65 T
3 FF
(\)\);) 528.97 289.65 T
([56]) 190.34 301.65 T
(break;) 360.0 301.65 T
([57]) 190.34 313.65 T
(}) 324.0 313.65 T
([58]) 190.34 325.65 T
4 FF
(kr) 324.0 325.65 T
3 FF
( = ) 332.33 325.65 T
0 FF
(mach_port_deallocate) 342.97 325.65 T
3 FF
(\() 437.4 325.65 T
0 FF
(mach_task_self) 440.73 325.65 T
3 FF
(\(\), ) 506.28 325.65 T
4 FF
(object) 378.0 335.65 T
3 FF
(\);) 402.44 335.65 T
([59]) 190.34 347.65 T
(if \() 324.0 347.65 T
4 FF
(kr) 335.94 347.65 T
3 FF
( == KERN_SUCCESS\)) 344.27 347.65 T
([60]) 190.34 359.65 T
({) 324.0 359.65 T
([61]) 190.34 371.65 T
(if \() 360.0 371.65 T
4 FF
(object_r) 371.94 371.65 T
(efs) 404.9 371.65 T
3 FF
( == 1\)) 416.01 371.65 T
([62]) 190.34 383.65 T
({) 360.0 383.65 T
([63]) 190.34 395.65 T
(printf \(\322De-allocated the last send ) 396.0 395.65 T
(right for the object ) 450.0 405.65 T
(port.\\n\323\);) 450.0 415.65 T
([64]) 190.34 427.65 T
4 FF
(object) 396.0 427.65 T
3 FF
( = MA) 420.44 427.65 T
(CH_POR) 446.79 427.65 T
(T_NULL;) 484.531 427.65 T
([65]) 190.34 439.65 T
(}) 360.0 439.65 T
([66]) 190.34 451.65 T
(else) 360.0 451.65 T
([67]) 190.34 463.65 T
(printf \(\322De-allocated a send right ) 396.0 463.65 T
(for the object ) 450.0 473.65 T
(port.\\n\323\);) 450.0 483.65 T
([68]) 190.34 495.65 T
(}) 324.0 495.65 T
([69]) 190.34 507.65 T
(else) 324.0 507.65 T
([70]) 190.34 519.65 T
(printf \(\322) 360.0 519.65 T
0 FF
(ooclient) 392.49 519.65 T
3 FF
(: ) 425.82 519.65 T
0 FF
(mach_port_deallocate) 431.1 519.65 T
3 FF
(: ) 525.53 519.65 T
(%s\\n\323, mach_error_string\() 414.0 529.65 T
4 FF
(kr) 520.64 529.65 T
3 FF
(\)\);) 528.97 529.65 T
([71]) 190.34 541.65 T
(break;) 324.0 541.65 T
([72]) 190.34 553.65 T
(case 'c':) 288.0 553.65 T
([73]) 190.34 565.65 T
(if \(scanf \(\322%d\323, &) 324.0 565.65 T
4 FF
(value) 397.86 565.65 T
3 FF
(\) < 1\)) 419.52 565.65 T
([74]) 190.34 577.65 T
({) 324.0 577.65 T
([75]) 190.34 589.65 T
(printf \(\322syntax error\\n\323\);) 360.0 589.65 T
([76]) 190.34 601.65 T
(break;) 360.0 601.65 T
([77]) 190.34 613.65 T
(}) 324.0 613.65 T
180 617.983337 360 9 CR
1 G
180 617.983337 360 9 NF
0 G
3 FF
(/*) 199.224 625.815 T
0.6667 G
530.91 622.48 M
530.91 627.73 L
540 622.48 L
530.91 617.23 L
F
530.91 622.48 M
216 622.48 L
S
180 636.983337 360 9 CR
1 G
180 636.983337 360 9 NF
0 G
3 FF
(*/) 198.0 644.81 T
0.6667 G
225.09 641.48 M
225.09 636.23 L
216 641.48 L
225.09 646.73 L
F
540 641.48 M
225.09 641.48 L
S
0 0 612 792 CR
0 G
3 FF
(Change the v) 324.0 634.65 T
(alue of the object) 376.52 634.65 T
([78]) 190.34 655.65 T
4 FF
(kr) 324.0 655.65 T
3 FF
( = ) 332.33 655.65 T
0 FF
(object_change ) 342.97 655.65 T
3 FF
(\() 406.57 655.65 T
4 FF
(object) 409.9 655.65 T
3 FF
(, ) 434.34 655.65 T
4 FF
(value) 439.34 655.65 T
3 FF
(\);) 461.0 655.65 T
([79]) 190.34 667.65 T
(if \() 324.0 667.65 T
4 FF
(kr) 335.94 667.65 T
3 FF
( == KERN_SUCCESS\)) 344.27 667.65 T
([80]) 190.34 679.65 T
(printf \(\322Changed the object's v) 360.0 679.65 T
(alue to ) 482.64 679.65 T
(%d.\\n\323, ) 414.0 689.65 T
4 FF
(value) 447.05 689.65 T
3 FF
(\);) 468.71 689.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 89 89
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (85 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 72.0 56.824 T
(eaded Object-Oriented Example) 111.339 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([81]) 82.34 115.667 T
(else) 216.0 115.667 T
([82]) 82.34 127.667 T
(printf \(\322) 252.0 127.667 T
1 FF
(ooclient) 284.49 127.667 T
3 FF
(: ) 317.82 127.667 T
1 FF
(object_change) 323.1 127.667 T
3 FF
(: %s\\n\323, ) 384.2 127.667 T
(mach_error_string\() 306.0 137.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(kr) 383.2 137.667 T
3 FF
(\)\);) 391.53 137.667 T
([83]) 82.34 149.667 T
(break;) 216.0 149.667 T
([84]) 82.34 161.667 T
(case 'q':) 180.0 161.667 T
72 165.999924 360 9 CR
1 G
72 165.999924 360 9 NF
0 G
3 FF
(/*) 91.224 173.831 T
3 SL
0 SC
0.6667 G
422.91 170.5 M
422.91 175.75 L
432 170.5 L
422.91 165.25 L
F
422.91 170.5 M
108 170.5 L
S
72 184.999908 360 9 CR
1 G
72 184.999908 360 9 NF
0 G
3 FF
(*/) 90.0 192.826 T
0.6667 G
117.09 189.5 M
117.09 184.25 L
108 189.5 L
117.09 194.75 L
F
432 189.5 M
117.09 189.5 L
S
0 0 612 792 CR
0 G
3 FF
(Query the v) 216.0 182.667 T
(alue of the object) 262.96 182.667 T
([85]) 82.34 203.667 T
4 FF
(kr) 216.0 203.667 T
3 FF
( = ) 224.33 203.667 T
1 FF
(object_query ) 234.97 203.667 T
3 FF
(\() 293.57 203.667 T
4 FF
(object) 296.9 203.667 T
3 FF
(, &) 321.34 203.667 T
4 FF
(value) 334.12 203.667 T
3 FF
(\);) 355.78 203.667 T
([86]) 82.34 215.667 T
(if \() 216.0 215.667 T
4 FF
(kr) 227.94 215.667 T
3 FF
( == KERN_SUCCESS\)) 236.27 215.667 T
([87]) 82.34 227.667 T
(printf \(\322The object's current v) 252.0 227.667 T
(alue is ) 370.74 227.667 T
(%d.\\n\323, ) 306.0 237.667 T
4 FF
(value) 339.05 237.667 T
3 FF
(\);) 360.71 237.667 T
([88]) 82.34 249.667 T
(else) 216.0 249.667 T
([89]) 82.34 261.666 T
(printf \(\322) 252.0 261.666 T
1 FF
(ooclient) 284.49 261.666 T
3 FF
(: ) 317.82 261.666 T
1 FF
(object_query) 323.1 261.666 T
3 FF
(: %s\\n\323, ) 379.2 261.666 T
(mach_error_string\() 306.0 271.666 T
4 FF
(kr) 383.2 271.666 T
3 FF
(\)\);) 391.53 271.666 T
([90]) 82.34 283.666 T
(break;) 216.0 283.666 T
([91]) 82.34 295.666 T
(}) 180.0 295.666 T
([92]) 82.34 307.666 T
(if \() 180.0 307.666 T
4 FF
(kr) 191.94 307.666 T
3 FF
( != KERN_SUCCESS\)) 200.27 307.666 T
([93]) 82.34 319.666 T
4 FF
(object) 216.0 319.666 T
3 FF
( = MA) 240.44 319.666 T
(CH_POR) 266.79 319.666 T
(T_NULL;) 304.531 319.666 T
([94]) 82.34 331.666 T
(}) 144.0 331.666 T
([95]) 82.34 343.666 T
(e) 144.0 343.666 T
(xit\(0\);) 148.29 343.666 T
([96]) 82.34 355.666 T
(}) 108.0 355.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Mak) 72.0 385.0 T
(e\336le) 95.88 385.0 T
72 393.999695 360 9 CR
1 G
72 393.999695 360 9 NF
0 G
3 FF
(/*) 91.224 401.831 T
0.6667 G
422.91 398.5 M
422.91 403.75 L
432 398.5 L
422.91 393.25 L
F
422.91 398.5 M
108 398.5 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 108.0 410.666 T
1 FF
(Mak) 128.84 410.666 T
(e\336le) 148.74 410.666 T
3 FF
(Author: Richard P) 108.0 420.666 T
(. Dra) 180.221 420.666 T
(v) 200.011 420.666 T
(es) 204.861 420.666 T
72 432.999634 360 9 CR
1 G
72 432.999634 360 9 NF
0 G
3 FF
(*/) 90.0 440.826 T
0.6667 G
117.09 437.5 M
117.09 432.25 L
108 437.5 L
117.09 442.75 L
F
432 437.5 M
117.09 437.5 L
S
0 0 612 792 CR
0 G
3 FF
(Mak) 108.0 430.666 T
(e\336le for ) 126.23 430.666 T
1 FF
(ooser) 160.11 430.666 T
(v) 182.78 430.666 T
(er) 187.68 430.666 T
3 FF
(.) 196.01 430.666 T
([1]) 87.34 451.666 T
(all : ) 108.0 451.666 T
1 FF
(ooser) 125.78 451.666 T
(v) 148.45 451.666 T
(er) 153.35 451.666 T
3 FF
( ) 162.23 451.666 T
1 FF
(ooclient) 164.73 451.666 T
3 FF
([2]) 87.34 463.666 T
1 FF
(ooser) 108.0 463.666 T
(v) 130.67 463.666 T
(er) 135.57 463.666 T
3 FF
( : ) 144.45 463.666 T
1 FF
(ooser) 152.23 463.666 T
(v) 174.9 463.666 T
(er) 179.8 463.666 T
3 FF
(.o ) 188.131 463.666 T
1 FF
(ooser) 198.131 463.666 T
(v) 220.801 463.666 T
(erSer) 225.701 463.666 T
(v) 248.921 463.666 T
(er) 253.821 463.666 T
3 FF
(.o ) 262.151 463.666 T
1 FF
(objectSer) 272.151 463.666 T
(v) 312.591 463.666 T
(er) 317.491 463.666 T
3 FF
(.o) 325.822 463.666 T
([3]) 87.34 475.666 T
($\(CC\) \320o $@ ) 144.0 475.666 T
1 FF
(ooser) 200.71 475.666 T
(v) 223.38 475.666 T
(er) 228.28 475.666 T
3 FF
(.o ) 236.61 475.666 T
1 FF
(ooser) 246.61 475.666 T
(v) 269.28 475.666 T
(erSer) 274.181 475.666 T
(v) 297.401 475.666 T
(er) 302.301 475.666 T
3 FF
(.o ) 310.631 475.666 T
1 FF
(objectSer) 320.631 475.666 T
(v) 361.071 475.666 T
(er) 365.971 475.666 T
3 FF
(.o \320lthreads \320) 374.301 475.666 T
(lmach \320lc++) 198.0 485.666 T
([4]) 87.34 497.666 T
1 FF
(ooser) 108.0 497.666 T
(v) 130.67 497.666 T
(er) 135.57 497.666 T
3 FF
(.o : ) 143.9 497.666 T
1 FF
(ooser) 159.18 497.666 T
(v) 181.85 497.666 T
(er) 186.751 497.666 T
3 FF
(.h ) 195.081 497.666 T
1 FF
(object) 205.081 497.666 T
3 FF
(.h ) 231.181 497.666 T
1 FF
(ooser) 241.181 497.666 T
(v) 263.851 497.666 T
(er) 268.751 497.666 T
3 FF
(.c) 277.081 497.666 T
([5]) 87.34 509.666 T
($\(CC_PLUS_PLUS\) \320c ) 144.0 509.666 T
1 FF
(ooser) 242.34 509.666 T
(v) 265.01 509.666 T
(er) 269.91 509.666 T
3 FF
(.c) 278.24 509.666 T
([6]) 87.34 521.666 T
1 FF
(ooclient) 108.0 521.666 T
3 FF
( : ) 141.33 521.666 T
1 FF
(ooclient) 149.11 521.666 T
3 FF
(.o ) 182.44 521.666 T
1 FF
(ooser) 192.44 521.666 T
(v) 215.11 521.666 T
(erUser) 220.01 521.666 T
3 FF
(.o ) 248.33 521.666 T
1 FF
(objectUser) 258.33 521.666 T
3 FF
(.o) 303.871 521.666 T
([7]) 87.34 533.666 T
($\(CC\) \320o $@ ) 144.0 533.666 T
1 FF
(ooclient) 200.71 533.666 T
3 FF
(.o ) 234.04 533.666 T
1 FF
(ooser) 244.04 533.666 T
(v) 266.71 533.666 T
(erUser) 271.61 533.666 T
3 FF
(.o ) 299.93 533.666 T
1 FF
(objectUser) 309.93 533.666 T
3 FF
(.o \320lmach) 355.471 533.666 T
([8]) 87.34 545.666 T
1 FF
(ooclient) 108.0 545.666 T
3 FF
(.o : ) 141.33 545.666 T
1 FF
(ooser) 156.61 545.666 T
(v) 179.28 545.666 T
(er) 184.18 545.666 T
3 FF
(.h ) 192.51 545.666 T
1 FF
(object) 202.51 545.666 T
3 FF
(.h) 228.61 545.666 T
([9]) 87.34 557.666 T
1 FF
(ooser) 108.0 557.666 T
(v) 130.67 557.666 T
(er) 135.57 557.666 T
3 FF
(.h ) 143.9 557.666 T
1 FF
(ooser) 153.9 557.666 T
(v) 176.57 557.666 T
(erUser) 181.471 557.666 T
3 FF
(.c ) 209.791 557.666 T
1 FF
(ooser) 219.231 557.666 T
(v) 241.901 557.666 T
(erSer) 246.801 557.666 T
(v) 270.021 557.666 T
(er) 274.921 557.666 T
3 FF
(.c : ) 283.251 557.666 T
1 FF
(ooser) 297.971 557.666 T
(v) 320.641 557.666 T
(er) 325.542 557.666 T
3 FF
(.defs) 333.872 557.666 T
([10]) 82.34 569.666 T
(mig ) 144.0 569.666 T
1 FF
(ooser) 162.06 569.666 T
(v) 184.73 569.666 T
(er) 189.63 569.666 T
3 FF
(.defs) 197.96 569.666 T
([11]) 82.34 581.666 T
1 FF
(object) 108.0 581.666 T
3 FF
(.h ) 134.1 581.666 T
1 FF
(objectUser) 144.1 581.666 T
3 FF
(.c ) 189.64 581.666 T
1 FF
(objectSer) 199.08 581.666 T
(v) 239.52 581.666 T
(er) 244.42 581.666 T
3 FF
(.c : ) 252.751 581.666 T
1 FF
(object) 267.471 581.666 T
3 FF
(.defs) 293.571 581.666 T
([12]) 82.34 593.666 T
(mig ) 144.0 593.666 T
1 FF
(object) 162.06 593.666 T
3 FF
(.defs) 188.16 593.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 90 90
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(86 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Multi-Thr) 180.0 56.824 T
(eaded IPC\320Based Ser) 219.339 56.824 T
(v) 302.247 56.824 T
(ers) 306.657 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 91 91
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (87 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (CHAPTER 7) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (External Memory ) ashow
180 146 M -0.479736 0 (Managers) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666626 M 0.817947 0 32 (Perhaps the most no) widthshow
155.133926 367.666626 M 0.817947 0 32 (v) widthshow
159.984009 367.666626 M 0.817947 0 32 (el of Mach\325) widthshow
207.720215 367.666626 M 0.817947 0 32 (s features is its support for e) widthshow
325.237976 367.666626 M 0.817947 0 32 (xternal \(to the k) widthshow
391.191895 367.666626 M 0.817947 0 32 (ernel, that) widthshow
72 379.666565 M 0.77449 0 32 (is\) memory managers. The basic dialog between the memory manager) widthshow
359.620667 379.666565 M 0.77449 0 32 (, which maintains) widthshow
72 391.666504 M 0.478317 0 32 (the \322backing store\323 representing an abstract memory object, and the k) widthshow
355.783264 391.666504 M 0.478317 0 32 (ernel, which main-) widthshow
72 403.666443 M 0.288422 0 32 (tains the ph) widthshow
118.636871 403.666443 M 0.288422 0 32 (ysical memory cache \(memory cache object\) of data from the abstract memo-) widthshow
72 415.666382 M 2.016907 0 32 (ry object, is described in the ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
199.36145 415.666382 M 2.016907 0 32 (K) widthshow
205.681641 415.666382 M 2.016907 0 32 (ernel Principles) widthshow
4 FF
271.858551 415.666382 M 2.016907 0 32 ( document. This chapter looks at that) widthshow
72 427.666321 M 0.79689 0 32 (dialog in more detail, e) widthshow
167.527649 427.666321 M 0.79689 0 32 (xamining a simple e) widthshow
250.598404 427.666321 M 0.79689 0 32 (xample of a memory manager and consider-) widthshow
(ing other details that a memory manager must co) 72.0 439.666 T
(v) 267.38 439.666 T
(er) 272.23 439.666 T
(.) 279.45 439.666 T
72 480.999512 360 3.024002 CR
432 482.51 M
72 482.51 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Ov) 72.0 477.333 T
(er) 89.752 477.333 T
(view) 102.044 477.333 T
4 FF
72 501.690125 M 0.96492 0 32 (Because of the in\336nite v) widthshow
172.819824 501.690125 M 0.96492 0 32 (ariety of e) widthshow
215.139755 501.690125 M 0.96492 0 32 (xternal memory managers that could be written, it is) widthshow
72 513.690063 M 0.842972 0 32 (dif) widthshow
82.860138 513.690063 M 0.842972 0 32 <de63756c7420696e206120646f63756d656e742073756368206173207468697320746f2070726f> widthshow
243.893997 513.690063 M 0.842972 0 32 (vide suf) widthshow
276.427124 513.690063 M 0.842972 0 32 <de6369656e746c792067656e6572616c20696e666f726d6174696f6e20666f722074686f7365> widthshow
72 525.690002 M 0.599243 0 32 (wishing to write an arbitrary manager) widthshow
225.246536 525.690002 M 0.599243 0 32 (. In principle, all of the information that one needs) widthshow
72 537.689941 M 0.266266 0 32 (appears in the ) widthshow
5 FF
130.838806 537.689941 M 0.266266 0 32 (K) widthshow
137.158997 537.689941 M 0.266266 0 32 (ernel Principles) widthshow
4 FF
201.585266 537.689941 M 0.266266 0 32 ( and ) widthshow
5 FF
221.5578 537.689941 M 0.266266 0 32 (K) widthshow
227.877991 537.689941 M 0.266266 0 32 (ernel Interfaces) widthshow
4 FF
291.184265 537.689941 M 0.266266 0 32 ( documents. Practice, ho) widthshow
389.773193 537.689941 M 0.266266 0 32 (we) widthshow
401.18335 537.689941 M 0.266266 0 32 (v) widthshow
406.033447 537.689941 M 0.266266 0 32 (er) widthshow
413.403656 537.689941 M 0.266266 0 32 (, has) widthshow
(sho) 72.0 549.69 T
(wn that producing a correct e) 85.64 549.69 T
(xternal memory manager is a dif) 202.4 549.69 T
<de63756c74207461736b2e> 332.4 549.69 T
72 573.689819 M 0.431519 0 32 (This chapter discusses in detail the mechanics of basic memory managers, such as might) widthshow
72 585.689758 M 0.781479 0 32 (appear in the def) widthshow
141.164505 585.689758 M 0.781479 0 32 (ault memory manager) widthshow
229.937775 585.689758 M 0.781479 0 32 (. The initial discussion concerns the basics of the) widthshow
72 597.689697 M 1.627228 0 32 (page-in / page-out path, re) widthshow
183.509064 597.689697 M 1.627228 0 32 (vie) widthshow
195.479202 597.689697 M 1.627228 0 32 (wing the k) widthshow
240.853714 597.689697 M 1.627228 0 32 (ernel interactions and considering the interac-) widthshow
72 609.689636 M 1.6138 0 32 (tions with backing storage that a simple manager w) widthshow
290.340454 609.689636 M 1.6138 0 32 (ould encounter) widthshow
351.114563 609.689636 M 1.6138 0 32 (. Of course, not all) widthshow
72 621.689575 M 1.769104 0 32 (managers ha) widthshow
123.829224 621.689575 M 1.769104 0 32 (v) widthshow
128.679306 621.689575 M 1.769104 0 32 (e separate backing store; some might back storage in their o) widthshow
385.520508 621.689575 M 1.769104 0 32 (wn address) widthshow
72 633.689514 M 0.14682 0 32 (space \(such as a shared memory serv) widthshow
220.461029 633.689514 M 0.14682 0 32 (er\) or not back storage at all, if the) widthshow
359.505676 633.689514 M 0.14682 0 32 (y reconstruct pag-) widthshow
(es when needed.) 72.0 645.689 T
72 669.689392 M 0.342102 0 32 (Ev) widthshow
82.960083 669.689392 M 0.342102 0 32 (entually the discussion leads to an e) widthshow
228.182785 669.689392 M 0.342102 0 32 (xample manager that supports both a paging and a) widthshow
72 681.689331 M 1.006119 0 32 (message interf) widthshow
130.946182 681.689331 M 1.006119 0 32 (ace to a memory object. This simple e) widthshow
290.039124 681.689331 M 1.006119 0 32 (xample illustrates the use of much) widthshow
72 693.68927 M 1.453018 0 32 (of the k) widthshow
105.356094 693.68927 M 1.453018 0 32 (ernel mechanisms and interf) widthshow
222.645218 693.68927 M 1.453018 0 32 (aces. In particular) widthshow
296.511475 693.68927 M 1.453018 0 32 (, the e) widthshow
323.427612 693.68927 M 1.453018 0 32 (xample raises the issue of) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 92 92
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(88 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650635 M 0.941498 0 32 (maintaining consistenc) widthshow
272.731567 113.650635 M 0.941498 0 32 (y between the page images held by the k) widthshow
442.353638 113.650635 M 0.941498 0 32 (ernel in its memory ob-) widthshow
180 125.650574 M 1.967117 0 32 (ject cache v) widthshow
230.984329 125.650574 M 1.967117 0 32 (ersus the page image a manager might hold \(or that other k) widthshow
488.312683 125.650574 M 1.967117 0 32 (ernels might) widthshow
180 137.650513 M 0.143814 0 32 (hold\). The discussion leading to the chapter\325) widthshow
358.343201 137.650513 M 0.143814 0 32 (s e) widthshow
369.167114 137.650513 M 0.143814 0 32 (xample considers the simple case of main-) widthshow
(taining strict read\320write consistenc) 180.0 149.65 T
(y between a single manager and a single k) 319.55 149.65 T
(ernel.) 488.3 149.65 T
180 173.650391 M 0.345688 0 32 (After the e) widthshow
223.301468 173.650391 M 0.345688 0 32 (xample, more adv) widthshow
295.672974 173.650391 M 0.345688 0 32 (anced topics are discussed, b) widthshow
412.105865 173.650391 M 0.345688 0 32 (ut in less detail. Some ideas are) widthshow
180 185.65033 M 0.379974 0 32 (pro) widthshow
193.180084 185.65033 M 0.379974 0 32 (vided for managers that are multi-threaded, although much of these concerns are co) widthshow
531.669922 185.65033 M 0.379974 0 32 (v-) widthshow
(ered in CHAPTER 4.) 180.0 197.65 T
180 221.650208 M 0.459061 0 32 (The chapter also includes a brief discussion of consistenc) widthshow
412.922607 221.650208 M 0.459061 0 32 (y management between k) widthshow
516.119873 221.650208 M 0.459061 0 32 (ernels) widthshow
180 233.650146 M 0.957672 0 32 (sharing a memory object. A full discussion of this topic \(distrib) widthshow
442.976837 233.650146 M 0.957672 0 32 (uted shared memory\) is) widthshow
(be) 180.0 245.65 T
(yond the scope of this te) 189.29 245.65 T
(xt.) 286.63 245.65 T
180 286.983337 360 3.024002 CR
0.25 SL
2 SC
540 288.5 M
180 288.5 L
S
0 0 612 792 CR
4 (Times-Bold) 14 1 mymakefontmetric
4 FF
(Role of a Memory Manager) 180.0 283.317 T
3 FF
(A memory manager has tw) 180.0 307.674 T
(o responsibilities:) 288.21 307.674 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 325.674 T
3 FF
193.535995 325.673889 M 0.540314 0 32 <d250> widthshow
203.386078 325.673889 M 0.540314 0 32 (aging\323 the memory object \(supplying data to the k) widthshow
408.698669 325.673889 M 0.540314 0 32 (ernel to satisfy page-in requests,) widthshow
(accepting the \(modi\336ed\) data back for storage to satisfy page-out requests\).) 193.536 337.674 T
5 FF
<a5> 180.0 352.674 T
3 FF
193.535995 352.673767 M 1.248322 0 32 (Pro) widthshow
207.276077 352.673767 M 1.248322 0 32 (viding consistenc) widthshow
278.094482 352.673767 M 1.248322 0 32 (y between backing store and the k) widthshow
421.564484 352.673767 M 1.248322 0 32 (ernel\325) widthshow
444.334778 352.673767 M 1.248322 0 32 (s memory object cache) widthshow
(or the memory object caches of multiple k) 193.536 364.674 T
(ernels.) 362.576 364.674 T
(One w) 180.0 388.674 T
(ould write a memory manager if one had speci\336c requirements for:) 206.28 388.674 T
5 FF
<a5> 180.0 406.674 T
3 FF
193.535995 406.673584 M 1.656448 0 32 (Backing storage management \(such as the source of storage or its format, such as) widthshow
(compressed or encrypted\).) 193.536 418.674 T
5 FF
<a5> 180.0 433.673 T
3 FF
193.535995 433.673462 M 0.06488 0 32 (Consistenc) widthshow
237.276077 433.673462 M 0.06488 0 32 (y management of the backing store v) widthshow
385.265442 433.673462 M 0.06488 0 32 (ersus the memory cache. Examples in-) widthshow
193.535995 445.673401 M 2.103729 0 32 (clude mapped \336le support, transaction-based virtual memory or distrib) widthshow
492.075958 445.673401 M 2.103729 0 32 (uted shared) widthshow
(memory) 193.536 457.673 T
(.) 226.216 457.673 T
5 FF
<a5> 180.0 472.673 T
3 FF
193.535995 472.673279 M 1.601334 0 32 (P) widthshow
198.946075 472.673279 M 1.601334 0 32 (aging mechanisms. The memory manager has direct in) widthshow
428.605652 472.673279 M 1.601334 0 32 (v) widthshow
433.405762 472.673279 M 1.601334 0 32 (olv) widthshow
446.035828 472.673279 M 1.601334 0 32 (ement with the paging) widthshow
193.535995 484.673218 M 0.139465 0 32 (mechanisms for the objects it manages. It has indirect in\337uence on o) widthshow
468.770203 484.673218 M 0.139465 0 32 (v) widthshow
473.6203 484.673218 M 0.139465 0 32 (erall paging pol-) widthshow
(ic) 193.536 496.673 T
(y by its actions.) 200.606 496.673 T
180 520.673096 M 0.878403 0 32 (This chapter concentrates on the issues of mechanism and consistenc) widthshow
463.535736 520.673096 M 0.878403 0 32 (y) widthshow
467.886108 520.673096 M 0.878403 0 32 (. The issue of the) widthshow
(management of backing store proper is out of scope for this v) 180.0 532.673 T
(olume.) 425.59 532.673 T
180 574.006287 360 3.024002 CR
540 575.52 M
180 575.52 L
S
0 0 612 792 CR
4 FF
(Memory Object State) 180.0 570.34 T
3 FF
180 594.696899 M 0.599243 0 32 (Most of the services of a memory manager concern indi) widthshow
408.703369 594.696899 M 0.599243 0 32 (vidual pages or ranges of pages.) widthshow
180 606.696838 M 0.331802 0 32 (Certain operations, mostly initialization and termination, concern the memory object as a) widthshow
(whole.) 180.0 618.697 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Initialization) 180.0 650.03 T
3 FF
(There are tw) 180.0 666.697 T
(o broad phases of memory object initialization.) 230.43 666.697 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 93 93
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (89 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Memory Object State) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 1.281616 0 32 (A port representing the memory object representati) widthshow
283.839844 115.666656 M 1.281616 0 32 (v) widthshow
288.689941 115.666656 M 1.281616 0 32 (e must be created and made a) widthshow
413.919769 115.666656 M 1.281616 0 32 (v) widthshow
418.669922 115.666656 M 1.281616 0 32 (ail-) widthshow
72 127.666641 M 0.853302 0 32 (able to clients that wish to ) widthshow
1 FF
184.339813 127.666641 M 0.853302 0 32 (vm_map) widthshow
3 FF
221.559814 127.666641 M 0.853302 0 32 ( the object. There is nothing special about this port) widthshow
72 139.666626 M 0.595657 0 32 (relati) widthshow
92.30014 139.666626 M 0.595657 0 32 (v) widthshow
97.150223 139.666626 M 0.595657 0 32 (e to port management. The memory manager is free to destro) widthshow
347.67688 139.666626 M 0.595657 0 32 (y it when it chooses.) widthshow
72 151.666611 M 1.464081 0 32 (Normally) widthshow
109.680359 151.666611 M 1.464081 0 32 (, this w) widthshow
141.678574 151.666611 M 1.464081 0 32 (ould not be done until the object is kno) widthshow
309.251343 151.666611 M 1.464081 0 32 (wn to not be in use \(until all) widthshow
1 FF
72 163.666595 M 3.198654 0 32 (memory_object_terminate) widthshow
3 FF
185.290024 163.666595 M 3.198654 0 32 ( messages ha) widthshow
243.697449 163.666595 M 3.198654 0 32 (v) widthshow
248.547531 163.666595 M 3.198654 0 32 (e been recei) widthshow
302.445007 163.666595 M 3.198654 0 32 (v) widthshow
307.295074 163.666595 M 3.198654 0 32 (ed\). If the memory manager) widthshow
3 FF
72 175.66658 M 1.629974 0 32 (trusts its clients not to send spurious messages then the manager can use the abstract) widthshow
(memory object port as one of its memory object representati) 72.0 187.667 T
(v) 313.1 187.667 T
(es.) 317.95 187.667 T
3 FF
72 211.66655 M 0.193283 0 32 (The abstract memory object is not kno) widthshow
226.779846 211.66655 M 0.193283 0 32 (wn to the k) widthshow
271.979736 211.66655 M 0.193283 0 32 (ernel until some client performs a ) widthshow
1 FF
410.339478 211.66655 M 0.193283 0 32 (vm_-) widthshow
72 223.666534 M 0.065796 0 32 (map) widthshow
3 FF
90.889999 223.666534 M 0.065796 0 32 ( operation ag) widthshow
143.181625 223.666534 M 0.065796 0 32 (ainst the memory object representati) widthshow
288.724976 223.666534 M 0.065796 0 32 (v) widthshow
293.575043 223.666534 M 0.065796 0 32 (e port. This results in a ) widthshow
1 FF
388.129822 223.666534 M 0.065796 0 32 (memory_-) widthshow
72 235.666519 M 1.015396 0 32 (object_notify) widthshow
3 FF
128.100006 235.666519 M 1.015396 0 32 ( message being sent to the memory manager) widthshow
312.128113 235.666519 M 1.015396 0 32 (. The manager responds with) widthshow
1 FF
(memory_object_establish) 72.0 247.667 T
3 FF
( when ready) 180.87 247.667 T
(.) 229.09 247.667 T
72 271.666504 M 1.871796 0 32 (The memory cache control port is the important v) widthshow
285.584534 271.666504 M 1.871796 0 32 (alue in the ) widthshow
1 FF
335.359924 271.666504 M 1.871796 0 32 (memory_object_notify) widthshow
3 FF
72 283.666473 M 0.415344 0 32 (message. The manager sa) widthshow
175.23616 283.666473 M 0.415344 0 32 (v) widthshow
180.086243 283.666473 M 0.415344 0 32 (es this port as the identi\336cation of the object being manipulat-) widthshow
3 FF
72 295.666443 M 2.147751 0 32 (ed by future k) widthshow
134.163315 295.666443 M 2.147751 0 32 (ernel requests. All k) widthshow
221.046631 295.666443 M 2.147751 0 32 (ernel\320-to\320manager messages \(e) widthshow
351.262238 295.666443 M 2.147751 0 32 (xcept ) widthshow
1 FF
377.570007 295.666443 M 2.147751 0 32 (memory_ob-) widthshow
72 307.666443 M 0.200729 0 32 (ject_terminate) widthshow
3 FF
134.190018 307.666443 M 0.200729 0 32 (\) pro) widthshow
153.400833 307.666443 M 0.200729 0 32 (vide a send right to this memory cache control port. These e) widthshow
395.418945 307.666443 M 0.200729 0 32 (xtra send) widthshow
(rights accumulate in the manager which must handle and dispose of them appropriately) 72.0 319.666 T
(.) 420.74 319.666 T
72 343.666382 M 0.795364 0 32 (It is common practice to merely count these accumulated rights and to de-allocate them) widthshow
(in b) 72.0 355.666 T
(unches, thereby a) 87.08 355.666 T
(v) 156.58 355.666 T
(oiding a \(common\) e) 161.38 355.666 T
(xtra k) 244.83 355.666 T
(ernel interaction.) 267.78 355.666 T
4 (Times-Bold) 12 1 mymakefontmetric
4 FF
(T) 72.0 387.0 T
(ermination) 78.901 387.0 T
3 FF
72 403.66629 M 1.186096 0 32 (At some future time, unkno) widthshow
186.764526 403.66629 M 1.186096 0 32 (wn to the manager) widthshow
264.073059 403.66629 M 1.186096 0 32 (, all clients will ) widthshow
1 FF
332.987427 403.66629 M 1.186096 0 32 (vm_deallocate) widthshow
3 FF
394.087433 403.66629 M 1.186096 0 32 ( their ac-) widthshow
72 415.66626 M 0.561523 0 32 (cesses to the object. This will cause a ) widthshow
1 FF
228.412201 415.66626 M 0.561523 0 32 (memory_object_terminate) widthshow
3 FF
341.702209 415.66626 M 0.561523 0 32 ( message to be sent to) widthshow
72 427.66626 M 0.704956 0 32 (the manager) widthshow
121.305267 427.66626 M 0.704956 0 32 (. The reception of the ) widthshow
1 FF
213.14006 427.66626 M 0.704956 0 32 (memory_object_terminate) widthshow
3 FF
326.430084 427.66626 M 0.704956 0 32 ( message causes the man-) widthshow
(ager to break its abstract memory object\320memory cache object association.) 72.0 439.666 T
3 FF
72 463.666199 M 0.920898 0 32 (Alternately) widthshow
116.340363 463.666199 M 0.920898 0 32 (, the manager can in) widthshow
200.434189 463.666199 M 0.920898 0 32 (v) widthshow
205.234299 463.666199 M 0.920898 0 32 (ok) widthshow
215.134354 463.666199 M 0.920898 0 32 (e ) widthshow
1 FF
222.995255 463.666199 M 0.920898 0 32 (memory_object_destr) widthshow
316.115356 463.666199 M 0.920898 0 32 (oy ) widthshow
3 FF
329.536255 463.666199 M 0.920898 0 32 (to destro) widthshow
365.077209 463.666199 M 0.920898 0 32 (y the object; the) widthshow
72 475.666138 M 0.887711 0 32 (k) widthshow
76.900055 475.666138 M 0.887711 0 32 (ernel\325) widthshow
99.670364 475.666138 M 0.887711 0 32 (s response is the same \() widthshow
1 FF
198.258926 475.666138 M 0.887711 0 32 (memory_object_terminate) widthshow
3 FF
311.54895 475.666138 M 0.887711 0 32 (\). If the manager de-allocates) widthshow
72 487.666077 M 1.276855 0 32 (the abstract memory object port \(as w) widthshow
230.641205 487.666077 M 1.276855 0 32 (ould happen if it died\), the result is the same as) widthshow
1 FF
72 499.666016 M 1.114914 0 32 (memory_object_destr) widthshow
165.120117 499.666016 M 1.114914 0 32 (oy) widthshow
3 FF
174.470474 499.666016 M 1.114914 0 32 (. Destro) widthshow
207.145447 499.666016 M 1.114914 0 32 (ying the object discards its pages. An e) widthshow
370.889954 499.666016 M 1.114914 0 32 (xplicit lock re-) widthshow
(quest \(\337ush\) sequence should be used if the pages are desired.) 72.0 511.666 T
72 535.665894 M 1.940872 0 32 (There is a race between the deli) widthshow
210.015396 535.665894 M 1.940872 0 32 (v) widthshow
214.865479 535.665894 M 1.940872 0 32 (ery of the ) widthshow
1 FF
261.508118 535.665894 M 1.940872 0 32 (memory_object_terminate) widthshow
3 FF
374.798126 535.665894 M 1.940872 0 32 ( message and) widthshow
72 547.665833 M 1.070709 0 32 (manager in) widthshow
117.380936 547.665833 M 1.070709 0 32 (v) widthshow
122.181046 547.665833 M 1.070709 0 32 (ok) widthshow
132.0811 547.665833 M 1.070709 0 32 (ed operations upon the object. That is, the k) widthshow
315.526855 547.665833 M 1.070709 0 32 (ernel can send the terminate) widthshow
72 559.665771 M 0.408401 0 32 (message \(and disa) widthshow
145.376923 559.665771 M 0.408401 0 32 (v) widthshow
150.177032 559.665771 M 0.408401 0 32 (o) widthshow
154.92717 559.665771 M 0.408401 0 32 (w an) widthshow
174.345657 559.665771 M 0.408401 0 32 (y kno) widthshow
197.004196 559.665771 M 0.408401 0 32 (wledge of the object\) before the manager realizes this and) widthshow
72 571.665771 M 0.064117 0 32 (is therefore still trying to manipulate the object. F) widthshow
270.963013 571.665771 M 0.064117 0 32 (or this reason, the ) widthshow
1 FF
344.819519 571.665771 M 0.064117 0 32 (memory_object_ter-) widthshow
72 583.66571 M 0.933792 0 32 (minate) widthshow
3 FF
101.440002 583.66571 M 0.933792 0 32 ( message includes the recei) widthshow
213.785324 583.66571 M 0.933792 0 32 (v) widthshow
218.635406 583.66571 M 0.933792 0 32 (e right to the memory cache control port. When the) widthshow
72 595.66571 M 0.517654 0 32 (manager recei) widthshow
128.627808 595.66571 M 0.517654 0 32 (v) widthshow
133.47789 595.66571 M 0.517654 0 32 (es the memory cache control port, it should drain an) widthshow
346.286865 595.66571 M 0.517654 0 32 (y messages from this) widthshow
72 607.66571 M 0.899963 0 32 (port, if the) widthshow
115.590012 607.66571 M 0.899963 0 32 (y carry v) widthshow
152.680084 607.66571 M 0.899963 0 32 (aluable information. This w) widthshow
266.380035 607.66571 M 0.899963 0 32 (ould be the case if ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
346.139862 607.66571 M 0.899963 0 32 (pr) widthshow
354.660065 607.66571 M 0.899963 0 32 (ecious) widthshow
3 FF
380.210083 607.66571 M 0.899963 0 32 ( pages could) widthshow
(ha) 72.0 619.666 T
(v) 81.24 619.666 T
(e been supplied to the k) 86.09 619.666 T
(ernel during this race.) 180.7 619.666 T
3 FF
72 643.665649 M 0.572464 0 32 (It does not follo) widthshow
137.07753 643.665649 M 0.572464 0 32 (w that when a memory object is terminated that no clients hold rights to) widthshow
72 655.665649 M 0.826187 0 32 (the memory object representati) widthshow
198.368713 655.665649 M 0.826187 0 32 (v) widthshow
203.218796 655.665649 M 0.826187 0 32 (e port. Indeed, the ) widthshow
1 FF
281.50354 655.665649 M 0.826187 0 32 (memory_object_terminate) widthshow
3 FF
394.793579 655.665649 M 0.826187 0 32 ( message) widthshow
72 667.665649 M 2.032959 0 32 (may be follo) widthshow
126.366058 667.665649 M 2.032959 0 32 (wed by a subsequent ) widthshow
1 FF
220.037903 667.665649 M 2.032959 0 32 (memory_object_notify) widthshow
3 FF
316.677917 667.665649 M 2.032959 0 32 ( message. Of course, when) widthshow
72 679.665649 M 1.027176 0 32 (multiple k) widthshow
113.767227 679.665649 M 1.027176 0 32 (ernels are in) widthshow
164.291809 679.665649 M 1.027176 0 32 (v) widthshow
169.091919 679.665649 M 1.027176 0 32 (olv) widthshow
181.722 679.665649 M 1.027176 0 32 (ed, multiple initialization messages can be recei) widthshow
378.995209 679.665649 M 1.027176 0 32 (v) widthshow
383.845276 679.665649 M 1.027176 0 32 (ed from the) widthshow
(v) 72.0 691.666 T
(arious k) 76.75 691.666 T
(ernels.) 108.59 691.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 94 94
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(90 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Re-Initialization) 180.0 114.984 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
180 131.650665 M 0.211594 0 32 (If a manager maintains multiple memory object representati) widthshow
420.911316 131.650665 M 0.211594 0 32 (v) widthshow
425.761414 131.650665 M 0.211594 0 32 (es for a gi) widthshow
465.856323 131.650665 M 0.211594 0 32 (v) widthshow
470.706421 131.650665 M 0.211594 0 32 (en abstract mem-) widthshow
180 143.65065 M 1.617966 0 32 (ory object port, the manager may see multiple ) widthshow
0 FF
379.303741 143.65065 M 1.617966 0 32 (memory_object_notify) widthshow
4 FF
475.943756 143.65065 M 1.617966 0 32 ( messages. The) widthshow
180 155.650635 M 0.348618 0 32 <de727374206f662074686573652070726f> widthshow
246.165939 155.650635 M 0.348618 0 32 (vides the true memory cache control port. The rest carry rights that were) widthshow
180 167.65062 M 1.271622 0 32 (generated by the k) widthshow
257.304932 167.65062 M 1.271622 0 32 (ernel on the assumption that the ne) widthshow
404.114807 167.65062 M 1.271622 0 32 (w memory object representati) widthshow
526.819824 167.65062 M 1.271622 0 32 (v) widthshow
531.669922 167.65062 M 1.271622 0 32 (es) widthshow
180 179.650604 M 0.411301 0 32 (represented distinct memory objects. The manager\325) widthshow
387.016846 179.650604 M 0.411301 0 32 (s ) widthshow
0 FF
393.818115 179.650604 M 0.411301 0 32 (memory_object_r) widthshow
469.718262 179.650604 M 0.411301 0 32 (epr) widthshow
483.978333 179.650604 M 0.411301 0 32 (esentati) widthshow
516.648438 179.650604 M 0.411301 0 32 (v) widthshow
521.548462 179.650604 M 0.411301 0 32 (e) widthshow
4 FF
525.988464 179.650604 M 0.411301 0 32 ( re-) widthshow
180 191.650589 M 0.059967 0 32 (ply will destro) widthshow
237.799988 191.650589 M 0.059967 0 32 (y these rights when the k) widthshow
337.7099 191.650589 M 0.059967 0 32 (ernel learns the correct abstract object to represen-) widthshow
(tati) 180.0 203.651 T
(v) 192.53 203.651 T
(e binding.) 197.38 203.651 T
180 227.650558 M 0.669891 0 32 (The ) widthshow
0 FF
198.719894 227.650558 M 0.669891 0 32 (memory_object_r) widthshow
274.619995 227.650558 M 0.669891 0 32 (epr) widthshow
288.880127 227.650558 M 0.669891 0 32 (esentati) widthshow
321.550171 227.650558 M 0.669891 0 32 (v) widthshow
326.450226 227.650558 M 0.669891 0 32 (e) widthshow
4 FF
330.890228 227.650558 M 0.669891 0 32 ( message may race with the k) widthshow
452.559631 227.650558 M 0.669891 0 32 (ernel\325) widthshow
475.329956 227.650558 M 0.669891 0 32 (s termination of) widthshow
180 239.650543 M 0.938416 0 32 (the underlying memory object \(since the k) widthshow
354.950562 239.650543 M 0.938416 0 32 (ernel does not yet kno) widthshow
446.774353 239.650543 M 0.938416 0 32 (w the representati) widthshow
519.491333 239.650543 M 0.938416 0 32 (v) widthshow
524.341431 239.650543 M 0.938416 0 32 (e to) widthshow
180 251.650528 M 1.821625 0 32 (object association\). The ) widthshow
0 FF
283.224884 251.650528 M 1.821625 0 32 (memory_object_terminate) widthshow
4 FF
396.514893 251.650528 M 1.821625 0 32 ( and ) widthshow
0 FF
419.598145 251.650528 M 1.821625 0 32 (memory_object_notify) widthshow
4 FF
516.238159 251.650528 M 1.821625 0 32 ( mes-) widthshow
180 263.650513 M 0.48526 0 32 (sages are sent via dif) widthshow
265.00119 263.650513 M 0.48526 0 32 (ferent ports. Hence, the) widthshow
359.887085 263.650513 M 0.48526 0 32 (y are not naturally ordered in deli) widthshow
496.408783 263.650513 M 0.48526 0 32 (v) widthshow
501.25885 263.650513 M 0.48526 0 32 (ery to the) widthshow
180 275.650513 M 0.789948 0 32 (memory manager and the manager may process them out of order) widthshow
450.619812 275.650513 M 0.789948 0 32 (. The k) widthshow
480.14978 275.650513 M 0.789948 0 32 (ernel may as a) widthshow
180 287.650482 M 0.777435 0 32 (result discard a ) widthshow
0 FF
245.372314 287.650482 M 0.777435 0 32 (memory_object_r) widthshow
321.27243 287.650482 M 0.777435 0 32 (epr) widthshow
335.532532 287.650482 M 0.777435 0 32 (esentati) widthshow
368.202576 287.650482 M 0.777435 0 32 (v) widthshow
373.102661 287.650482 M 0.777435 0 32 (e) widthshow
4 FF
377.542664 287.650482 M 0.777435 0 32 ( message and re-issue the ) widthshow
0 FF
485.569824 287.650482 M 0.777435 0 32 (memory_ob-) widthshow
180 299.650452 M 0.762177 0 32 (ject_notify) widthshow
4 FF
225.540009 299.650452 M 0.762177 0 32 ( message. Seeing a repeated ) widthshow
0 FF
343.760925 299.650452 M 0.762177 0 32 (memory_object_notify) widthshow
4 FF
440.40094 299.650452 M 0.762177 0 32 ( message may seem lik) widthshow
535.559692 299.650452 M 0.762177 0 32 (e) widthshow
180 311.650452 M 0.142624 0 32 (a signal that the object w) widthshow
280.323181 311.650452 M 0.142624 0 32 (as terminated b) widthshow
341.508545 311.650452 M 0.142624 0 32 (ut it may just mean that the representati) widthshow
500.297058 311.650452 M 0.142624 0 32 (v) widthshow
505.147156 311.650452 M 0.142624 0 32 (e associ-) widthshow
180 323.650452 M 0.557327 0 32 (ation has been terminated. Although it is possible, in principle, to fully track the state of) widthshow
180 335.650421 M 0.575943 0 32 (the abstract and representati) widthshow
293.388 335.650421 M 0.575943 0 32 (v) widthshow
298.238068 335.650421 M 0.575943 0 32 (e ports, doing so requires tracking no-more-sender noti\336ca-) widthshow
(tions on these ports which are not naturally ordered \(being on dif) 180.0 347.65 T
(ferent ports\).) 439.43 347.65 T
(The easiest w) 180.0 371.65 T
(ay to maintain correct beha) 234.33 371.65 T
(vior is the follo) 342.99 371.65 T
(wing:) 404.13 371.65 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 389.65 T
4 FF
193.535995 389.650391 M 1.181335 0 32 (When a ) widthshow
0 FF
229.218674 389.650391 M 1.181335 0 32 (memory_object_notify) widthshow
4 FF
325.858704 389.650391 M 1.181335 0 32 ( message is recei) widthshow
396.632843 389.650391 M 1.181335 0 32 (v) widthshow
401.48291 389.650391 M 1.181335 0 32 (ed for a representati) widthshow
484.467102 389.650391 M 1.181335 0 32 (v) widthshow
489.317169 389.650391 M 1.181335 0 32 (e whose un-) widthshow
193.535995 401.65036 M 0.366135 0 32 (derlying abstract object has no memory cache association, sa) widthshow
439.825195 401.65036 M 0.366135 0 32 (v) widthshow
444.675293 401.65036 M 0.366135 0 32 (e the cache control port) widthshow
193.535995 413.65033 M 0.435486 0 32 (in the abstract object\320memory cache association. Respond with ) widthshow
0 FF
453.369904 413.65033 M 0.435486 0 32 (memory_object_est-) widthshow
(ablish) 193.536 425.65 T
4 FF
(.) 219.106 425.65 T
5 FF
<a5> 180.0 440.65 T
4 FF
193.535995 440.65033 M 0.809097 0 32 (When a ) widthshow
0 FF
228.474197 440.65033 M 0.809097 0 32 (memory_object_terminate) widthshow
4 FF
341.764221 440.65033 M 0.809097 0 32 ( \(or ) widthshow
0 FF
360.042419 440.65033 M 0.809097 0 32 (memory_object_r) widthshow
435.942535 440.65033 M 0.809097 0 32 (ejected) widthshow
4 FF
465.922546 440.65033 M 0.809097 0 32 (\) message is seen,) widthshow
(break the abstract object\320memory cache association.) 193.536 452.65 T
5 FF
<a5> 180.0 467.65 T
4 FF
193.535995 467.650269 M 1.428375 0 32 (If an abstract object\320memory cache association is kno) widthshow
419.624786 467.650269 M 1.428375 0 32 (wn, respond to ) widthshow
0 FF
485.569916 467.650269 M 1.428375 0 32 (memory_ob-) widthshow
(ject_notify) 193.536 479.65 T
4 FF
( messages with ) 239.076 479.65 T
0 FF
(memory_object_r) 302.126 479.65 T
(epr) 378.026 479.65 T
(esentati) 392.286 479.65 T
(v) 424.956 479.65 T
(e) 429.856 479.65 T
4 FF
(.) 434.296 479.65 T
180 520.983521 360 3.024002 CR
0.25 SL
2 SC
540 522.5 M
180 522.5 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(P) 180.0 517.317 T
(age-in and P) 188.414 517.317 T
(age-out) 262.95 517.317 T
4 FF
180 541.674133 M 1.315689 0 32 (The basic k) widthshow
228.631439 541.674133 M 1.315689 0 32 (ernel page-in request and k) widthshow
342.094269 541.674133 M 1.315689 0 32 (ernel page-out e) widthshow
408.895813 541.674133 M 1.315689 0 32 (viction path for a page is f) widthshow
521.669983 541.674133 M 1.315689 0 32 (airly) widthshow
180 553.674072 M 0.419266 0 32 (simple. What complicates the situation is the asynchronous nature of this path and its re-) widthshow
(lationship to the \(typically asynchronous\) backing store update path.) 180.0 565.674 T
3 FF
(In-T) 180.0 597.007 T
(ransit P) 202.452 597.007 T
(ages) 242.665 597.007 T
4 FF
180 613.67395 M 0.92308 0 32 (The v) widthshow
203.723221 613.67395 M 0.92308 0 32 (arious states of a page \(as visible to the memory manager\) for the basic page-in /) widthshow
(page-out path are sho) 180.0 625.674 T
(wn in FIGURE 1.) 265.56 625.674 T
(The k) 180.0 649.674 T
(ernel mak) 202.95 649.674 T
(es a v) 242.56 649.674 T
(ariety of guarantees in) 265.08 649.674 T
(v) 353.82 649.674 T
(olving its protocol:) 358.621 649.674 T
5 FF
<a5> 180.0 667.674 T
4 FF
193.535995 667.673828 M 2.321503 0 32 (No page-in requests \() widthshow
0 FF
286.310516 667.673828 M 2.321503 0 32 (memory_object_data_r) widthshow
386.100647 667.673828 M 2.321503 0 32 (equest) widthshow
4 FF
413.320618 667.673828 M 2.321503 0 32 (\) will be made for a resident) widthshow
(page.) 193.536 679.674 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 95 95
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (91 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(P) 72.0 56.824 T
(age-in and P) 77.409 56.824 T
(age-out) 125.325 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 72.0 389.627 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
85.535995 389.626648 M 0.608704 0 32 (No page-in request will be made for a page with an outstanding \(unsatis\336ed\) page-in) widthshow
(request.) 85.536 401.627 T
3 FF
<a5> 72.0 416.627 T
4 FF
85.535995 416.626587 M 0.806229 0 32 (P) widthshow
90.946075 416.626587 M 0.806229 0 32 (age-out requests \() widthshow
1 FF
163.648544 416.626587 M 0.806229 0 32 (memory_object_data_r) widthshow
263.43866 416.626587 M 0.806229 0 32 (etur) widthshow
281.058746 416.626587 M 0.806229 0 32 (n) widthshow
4 FF
286.618744 416.626587 M 0.806229 0 32 (\) will precede a subsequent page-in) widthshow
4 FF
(request for the same page.) 85.536 428.627 T
72 452.626526 M 1.087753 0 32 (The page-in path by itself presents no special dif) widthshow
274.862183 452.626526 M 1.087753 0 32 <de63756c7479> widthshow
299.772522 452.626526 M 1.087753 0 32 (. The k) widthshow
329.898102 452.626526 M 1.087753 0 32 (ernel will request a page) widthshow
72 464.626465 M 1.695511 0 32 (\() widthshow
1 FF
75.330002 464.626465 M 1.695511 0 32 (memory_object_data_r) widthshow
175.120117 464.626465 M 1.695511 0 32 (equest) widthshow
4 FF
202.340118 464.626465 M 1.695511 0 32 (\). The manager will request the page from its backing) widthshow
72 476.626434 M 0.19458 0 32 (store; when the page is recei) widthshow
186.303055 476.626434 M 0.19458 0 32 (v) widthshow
191.153137 476.626434 M 0.19458 0 32 (ed it can be supplied to the k) widthshow
307.125244 476.626434 M 0.19458 0 32 (ernel \() widthshow
1 FF
333.139832 476.626434 M 0.19458 0 32 (memory_object_data_-) widthshow
72 488.626404 M 0.129349 0 32 (supply) widthshow
4 FF
100.349991 488.626404 M 0.129349 0 32 (\). When a page is e) widthshow
177.386887 488.626404 M 0.129349 0 32 (victed, it will be supplied by the k) widthshow
314.302368 488.626404 M 0.129349 0 32 (ernel to the manager \() widthshow
1 FF
402.569794 488.626404 M 0.129349 0 32 (memo-) widthshow
(ry_object_data_r) 72.0 500.626 T
(etur) 145.69 500.626 T
(n) 163.31 500.626 T
4 FF
(\). The manager will write the page out to its backing store.) 168.87 500.626 T
4 FF
72 524.626343 M 0.952454 0 32 (The dif) widthshow
101.862595 524.626343 M 0.952454 0 32 <de63756c74792070726573656e74656420697320636175736564206279207468652072656c6174696f6e73686970206265747765656e2074686520706167652d6f757420616e6420706167652d696e> widthshow
72 536.626282 M 0.35701 0 32 (paths. The k) widthshow
121.774078 536.626282 M 0.35701 0 32 (ernel may request a page that it has just e) widthshow
289.427307 536.626282 M 0.35701 0 32 (victed. That is, since the k) widthshow
395.822449 536.626282 M 0.35701 0 32 (ernel has) widthshow
72 548.626221 M 1.159088 0 32 (no kno) widthshow
100.409225 548.626221 M 1.159088 0 32 (wledge or understanding of the manager\325) widthshow
270.334991 548.626221 M 1.159088 0 32 (s interaction with its backing store, the) widthshow
72 560.62616 M 1.047287 0 32 (k) widthshow
76.900055 560.62616 M 1.047287 0 32 (ernel may request a page that is in transit to the manager\325) widthshow
316.99054 560.62616 M 1.047287 0 32 (s backing store. This means) widthshow
72 572.626099 M 0.238449 0 32 (that the manager cannot just blindly send pages \(asynchronously\) to its backing store and) widthshow
72 584.626038 M 0.236893 0 32 (for) widthshow
83.480103 584.626038 M 0.236893 0 32 (get about them; the manager must k) widthshow
228.121521 584.626038 M 0.236893 0 32 (eep track of outstanding backing store acti) widthshow
398.703033 584.626038 M 0.236893 0 32 (vities so) widthshow
72 596.625977 M 0.704987 0 32 (that, if the k) widthshow
122.345016 596.625977 M 0.704987 0 32 (ernel should request a page on transit to the backing store, the manager can) widthshow
72 608.625916 M 0.520508 0 32 (either supply a cop) widthshow
149.281586 608.625916 M 0.520508 0 32 (y it is still holding or the manager will w) widthshow
316.926208 608.625916 M 0.520508 0 32 (ait for the page to be kno) widthshow
419.779419 608.625916 M 0.520508 0 32 (wn) widthshow
72 620.625854 M 1.259232 0 32 (to ha) widthshow
92.779343 620.625854 M 1.259232 0 32 (v) widthshow
97.629425 620.625854 M 1.259232 0 32 (e to reached the backing store \(a reply w) widthshow
269.773376 620.625854 M 1.259232 0 32 (as recei) widthshow
301.042725 620.625854 M 1.259232 0 32 (v) widthshow
305.892822 620.625854 M 1.259232 0 32 (ed\) before requesting the page) widthshow
(ag) 72.0 632.626 T
(ain from backing store.) 81.39 632.626 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(P) 72.0 663.959 T
(age \322Stealing\323) 79.212 663.959 T
4 FF
72 680.625732 M 1.667435 0 32 (Whene) widthshow
100.070145 680.625732 M 1.667435 0 32 (v) widthshow
104.920227 680.625732 M 1.667435 0 32 (er a page is sent to the k) widthshow
212.862335 680.625732 M 1.667435 0 32 (ernel in a ) widthshow
1 FF
257.574646 680.625732 M 1.667435 0 32 (memory_object_data_supply ) widthshow
4 FF
385.62207 680.625732 M 1.667435 0 32 (message or) widthshow
4 FF
72 692.625732 M 0.819046 0 32 (sent to the manager in a ) widthshow
1 FF
174.674286 692.625732 M 0.819046 0 32 (memory_object_data_r) widthshow
274.464417 692.625732 M 0.819046 0 32 (etur) widthshow
292.084473 692.625732 M 0.819046 0 32 (n ) widthshow
4 FF
300.963531 692.625732 M 0.819046 0 32 (message \(or in interactions with) widthshow
63 108 378 273.960022 CR
1 G
63 108 378 273.960022 NF
72 351 360 27 NF
72 351 360 13.031998 CR
0 G
432 357.52 M
144 357.52 L
S
0 SC
135 357.52 M
72 357.52 L
S
63 108 378 273.960022 CR
6 (Helvetica-Bold) 9 1 mymakefontmetric
6 FF
(FIGURE  1) 72.0 371.032 T
2 FF
(Basic P) 144.0 371.032 T
(age-in / P) 172.161 371.032 T
(age-out P) 208.071 371.032 T
(ath) 244.224 371.032 T
1 G
0 360 99 36 382.5 324 AF
0.5 SL
0 G
0 360 99 36 382.5 324 AS
4 FF
(in-k) 364.456 328.413 T
(ernel) 380.466 328.413 T
1 G
0 360 99 36 121.5 216 AF
0 G
0 360 99 36 121.5 216 AS
(backing-store) 94.292 220.413 T
1 G
0 360 99 36 382.5 216 AF
0 G
0 360 99 36 382.5 216 AS
(manager) 347.063 220.413 T
(-memory) 381.293 220.413 T
1 G
0 360 99 36 229.5 297 AF
0 G
0 360 99 36 229.5 297 AS
(being-written) 202.568 301.413 T
1 G
0 360 99 36 229.5 135 AF
0 G
0 360 99 36 229.5 135 AS
(being-read) 208.125 139.413 T
402.72 243.99 M
406.02 243.93 L
402.51 232.46 L
399.41 244.05 L
F
402.72 244 M
403.87 307.76 L
S
363.22 295.88 M
359.92 295.87 L
363.19 307.41 L
366.53 295.89 L
F
363.24 295.89 M
363.44 232.61 L
S
286.46 288.2 M
283.93 286.06 L
278.99 296.99 L
288.98 290.34 L
F
286.46 288.21 M
339.77 225.08 L
S
143.8 242.61 M
146.54 240.77 L
137.36 233.05 L
141.06 244.46 L
F
143.8 242.62 M
180 297 L
S
176.98 151.24 M
179.62 153.24 L
183.95 142.05 L
174.35 149.24 L
F
176.99 151.24 M
140.8 199.42 L
S
338.61 195.9 M
336.5 198.45 L
347.49 203.27 L
340.73 193.36 L
F
338.62 195.91 M
274.18 142.75 L
S
7 (Times-Roman) 12 1 mymakefontmetric
7 FF
(DS) 342.0 268.397 T
(DR) 409.0 267.993 T
(WR) 295.679 286.397 T
(R) 298.0 160.397 T
(W) 144.0 279.191 T
(RR) 146.001 160.397 T
1 G
189 180 108 81 NF
0 G
(DS) 189.0 187.667 T
4 FF
<d16461746120737570706c696564> 204.336 187.667 T
7 FF
(DR) 189.0 199.667 T
4 FF
<d1646174612072657475726e6564> 205.668 199.667 T
7 FF
(RR) 189.0 211.667 T
4 FF
<d17265616420726571756573746564> 205.008 211.667 T
7 FF
(R) 189.0 223.666 T
4 FF
<d17265616420646f6e65> 197.004 223.666 T
7 FF
(WR) 189.0 235.666 T
4 FF
<d1777269746520726571756573746564> 208.332 235.666 T
7 FF
(W) 189.0 247.666 T
4 FF
<d1777269746520646f6e65> 200.328 247.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 96 96
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(92 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.632278 0 32 (backing store, most lik) widthshow
272.906891 113.650665 M 0.632278 0 32 (ely\), it is logically copied. Performance is clearly impro) widthshow
501.115234 113.650665 M 0.632278 0 32 (v) widthshow
505.965302 113.650665 M 0.632278 0 32 (ed if the) widthshow
180 125.65065 M 1.417801 0 32 (page is not ph) widthshow
240.033432 125.65065 M 1.417801 0 32 (ysically copied. A page can be ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
373.230255 125.65065 M 1.417801 0 32 (stolen) widthshow
3 FF
397.120239 125.65065 M 1.417801 0 32 ( \(that is, directly mo) widthshow
483.471558 125.65065 M 1.417801 0 32 (v) widthshow
488.321625 125.65065 M 1.417801 0 32 (ed \(mapped\)) widthshow
180 137.650635 M 1.86557 0 32 (from one place to another\) if three conditions hold: the page is in memory) widthshow
499.392792 137.650635 M 1.86557 0 32 (, it is not) widthshow
180 149.65062 M 1.21936 0 32 (shared and if it is de-allocated from its source as it is sent in the message \(de-allocate) widthshow
180 161.650604 M 0.540726 0 32 <df616720736574292e20546865206b> widthshow
241.512238 161.650604 M 0.540726 0 32 (ernel transfers pages to the manager in this w) widthshow
426.808105 161.650604 M 0.540726 0 32 (ay) widthshow
435.59848 161.650604 M 0.540726 0 32 (. ) widthshow
0 FF
441.139221 161.650604 M 0.540726 0 32 (memory_object_data_-) widthshow
(supply) 180.0 173.651 T
3 FF
( allo) 208.35 173.651 T
(ws the manager to specify the de-allocation of the pages it is sending.) 225.6 173.651 T
180 197.650543 M 1.423264 0 32 (Unfortunately) widthshow
235.450363 197.650543 M 1.423264 0 32 (, Mach does not track uses of indi) widthshow
380.143372 197.650543 M 1.423264 0 32 (vidual pages, and therefore cannot tell) widthshow
180 209.650482 M 0.835953 0 32 (whether an indi) widthshow
243.63205 209.650482 M 0.835953 0 32 (vidual page is shared or not. The page stealing code relies on the object) widthshow
180 221.650421 M 0.560608 0 32 (reference count that records all mappings or other uses of the object. If the count is one,) widthshow
180 233.65036 M 1.021072 0 32 (then the object is not shared, and if the object is shared, then the count will be at least) widthshow
180 245.650299 M 0.335953 0 32 (tw) widthshow
189.900055 245.650299 M 0.335953 0 32 (o. F) widthshow
205.646088 245.650299 M 0.335953 0 32 (alse page sharing will be seen when disjoint ranges of an object are mapped. Man-) widthshow
180 257.650238 M 0.524979 0 32 (agers must therefore a) widthshow
269.955078 257.650238 M 0.524979 0 32 (v) widthshow
274.755188 257.650238 M 0.524979 0 32 (oid creating such mappings \(e.g., by de-allocating memory in the) widthshow
(middle of the object\). T) 180.0 269.65 T
(w) 273.91 269.65 T
(o possible techniques are:) 281.031 269.65 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 287.65 T
3 FF
(Creating a separate \(b) 193.536 287.65 T
(uf) 280.806 287.65 T
(fer\) re) 288.886 287.65 T
(gion of memory and using it sequentially) 313.436 287.65 T
5 FF
<a5> 180.0 302.65 T
3 FF
193.535995 302.650055 M 0.26123 0 32 (P) widthshow
198.946075 302.650055 M 0.26123 0 32 (assing memory obtained directly from the Mach de) widthshow
405.214844 302.650055 M 0.26123 0 32 (vice interf) widthshow
446.196136 302.650055 M 0.26123 0 32 (ace \(which returns data) widthshow
(in ne) 193.536 314.65 T
(wly created memory objects\).) 213.006 314.65 T
180 355.983215 360 3.024002 CR
0.25 SL
2 SC
540 357.5 M
180 357.5 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Strict K) 180.0 352.317 T
(er) 227.474 352.317 T
(nel and Manager P) 239.696 352.317 T
(age Consistency) 353.502 352.317 T
3 FF
180 376.673859 M 0.77446 0 32 (The e) widthshow
203.114548 376.673859 M 0.77446 0 32 (xternal memory management interactions may in) widthshow
402.947083 376.673859 M 0.77446 0 32 (v) widthshow
407.747192 376.673859 M 0.77446 0 32 (olv) widthshow
420.377258 376.673859 M 0.77446 0 32 (e multiple pages, b) widthshow
498.050781 376.673859 M 0.77446 0 32 (ut the) widthshow
521.175293 376.673859 M 0.77446 0 32 (y al-) widthshow
180 388.673798 M 1.336899 0 32 (w) widthshow
187.120056 388.673798 M 1.336899 0 32 (ays deal with whole pages. Because these interactions are asynchronous, it is not, in) widthshow
180 400.673737 M 0.327942 0 32 (general, possible for the memory manager to kno) widthshow
378.675751 400.673737 M 0.327942 0 32 (w precisely the state of the pages at an) widthshow
534.99939 400.673737 M 0.327942 0 32 (y) widthshow
180 412.673676 M 0.118286 0 32 (gi) widthshow
187.530136 412.673676 M 0.118286 0 32 (v) widthshow
192.380219 412.673676 M 0.118286 0 32 (en time. That is, a page may be in-transit \(in a message\) or in the process of being ma-) widthshow
(nipulated by the k) 180.0 424.674 T
(ernel \(or the hardw) 251.84 424.674 T
(are\).) 328.1 424.674 T
180 448.673553 M 0.725708 0 32 (A simple memory manager such as the def) widthshow
355.780029 448.673553 M 0.725708 0 32 (ault manager is not concerned with this class) widthshow
180 460.673492 M 0.599899 0 32 (of dif) widthshow
202.290039 460.673492 M 0.599899 0 32 <de63756c7479> widthshow
227.200394 460.673492 M 0.599899 0 32 (. This manager does not synchronize with k) widthshow
405.719757 460.673492 M 0.599899 0 32 (ernel manipulations \(actually cli-) widthshow
180 472.673431 M 1.38855 0 32 (ent manipulations\) of the pages. The manager deals with one k) widthshow
444.575562 472.673431 M 1.38855 0 32 (ernel; if that k) widthshow
505.021301 472.673431 M 1.38855 0 32 (ernel re-) widthshow
180 484.67337 M 1.716385 0 32 (quests a page, the manager kno) widthshow
313.302063 484.67337 M 1.716385 0 32 (ws its contents are the current contents; if that k) widthshow
520.009644 484.67337 M 1.716385 0 32 (ernel) widthshow
180 496.673309 M 1.043549 0 32 (returns the page, the result must be the latest contents. No other k) widthshow
454.052673 496.673309 M 1.043549 0 32 (ernel interactions are) widthshow
(meaningful.) 180.0 508.673 T
180 532.673218 M 1.527435 0 32 (Some memory managers, ho) widthshow
298.762451 532.673218 M 1.527435 0 32 (we) widthshow
310.172607 532.673218 M 1.527435 0 32 (v) widthshow
315.022675 532.673218 M 1.527435 0 32 (er) widthshow
322.392883 532.673218 M 1.527435 0 32 (, need to manipulate their pages at times other than) widthshow
(when the k) 180.0 544.673 T
(ernel v) 223.78 544.673 T
(oluntarily gi) 251.07 544.673 T
(v) 299.99 544.673 T
(es up access. Possible reasons for this are:) 304.84 544.673 T
5 FF
<a5> 180.0 562.673 T
3 FF
(The manager supports a message interf) 193.536 562.673 T
(ace to access the memory object.) 349.786 562.673 T
5 FF
<a5> 180.0 577.673 T
3 FF
193.535995 577.672974 M 0.487167 0 32 (Lik) widthshow
207.32605 577.672974 M 0.487167 0 32 (e the netw) widthshow
249.300446 577.672974 M 0.487167 0 32 (ork shared memory serv) widthshow
347.532043 577.672974 M 0.487167 0 32 (er) widthshow
354.902283 577.672974 M 0.487167 0 32 (, the manager needs to pro) widthshow
462.718201 577.672974 M 0.487167 0 32 (vide the latest con-) widthshow
(tents of the page to another node.) 193.536 589.673 T
5 FF
<a5> 180.0 604.673 T
3 FF
193.535995 604.672852 M 1.179459 0 32 (The manager is pro) widthshow
274.40448 604.672852 M 1.179459 0 32 (viding transaction semantics for the pages and needs their v) widthshow
523.339722 604.672852 M 1.179459 0 32 (alue) widthshow
(when a client \322commits\323 them.) 193.536 616.673 T
(These memory managers need to synchronize with k) 180.0 640.673 T
(ernel manipulations of the pages.) 390.69 640.673 T
180 664.672729 M 0.561371 0 32 (There are a v) widthshow
233.904266 664.672729 M 0.561371 0 32 (ariety of consistenc) widthshow
312.637085 664.672729 M 0.561371 0 32 (y policies that a memory manager may pro) widthshow
487.776794 664.672729 M 0.561371 0 32 (vide with re-) widthshow
180 676.672607 M 0.638763 0 32 (spect to the vie) widthshow
241.936432 676.672607 M 0.638763 0 32 (w that it and its multiple clients \(or k) widthshow
394.726593 676.672607 M 0.638763 0 32 (ernels\) ha) widthshow
434.315491 676.672607 M 0.638763 0 32 (v) widthshow
439.165558 676.672607 M 0.638763 0 32 (e to a gi) widthshow
472.771973 676.672607 M 0.638763 0 32 (v) widthshow
477.62207 676.672607 M 0.638763 0 32 (en memory ob-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 97 97
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (93 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Strict K) 72.0 56.824 T
(er) 102.519 56.824 T
(nel and Manager P) 110.376 56.824 T
(age Consistency) 183.538 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666626 M 0.359833 0 32 (ject. Gi) widthshow
101.549973 115.666626 M 0.359833 0 32 (v) widthshow
106.400055 115.666626 M 0.359833 0 32 (en suf) widthshow
130.670029 115.666626 M 0.359833 0 32 <de6369656e7420686967686572206c65> widthshow
193.909836 115.666626 M 0.359833 0 32 (v) widthshow
198.759918 115.666626 M 0.359833 0 32 (el information about client accesses to memory) widthshow
389.129272 115.666626 M 0.359833 0 32 (, adv) widthshow
408.67926 115.666626 M 0.359833 0 32 (anced) widthshow
(consistenc) 72.0 127.667 T
(y protocols are possible.) 113.51 127.667 T
72 151.666504 M 1.132431 0 32 (The most typical consistenc) widthshow
186.62738 151.666504 M 1.132431 0 32 (y polic) widthshow
215.109894 151.666504 M 1.132431 0 32 (y) widthshow
219.460251 151.666504 M 1.132431 0 32 (, that supplied by the def) widthshow
323.902466 151.666504 M 1.132431 0 32 (ault memory manager and) widthshow
72 163.666443 M 0.487137 0 32 (the XMM library) widthshow
141.204636 163.666443 M 0.487137 0 32 (, is full read\320write consistenc) widthshow
260.483276 163.666443 M 0.487137 0 32 (y) widthshow
264.833618 163.666443 M 0.487137 0 32 (. This polic) widthshow
310.937988 163.666443 M 0.487137 0 32 (y mimics standard hardw) widthshow
413.119446 163.666443 M 0.487137 0 32 (are\325) widthshow
428.109772 163.666443 M 0.487137 0 32 (s) widthshow
72 175.666382 M 0.921631 0 32 (shared memory polic) widthshow
158.123352 175.666382 M 0.921631 0 32 (y\321once a client modi\336es a memory object, those changes are \(ef-) widthshow
(fecti) 72.0 187.666 T
(v) 89.52 187.666 T
(ely\) immediately visible to all clients referencing the memory object.) 94.37 187.666 T
72 211.666336 M 0.56839 0 32 (Clients on an) widthshow
125.766861 211.666336 M 0.56839 0 32 (y gi) widthshow
141.365387 211.666336 M 0.56839 0 32 (v) widthshow
146.215469 211.666336 M 0.56839 0 32 (en node that share a memory object \(that did ) widthshow
1 FF
332.130981 211.666336 M 0.56839 0 32 (vm_map) widthshow
3 FF
369.351013 211.666336 M 0.56839 0 32 ( representati) widthshow
418.819519 211.666336 M 0.56839 0 32 (v) widthshow
423.669617 211.666336 M 0.56839 0 32 (es) widthshow
3 FF
72 223.666321 M 0.37178 0 32 (naming the same abstract memory object port\) automatically recei) widthshow
339.674408 223.666321 M 0.37178 0 32 (v) widthshow
344.524475 223.666321 M 0.37178 0 32 (e full read\320write con-) widthshow
3 FF
72 235.666306 M 0.484192 0 32 (sistenc) widthshow
99.070084 235.666306 M 0.484192 0 32 (y) widthshow
103.420441 235.666306 M 0.484192 0 32 (. It may seem that a memory manager could enjo) widthshow
303.198242 235.666306 M 0.484192 0 32 (y this same le) widthshow
359.120972 235.666306 M 0.484192 0 32 (v) widthshow
363.971039 235.666306 M 0.484192 0 32 (el of consistenc) widthshow
426.999512 235.666306 M 0.484192 0 32 (y) widthshow
72 247.66629 M 1.026917 0 32 (with its clients simply by ) widthshow
1 FF
180.204575 247.66629 M 1.026917 0 32 (vm_map) widthshow
3 FF
217.424576 247.66629 M 1.026917 0 32 (-ping the object itself. A memory manager does not) widthshow
3 FF
(typically do this, though, for tw) 72.0 259.666 T
(o reasons:) 198.29 259.666 T
4 (Times-Roman) 7 1 mymakefontmetric
4 FF
<a5> 72.0 277.666 T
3 FF
85.535995 277.666229 M 0.835953 0 32 (A manager can only share \(ph) widthshow
209.905807 277.666229 M 0.835953 0 32 (ysical\) pages with the k) widthshow
307.579681 277.666229 M 0.835953 0 32 (ernel on which it is e) widthshow
395.209534 277.666229 M 0.835953 0 32 (x) widthshow
400.059631 277.666229 M 0.835953 0 32 (ecuting,) widthshow
(which is not necessarily the ones on which its clients are e) 85.536 289.666 T
(x) 318.406 289.666 T
(ecuting.) 323.256 289.666 T
4 FF
<a5> 72.0 304.666 T
3 FF
85.535995 304.666107 M 0.193329 0 32 (Direct manager reference to its o) widthshow
217.592804 304.666107 M 0.193329 0 32 (wn memory objects often leads to deadlock. An) widthshow
409.876221 304.666107 M 0.193329 0 32 (y ref-) widthshow
85.535995 316.666046 M 0.215836 0 32 (erence at all to the contents of a memory object must be vie) widthshow
326.166199 316.666046 M 0.215836 0 32 (wed as a potential interac-) widthshow
85.535995 328.665985 M 0.940201 0 32 (tion with its manager) widthshow
172.676819 328.665985 M 0.940201 0 32 (, since the k) widthshow
223.16748 328.665985 M 0.940201 0 32 (ernel can e) widthshow
268.108032 328.665985 M 0.940201 0 32 (vict pages at an) widthshow
332.70874 328.665985 M 0.940201 0 32 (y time. Therefore, if the) widthshow
85.535995 340.665924 M 0.48027 0 32 (manager were b) widthshow
150.156662 340.665924 M 0.48027 0 32 (usy processing some request when it went to touch an object it main-) widthshow
85.535995 352.665863 M 0.286209 0 32 (tains, the result is a circular dependenc) widthshow
242.343353 352.665863 M 0.286209 0 32 (y) widthshow
246.69371 352.665863 M 0.286209 0 32 (. If the pager has only one thread handling re-) widthshow
85.535995 364.665802 M 1.783096 0 32 (quests for this memory object, it will deadlock. Ev) widthshow
301.86084 364.665802 M 1.783096 0 32 (en if it has multiple threads to) widthshow
85.535995 376.665741 M 0.105591 0 32 (support this object, the pager is most lik) widthshow
246.175186 376.665741 M 0.105591 0 32 (ely holding internal locks on the page in ques-) widthshow
(tion when it tries to reference it, ag) 85.536 388.666 T
(ain leading to deadlock.) 225.456 388.666 T
(When multiple k) 72.0 412.666 T
(ernels are in) 139.12 412.666 T
(v) 187.59 412.666 T
(olv) 192.39 412.666 T
(ed, the situation becomes e) 205.02 412.666 T
(v) 312.811 412.666 T
(en more in) 317.661 412.666 T
(v) 360.031 412.666 T
(olv) 364.831 412.666 T
(ed.) 377.461 412.666 T
72 436.665558 M 0.847473 0 32 (Since the v) widthshow
117.885086 436.665558 M 0.847473 0 32 (arious k) widthshow
150.572617 436.665558 M 0.847473 0 32 (ernels referencing a shared memory object, and the manager manag-) widthshow
72 448.665497 M 0.645676 0 32 (ing it, cannot directly share the memory) widthshow
234.924423 448.665497 M 0.645676 0 32 (, it is necessary for these components to interact) widthshow
(to implement their consistenc) 72.0 460.665 T
(y polic) 189.9 460.665 T
(y) 217.25 460.665 T
(.) 221.601 460.665 T
72 484.665375 M 0.745651 0 32 (One w) widthshow
99.025711 484.665375 M 0.745651 0 32 (ay to think about these interactions, in the speci\336c case of full read\320write consis-) widthshow
72 496.665314 M 1.057083 0 32 (tenc) widthshow
88.510086 496.665314 M 1.057083 0 32 (y) widthshow
92.860443 496.665314 M 1.057083 0 32 (, is to consider the v) widthshow
178.445999 496.665314 M 1.057083 0 32 (arious states of ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
244.107254 496.665314 M 1.057083 0 32 (owner) widthshow
269.007324 496.665314 M 1.057083 0 32 (ship) widthshow
3 FF
285.677307 496.665314 M 1.057083 0 32 ( of a page\321which entities hold the) widthshow
(current \(v) 72.0 508.665 T
(alid\) page contents\321and the transitions between these states.) 110.9 508.665 T
72 532.665161 M 0.100967 0 32 (The follo) widthshow
108.791107 532.665161 M 0.100967 0 32 (wing sections discuss maintaining full read\320write consistenc) widthshow
351.447021 532.665161 M 0.100967 0 32 (y between a manag-) widthshow
72 544.665161 M 1.045639 0 32 (er and a single k) widthshow
141.62262 544.665161 M 1.045639 0 32 (ernel. Issues in) widthshow
203.024124 544.665161 M 1.045639 0 32 (v) widthshow
207.824234 544.665161 M 1.045639 0 32 (olv) widthshow
220.454315 544.665161 M 1.045639 0 32 (ed when there are multiple k) widthshow
339.722595 544.665161 M 1.045639 0 32 (ernels are discussed at) widthshow
3 FF
(the end of this chapter) 72.0 556.665 T
(.) 160.32 556.665 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(P) 72.0 587.998 T
(age \322Ownership\323) 79.212 587.998 T
3 FF
72 604.664978 M 0.161743 0 32 (The memory manager must deal with the state of a page in broad terms ha) widthshow
370.674561 604.664978 M 0.161743 0 32 (ving to do with) widthshow
72 616.664917 M 0.968628 0 32 (the potential ) widthshow
5 FF
126.157257 616.664917 M 0.968628 0 32 (owner) widthshow
151.057312 616.664917 M 0.968628 0 32 (ship) widthshow
3 FF
167.72731 616.664917 M 0.968628 0 32 ( of the page \(that is, who holds a v) widthshow
313.955109 616.664917 M 0.968628 0 32 (alid cop) widthshow
346.763794 616.664917 M 0.968628 0 32 (y\) and an) widthshow
385.761139 616.664917 M 0.968628 0 32 (y operation) widthshow
72 628.664856 M 0.053711 0 32 (that the memory manager has requested upon the page \(b) widthshow
300.843536 628.664856 M 0.053711 0 32 (ut is not yet kno) widthshow
365.258514 628.664856 M 0.053711 0 32 (wn to ha) widthshow
399.606049 628.664856 M 0.053711 0 32 (v) widthshow
404.456116 628.664856 M 0.053711 0 32 (e com-) widthshow
72 640.664795 M 1.343262 0 32 (pleted\). \(Actually) widthshow
143.233627 640.664795 M 1.343262 0 32 (, the situation can be e) widthshow
239.130081 640.664795 M 1.343262 0 32 (v) widthshow
243.980164 640.664795 M 1.343262 0 32 (en more complicated if the memory manager) widthshow
72 652.664734 M 0.92926 0 32 (has sent multiple requests to the k) widthshow
213.02562 652.664734 M 0.92926 0 32 (ernel to manipulate a single page without w) widthshow
394.130493 652.664734 M 0.92926 0 32 (aiting for) widthshow
72 664.664673 M 0.134125 0 32 (the k) widthshow
91.754181 664.664673 M 0.134125 0 32 (ernel\325) widthshow
114.52449 664.664673 M 0.134125 0 32 (s responses. This section tak) widthshow
228.56105 664.664673 M 0.134125 0 32 (es the simplifying assumption that only one transi-) widthshow
72 676.664673 M 0.471298 0 32 (tion has been requested at a time.\) These ) widthshow
5 FF
241.010406 676.664673 M 0.471298 0 32 (owner) widthshow
265.910461 676.664673 M 0.471298 0 32 (ship) widthshow
3 FF
282.580444 676.664673 M 0.471298 0 32 ( states are sho) widthshow
339.564514 676.664673 M 0.471298 0 32 (wn in FIGURE 2 from) widthshow
(the point of vie) 72.0 688.665 T
(w of the memory manager) 132.58 688.665 T
(.) 237.56 688.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 98 98
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(94 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(There are three general classes of o) 180.0 527.651 T
(wnership:) 320.8 527.651 T
4 (Times-Roman) 7 1 mymakefontmetric
4 FF
<a5> 180.0 545.651 T
3 FF
193.535995 545.650574 M 0.464249 0 32 (The memory manager holds the only v) widthshow
351.051636 545.650574 M 0.464249 0 32 (alid cop) widthshow
383.355957 545.650574 M 0.464249 0 32 (y of the page. This cop) widthshow
477.227234 545.650574 M 0.464249 0 32 (y may reside in) widthshow
193.535995 557.650513 M 0.218811 0 32 (the address space of the manager) widthshow
326.13031 557.650513 M 0.218811 0 32 (, or be placed on some backing storage. The memory) widthshow
(manager is free to modify the page\325) 193.536 569.65 T
(s contents as it sees \336t.) 335.726 569.65 T
4 FF
<a5> 180.0 584.65 T
3 FF
193.535995 584.650391 M 1.382553 0 32 (Both the k) widthshow
237.871155 584.650391 M 1.382553 0 32 (ernel and the memory manager hold v) widthshow
398.106628 584.650391 M 1.382553 0 32 (alid copies of the page\325) widthshow
496.397156 584.650391 M 1.382553 0 32 (s contents.) widthshow
(Neither one of them is allo) 193.536 596.65 T
(wed to modify the page.) 300.216 596.65 T
4 FF
<a5> 180.0 611.65 T
3 FF
193.535995 611.650269 M 0.328064 0 32 (The k) widthshow
216.814117 611.650269 M 0.328064 0 32 (ernel holds the only v) widthshow
304.536499 611.650269 M 0.328064 0 32 (alid cop) widthshow
336.704651 611.650269 M 0.328064 0 32 (y of the page because it \(actually) widthshow
469.653381 611.650269 M 0.328064 0 32 (, clients referenc-) widthshow
193.535995 623.650208 M 0.363724 0 32 (ing the virtual page\) has the ability to modify the page. In these states it is not kno) widthshow
527.779419 623.650208 M 0.363724 0 32 (wn) widthshow
193.535995 635.650146 M 0.944092 0 32 (whether or not the k) widthshow
277.752441 635.650146 M 0.944092 0 32 (ernel holds modi\336ed page contents, or whether the k) widthshow
494.895233 635.650146 M 0.944092 0 32 (ernel holds) widthshow
193.535995 647.650085 M 0.270233 0 32 (the page at all. \(It may ha) widthshow
296.877502 647.650085 M 0.270233 0 32 (v) widthshow
301.7276 647.650085 M 0.270233 0 32 (e discarded the page without modi\336cation.\) What is kno) widthshow
527.779602 647.650085 M 0.270233 0 32 (wn) widthshow
193.535995 659.650024 M 0.276062 0 32 (is that the manager\325) widthshow
272.964478 659.650024 M 0.276062 0 32 (s cop) widthshow
293.970612 659.650024 M 0.276062 0 32 (y of the page may be stale. In these states, if the current con-) widthshow
193.535995 671.649963 M 0.07576 0 32 (tents of the page are desired, it is necessary to interact with the k) widthshow
452.700958 671.649963 M 0.07576 0 32 (ernel so that it can re-) widthshow
193.535995 683.649902 M 2.567703 0 32 (turn its cop) widthshow
243.571457 683.649902 M 2.567703 0 32 (y) widthshow
247.921814 683.649902 M 2.567703 0 32 (, or return the f) widthshow
318.352692 683.649902 M 2.567703 0 32 (act that it does not hold a cop) widthshow
453.716675 683.649902 M 2.567703 0 32 (y \(and therefore the) widthshow
(manager\325) 193.536 695.65 T
(s cop) 230.746 695.65 T
(y is v) 251.476 695.65 T
(alid\).) 272.896 695.65 T
171 105.984009 378 414 CR
1 G
171 105.984009 378 414 NF
288 366.984009 144 126 NF
0 G
5 (Times-Roman) 12 1 mymakefontmetric
5 FF
288 374.650635 M 8.27916 0 32 (S) widthshow
3 FF
294.671997 374.650635 M 6.899292 0 32 (r\321data supplied, read access) widthshow
(only) 288.0 386.651 T
(, cop) 305.13 386.651 T
(y held) 324.47 386.651 T
5 FF
288 398.650513 M 4.809586 0 32 (Sw) widthshow
3 FF
303.335999 398.650513 M 4.00798 0 32 <d16461746120737570706c6965642c20777269746520616363657373> widthshow
(or ) 288.0 410.65 T
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
(pr) 298.83 410.65 T
(ecious) 307.35 410.65 T
3 FF
( \(with no cop) 332.9 410.65 T
(y held) 385.85 410.65 T
6 FF
(\)) 410.57 410.65 T
5 FF
(U) 288.0 422.65 T
3 FF
<d16c6f636b20726571756573742c206769> 296.664 422.65 T
(v) 367.794 422.65 T
(e write access) 372.644 422.65 T
5 FF
288 434.65033 M 6.642288 0 32 (C) widthshow
3 FF
296.003998 434.65033 M 5.535233 0 32 <d16c6f636b20726571756573742c20636c65616e2c2072656d6f> widthshow
422.709778 434.65033 M 5.535233 0 32 (v) widthshow
427.559875 434.65033 M 5.535233 0 32 (e) widthshow
(write access) 288.0 446.65 T
5 FF
288 458.650208 M 3.371292 0 32 (F) widthshow
3 FF
294.671997 458.650208 M 2.809402 0 32 <d16c6f636b20726571756573742c20636c65616e20616e6420df7573682c> widthshow
(remo) 288.0 470.65 T
(v) 308.4 470.65 T
(e write access) 313.25 470.65 T
5 FF
(OK) 288.0 482.65 T
3 FF
<d16c6f636b20636f6d706c65746564207265636569> 305.328 482.65 T
(v) 398.388 482.65 T
(ed) 403.238 482.65 T
1 G
180 492.984009 360 27 NF
180 492.984009 360 13.031998 CR
0.25 SL
2 SC
0 G
540 499.5 M
252 499.5 L
S
0 SC
243 499.5 M
180 499.5 L
S
171 105.984009 378 414 CR
7 (Helvetica-Bold) 9 1 mymakefontmetric
7 FF
(FIGURE  2) 180.0 513.016 T
2 FF
(Strict Consistency P) 252.0 513.016 T
(age \322Ownership\323 T) 329.4 513.016 T
(ransitions) 403.741 513.016 T
0.5 SL
290.77 176.02 M
294.07 176.02 L
290.77 164.48 L
287.46 176.02 L
F
290.77 176.02 M
290.77 218.48 L
S
479.35 175.54 M
482.66 175.52 L
479.28 164 L
476.05 175.56 L
F
479.36 175.54 M
479.64 219 L
S
333.38 257.87 M
335.86 255.68 L
325.76 249.21 L
330.9 260.05 L
F
333.39 257.87 M
477.15 421.65 L
S
420.94 305.76 M
418.98 308.43 L
430.23 312.61 L
422.91 303.1 L
F
420.95 305.77 M
335.99 243.8 L
S
468.98 265.97 M
472.28 265.66 L
467.92 254.48 L
465.69 266.27 L
F
468.99 265.97 M
472.5 303.98 L
S
5 FF
(Sr) 259.338 277.176 T
(F) 295.936 203.381 T
(F) 485.716 203.365 T
(OK) 213.286 194.381 T
(OK) 360.0 196.176 T
(C) 509.604 286.984 T
(OK) 459.682 392.381 T
(U) 410.604 295.984 T
(OK) 473.604 286.984 T
1 G
0 360 99 36 467.929321 236.484009 AF
0 G
0 360 99 36 467.929321 236.484009 AS
3 FF
(k) 455.438 240.897 T
(ernel) 460.338 240.897 T
1 G
0 360 99 36 490.5 438.984009 AF
0 G
0 360 99 36 490.5 438.984009 AS
(k) 459.409 443.397 T
(ernel-cleaning) 464.309 443.397 T
1 G
0 360 99 36 472.5 321.984009 AF
0 G
0 360 99 36 472.5 321.984009 AS
(k) 443.347 326.397 T
(ernel-locking) 448.247 326.397 T
1 G
0 360 99 36 467.929321 146.484009 AF
0 G
0 360 99 36 467.929321 146.484009 AS
(k) 437.387 150.897 T
(ernel-\337ushing) 442.287 150.897 T
1 G
0 360 99 36 290.766663 146.484009 AF
0 G
0 360 99 36 290.766663 146.484009 AS
(both-\337ushing) 263.827 150.897 T
1 G
0 360 99 36 290.766663 236.484009 AF
0 G
0 360 99 36 290.766663 236.484009 AS
(both) 281.878 240.897 T
1 G
0 360 99 36 229.5 438.984009 AF
0 G
0 360 99 36 229.5 438.984009 AS
(manager) 212.289 443.397 T
1 SL
285.51 264.75 M
288.46 266.26 L
290.76 254.48 L
282.57 263.24 L
F
285.52 264.75 M
205.22 423.3 L
S
0.5 SL
225.09 412.15 M
222.42 410.19 L
218.26 421.45 L
227.75 414.11 L
F
225.09 412.16 M
418.43 146.48 L
S
196.42 414.88 M
193.16 414.33 L
194.5 426.25 L
199.68 415.43 L
F
196.42 414.88 M
241.27 146.48 L
S
534.45 420.02 M
531.16 420.32 L
535.52 431.5 L
537.75 419.71 L
F
534.46 420.03 M
517.43 236.48 L
S
414.15 253.86 M
415.95 258.03 L
428.68 247.59 L
412.35 249.7 L
F
270 43 1199.630615 496.4729 852.811462 423.122681 AS
5 FF
(Sw) 394.338 248.381 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 99 99
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (95 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Strict K) 72.0 56.824 T
(er) 102.519 56.824 T
(nel and Manager P) 110.376 56.824 T
(age Consistency) 183.538 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
85.535995 115.666626 M 0.597687 0 32 (This is also the state for ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
186.89212 115.666626 M 0.597687 0 32 (pr) widthshow
195.412323 115.666626 M 0.597687 0 32 (ecious) widthshow
3 FF
220.962326 115.666626 M 0.597687 0 32 ( pages that ha) widthshow
277.265503 115.666626 M 0.597687 0 32 (v) widthshow
282.115601 115.666626 M 0.597687 0 32 (e been supplied to the k) widthshow
379.714081 115.666626 M 0.597687 0 32 (ernel and for) widthshow
85.535995 127.666565 M 0.502548 0 32 (which the manager has not k) widthshow
202.648804 127.666565 M 0.502548 0 32 (ept a cop) widthshow
239.653961 127.666565 M 0.502548 0 32 (y) widthshow
244.004318 127.666565 M 0.502548 0 32 (. In this case, it is kno) widthshow
333.989746 127.666565 M 0.502548 0 32 (wn that the k) widthshow
387.337463 127.666565 M 0.502548 0 32 (ernel holds) widthshow
85.535995 139.666504 M 1.042511 0 32 (a cop) widthshow
107.858566 139.666504 M 1.042511 0 32 (y) widthshow
112.208923 139.666504 M 1.042511 0 32 (, which may or may not be under) widthshow
251.526611 139.666504 M 1.042511 0 32 (going modi\336cation depending on the access) widthshow
(set. Interaction with the k) 85.536 151.666 T
(ernel is necessary for the manager to hold a current cop) 187.366 151.666 T
(y) 408.866 151.666 T
(.) 413.217 151.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Ownership T) 72.0 183.0 T
(ransitions) 138.792 183.0 T
3 FF
72 199.666367 M 0.223923 0 32 (There are tw) widthshow
122.877914 199.666367 M 0.223923 0 32 (o operations a manager can in) widthshow
243.287766 199.666367 M 0.223923 0 32 (v) widthshow
248.087875 199.666367 M 0.223923 0 32 (ok) widthshow
257.987915 199.666367 M 0.223923 0 32 (e to af) widthshow
283.175903 199.666367 M 0.223923 0 32 (fect the o) widthshow
320.583923 199.666367 M 0.223923 0 32 (wnership of a page: ) widthshow
1 FF
402.569611 199.666367 M 0.223923 0 32 (memo-) widthshow
72 211.666351 M 0.794937 0 32 (ry_object_data_supply ) widthshow
3 FF
173.074936 211.666351 M 0.794937 0 32 (\(or ) widthshow
1 FF
188.029877 211.666351 M 0.794937 0 32 (memory_object_data_una) widthshow
299.430023 211.666351 M 0.794937 0 32 (v) widthshow
304.330078 211.666351 M 0.794937 0 32 (ailable) widthshow
3 FF
332.670074 211.666351 M 0.794937 0 32 (\) and ) widthshow
1 FF
357.029968 211.666351 M 0.794937 0 32 (memory_object_-) widthshow
(lock_r) 72.0 223.666 T
(equest) 99.04 223.666 T
3 FF
(. ) 126.26 223.666 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 72.0 241.666 T
1 FF
85.535995 241.666321 M 2.600403 0 32 (memory_object_data_supply) widthshow
3 FF
209.416 241.666321 M 2.600403 0 32 ( must be considered to af) widthshow
322.428162 241.666321 M 2.600403 0 32 (fect the o) widthshow
364.589111 241.666321 M 2.600403 0 32 (wnership of the) widthshow
3 FF
85.535995 253.666306 M 0.355484 0 32 (page as soon as the message is sent since it cannot be kno) widthshow
320.07196 253.666306 M 0.355484 0 32 (wn when the k) widthshow
379.638489 253.666306 M 0.355484 0 32 (ernel will re-) widthshow
(cei) 85.536 265.666 T
(v) 96.946 265.666 T
(e \(and possibly allo) 101.796 265.666 T
(w modi\336cations to\) the page.) 179.596 265.666 T
6 FF
<a5> 72.0 280.666 T
1 FF
85.535995 280.66626 M 1.791458 0 32 (memory_object_lock_r) widthshow
184.21611 280.66626 M 1.791458 0 32 (equest) widthshow
3 FF
211.436111 280.66626 M 1.791458 0 32 ( can cause a v) widthshow
273.88208 280.66626 M 1.791458 0 32 (ariety of o) widthshow
318.315155 280.66626 M 1.791458 0 32 (wnership changes to occur) widthshow
429.499847 280.66626 M 1.791458 0 32 (.) widthshow
85.535995 292.666199 M 0.418732 0 32 (This operation produces a reply for which the manager must be prepared. Whether or) widthshow
85.535995 304.666138 M 0.195847 0 32 (not the o) widthshow
120.677826 304.666138 M 0.195847 0 32 (wnership is vie) widthshow
181.369659 304.666138 M 0.195847 0 32 (wed as changed when the message is sent or when the reply is) widthshow
(recei) 85.536 316.666 T
(v) 104.716 316.666 T
(ed depends on the operation being performed.) 109.566 316.666 T
72 340.666016 M 1.441452 0 32 (These operations af) widthshow
152.943054 340.666016 M 1.441452 0 32 (fect merely the v) widthshow
224.497559 340.666016 M 1.441452 0 32 (alidity of the manager\325) widthshow
319.642212 340.666016 M 1.441452 0 32 (s or the k) widthshow
360.806641 340.666016 M 1.441452 0 32 (ernel\325) widthshow
383.576965 340.666016 M 1.441452 0 32 (s page con-) widthshow
72 352.665955 M 1.749954 0 32 (tents. Other operations \(such as controlling e) widthshow
261.489807 352.665955 M 1.749954 0 32 (x) widthshow
266.339905 352.665955 M 1.749954 0 32 (ecute access\) are omitted for simplicity) widthshow
(since the) 72.0 364.666 T
(y do not af) 107.12 364.666 T
(fect page o) 149.92 364.666 T
(wnership.) 193.54 364.666 T
72 388.665894 M 0.209198 0 32 (The v) widthshow
95.009338 388.665894 M 0.209198 0 32 (arious transitions in FIGURE 2 are detailed belo) widthshow
289.813873 388.665894 M 0.209198 0 32 (w) widthshow
296.384216 388.665894 M 0.209198 0 32 (. P) widthshow
307.00351 388.665894 M 0.209198 0 32 (ages start in the ) widthshow
4 FF
372.830322 388.665894 M 0.209198 0 32 (mana) widthshow
394.950378 388.665894 M 0.209198 0 32 (g) widthshow
399.850403 388.665894 M 0.209198 0 32 (er ) widthshow
3 FF
410.889618 388.665894 M 0.209198 0 32 (state;) widthshow
72 400.665894 M 0.062286 0 32 (that is, the manager holds the \(only\) v) widthshow
223.836151 400.665894 M 0.062286 0 32 (alid cop) widthshow
255.738495 400.665894 M 0.062286 0 32 (y) widthshow
260.088867 400.665894 M 0.062286 0 32 (. \(If the page starts out with no data, ) widthshow
1 FF
407.569458 400.665894 M 0.062286 0 32 (mem-) widthshow
72 412.665863 M 1.889954 0 32 (ory_object_data_una) widthshow
162.30014 412.665863 M 1.889954 0 32 (v) widthshow
167.200195 412.665863 M 1.889954 0 32 (ailable) widthshow
3 FF
195.540192 412.665863 M 1.889954 0 32 ( can be used instead to cause the k) widthshow
347.749878 412.665863 M 1.889954 0 32 (ernel to generate an) widthshow
72 424.665833 M 0.329971 0 32 (empty page instead of the manager ha) widthshow
225.409958 424.665833 M 0.329971 0 32 (ving to create an empty page to send in the ) widthshow
1 FF
402.569702 424.665833 M 0.329971 0 32 (memo-) widthshow
(ry_object_data_supply ) 72.0 436.666 T
3 FF
(message, b) 172.28 436.666 T
(ut this can be vie) 215.96 436.666 T
(wed as an optimization.\)) 283.48 436.666 T
6 FF
<a5> 72.0 454.666 T
4 FF
(mana) 85.536 454.666 T
(g) 107.656 454.666 T
(er) 112.556 454.666 T
7 (Symbol) 10 1 mymakefontmetric
7 FF
<ae> 120.886 454.666 T
4 FF
(k) 130.756 454.666 T
(ernel) 135.096 454.666 T
3 FF
(: This transition can be caused by tw) 155.646 454.666 T
(o e) 301.916 454.666 T
(v) 313.606 454.666 T
(ents:) 318.456 454.666 T
6 FF
<a5> 108.0 469.666 T
3 FF
121.535995 469.66571 M 2.541687 0 32 (The manager sends a ) widthshow
4 FF
218.342758 469.66571 M 2.541687 0 32 (pr) widthshow
226.862961 469.66571 M 2.541687 0 32 (ecious) widthshow
3 FF
252.412964 469.66571 M 2.541687 0 32 ( page via a ) widthshow
1 FF
308.11972 469.66571 M 2.541687 0 32 (memory_object_data_supply) widthshow
3 FF
121.535995 481.665649 M 0.336227 0 32 (message \(in response to a pre) widthshow
240.437286 481.665649 M 0.336227 0 32 (vious ) widthshow
1 FF
264.943512 481.665649 M 0.336227 0 32 (memory_object_data_r) widthshow
364.733643 481.665649 M 0.336227 0 32 (equest) widthshow
3 FF
391.953613 481.665649 M 0.336227 0 32 ( message\)) widthshow
121.535995 493.665588 M 0.364227 0 32 (and the manager does not k) widthshow
232.957199 493.665588 M 0.364227 0 32 (eep a cop) widthshow
271.345703 493.665588 M 0.364227 0 32 (y of the page \(which is the basic reason) widthshow
121.535995 505.665527 M 1.081009 0 32 (wh) widthshow
133.706024 505.665527 M 1.081009 0 32 (y the page is supplied as ) widthshow
4 FF
240.182083 505.665527 M 1.081009 0 32 (pr) widthshow
248.702286 505.665527 M 1.081009 0 32 (ecious) widthshow
3 FF
274.252289 505.665527 M 1.081009 0 32 (\). The k) widthshow
307.694366 505.665527 M 1.081009 0 32 (ernel is vie) widthshow
353.486511 505.665527 M 1.081009 0 32 (wed as holding the) widthshow
121.535995 517.665466 M 1.270218 0 32 (only cop) widthshow
157.42627 517.665466 M 1.270218 0 32 (y of the page as soon as it is sent. It does not matter whether the) widthshow
121.535995 529.665405 M 1.177933 0 32 (page is gi) widthshow
161.972 529.665405 M 1.177933 0 32 (v) widthshow
166.822083 529.665405 M 1.177933 0 32 (en write access; the k) widthshow
256.963867 529.665405 M 1.177933 0 32 (ernel will return this page to the manager) widthshow
429.499634 529.665405 M 1.177933 0 32 (,) widthshow
121.535995 541.665344 M 0.907776 0 32 (modi\336ed or not, and interaction with the k) widthshow
296.670471 541.665344 M 0.907776 0 32 (ernel is necessary if the manager) widthshow
(needs to see the page.) 121.536 553.665 T
6 FF
<a5> 108.0 568.665 T
3 FF
121.535995 568.665222 M 1.780548 0 32 (The manager sends a ) widthshow
1 FF
215.298203 568.665222 M 1.780548 0 32 (memory_object_data_supply) widthshow
3 FF
339.178223 568.665222 M 1.780548 0 32 ( message \(in response) widthshow
121.535995 580.665161 M 1.763336 0 32 (to a pre) widthshow
154.802811 580.665161 M 1.763336 0 32 (vious ) widthshow
1 FF
180.736145 580.665161 M 1.763336 0 32 (memory_object_data_r) widthshow
280.526245 580.665161 M 1.763336 0 32 (equest) widthshow
3 FF
307.746277 580.665161 M 1.763336 0 32 ( message\) that speci\336es write) widthshow
121.535995 592.6651 M 1.143341 0 32 (access. The k) widthshow
177.312744 592.6651 M 1.143341 0 32 (ernel must be vie) widthshow
249.092911 592.6651 M 1.143341 0 32 (wed as holding the only current cop) widthshow
399.163025 592.6651 M 1.143341 0 32 (y of the) widthshow
121.535995 604.665039 M 0.83168 0 32 (page as soon as it is sent. The manager must al) widthshow
316.672852 604.665039 M 0.83168 0 32 (w) widthshow
323.792908 604.665039 M 0.83168 0 32 (ays assume that the k) widthshow
412.009705 604.665039 M 0.83168 0 32 (ernel) widthshow
121.535995 616.664978 M 0.571136 0 32 (holds the current page contents, e) widthshow
258.001831 616.664978 M 0.571136 0 32 (v) widthshow
262.851929 616.664978 M 0.571136 0 32 (en though the k) widthshow
326.405396 616.664978 M 0.571136 0 32 (ernel may discard them at) widthshow
121.535995 628.664917 M 0.457794 0 32 (an) widthshow
130.82608 628.664917 M 0.457794 0 32 (y time. Only via lock request interactions with the k) widthshow
342.606293 628.664917 M 0.457794 0 32 (ernel can the manager) widthshow
(kno) 121.536 640.665 T
(w whether the cop) 136.286 640.665 T
(y it sa) 209.776 640.665 T
(v) 233.466 640.665 T
(es is the current page contents.) 238.316 640.665 T
6 FF
<a5> 72.0 655.665 T
4 FF
85.535995 655.664795 M 0.509216 0 32 (mana) widthshow
107.656052 655.664795 M 0.509216 0 32 (g) widthshow
112.556107 655.664795 M 0.509216 0 32 (er) widthshow
7 FF
120.886108 655.664795 M 0.509216 0 32 <ae> widthshow
4 FF
130.756104 655.664795 M 0.509216 0 32 (both) widthshow
3 FF
148.536102 655.664795 M 0.509216 0 32 (: The manager sends a ) widthshow
1 FF
243.002197 655.664795 M 0.509216 0 32 (memory_object_data_supply) widthshow
3 FF
366.882202 655.664795 M 0.509216 0 32 ( message \(in re-) widthshow
85.535995 667.664734 M 2.674179 0 32 (sponse to a pre) widthshow
153.018677 667.664734 M 2.674179 0 32 (vious ) widthshow
1 FF
179.862854 667.664734 M 2.674179 0 32 (memory_object_data_r) widthshow
279.652954 667.664734 M 2.674179 0 32 (equest) widthshow
3 FF
306.872986 667.664734 M 2.674179 0 32 ( message\) that speci\336es only) widthshow
85.535995 679.664673 M 1.270905 0 32 (read access. The manager k) widthshow
200.749695 679.664673 M 1.270905 0 32 (eeps a cop) widthshow
244.841568 679.664673 M 1.270905 0 32 (y of the page. The k) widthshow
331.076172 679.664673 M 1.270905 0 32 (ernel must be vie) widthshow
403.239014 679.664673 M 1.270905 0 32 (wed as) widthshow
85.535995 691.664612 M 0.486679 0 32 (holding a cop) widthshow
140.849411 691.664612 M 0.486679 0 32 (y of the page as soon as this message is sent. Both the manager and the) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 100 100
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(96 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
193.535995 113.650635 M 1.56871 0 32 (k) widthshow
198.43605 113.650635 M 1.56871 0 32 (ernel hold current page contents, b) widthshow
344.37973 113.650635 M 1.56871 0 32 (ut neither is allo) widthshow
413.556 113.650635 M 1.56871 0 32 (wed to modify them since the) widthshow
(changes w) 193.536 125.651 T
(ould not be re\337ected in the other\325) 235.366 125.651 T
(s cop) 368.126 125.651 T
(y) 388.856 125.651 T
(.) 393.207 125.651 T
4 (Times-Roman) 7 1 mymakefontmetric
4 FF
<a5> 180.0 140.651 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
193.535995 140.650513 M 3.384659 0 32 (k) widthshow
197.876053 140.650513 M 3.384659 0 32 (ernel) widthshow
6 (Symbol) 10 1 mymakefontmetric
6 FF
218.426056 140.650513 M 3.384659 0 32 <ae> widthshow
5 FF
228.296051 140.650513 M 3.384659 0 32 (k) widthshow
232.636108 140.650513 M 3.384659 0 32 (ernel-\337ushing) widthshow
6 FF
288.186096 140.650513 M 3.384659 0 32 <ae> widthshow
5 FF
298.056091 140.650513 M 3.384659 0 32 (mana) widthshow
320.176147 140.650513 M 3.384659 0 32 (g) widthshow
325.076233 140.650513 M 3.384659 0 32 (er) widthshow
3 FF
333.406219 140.650513 M 3.384659 0 32 (: The manager sends a ) widthshow
0 FF
442.249512 140.650513 M 3.384659 0 32 (memory_object_lock_-) widthshow
193.535995 152.650452 M 0.587158 0 32 (r) widthshow
197.796097 152.650452 M 0.587158 0 32 (equest) widthshow
3 FF
225.016098 152.650452 M 0.587158 0 32 ( \(\337ush\) to the k) widthshow
288.374786 152.650452 M 0.587158 0 32 (ernel. When \(b) widthshow
349.049225 152.650452 M 0.587158 0 32 (ut not until\) the k) widthshow
420.747925 152.650452 M 0.587158 0 32 (ernel responds \(possibly with) widthshow
0 FF
193.535995 164.650391 M 2.480927 0 32 (memory_object_data_r) widthshow
293.326111 164.650391 M 2.480927 0 32 (etur) widthshow
310.946198 164.650391 M 2.480927 0 32 (n) widthshow
3 FF
316.506195 164.650391 M 2.480927 0 32 ( and ending with ) widthshow
0 FF
395.869904 164.650391 M 2.480927 0 32 (memory_object_lock_completed) widthshow
3 FF
534.169922 164.650391 M 2.480927 0 32 (\),) widthshow
(it is kno) 193.536 176.65 T
(wn that the manager has the sole cop) 225.516 176.65 T
(y of the page.) 372.886 176.65 T
4 FF
<a5> 180.0 191.65 T
5 FF
193.535995 191.650269 M 0.714722 0 32 (k) widthshow
197.876053 191.650269 M 0.714722 0 32 (ernel) widthshow
6 FF
218.426056 191.650269 M 0.714722 0 32 <ae> widthshow
5 FF
228.296051 191.650269 M 0.714722 0 32 (k) widthshow
232.636108 191.650269 M 0.714722 0 32 (ernel-cleaning) widthshow
6 FF
290.956116 191.650269 M 0.714722 0 32 <ae> widthshow
5 FF
300.826111 191.650269 M 0.714722 0 32 (both) widthshow
3 FF
318.60611 191.650269 M 0.714722 0 32 (: The manager sends a ) widthshow
0 FF
414.099731 191.650269 M 0.714722 0 32 (memory_object_lock_r) widthshow
512.779846 191.650269 M 0.714722 0 32 (equest) widthshow
3 FF
193.535995 203.650208 M 0.617981 0 32 (\(clean\) to the k) widthshow
255.550003 203.650208 M 0.617981 0 32 (ernel. When \(b) widthshow
316.286072 203.650208 M 0.617981 0 32 (ut not until\) the k) widthshow
388.108063 203.650208 M 0.617981 0 32 (ernel responds \(possibly with ) widthshow
0 FF
510.570007 203.650208 M 0.617981 0 32 (memo-) widthshow
193.535995 215.650146 M 3.148727 0 32 (ry_object_data_r) widthshow
267.226105 215.650146 M 3.148727 0 32 (etur) widthshow
284.846191 215.650146 M 3.148727 0 32 (n) widthshow
3 FF
290.406189 215.650146 M 3.148727 0 32 ( and ending with ) widthshow
0 FF
372.441101 215.650146 M 3.148727 0 32 (memory_object_lock_completed) widthshow
3 FF
510.741119 215.650146 M 3.148727 0 32 (\), both) widthshow
193.535995 227.650085 M 1.227951 0 32 (the manager and the k) widthshow
286.657867 227.650085 M 1.227951 0 32 (ernel will ha) widthshow
338.90387 227.650085 M 1.227951 0 32 (v) widthshow
343.753967 227.650085 M 1.227951 0 32 (e v) widthshow
356.672058 227.650085 M 1.227951 0 32 (alid read-only copies. \(Of course, the k) widthshow
520.009827 227.650085 M 1.227951 0 32 (ernel) widthshow
193.535995 239.650024 M 0.606918 0 32 (may discard its cop) widthshow
272.746826 239.650024 M 0.606918 0 32 (y at an) widthshow
300.470734 239.650024 M 0.606918 0 32 (y time.\) Notice that this sequence races with the basic k) widthshow
528.900024 239.650024 M 0.606918 0 32 (er-) widthshow
193.535995 251.649963 M 1.666107 0 32 (nel e) widthshow
214.112244 251.649963 M 1.666107 0 32 (viction mechanisms. That is, the k) widthshow
359.282837 251.649963 M 1.666107 0 32 (ernel may ha) widthshow
414.065186 251.649963 M 1.666107 0 32 (v) widthshow
418.915253 251.649963 M 1.666107 0 32 (e already sent the \(modi\336ed\)) widthshow
193.535995 263.649902 M 2.939255 0 32 (page via ) widthshow
0 FF
235.514511 263.649902 M 2.939255 0 32 (memory_object_data_r) widthshow
335.304626 263.649902 M 2.939255 0 32 (etur) widthshow
352.924713 263.649902 M 2.939255 0 32 (n) widthshow
3 FF
358.484711 263.649902 M 2.939255 0 32 ( before the manager e) widthshow
456.621887 263.649902 M 2.939255 0 32 (v) widthshow
461.471985 263.649902 M 2.939255 0 32 (en started this se-) widthshow
193.535995 275.649841 M 0.407593 0 32 (quence. As such, when ) widthshow
0 FF
289.586365 275.649841 M 0.407593 0 32 (memory_object_lock_r) widthshow
388.266479 275.649841 M 0.407593 0 32 (equest) widthshow
3 FF
415.486511 275.649841 M 0.407593 0 32 ( are being used, it is not possi-) widthshow
193.535995 287.64978 M 0.361359 0 32 (bly to distinguish between a ) widthshow
0 FF
310.062805 287.64978 M 0.361359 0 32 (memory_object_data_r) widthshow
409.852905 287.64978 M 0.361359 0 32 (etur) widthshow
427.472992 287.64978 M 0.361359 0 32 (n) widthshow
3 FF
433.03299 287.64978 M 0.361359 0 32 ( that means that the k) widthshow
520.009827 287.64978 M 0.361359 0 32 (ernel) widthshow
193.535995 299.649719 M 1.245956 0 32 (is pro) widthshow
217.132034 299.649719 M 1.245956 0 32 (viding the current page contents b) widthshow
358.971924 299.649719 M 1.245956 0 32 (ut still k) widthshow
394.1539 299.649719 M 1.245956 0 32 (eeping a cop) widthshow
447.085876 299.649719 M 1.245956 0 32 (y v) widthshow
460.681915 299.649719 M 1.245956 0 32 (ersus gi) widthshow
492.507996 299.649719 M 1.245956 0 32 (ving up the) widthshow
193.535995 311.649658 M 0.259247 0 32 (page all together) widthshow
260.154785 311.649658 M 0.259247 0 32 (. \() widthshow
0 FF
268.744049 311.649658 M 0.259247 0 32 (memory_object_data_r) widthshow
368.53418 311.649658 M 0.259247 0 32 (etur) widthshow
386.154236 311.649658 M 0.259247 0 32 (n) widthshow
3 FF
391.714233 311.649658 M 0.259247 0 32 ( does return that information, b) widthshow
517.240601 311.649658 M 0.259247 0 32 (ut the) widthshow
193.535995 323.649597 M 0.738602 0 32 (k) widthshow
198.43605 323.649597 M 0.738602 0 32 (ernel can discard its cop) widthshow
297.930542 323.649597 M 0.738602 0 32 (y immediately afterw) widthshow
384.847778 323.649597 M 0.738602 0 32 (ard, unless the page is ) widthshow
5 FF
479.080811 323.649597 M 0.738602 0 32 (pr) widthshow
487.601013 323.649597 M 0.738602 0 32 (ecious) widthshow
3 FF
513.151001 323.649597 M 0.738602 0 32 (.\) This) widthshow
193.535995 335.649567 M 0.406342 0 32 (is wh) widthshow
215.282364 335.649567 M 0.406342 0 32 (y ) widthshow
0 FF
223.188705 335.649567 M 0.406342 0 32 (memory_object_data_r) widthshow
322.978821 335.649567 M 0.406342 0 32 (etur) widthshow
340.598907 335.649567 M 0.406342 0 32 (n) widthshow
3 FF
346.158905 335.649567 M 0.406342 0 32 ( is not sho) widthshow
387.968079 335.649567 M 0.406342 0 32 (wn as a meaningful o) widthshow
474.883575 335.649567 M 0.406342 0 32 (wnership transi-) widthshow
193.535995 347.649536 M 0.014877 0 32 (tion in FIGURE 2. It does follo) widthshow
318.655396 347.649536 M 0.014877 0 32 (w) widthshow
325.225769 347.649536 M 0.014877 0 32 (, though, that the data returned via ) widthshow
0 FF
465.029907 347.649536 M 0.014877 0 32 (memory_object_-) widthshow
193.535995 359.649536 M 6.949417 0 32 (data_r) widthshow
221.686096 359.649536 M 6.949417 0 32 (etur) widthshow
239.306183 359.649536 M 6.949417 0 32 (n) widthshow
3 FF
244.86618 359.649536 M 6.949417 0 32 ( is more current than an) widthshow
374.163361 359.649536 M 6.949417 0 32 (y data the manager holds. If no) widthshow
0 FF
193.535995 371.649475 M 1.532898 0 32 (memory_object_lock_r) widthshow
292.216125 371.649475 M 1.532898 0 32 (equest) widthshow
3 FF
319.436096 371.649475 M 1.532898 0 32 ( operations are e) widthshow
389.594971 371.649475 M 1.532898 0 32 (v) widthshow
394.445038 371.649475 M 1.532898 0 32 (er performed by the manager) widthshow
516.246887 371.649475 M 1.532898 0 32 (, then) widthshow
193.535995 383.649414 M 2.880508 0 32 (recei) widthshow
212.716141 383.649414 M 2.880508 0 32 (ving a ) widthshow
0 FF
245.697159 383.649414 M 2.880508 0 32 (memory_object_data_r) widthshow
345.487274 383.649414 M 2.880508 0 32 (etur) widthshow
363.107361 383.649414 M 2.880508 0 32 (n) widthshow
3 FF
368.667358 383.649414 M 2.880508 0 32 ( message does indeed signify transition) widthshow
193.535995 395.649353 M 1.00589 0 32 (from ) widthshow
5 FF
216.481888 395.649353 M 1.00589 0 32 (k) widthshow
220.821945 395.649353 M 1.00589 0 32 (ernel) widthshow
3 FF
241.371948 395.649353 M 1.00589 0 32 (-o) widthshow
249.452087 395.649353 M 1.00589 0 32 (wned to ) widthshow
5 FF
285.90387 395.649353 M 1.00589 0 32 (mana) widthshow
308.023926 395.649353 M 1.00589 0 32 (g) widthshow
312.923981 395.649353 M 1.00589 0 32 (er) widthshow
3 FF
321.054077 395.649353 M 1.00589 0 32 (-o) widthshow
329.134216 395.649353 M 1.00589 0 32 (wned. This observ) widthshow
404.496155 395.649353 M 1.00589 0 32 (ation doesn\325) widthshow
454.482147 395.649353 M 1.00589 0 32 (t help much, though,) widthshow
193.535995 407.649292 M 1.234085 0 32 (since it only applies to pages that are indeed modi\336ed by the k) widthshow
457.6651 407.649292 M 1.234085 0 32 (ernel. Non-modi\336ed) widthshow
193.535995 419.649231 M 0.498505 0 32 (\(and non-) widthshow
5 FF
232.634506 419.649231 M 0.498505 0 32 (pr) widthshow
241.154709 419.649231 M 0.498505 0 32 (ecious) widthshow
3 FF
266.704712 419.649231 M 0.498505 0 32 (\) pages are simply discarded by the page e) widthshow
439.842896 419.649231 M 0.498505 0 32 (viction mechanisms, and) widthshow
193.535995 431.64917 M 0.680267 0 32 (so ) widthshow
0 FF
205.606262 431.64917 M 0.680267 0 32 (memory_object_lock_r) widthshow
304.286377 431.64917 M 0.680267 0 32 (equest) widthshow
3 FF
331.506378 431.64917 M 0.680267 0 32 ( is the only w) widthshow
388.017517 431.64917 M 0.680267 0 32 (ay to be sure that the k) widthshow
482.539185 431.64917 M 0.680267 0 32 (ernel does not) widthshow
193.535995 443.649109 M 0.338318 0 32 (hold a cop) widthshow
235.77269 443.649109 M 0.338318 0 32 (y of the page. Of course, if the manager doesn\325) widthshow
426.637695 443.649109 M 0.338318 0 32 (t care what the o) widthshow
493.831116 443.649109 M 0.338318 0 32 (wnership is) widthshow
(\(the manager ne) 193.536 455.649 T
(v) 257.706 455.649 T
(er e) 262.556 455.649 T
(xamines the data itself\), this is not a concern.) 277.116 455.649 T
4 FF
<a5> 180.0 470.649 T
5 FF
193.535995 470.648987 M 0.598679 0 32 (both) widthshow
6 FF
211.315994 470.648987 M 0.598679 0 32 <ae> widthshow
5 FF
221.185989 470.648987 M 0.598679 0 32 (both-\337ushing) widthshow
6 FF
273.966003 470.648987 M 0.598679 0 32 <ae> widthshow
5 FF
283.835999 470.648987 M 0.598679 0 32 (mana) widthshow
305.956055 470.648987 M 0.598679 0 32 (g) widthshow
310.856079 470.648987 M 0.598679 0 32 (er) widthshow
3 FF
319.186096 470.648987 M 0.598679 0 32 (: The manager sends a ) widthshow
0 FF
414.099487 470.648987 M 0.598679 0 32 (memory_object_lock_r) widthshow
512.779602 470.648987 M 0.598679 0 32 (equest) widthshow
3 FF
193.535995 482.648926 M 0.744858 0 32 (\(\337ush\) to the k) widthshow
254.280624 482.648926 M 0.744858 0 32 (ernel. When \(b) widthshow
315.270447 482.648926 M 0.744858 0 32 (ut not until\) the k) widthshow
387.599945 482.648926 M 0.744858 0 32 (ernel responds \(possibly with ) widthshow
0 FF
510.569397 482.648926 M 0.744858 0 32 (memo-) widthshow
193.535995 494.648865 M 3.548965 0 32 (ry_object_data_r) widthshow
267.226105 494.648865 M 3.548965 0 32 (etur) widthshow
284.846191 494.648865 M 3.548965 0 32 (n) widthshow
3 FF
290.406189 494.648865 M 3.548965 0 32 ( and ending with ) widthshow
0 FF
374.042053 494.648865 M 3.548965 0 32 (memory_object_lock_completed) widthshow
3 FF
512.342041 494.648865 M 3.548965 0 32 (\) it is) widthshow
(kno) 193.536 506.649 T
(wn that the manager has the sole cop) 208.286 506.649 T
(y of the page.) 355.656 506.649 T
4 FF
<a5> 180.0 521.649 T
5 FF
193.535995 521.648743 M 1.754715 0 32 (both) widthshow
6 FF
211.315994 521.648743 M 1.754715 0 32 <ae> widthshow
5 FF
221.185989 521.648743 M 1.754715 0 32 (k) widthshow
225.526047 521.648743 M 1.754715 0 32 (ernel-loc) widthshow
261.426147 521.648743 M 1.754715 0 32 (king) widthshow
6 FF
278.646179 521.648743 M 1.754715 0 32 <ae> widthshow
5 FF
288.516174 521.648743 M 1.754715 0 32 (k) widthshow
292.856201 521.648743 M 1.754715 0 32 (ernel) widthshow
3 FF
313.406219 521.648743 M 1.754715 0 32 (: The manager sends a ) widthshow
0 FF
414.099792 521.648743 M 1.754715 0 32 (memory_object_lock_r) widthshow
512.779907 521.648743 M 1.754715 0 32 (equest) widthshow
3 FF
193.535995 533.648682 M 0.164337 0 32 (\(unlock\) to the k) widthshow
260.309082 533.648682 M 0.164337 0 32 (ernel. As soon as this is sent, the k) widthshow
399.293823 533.648682 M 0.164337 0 32 (ernel must be vie) widthshow
468.136963 533.648682 M 0.164337 0 32 (wed as being able) widthshow
193.535995 545.648621 M 2.265961 0 32 (to modify the page, and therefore o) widthshow
347.681915 545.648621 M 2.265961 0 32 (wns it. The ) widthshow
0 FF
401.699799 545.648621 M 2.265961 0 32 (memory_object_lock_completed) widthshow
3 FF
(message merely con\336rms the action.) 193.536 557.649 T
7 (Times-Bold) 12 1 mymakefontmetric
7 FF
(Pr) 180.0 588.982 T
(eser) 192.444 588.982 T
(ving Operation Order During Lock Sequences) 212.976 588.982 T
3 FF
180 605.648438 M 2.401199 0 32 (Some of these transitions require recei) widthshow
345.336151 605.648438 M 2.401199 0 32 (ving a ) widthshow
0 FF
377.358551 605.648438 M 2.401199 0 32 (memory_object_lock_completed) widthshow
3 FF
515.658569 605.648438 M 2.401199 0 32 ( mes-) widthshow
180 617.648438 M 1.124268 0 32 (sage. If the memory manager must serialize its operations upon a gi) widthshow
462.627106 617.648438 M 1.124268 0 32 (v) widthshow
467.477173 617.648438 M 1.124268 0 32 (en page \(which it) widthshow
180 629.648315 M 0.325317 0 32 (typically must do\), then it has to w) widthshow
321.067261 629.648315 M 0.325317 0 32 (ait for this message, and defer processing other opera-) widthshow
180 641.648315 M 1.219131 0 32 (tions upon this page until it does recei) widthshow
340.22406 641.648315 M 1.219131 0 32 (v) widthshow
345.074158 641.648315 M 1.219131 0 32 (e the message. Once a ) widthshow
0 FF
442.249817 641.648315 M 1.219131 0 32 (memory_object_lock_-) widthshow
180 653.648193 M 0.743942 0 32 (r) widthshow
184.260101 653.648193 M 0.743942 0 32 (equest) widthshow
3 FF
211.480103 653.648193 M 0.743942 0 32 ( message has been sent to the k) widthshow
341.287781 653.648193 M 0.743942 0 32 (ernel for a page, the follo) widthshow
445.837646 653.648193 M 0.743942 0 32 (wing messages may be) widthshow
(subsequently recei) 180.0 665.648 T
(v) 253.9 665.648 T
(ed for that page:) 258.75 665.648 T
4 FF
<a5> 180.0 683.648 T
3 FF
193.535995 683.648071 M 1.126968 0 32 (Direct client service requests. Of course, clients can al) widthshow
419.611816 683.648071 M 1.126968 0 32 (w) widthshow
426.731873 683.648071 M 1.126968 0 32 (ays mak) widthshow
460.808899 683.648071 M 1.126968 0 32 (e direct requests of) widthshow
(the memory manager at an) 193.536 695.648 T
(y time.) 300.026 695.648 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 101 101
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (97 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Strict K) 72.0 56.824 T
(er) 102.519 56.824 T
(nel and Manager P) 110.376 56.824 T
(age Consistency) 183.538 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 72.0 115.667 T
1 FF
85.535995 115.666626 M 1.072159 0 32 (memory_object_data_r) widthshow
185.326111 115.666626 M 1.072159 0 32 (equest) widthshow
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
212.546112 115.666626 M 1.072159 0 32 (. It is possible that the k) widthshow
314.159119 115.666626 M 1.072159 0 32 (ernel does not hold the page) widthshow
85.535995 127.666565 M 1.122543 0 32 (in question \(it discarded it pre) widthshow
210.608856 127.666565 M 1.122543 0 32 (viously\) and no) widthshow
274.824097 127.666565 M 1.122543 0 32 (w) widthshow
281.39444 127.666565 M 1.122543 0 32 (, by coincidence, it is requesting the) widthshow
85.535995 139.666504 M 0.418198 0 32 (page to satisfy some client\325) widthshow
196.089096 139.666504 M 0.418198 0 32 (s page f) widthshow
227.925552 139.666504 M 0.418198 0 32 (ault. The k) widthshow
271.712006 139.666504 M 0.418198 0 32 (ernel is clearly prepared to w) widthshow
390.05307 139.666504 M 0.418198 0 32 (ait for this) widthshow
85.535995 151.666443 M 1.182816 0 32 (page until the manager completes its lock processing. The manager must not for) widthshow
419.779907 151.666443 M 1.182816 0 32 (get) widthshow
(that the k) 85.536 163.666 T
(ernel is w) 122.656 163.666 T
(aiting for the page; the k) 161.436 163.666 T
(ernel ne) 259.376 163.666 T
(v) 291.056 163.666 T
(er multiply issues page requests.) 295.906 163.666 T
3 FF
<a5> 72.0 178.666 T
1 FF
85.535995 178.666321 M 1.879303 0 32 (memory_object_data_unlock) widthshow
4 FF
209.966003 178.666321 M 1.879303 0 32 (. The k) widthshow
241.674667 178.666321 M 1.879303 0 32 (ernel is requesting more access for the page.) widthshow
85.535995 190.66626 M 1.230927 0 32 (This will ha) widthshow
135.577957 190.66626 M 1.230927 0 32 (v) widthshow
140.42804 190.66626 M 1.230927 0 32 (e to w) widthshow
167.22995 190.66626 M 1.230927 0 32 (ait until lock processing is completed. If the manager\325) widthshow
392.327698 190.66626 M 1.230927 0 32 (s lock re-) widthshow
85.535995 202.666199 M 1.464874 0 32 (quest in) widthshow
117.991089 202.666199 M 1.464874 0 32 (v) widthshow
122.791199 202.666199 M 1.464874 0 32 (olv) widthshow
135.42128 202.666199 M 1.464874 0 32 (es cleaning, then the k) widthshow
230.330841 202.666199 M 1.464874 0 32 (ernel will still need to be granted greater access) widthshow
85.535995 214.666138 M 0.764496 0 32 (when the lock sequence is completed. If the manager\325) widthshow
306.322296 214.666138 M 0.764496 0 32 (s lock request is a \337ush opera-) widthshow
85.535995 226.666077 M 0.274918 0 32 (tion, though, the k) widthshow
159.320801 226.666077 M 0.274918 0 32 (ernel will cease to hold the page and so granting greater access will) widthshow
85.535995 238.666016 M 0.597336 0 32 (ha) widthshow
94.776108 238.666016 M 0.597336 0 32 (v) widthshow
99.62619 238.666016 M 0.597336 0 32 (e no ef) widthshow
127.781006 238.666016 M 0.597336 0 32 (fect. Indeed, the k) widthshow
201.393082 238.666016 M 0.597336 0 32 (ernel, after \337ushing the page, will proceed to request the) widthshow
(page back \(with the greater access\).) 85.536 250.666 T
3 FF
<a5> 72.0 265.666 T
1 FF
85.535995 265.665894 M 0.613358 0 32 (memory_object_data_r) widthshow
185.326111 265.665894 M 0.613358 0 32 (etur) widthshow
202.946198 265.665894 M 0.613358 0 32 (n) widthshow
4 FF
208.506195 265.665894 M 0.613358 0 32 (. Either the k) widthshow
261.906311 265.665894 M 0.613358 0 32 (ernel is supplying the requested page as a) widthshow
85.535995 277.665833 M 0.481522 0 32 (result of our lock processing or it is randomly e) widthshow
279.319824 277.665833 M 0.481522 0 32 (victing the page. Either w) widthshow
384.185974 277.665833 M 0.481522 0 32 (ay) widthshow
392.976349 277.665833 M 0.481522 0 32 (, this sent) widthshow
(page is more current than an) 85.536 289.666 T
(y cop) 198.966 289.666 T
(y the manager holds.) 220.806 289.666 T
3 FF
<a5> 72.0 304.666 T
1 FF
85.535995 304.66571 M 1.349365 0 32 (memory_object_terminate) widthshow
4 FF
198.826019 304.66571 M 1.349365 0 32 (. The manager lost the race with the un-mapping of the) widthshow
85.535995 316.665649 M 0.734589 0 32 (object by clients. It follo) widthshow
186.27449 316.665649 M 0.734589 0 32 (ws that an) widthshow
228.143753 316.665649 M 0.734589 0 32 (y data to be returned from the k) widthshow
359.545959 316.665649 M 0.734589 0 32 (ernel has been al-) widthshow
85.535995 328.665619 M 0.775909 0 32 (ready) widthshow
107.096359 328.665619 M 0.775909 0 32 (, so the manager has the latest page cop) widthshow
271.223694 328.665619 M 0.775909 0 32 (y) widthshow
275.574066 328.665619 M 0.775909 0 32 (. An) widthshow
293.420044 328.665619 M 0.775909 0 32 (y lock processing is aborted since) widthshow
4 FF
(the k) 85.536 340.666 T
(ernel clearly did not see the manager\325) 105.156 340.666 T
(s lock request.) 255.116 340.666 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(V) 72.0 371.999 T
(irtual Copy Consistency) 80.22 371.999 T
4 FF
72 388.665588 M 0.327255 0 32 (When a cop) widthshow
120.314575 388.665588 M 0.327255 0 32 (y is made of the range of a memory object \() widthshow
1 FF
298.54715 388.665588 M 0.327255 0 32 (vm_copy) widthshow
4 FF
336.227509 388.665588 M 0.327255 0 32 (, ) widthshow
1 FF
341.554749 388.665588 M 0.327255 0 32 (task_cr) widthshow
373.034851 388.665588 M 0.327255 0 32 (eate) widthshow
4 FF
390.244873 388.665588 M 0.327255 0 32 ( or out-of-) widthshow
72 400.665588 M 1.556625 0 32 (line data transmission\) one e) widthshow
192.506592 400.665588 M 1.556625 0 32 (xpects the contents of the cop) widthshow
318.779785 400.665588 M 1.556625 0 32 (y to be that of the original) widthshow
72 412.665558 M 0.130798 0 32 (memory object at the time of the cop) widthshow
220.295654 412.665558 M 0.130798 0 32 (y) widthshow
224.646011 412.665558 M 0.130798 0 32 (. If the MEMOR) widthshow
291.048767 412.665558 M 0.130798 0 32 (Y_OBJECT_COPY_NONE strate-) widthshow
72 424.665527 M 2.746231 0 32 (gy is used, this will ob) widthshow
175.591232 424.665527 M 2.746231 0 32 (viously be the case. Ho) widthshow
279.366302 424.665527 M 2.746231 0 32 (we) widthshow
290.776428 424.665527 M 2.746231 0 32 (v) widthshow
295.626526 424.665527 M 2.746231 0 32 (er) widthshow
302.996765 424.665527 M 2.746231 0 32 (, when MEMOR) widthshow
374.779572 424.665527 M 2.746231 0 32 (Y_OBJECT_-) widthshow
72 436.665527 M 0.513687 0 32 (COPY_DELA) widthshow
129.280579 436.665527 M 0.513687 0 32 (Y is used, this need not be. At the time of the virtual cop) widthshow
362.228577 436.665527 M 0.513687 0 32 (y) widthshow
366.578918 436.665527 M 0.513687 0 32 (, the contents of) widthshow
72 448.665527 M 0.277481 0 32 (the original object are not fetched and copied into the cop) widthshow
305.184875 448.665527 M 0.277481 0 32 (y; such a cop) widthshow
358.40741 448.665527 M 0.277481 0 32 (y may be delayed.) widthshow
72 460.665497 M 1.575348 0 32 (The manner in which the object is manipulated may determine the consistenc) widthshow
398.29895 460.665497 M 1.575348 0 32 (y of the) widthshow
(cop) 72.0 472.665 T
(y) 86.34 472.665 T
(.) 90.69 472.665 T
72 496.665466 M 0.497818 0 32 (Problems occur when the memory object can be modi\336ed in an) widthshow
329.568298 496.665466 M 0.497818 0 32 (y w) widthshow
344.686157 496.665466 M 0.497818 0 32 (ay other than through) widthshow
(memory access visible to one k) 72.0 508.665 T
(ernel. Consider the follo) 197.16 508.665 T
(wing \(time-ordered\) scenario:) 294.12 508.665 T
3 FF
<a5> 72.0 526.665 T
4 FF
(A virtual cop) 85.536 526.665 T
(y is made.) 138.206 526.665 T
3 FF
<a5> 72.0 541.665 T
4 FF
85.535995 541.665405 M 1.119614 0 32 (The backing storage of a page of the original object, not resident at the time of the) widthshow
(cop) 85.536 553.665 T
(y) 99.876 553.665 T
(, is modi\336ed directly by the manager) 104.226 553.665 T
(.) 250.607 553.665 T
3 FF
<a5> 72.0 568.665 T
4 FF
85.535995 568.665405 M 0.421448 0 32 (A reference is made to the cop) widthshow
210.14476 568.665405 M 0.421448 0 32 (y) widthshow
214.495117 568.665405 M 0.421448 0 32 (. The k) widthshow
243.288071 568.665405 M 0.421448 0 32 (ernel, seeing that it hasn\325) widthshow
345.053955 568.665405 M 0.421448 0 32 (t yet copied the page,) widthshow
85.535995 580.665405 M 0.635605 0 32 (will fetch it from the original object\325) widthshow
235.449936 580.665405 M 0.635605 0 32 (s manager) widthshow
276.505768 580.665405 M 0.635605 0 32 (, thereby fetching the ne) widthshow
375.718323 580.665405 M 0.635605 0 32 (w page v) widthshow
412.839691 580.665405 M 0.635605 0 32 (alue,) widthshow
(not the v) 85.536 592.665 T
(alue the page had at the time of the virtual cop) 120.286 592.665 T
(y) 305.706 592.665 T
(.) 310.057 592.665 T
72 616.665344 M 0.439911 0 32 (Since a virtual cop) widthshow
147.929794 616.665344 M 0.439911 0 32 (y is not a ne) widthshow
197.769577 616.665344 M 0.439911 0 32 (w memory object kno) widthshow
286.329468 616.665344 M 0.439911 0 32 (wn to the original object\325) widthshow
388.639404 616.665344 M 0.439911 0 32 (s manager) widthshow
429.499542 616.665344 M 0.439911 0 32 (,) widthshow
72 628.665344 M 0.480682 0 32 (the manager cannot dif) widthshow
165.112198 628.665344 M 0.480682 0 32 (ferentiate between references to the old object v) widthshow
360.207092 628.665344 M 0.480682 0 32 (ersus the cop) widthshow
413.278503 628.665344 M 0.480682 0 32 (y) widthshow
417.628876 628.665344 M 0.480682 0 32 (, so) widthshow
(it is not able to track the v) 72.0 640.665 T
(arious v) 175.91 640.665 T
(ersions of a page to pro) 207.7 640.665 T
(vide the correct v) 301.14 640.665 T
(ersions itself.) 370.69 640.665 T
72 664.665283 M 2.3172 0 32 (The easiest w) widthshow
130.964462 664.665283 M 2.3172 0 32 (ay to handle this problem is to use the MEMOR) widthshow
343.109619 664.665283 M 2.3172 0 32 (Y_OBJECT_COPY_-) widthshow
72 676.665283 M 0.282242 0 32 (NONE strate) widthshow
124.062332 676.665283 M 0.282242 0 32 (gy when the manager \(or) widthshow
224.761536 676.665283 M 0.282242 0 32 (, perhaps, some other host\) will directly modify the) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 102 102
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(98 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 1.159164 0 32 (backing storage of an object. This approach, though, may cause e) widthshow
452.771759 113.650665 M 1.159164 0 32 (xcessi) widthshow
476.961914 113.650665 M 1.159164 0 32 (v) widthshow
481.811981 113.650665 M 1.159164 0 32 (e copies to be) widthshow
(made.) 180.0 125.651 T
180 149.650635 M 0.261841 0 32 (If the manager is in a position to kno) widthshow
329.054871 149.650635 M 0.261841 0 32 (w when such inconsistencies will be generated \(as it) widthshow
180 161.65062 M 0.792267 0 32 (should, since it is the manager that causes such inconsistencies by performing or allo) widthshow
529.449646 161.65062 M 0.792267 0 32 (w-) widthshow
180 173.650604 M 0.629959 0 32 (ing modi\336cation of the backing storage\), the manager can directly control the consisten-) widthshow
180 185.650589 M 0.962555 0 32 (c) widthshow
184.290085 185.650589 M 0.962555 0 32 (y of the copies \(e) widthshow
256.760437 185.650589 M 0.962555 0 32 (v) widthshow
261.610535 185.650589 M 0.962555 0 32 (en with MEMOR) widthshow
332.885986 185.650589 M 0.962555 0 32 (Y_OBJECT_COPY_DELA) widthshow
444.05658 185.650589 M 0.962555 0 32 (Y in force\). T) widthshow
501.124695 185.650589 M 0.962555 0 32 (o do this,) widthshow
180 197.650574 M 1.861038 0 32 (before the manager performs its ) widthshow
0 FF
319.545227 197.650574 M 1.861038 0 32 (memory_object_lock_r) widthshow
418.225342 197.650574 M 1.861038 0 32 (equest) widthshow
3 FF
445.445312 197.650574 M 1.861038 0 32 ( to gi) widthshow
469.477539 197.650574 M 1.861038 0 32 (v) widthshow
474.327637 197.650574 M 1.861038 0 32 (e itself \322o) widthshow
516.67981 197.650574 M 1.861038 0 32 (wner-) widthshow
180 209.650558 M 0.338516 0 32 (ship\323 of a page, it uses the ) widthshow
0 FF
290.129639 209.650558 M 0.338516 0 32 (memory_object_f) widthshow
364.849792 209.650558 M 0.338516 0 32 (or) widthshow
374.109863 209.650558 M 0.338516 0 32 (ce_copy) widthshow
3 FF
407.989868 209.650558 M 0.338516 0 32 ( call to force the k) widthshow
482.062531 209.650558 M 0.338516 0 32 (ernel to e) widthshow
519.699707 209.650558 M 0.338516 0 32 (v) widthshow
524.449829 209.650558 M 0.338516 0 32 (alu-) widthshow
180 221.650543 M 2.174225 0 32 (ate an) widthshow
205.624313 221.650543 M 2.174225 0 32 (y delayed copies of the page. If necessary) widthshow
386.80426 221.650543 M 2.174225 0 32 (, the k) widthshow
415.772766 221.650543 M 2.174225 0 32 (ernel will fetch the \(original\)) widthshow
(contents of the page and \322push\323 it into an) 180.0 233.651 T
(y copies.) 345.38 233.651 T
180 274.983826 360 3.024002 CR
0.25 SL
2 SC
540 276.5 M
180 276.5 L
S
0 0 612 792 CR
4 (Times-Bold) 14 1 mymakefontmetric
4 FF
(Simple Memory Manager Example) 180.0 271.317 T
3 FF
180 295.674438 M 0.360672 0 32 (The management of page consistenc) widthshow
326.812805 295.674438 M 0.360672 0 32 (y will be sho) widthshow
379.034943 295.674438 M 0.360672 0 32 (wn with a simple e) widthshow
455.877716 295.674438 M 0.360672 0 32 (xample of a memory) widthshow
180 307.674377 M 0.169937 0 32 (manager) widthshow
213.88031 307.674377 M 0.169937 0 32 (. This memory manager can be vie) widthshow
353.230103 307.674377 M 0.169937 0 32 (wed as the basis for a netw) widthshow
461.89978 307.674377 M 0.169937 0 32 (ork shared memory) widthshow
180 319.674316 M 1.628418 0 32 (manager: it supports paging operations to a k) widthshow
371.55899 319.674316 M 1.628418 0 32 (ernel b) widthshow
400.477539 319.674316 M 1.628418 0 32 (ut it also supports direct requests) widthshow
(upon the memory requiring the use of direct cache management primiti) 180.0 331.674 T
(v) 464.7 331.674 T
(es.) 469.55 331.674 T
(V) 180.0 355.674 T
(arious simpli\336cations are made for this manager:) 186.111 355.674 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 180.0 373.674 T
3 FF
(The manager supports a single memory object consisting of a single page.) 193.536 373.674 T
5 FF
<a5> 180.0 388.674 T
3 FF
(The manager e) 193.536 388.674 T
(xports a single representati) 252.806 388.674 T
(v) 360.036 388.674 T
(e to that object.) 364.886 388.674 T
5 FF
<a5> 180.0 403.674 T
3 FF
(At most one k) 193.536 403.674 T
(ernel has the object mapped.) 249.826 403.674 T
5 FF
<a5> 180.0 418.674 T
3 FF
(The manager is single threaded.) 193.536 418.674 T
5 FF
<a5> 180.0 433.674 T
3 FF
(The message-based memory references access only one inte) 193.536 433.674 T
(ger) 433.586 433.674 T
(.) 445.806 433.674 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Ov) 180.0 465.007 T
(er) 195.216 465.007 T
(view) 205.752 465.007 T
3 FF
(The ) 180.0 481.674 T
0 FF
(netmem) 198.05 481.674 T
3 FF
( manager consists of the follo) 232.48 481.674 T
(wing \336les:) 350.27 481.674 T
5 FF
<a5> 180.0 499.674 T
0 FF
(Mak) 193.536 499.674 T
(e\336le) 213.436 499.674 T
3 FF
<d14275696c6420636f6d6d616e6473> 230.656 499.674 T
5 FF
<a5> 180.0 514.674 T
0 FF
(netmem_defs) 193.536 514.674 T
3 FF
(.h\321De\336nitions e) 250.186 514.674 T
(xported to clients) 318.926 514.674 T
5 FF
<a5> 180.0 529.674 T
0 FF
(netmem_msg) 193.536 529.674 T
3 FF
(.defs\321MIG de\336nitions of client\320serv) 250.186 529.674 T
(er messages) 400.576 529.674 T
5 FF
<a5> 180.0 544.674 T
0 FF
193.535995 544.673645 M 0.397873 0 32 (netmem_msg_r) widthshow
259.446106 544.673645 M 0.397873 0 32 (eply) widthshow
3 FF
276.576477 544.673645 M 0.397873 0 32 (.defs\321MIG de\336nitions of manager reply to client messages \(dis-) widthshow
(cussed belo) 193.536 556.674 T
(w\)) 239.666 556.674 T
5 FF
<a5> 180.0 571.674 T
0 FF
(netmem_obj) 193.536 571.674 T
3 FF
(.h\321Internal de\336nitions) 246.856 571.674 T
5 FF
<a5> 180.0 586.673 T
0 FF
(netmem_pager) 193.536 586.673 T
3 FF
(.c\321Memory manager code itself) 256.856 586.673 T
(There is also a simple test client program \() 180.0 610.673 T
0 FF
(netmem_client) 350.53 610.673 T
3 FF
(.c\).) 413.29 610.673 T
180 634.67334 M 1.265671 0 32 (Most of the structure of the memory manager can be deri) widthshow
420.68689 634.67334 M 1.265671 0 32 (v) widthshow
425.536957 634.67334 M 1.265671 0 32 (ed from the sections abo) widthshow
528.209717 634.67334 M 1.265671 0 32 (v) widthshow
533.059814 634.67334 M 1.265671 0 32 (e.) widthshow
180 646.673279 M 0.923035 0 32 (The only real complication in this manager results from the direct client message inter-) widthshow
180 658.673218 M 0.963593 0 32 (f) widthshow
183.230057 658.673218 M 0.963593 0 32 (ace, resulting in the page consistenc) widthshow
331.758118 658.673218 M 0.963593 0 32 (y protocol described earlier) widthshow
443.789215 658.673218 M 0.963593 0 32 (. This protocol requires) widthshow
180 670.673157 M 0.912628 0 32 (that the pager be able to defer processing of some incoming requests to serialize all re-) widthshow
(quests for the page. A queue of pending operations is maintained.) 180.0 682.673 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 103 103
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
422 732.706665 M -2.5 0 32 (99 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Exter) 72.0 117.0 T
(nal De\336nitions) 100.476 117.0 T
72 125.999954 360 9 CR
1 G
72 125.999954 360 9 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(/*) 91.224 133.831 T
3 SL
0 SC
0.6667 G
422.91 130.5 M
422.91 135.75 L
432 130.5 L
422.91 125.25 L
F
422.91 130.5 M
108 130.5 L
S
0 0 612 792 CR
0 G
4 FF
(File: ) 108.0 142.667 T
1 FF
(netmem_defs.h) 128.84 142.667 T
4 FF
(Author: Da) 108.0 152.667 T
(vid L. Black) 153.07 152.667 T
72 164.999771 360 9 CR
1 G
72 164.999771 360 9 NF
0 G
4 FF
(*/) 90.0 172.826 T
0.6667 G
117.09 169.5 M
117.09 164.25 L
108 169.5 L
117.09 174.75 L
F
432 169.5 M
117.09 169.5 L
S
0 0 612 792 CR
0 G
4 FF
(External de\336nitions for ) 108.0 162.666 T
1 FF
(netmem_pager) 203.27 162.666 T
4 FF
(.) 266.59 162.666 T
([1]) 87.34 183.666 T
(#include <mach/error) 108.0 183.666 T
(.h>) 193.9 183.666 T
4 FF
([2]) 87.34 195.666 T
4 FF
(#de\336ne NETMEM_N) 108.0 195.666 T
(AME) 195.14 195.666 T
<d2> 288.0 195.666 T
1 FF
(netmem_pager) 292.44 195.666 T
4 FF
<d3> 356.31 195.666 T
72 199.999649 360 9 CR
1 G
72 199.999649 360 9 NF
0 G
4 FF
(/*) 90.0 207.831 T
0.6667 G
422.91 204.5 M
422.91 209.75 L
432 204.5 L
422.91 199.25 L
F
422.91 204.5 M
288 204.5 L
S
0 0 612 792 CR
0 G
4 FF
288 216.666275 M 8.195984 0 32 (Name of the pager for the) widthshow
72 228.999527 360 9 CR
1 G
72 228.999527 360 9 NF
0 G
4 FF
(*/) 90.0 236.826 T
0.6667 G
297.09 233.5 M
297.09 228.25 L
288 233.5 L
297.09 238.75 L
F
432 233.5 M
297.09 233.5 L
S
0 0 612 792 CR
0 G
4 FF
(nameservice.) 288.0 226.666 T
72 239.999527 360 9 CR
1 G
72 239.999527 360 9 NF
0 G
4 FF
(/*) 91.224 247.831 T
0.6667 G
422.91 244.5 M
422.91 249.75 L
432 244.5 L
422.91 239.25 L
F
422.91 244.5 M
108 244.5 L
S
72 258.999451 360 9 CR
1 G
72 258.999451 360 9 NF
0 G
4 FF
(*/) 90.0 266.826 T
0.6667 G
117.09 263.5 M
117.09 258.25 L
108 263.5 L
117.09 268.75 L
F
432 263.5 M
117.09 263.5 L
S
0 0 612 792 CR
0 G
4 FF
(F) 108.0 256.666 T
(ailure codes. Use user) 113.41 256.666 T
(-reserv) 200.96 256.666 T
(ed errors.) 228.57 256.666 T
4 FF
([3]) 87.34 277.666 T
4 FF
(#de\336ne NETMEM_B) 108.0 277.666 T
(AD_OBJECT) 194.59 277.666 T
(\(err_local | err_sub \(13\)|1\)) 288.0 277.666 T
4 FF
([4]) 87.34 289.666 T
4 FF
(#de\336ne NETMEM_B) 108.0 289.666 T
(AD_OFFSET) 194.59 289.666 T
(\(err_local | err_sub \(13\)|2\)) 288.0 289.666 T
4 FF
([5]) 87.34 301.666 T
4 FF
(#de\336ne NETMEM_F) 108.0 301.666 T
(AILURE) 193.09 301.666 T
(\(err_local | err_sub \(13\)|3\)) 288.0 301.666 T
3 FF
(Client Request De\336nitions) 72.0 330.999 T
4 FF
72 347.665863 M 0.747452 0 32 (Special MIG de\336nitions are required for client messages because there can be incoming) widthshow
72 359.665802 M 0.343277 0 32 (requests that will not be processed and therefore will not ha) widthshow
313.522888 359.665802 M 0.343277 0 32 (v) widthshow
318.372986 359.665802 M 0.343277 0 32 (e a reply before returning to) widthshow
(the serv) 72.0 371.666 T
(er loop to obtain the ne) 103.23 371.666 T
(xt message.) 195.57 371.666 T
72 395.66571 M 1.249084 0 32 (The request de\336nitions must e) widthshow
197.396423 395.66571 M 1.249084 0 32 (xplicitly specify ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
267.114594 395.66571 M 1.249084 0 32 (sr) widthshow
274.52478 395.66571 M 1.249084 0 32 (eplyport) widthshow
4 FF
307.854797 395.66571 M 1.249084 0 32 ( options for the reply port for) widthshow
72 407.66571 M 0.78598 0 32 (the message \(lines [7] and [14]\) so that the reply port becomes an e) widthshow
350.617859 407.66571 M 0.78598 0 32 (xplicit ar) widthshow
387.053955 407.66571 M 0.78598 0 32 (gument for) widthshow
72 419.665649 M 0.184174 0 32 (the call to the serv) widthshow
145.906784 419.665649 M 0.184174 0 32 (er routines. The serv) widthshow
228.509399 419.665649 M 0.184174 0 32 (er will need to sa) widthshow
297.366211 419.665649 M 0.184174 0 32 (v) widthshow
302.216309 419.665649 M 0.184174 0 32 (e the reply port if it needs to de-) widthshow
(fer the request.) 72.0 431.666 T
72 455.665527 M 1.42395 0 32 (The requests consist of tw) widthshow
182.025864 455.665527 M 1.42395 0 32 (o simple requests: ) widthshow
1 FF
261.0177 455.665527 M 1.42395 0 32 (netmem_r) widthshow
304.707825 455.665527 M 1.42395 0 32 (ead) widthshow
4 FF
319.707825 455.665527 M 1.42395 0 32 ( and ) widthshow
1 FF
341.995728 455.665527 M 1.42395 0 32 (netmem_write) widthshow
4 FF
403.635742 455.665527 M 1.42395 0 32 ( which) widthshow
(each tak) 72.0 467.665 T
(e an object of) 104.94 467.665 T
(fset and get or set, respecti) 158.84 467.665 T
(v) 265.23 467.665 T
(ely) 270.08 467.665 T
(, the inte) 281.651 467.665 T
(ger at that of) 316.221 467.665 T
(fset.) 366.791 467.665 T
72 477.998779 360 9 CR
1 G
72 477.998779 360 9 NF
0 G
4 FF
(/*) 91.224 485.83 T
0.6667 G
422.91 482.5 M
422.91 487.75 L
432 482.5 L
422.91 477.25 L
F
422.91 482.5 M
108 482.5 L
S
0 0 612 792 CR
0 G
4 FF
(File: ) 108.0 494.665 T
1 FF
(netmem_msg) 128.84 494.665 T
4 FF
(.defs) 185.49 494.665 T
(Author: Da) 108.0 504.665 T
(vid L. Black) 153.07 504.665 T
72 516.998596 360 9 CR
1 G
72 516.998596 360 9 NF
0 G
4 FF
(*/) 90.0 524.825 T
0.6667 G
117.09 521.5 M
117.09 516.25 L
108 521.5 L
117.09 526.75 L
F
432 521.5 M
117.09 521.5 L
S
0 0 612 792 CR
0 G
4 FF
(MIG interf) 108.0 514.665 T
(ace for messages to simple netmemory serv) 151.5 514.665 T
(er) 325.76 514.665 T
([1]) 87.34 535.665 T
(subsystem ) 108.0 535.665 T
5 FF
(netmem_msg) 152.17 535.665 T
4 FF
(417200;) 288.0 535.665 T
4 FF
([2]) 87.34 547.665 T
4 FF
(#include <mach/std_types.defs>) 108.0 547.665 T
4 FF
([3]) 87.34 559.665 T
4 FF
(#include <mach/mach_types.defs>) 108.0 559.665 T
72 563.998413 360 9 CR
1 G
72 563.998413 360 9 NF
0 G
4 FF
(/*) 91.224 571.83 T
0.6667 G
422.91 568.5 M
422.91 573.75 L
432 568.5 L
422.91 563.25 L
F
422.91 568.5 M
108 568.5 L
S
72 582.998352 360 9 CR
1 G
72 582.998352 360 9 NF
0 G
4 FF
(*/) 90.0 590.825 T
0.6667 G
117.09 587.5 M
117.09 582.25 L
108 587.5 L
117.09 592.75 L
F
432 587.5 M
117.09 587.5 L
S
0 0 612 792 CR
0 G
4 FF
(Read data from the object) 108.0 580.665 T
4 FF
([4]) 87.34 601.665 T
4 FF
(routine ) 108.0 601.665 T
1 FF
(netmem_r) 138.83 601.665 T
(ead) 182.52 601.665 T
4 FF
([5]) 87.34 613.665 T
4 FF
(\() 108.0 613.665 T
4 FF
([6]) 87.34 625.665 T
5 FF
(object) 144.0 625.665 T
4 FF
(: mem_obj_rep_port_t;) 288.0 625.665 T
4 FF
([7]) 87.34 637.665 T
4 FF
(sreplyport ) 144.0 637.665 T
5 FF
(r) 187.05 637.665 T
(eply_to) 190.57 637.665 T
4 FF
(: mach_port_mak) 288.0 637.665 T
(e_send_once_t;) 358.17 637.665 T
4 FF
([8]) 87.34 649.665 T
5 FF
(of) 144.0 649.665 T
(fset) 151.6 649.665 T
4 FF
(: vm_of) 288.0 649.665 T
(fset_t;) 319.14 649.665 T
4 FF
([9]) 87.34 661.665 T
4 FF
(out ) 144.0 661.665 T
5 FF
(value) 159.28 661.665 T
4 FF
(: int) 288.0 661.665 T
4 FF
([10]) 82.34 673.665 T
4 FF
(\);) 108.0 673.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 104 104
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(100 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
180 124.983948 360 9 CR
1 G
180 124.983948 360 9 NF
0 G
3 FF
(*/) 198.0 132.81 T
0.6667 G
225.09 129.48 M
225.09 124.23 L
216 129.48 L
225.09 134.73 L
F
540 129.48 M
225.09 129.48 L
S
0 0 612 792 CR
0 G
3 FF
(Write data to the object) 216.0 122.651 T
3 FF
([11]) 190.34 143.651 T
3 FF
(routine ) 216.0 143.651 T
0 FF
(netmem_write) 246.83 143.651 T
3 FF
([12]) 190.34 155.651 T
3 FF
(\() 216.0 155.651 T
3 FF
([13]) 190.34 167.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(object) 252.0 167.651 T
3 FF
(: mem_obj_rep_port_t;) 396.0 167.651 T
3 FF
([14]) 190.34 179.651 T
3 FF
(sreplyport ) 252.0 179.651 T
4 FF
(r) 295.05 179.651 T
(eply_to) 298.57 179.651 T
3 FF
(: mach_port_mak) 396.0 179.651 T
(e_send_once_t;) 466.17 179.651 T
3 FF
([15]) 190.34 191.65 T
4 FF
(of) 252.0 191.65 T
(fset) 259.6 191.65 T
3 FF
(: vm_of) 396.0 191.65 T
(fset_t;) 427.14 191.65 T
3 FF
([16]) 190.34 203.65 T
4 FF
(value) 252.0 203.65 T
3 FF
(: int) 396.0 203.65 T
3 FF
([17]) 190.34 215.65 T
3 FF
(\);) 216.0 215.65 T
180 237.65036 M 1.234543 0 32 (It is necessary to separately de\336ne the reply messages that will be e) widthshow
464.054626 237.65036 M 1.234543 0 32 (xplicitly generated) widthshow
180 249.650345 M 0.648422 0 32 (when these deferred requests are processed \(lines [6] and [12]\). Note that the subsystem) widthshow
180 261.650299 M 0.391266 0 32 (ID is 100 more than that in the request de\336nitions which is Mach con) widthshow
461.606689 261.650299 M 0.391266 0 32 (v) widthshow
466.456787 261.650299 M 0.391266 0 32 (ention. In general,) widthshow
180 273.650238 M 0.813599 0 32 (most processing routines will perform their processing when called, returning an appro-) widthshow
180 285.650177 M 0.934219 0 32 (priate success or f) widthshow
254.622726 285.650177 M 0.934219 0 32 (ailure return to the MIG generated serv) widthshow
416.698151 285.650177 M 0.934219 0 32 (er stubs. Ho) widthshow
466.36673 285.650177 M 0.934219 0 32 (we) widthshow
477.776855 285.650177 M 0.934219 0 32 (v) widthshow
482.626953 285.650177 M 0.934219 0 32 (er) widthshow
489.997192 285.650177 M 0.934219 0 32 (, when a re-) widthshow
180 297.650146 M 0.719223 0 32 (quest is to be deferred, MIG_NO_REPL) widthshow
344.236694 297.650146 M 0.719223 0 32 (Y is returned to the stub which pre) widthshow
487.611389 297.650146 M 0.719223 0 32 (v) widthshow
492.461487 297.650146 M 0.719223 0 32 (ents a reply) widthshow
180 309.650146 M 1.297684 0 32 (from being sent. Replies are e) widthshow
305.758514 309.650146 M 1.297684 0 32 (xplicitly sent via these MIG generated reply stubs \(lines) widthshow
([102] and [110] in ) 180.0 321.65 T
0 FF
(pending_op_execute) 255.54 321.65 T
3 FF
(\).) 342.21 321.65 T
180 331.983459 360 9 CR
1 G
180 331.983459 360 9 NF
0 G
3 FF
(/*) 199.224 339.815 T
0.6667 G
530.91 336.48 M
530.91 341.73 L
540 336.48 L
530.91 331.23 L
F
530.91 336.48 M
216 336.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 348.65 T
0 FF
(netmem_msg_r) 236.84 348.65 T
(eply) 302.75 348.65 T
3 FF
(.defs) 319.88 348.65 T
(Author: Da) 216.0 358.65 T
(vid L. Black) 261.07 358.65 T
180 370.983276 360 9 CR
1 G
180 370.983276 360 9 NF
0 G
3 FF
(*/) 198.0 378.81 T
0.6667 G
225.09 375.48 M
225.09 370.23 L
216 375.48 L
225.09 380.73 L
F
540 375.48 M
225.09 375.48 L
S
0 0 612 792 CR
0 G
3 FF
(MIG interf) 216.0 368.65 T
(ace for reply messages from simple netmemory serv) 259.5 368.65 T
(er) 468.47 368.65 T
([1]) 195.34 389.65 T
(subsystem ) 216.0 389.65 T
4 FF
(netmem_msg_r) 260.17 389.65 T
(eply) 320.9 389.65 T
3 FF
(417300;) 396.0 389.65 T
3 FF
([2]) 195.34 401.65 T
3 FF
(msgoption MA) 216.0 401.65 T
(CH_SEND_TIMEOUT) 276.44 401.65 T
(;) 370.881 401.65 T
180 405.983154 360 9 CR
1 G
180 405.983154 360 9 NF
0 G
3 FF
(/*) 199.224 413.814 T
0.6667 G
530.91 410.48 M
530.91 415.73 L
540 410.48 L
530.91 405.23 L
F
530.91 410.48 M
216 410.48 L
S
180 424.983093 360 9 CR
1 G
180 424.983093 360 9 NF
0 G
3 FF
(*/) 198.0 432.809 T
0.6667 G
225.09 429.48 M
225.09 424.23 L
216 429.48 L
225.09 434.73 L
F
540 429.48 M
225.09 429.48 L
S
0 0 612 792 CR
0 G
3 FF
(Protect ag) 252.0 422.65 T
(ainst full reply ports.) 292.22 422.65 T
3 FF
([3]) 195.34 443.65 T
3 FF
(#include <mach/std_types.defs>) 216.0 443.65 T
3 FF
([4]) 195.34 455.65 T
3 FF
(#include <mach/mach_types.defs>) 216.0 455.65 T
3 FF
([5]) 195.34 467.65 T
3 FF
(type ) 216.0 467.65 T
4 FF
(r) 235.72 467.65 T
(eply_port_t) 239.24 467.65 T
3 FF
( = MA) 285.35 467.65 T
(CH_MSG_TYPE_MO) 311.7 467.65 T
(VE_SEND_ONCE ctype: ) 402.871 467.65 T
(mach_port_t;) 270.0 477.65 T
180 481.982849 360 9 CR
1 G
180 481.982849 360 9 NF
0 G
3 FF
(/*) 199.224 489.814 T
0.6667 G
530.91 486.48 M
530.91 491.73 L
540 486.48 L
530.91 481.23 L
F
530.91 486.48 M
216 486.48 L
S
0 0 612 792 CR
0 G
3 FF
216 498.649475 M 1.286652 0 32 (Reply routine to complete a read operation. Return the result of the operation) widthshow
180 510.982727 360 9 CR
1 G
180 510.982727 360 9 NF
0 G
3 FF
(*/) 198.0 518.809 T
0.6667 G
225.09 515.48 M
225.09 510.23 L
216 515.48 L
225.09 520.73 L
F
540 515.48 M
225.09 515.48 L
S
0 0 612 792 CR
0 G
3 FF
(and the v) 216.0 508.649 T
(alue read.) 252.41 508.649 T
3 FF
([6]) 195.34 529.649 T
3 FF
(simpleroutine ) 216.0 529.649 T
0 FF
(netmem_r) 273.5 529.649 T
(ead_r) 317.19 529.649 T
(eply) 341.45 529.649 T
3 FF
([7]) 195.34 541.649 T
3 FF
(\() 216.0 541.649 T
3 FF
([8]) 195.34 553.649 T
4 FF
(r) 252.0 553.649 T
(eply_port) 255.52 553.649 T
3 FF
(: reply_port_t;) 396.0 553.649 T
3 FF
([9]) 195.34 565.649 T
4 FF
(r) 252.0 565.649 T
(esult) 255.52 565.649 T
3 FF
(: k) 396.0 565.649 T
(ern_return_t, retcode;) 406.18 565.649 T
3 FF
([10]) 190.34 577.649 T
4 FF
(value) 252.0 577.649 T
3 FF
(: int) 396.0 577.649 T
3 FF
([11]) 190.34 589.649 T
3 FF
(\);) 216.0 589.649 T
180 593.982422 360 9 CR
1 G
180 593.982422 360 9 NF
0 G
3 FF
(/*) 199.224 601.814 T
0.6667 G
530.91 598.48 M
530.91 603.73 L
540 598.48 L
530.91 593.23 L
F
530.91 598.48 M
216 598.48 L
S
180 612.982361 360 9 CR
1 G
180 612.982361 360 9 NF
0 G
3 FF
(*/) 198.0 620.809 T
0.6667 G
225.09 617.48 M
225.09 612.23 L
216 617.48 L
225.09 622.73 L
F
540 617.48 M
225.09 617.48 L
S
0 0 612 792 CR
0 G
3 FF
(Reply routine to compete a write operation.) 216.0 610.649 T
3 FF
([12]) 190.34 631.649 T
3 FF
(simpleroutine ) 216.0 631.649 T
0 FF
(netmem_write_r) 273.5 631.649 T
(eply) 344.4 631.649 T
3 FF
([13]) 190.34 643.649 T
3 FF
(\() 216.0 643.649 T
3 FF
([14]) 190.34 655.649 T
4 FF
(r) 252.0 655.649 T
(eply_port) 255.52 655.649 T
3 FF
(: reply_port_t;) 396.0 655.649 T
3 FF
([15]) 190.34 667.649 T
4 FF
(r) 252.0 667.649 T
(esult) 255.52 667.649 T
3 FF
(: k) 396.0 667.649 T
(ern_return_t, retcode) 406.18 667.649 T
3 FF
([16]) 190.34 679.649 T
3 FF
(\);) 216.0 679.649 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 105 105
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (101 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Inter) 72.0 117.0 T
(nal De\336nitions) 97.812 117.0 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 133.666656 M 1.243774 0 32 (This \336le de\336nes the internal memory object structure \(line [21]\). The object state con-) widthshow
72 145.666611 M 0.451309 0 32 (sists of the memory object cache port reference, a right count \(discussed later\) and a ref-) widthshow
72 157.66658 M 0.504639 0 32 (erence to the page data. Since the object consists of only one page, the page information) widthshow
72 169.666565 M 1.047974 0 32 (can be k) widthshow
107.31601 169.666565 M 1.047974 0 32 (ept in the same structure \(lines [27] and on\). The page information consists of) widthshow
72 181.666519 M 0.547485 0 32 (the \322backing store\323 for the page \(space obtained from ) widthshow
1 FF
293.807404 181.666519 M 0.547485 0 32 (vm_allocate) widthshow
4 FF
344.90741 181.666519 M 0.547485 0 32 (\), the ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
369.052368 181.666519 M 0.547485 0 32 (owner) widthshow
393.952454 181.666519 M 0.547485 0 32 (ship) widthshow
4 FF
410.622437 181.666519 M 0.547485 0 32 ( state) widthshow
(and the queue of pending operations.) 72.0 193.666 T
72 217.666473 M 0.596313 0 32 (There are six states de\336ned for the page as sho) widthshow
263.45697 217.666473 M 0.596313 0 32 (wn in FIGURE 3. V) widthshow
345.562866 217.666473 M 0.596313 0 32 (arious simpli\336cations) widthshow
(from FIGURE 2 are possible because of the nature of the manager) 72.0 229.666 T
(.) 336.66 229.666 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 72.0 569.65 T
4 FF
85.535995 569.650391 M 1.274368 0 32 (NETMEM_OBJ_NONE\321No memory e) widthshow
251.804825 569.650391 M 1.274368 0 32 (xists for the object. This is the initial state.) widthshow
85.535995 581.65033 M 0.672989 0 32 (As soon as an) widthshow
142.675049 581.65033 M 0.672989 0 32 (y request for the page is made, a page of memory in the serv) widthshow
392.884033 581.65033 M 0.672989 0 32 (er will be) widthshow
85.535995 593.65033 M 1.247787 0 32 (allocated. This e) widthshow
153.70166 593.65033 M 1.247787 0 32 (xtra state is added simply to allo) widthshow
290.37854 593.65033 M 1.247787 0 32 (w the use of ) widthshow
1 FF
346.469666 593.65033 M 1.247787 0 32 (memory_object_da-) widthshow
(ta_una) 85.536 605.65 T
(v) 114.736 605.65 T
(ailable) 119.636 605.65 T
4 FF
( when the page is \336rst requested \(line [257]\).) 147.976 605.65 T
6 FF
<a5> 72.0 620.65 T
4 FF
(NETMEM_OBJ_READ\321This corresponds to the ) 85.536 620.65 T
5 FF
(both-r) 289.966 620.65 T
(eading) 314.596 620.65 T
4 FF
( state in FIGURE 2.) 341.816 620.65 T
6 FF
<a5> 72.0 635.65 T
4 FF
85.535995 635.650269 M 1.368637 0 32 (NETMEM_OBJ_SER) widthshow
174.186432 635.650269 M 1.368637 0 32 (VER_WRITE\321This corresponds to the ) widthshow
5 FF
342.42099 635.650269 M 1.368637 0 32 (mana) widthshow
364.541046 635.650269 M 1.368637 0 32 (g) widthshow
369.441101 635.650269 M 1.368637 0 32 (er) widthshow
377.571228 635.650269 M 1.368637 0 32 (-writing) widthshow
4 FF
409.801208 635.650269 M 1.368637 0 32 ( state) widthshow
(in FIGURE 2.) 85.536 647.65 T
6 FF
<a5> 72.0 662.65 T
4 FF
85.535995 662.650269 M 0.820648 0 32 (NETMEM_OBJ_KERNEL_WRITE\321This corresponds to the ) widthshow
5 FF
342.128601 662.650269 M 0.820648 0 32 (k) widthshow
346.468658 662.650269 M 0.820648 0 32 (ernel-writing) widthshow
4 FF
399.248657 662.650269 M 0.820648 0 32 ( state in) widthshow
(FIGURE 2.) 85.536 674.65 T
63 231.999786 378 321.984009 CR
1 G
63 231.999786 378 321.984009 NF
72 528.999756 360 27 NF
72 528.999756 360 13.031998 CR
0 G
432 535.52 M
144 535.52 L
S
0 SC
135 535.52 M
72 535.52 L
S
63 231.999786 378 321.984009 CR
7 (Helvetica-Bold) 9 1 mymakefontmetric
7 FF
(FIGURE  3) 72.0 549.032 T
2 FF
(Example Pr) 144.0 549.032 T
(ogram P) 189.585 549.032 T
(age State T) 222.237 549.032 T
(ransitions) 264.565 549.032 T
1 G
180 411.999786 144 108 NF
0 G
8 (Times-Roman) 12 1 mymakefontmetric
8 FF
(S) 180.0 419.666 T
4 FF
(r\321data supplied, read access only) 186.672 419.666 T
8 FF
(Sw) 180.0 431.666 T
4 FF
<d16461746120737570706c6965642c20777269746520616363657373> 195.336 431.666 T
8 FF
(I) 180.0 443.666 T
4 FF
<d16372656174652070616765> 183.996 443.666 T
8 FF
(U) 180.0 455.666 T
4 FF
<d16c6f636b20726571756573742c206769> 188.664 455.666 T
(v) 259.794 455.666 T
(e write access) 264.644 455.666 T
8 FF
180 467.666168 M 6.642288 0 32 (C) widthshow
4 FF
188.003998 467.666168 M 5.535233 0 32 <d16c6f636b20726571756573742c20636c65616e2c2072656d6f> widthshow
314.709778 467.666168 M 5.535233 0 32 (v) widthshow
319.559875 467.666168 M 5.535233 0 32 (e) widthshow
(write access) 180.0 479.666 T
8 FF
180 491.666046 M 3.371292 0 32 (F) widthshow
4 FF
186.671997 491.666046 M 2.809402 0 32 <d16c6f636b20726571756573742c20636c65616e20616e6420df7573682c> widthshow
(remo) 180.0 503.666 T
(v) 200.4 503.666 T
(e write access) 205.25 503.666 T
8 FF
(OK) 180.0 515.666 T
4 FF
<d16c6f636b20636f6d706c65746564207265636569> 197.328 515.666 T
(v) 290.388 515.666 T
(ed) 295.238 515.666 T
396.98 363.59 M
393.34 364.1 L
398.76 376.31 L
400.63 363.09 L
F
0.5 SL
270 171 286.46814 162.627472 255.52533 376.313538 AS
87.11 368.49 M
83.45 368.31 L
86.5 381.27 L
90.78 368.66 L
F
276 84 222.999435 244.544601 197.998642 381.272095 AS
247.5 288.53 M
250.81 288.53 L
247.5 277 L
244.19 288.53 L
F
247.5 288.53 M
247.5 331 L
S
358.2 371.92 M
357.03 375.02 L
368.99 376 L
359.37 368.83 L
F
358.21 371.93 M
297 349 L
S
8 FF
(Sr) 160.338 356.397 T
(F) 261.0 320.397 T
(F) 309.112 275.381 T
(OK) 171.682 275.397 T
(Sw) 128.672 356.397 T
(C) 396.0 428.397 T
(OK) 351.0 446.397 T
(U) 333.341 356.397 T
1 G
0 360 99 36 382.5 393.999786 AF
0 G
0 360 99 36 382.5 393.999786 AS
4 FF
(KERNEL_WRITE) 344.457 398.413 T
1 G
0 360 99 36 382.5 492.999786 AF
0 G
0 360 99 36 382.5 492.999786 AS
(CLEANING) 356.954 497.413 T
1 G
0 360 99 36 247.5 258.999786 AF
0 G
0 360 99 36 247.5 258.999786 AS
(FLUSHING) 222.784 263.413 T
1 G
0 360 99 36 247.5 348.999786 AF
0 G
0 360 99 36 247.5 348.999786 AS
(READ) 233.892 353.413 T
1 G
0 360 99 36 121.5 393.999786 AF
0 G
0 360 99 36 121.5 393.999786 AS
(SER) 84.405 398.413 T
(VER_WRITE) 101.946 398.413 T
1 G
0 360 99 36 121.5 501.999786 AF
0 G
0 360 99 36 121.5 501.999786 AS
(NONE) 107.617 506.413 T
8 FF
(I) 90.0 437.397 T
(I) 144.0 437.397 T
187.56 353.92 M
188.97 356.91 L
197.99 348.99 L
186.15 350.93 L
F
187.57 353.92 M
138.12 377.04 L
S
309.59 259.67 M
309.78 256.06 L
296.99 259 L
309.4 263.28 L
F
6 84 240.999374 244.54155 297.001373 381.270569 AS
109.92 423.01 M
113.23 422.93 L
109.65 411.47 L
106.61 423.08 L
F
109.92 423.01 M
111.34 484.38 L
S
270 90 82.995453 190.539627 197.998795 489.269592 AS
382.5 463.46 M
379.19 463.46 L
382.5 475 L
385.81 463.46 L
F
382.5 463.46 M
382.5 412 L
S
321.46 394 M
321.46 397.31 L
333 394 L
321.46 390.69 L
F
321.46 394 M
198 394 L
S
289.53 370.87 M
292.16 368.85 L
282.5 361.73 L
286.91 372.88 L
F
289.54 370.87 M
369 475 L
S
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 106 106
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(102 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 180.0 113.651 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
193.535995 113.650665 M 0.349121 0 32 (NETMEM_OBJ_CLEANING\321This corresponds to the ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
423.242493 113.650665 M 0.349121 0 32 (k) widthshow
427.58255 113.650665 M 0.349121 0 32 (ernel-cleaning) widthshow
4 FF
485.902557 113.650665 M 0.349121 0 32 ( state in FIG-) widthshow
(URE 2.) 193.536 125.651 T
3 FF
<a5> 180.0 140.651 T
4 FF
193.535995 140.650635 M 2.316208 0 32 (NETMEM_OBJ_FLUSHING\321This corresponds to either the ) widthshow
5 FF
457.037048 140.650635 M 2.316208 0 32 (both-\337ushing) widthshow
4 FF
509.817047 140.650635 M 2.316208 0 32 ( or the) widthshow
5 FF
193.535995 152.65062 M 0.688583 0 32 (k) widthshow
197.876053 152.65062 M 0.688583 0 32 (ernel-\337ushing) widthshow
4 FF
253.426056 152.65062 M 0.688583 0 32 ( states in FIGURE 2. It is not necessary to dif) widthshow
441.992035 152.65062 M 0.688583 0 32 (ferentiate between these) widthshow
193.535995 164.650574 M 1.090271 0 32 (states in this e) widthshow
253.04689 164.650574 M 1.090271 0 32 (xample because no other operations will be performed upon the page) widthshow
(while it is in either state.) 193.536 176.651 T
180 200.650452 M 1.424255 0 32 (The ) widthshow
5 FF
199.474258 200.650452 M 1.424255 0 32 (k) widthshow
203.814316 200.650452 M 1.424255 0 32 (ernel-loc) widthshow
239.714432 200.650452 M 1.424255 0 32 (king) widthshow
4 FF
256.934448 200.650452 M 1.424255 0 32 ( state is not needed because the manager does not w) widthshow
478.807068 200.650452 M 1.424255 0 32 (ait for \(nor re-) widthshow
(quest\) a reply from that lock request.) 180.0 212.65 T
180 236.65033 M 0.309982 0 32 (The only possible pending k) widthshow
294.469971 236.65033 M 0.309982 0 32 (ernel operations are data unlock and data request. A data un-) widthshow
180 248.650299 M 0.468521 0 32 (lock will ne) widthshow
227.907181 248.650299 M 0.468521 0 32 (v) widthshow
232.757263 248.650299 M 0.468521 0 32 (er follo) widthshow
262.135925 248.650299 M 0.468521 0 32 (w a data request, so the structure need only remember one operation) widthshow
180 260.650269 M 0.418503 0 32 (\(the last\), line [31] \(and the access so requested, line [30]\). Client requests, ho) widthshow
497.070709 260.650269 M 0.418503 0 32 (we) widthshow
508.480835 260.650269 M 0.418503 0 32 (v) widthshow
513.330933 260.650269 M 0.418503 0 32 (er) widthshow
520.701172 260.650269 M 0.418503 0 32 (, can) widthshow
180 272.650269 M 0.685654 0 32 (stack up arbitrarily) widthshow
256.261658 272.650269 M 0.685654 0 32 (, so a queue is needed for them \(line [29]\). Client pending operations) widthshow
180 284.650269 M 0.603027 0 32 (\(line [10]\) must remember all of the parameters from the client\325) widthshow
440.420593 284.650269 M 0.603027 0 32 (s message, including the) widthshow
(reply port.) 180.0 296.65 T
180 306.983521 360 9 CR
1 G
180 306.983521 360 9 NF
0 G
4 FF
(/*) 199.224 314.815 T
3 SL
0.6667 G
530.91 311.48 M
530.91 316.73 L
540 311.48 L
530.91 306.23 L
F
530.91 311.48 M
216 311.48 L
S
0 0 612 792 CR
0 G
4 FF
(File: ) 216.0 323.65 T
0 FF
(netmem_obj) 236.84 323.65 T
4 FF
(.h) 290.16 323.65 T
(Author: Da) 216.0 333.65 T
(vid L. Black) 261.07 333.65 T
180 345.983337 360 9 CR
1 G
180 345.983337 360 9 NF
0 G
4 FF
(*/) 198.0 353.81 T
0.6667 G
225.09 350.48 M
225.09 345.23 L
216 350.48 L
225.09 355.73 L
F
540 350.48 M
225.09 350.48 L
S
0 0 612 792 CR
0 G
4 FF
(Internal de\336nitions for ) 216.0 343.65 T
0 FF
(netmem_msg) 308.49 343.65 T
4 FF
( serv) 365.14 343.65 T
(er) 384.15 343.65 T
(.) 391.37 343.65 T
([1]) 195.34 364.65 T
(#include <mach.h>) 216.0 364.65 T
180 368.983276 360 9 CR
1 G
180 368.983276 360 9 NF
0 G
4 FF
(/*) 199.224 376.814 T
0.6667 G
530.91 373.48 M
530.91 378.73 L
540 373.48 L
530.91 368.23 L
F
530.91 373.48 M
216 373.48 L
S
180 387.983215 360 9 CR
1 G
180 387.983215 360 9 NF
0 G
4 FF
(*/) 198.0 395.809 T
0.6667 G
225.09 392.48 M
225.09 387.23 L
216 392.48 L
225.09 397.73 L
F
540 392.48 M
225.09 392.48 L
S
0 0 612 792 CR
0 G
4 FF
(Possible object states) 216.0 385.65 T
4 FF
([2]) 195.34 406.65 T
4 FF
(#de\336ne NETMEM_OBJ_NONE) 216.0 406.65 T
(1) 396.0 406.65 T
180 410.983154 360 9 CR
1 G
180 410.983154 360 9 NF
0 G
4 FF
(/*) 198.0 418.814 T
0.6667 G
530.91 415.48 M
530.91 420.73 L
540 415.48 L
530.91 410.23 L
F
530.91 415.48 M
396 415.48 L
S
180 429.983093 360 9 CR
1 G
180 429.983093 360 9 NF
0 G
4 FF
(*/) 198.0 437.809 T
0.6667 G
405.09 434.48 M
405.09 429.23 L
396 434.48 L
405.09 439.73 L
F
540 434.48 M
405.09 434.48 L
S
0 0 612 792 CR
0 G
4 FF
(No memory e) 396.0 427.65 T
(xists for the object) 450.84 427.65 T
4 FF
([3]) 195.34 448.65 T
4 FF
(#de\336ne NETMEM_OBJ_READ) 216.0 448.65 T
(2) 396.0 448.65 T
180 452.983032 360 9 CR
1 G
180 452.983032 360 9 NF
0 G
4 FF
(/*) 198.0 460.814 T
0.6667 G
530.91 457.48 M
530.91 462.73 L
540 457.48 L
530.91 452.23 L
F
530.91 457.48 M
396 457.48 L
S
0 0 612 792 CR
0 G
4 FF
396 469.649658 M 2.229874 0 32 (Serv) widthshow
414.180084 469.649658 M 2.229874 0 32 (er has read only cop) widthshow
503.529663 469.649658 M 2.229874 0 32 (y) widthshow
507.880005 469.649658 M 2.229874 0 32 (, k) widthshow
520.009949 469.649658 M 2.229874 0 32 (ernel) widthshow
180 481.98291 360 9 CR
1 G
180 481.98291 360 9 NF
0 G
4 FF
(*/) 198.0 489.809 T
0.6667 G
405.09 486.48 M
405.09 481.23 L
396 486.48 L
405.09 491.73 L
F
540 486.48 M
405.09 486.48 L
S
0 0 612 792 CR
0 G
4 FF
(may ha) 396.0 479.65 T
(v) 424.96 479.65 T
(e read only cop) 429.81 479.65 T
(y) 491.08 479.65 T
4 FF
([4]) 195.34 500.65 T
4 FF
(#de\336ne NETMEM_OBJ_SER) 216.0 500.65 T
(VER_WRITE) 336.59 500.65 T
(3) 396.0 500.65 T
180 504.982849 360 9 CR
1 G
180 504.982849 360 9 NF
0 G
4 FF
(/*) 198.0 512.814 T
0.6667 G
530.91 509.48 M
530.91 514.73 L
540 509.48 L
530.91 504.23 L
F
530.91 509.48 M
396 509.48 L
S
0 0 612 792 CR
0 G
4 FF
396 521.649475 M 0.673859 0 32 (Serv) widthshow
414.180084 521.649475 M 0.673859 0 32 (er has writable cop) widthshow
491.911743 521.649475 M 0.673859 0 32 (y) widthshow
496.262085 521.649475 M 0.673859 0 32 (, no k) widthshow
520.009888 521.649475 M 0.673859 0 32 (ernel) widthshow
180 533.982727 360 9 CR
1 G
180 533.982727 360 9 NF
0 G
4 FF
(*/) 198.0 541.809 T
0.6667 G
405.09 538.48 M
405.09 533.23 L
396 538.48 L
405.09 543.73 L
F
540 538.48 M
405.09 538.48 L
S
0 0 612 792 CR
0 G
4 FF
(cop) 396.0 531.649 T
(y) 410.34 531.649 T
4 FF
([5]) 195.34 552.649 T
4 FF
(#de\336ne NETMEM_OBJ_KERNEL_WRITE) 216.0 552.649 T
(4) 396.0 552.649 T
180 556.982666 360 9 CR
1 G
180 556.982666 360 9 NF
0 G
4 FF
(/*) 198.0 564.814 T
0.6667 G
530.91 561.48 M
530.91 566.73 L
540 561.48 L
530.91 556.23 L
F
530.91 561.48 M
396 561.48 L
S
0 0 612 792 CR
0 G
4 FF
396 573.649292 M 4.332275 0 32 (K) widthshow
402.970154 573.649292 M 4.332275 0 32 (ernel may ha) widthshow
463.084808 573.649292 M 4.332275 0 32 (v) widthshow
467.934875 573.649292 M 4.332275 0 32 (e writable cop) widthshow
533.149536 573.649292 M 4.332275 0 32 (y) widthshow
537.499878 573.649292 M 4.332275 0 32 (,) widthshow
180 585.982544 360 9 CR
1 G
180 585.982544 360 9 NF
0 G
4 FF
(*/) 198.0 593.809 T
0.6667 G
405.09 590.48 M
405.09 585.23 L
396 590.48 L
405.09 595.73 L
F
540 590.48 M
405.09 590.48 L
S
0 0 612 792 CR
0 G
4 FF
(serv) 396.0 583.649 T
(er has no-access cop) 412.51 583.649 T
(y) 494.32 583.649 T
4 FF
([6]) 195.34 604.649 T
4 FF
(#de\336ne NETMEM_OBJ_CLEANING) 216.0 604.649 T
(5) 396.0 604.649 T
180 608.982483 360 9 CR
1 G
180 608.982483 360 9 NF
0 G
4 FF
(/*) 198.0 616.814 T
0.6667 G
530.91 613.48 M
530.91 618.73 L
540 613.48 L
530.91 608.23 L
F
530.91 613.48 M
396 613.48 L
S
0 0 612 792 CR
0 G
4 FF
396 625.649109 M 1.657974 0 32 (Pending request to k) widthshow
482.813965 625.649109 M 1.657974 0 32 (ernel to clean) widthshow
180 637.982361 360 9 CR
1 G
180 637.982361 360 9 NF
0 G
4 FF
(*/) 198.0 645.809 T
0.6667 G
405.09 642.48 M
405.09 637.23 L
396 642.48 L
405.09 647.73 L
F
540 642.48 M
405.09 642.48 L
S
0 0 612 792 CR
0 G
4 FF
(page and set read-only) 396.0 635.649 T
4 FF
([7]) 195.34 656.649 T
4 FF
(#de\336ne NETMEM_OBJ_FLUSHING) 216.0 656.649 T
(6) 396.0 656.649 T
180 660.9823 360 9 CR
1 G
180 660.9823 360 9 NF
0 G
4 FF
(/*) 198.0 668.813 T
0.6667 G
530.91 665.48 M
530.91 670.73 L
540 665.48 L
530.91 660.23 L
F
530.91 665.48 M
396 665.48 L
S
0 0 612 792 CR
0 G
4 FF
396 677.648926 M 1.657974 0 32 (Pending request to k) widthshow
482.813965 677.648926 M 1.657974 0 32 (ernel to clean) widthshow
180 689.982178 360 9 CR
1 G
180 689.982178 360 9 NF
0 G
4 FF
(*/) 198.0 697.808 T
0.6667 G
405.09 694.48 M
405.09 689.23 L
396 694.48 L
405.09 699.73 L
F
540 694.48 M
405.09 694.48 L
S
0 0 612 792 CR
0 G
4 FF
(and \337ush page) 396.0 687.649 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 107 107
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (103 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 108 360 9 CR
72 108 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 91.224 115.831 T
3 SL
0 SC
0.6667 G
422.91 112.5 M
422.91 117.75 L
432 112.5 L
422.91 107.25 L
F
422.91 112.5 M
108 112.5 L
S
72 126.999939 360 9 CR
1 G
72 126.999939 360 9 NF
0 G
3 FF
(*/) 90.0 134.826 T
0.6667 G
117.09 131.5 M
117.09 126.25 L
108 131.5 L
117.09 136.75 L
F
432 131.5 M
117.09 131.5 L
S
0 0 612 792 CR
0 G
3 FF
(Structure for a pending message operation) 108.0 124.667 T
3 FF
([8]) 87.34 145.667 T
3 FF
(#de\336ne PENDING_READ) 108.0 145.667 T
(1) 288.0 145.667 T
3 FF
([9]) 87.34 157.667 T
3 FF
(#de\336ne PENDING_WRITE) 108.0 157.667 T
(2) 288.0 157.667 T
3 FF
([10]) 82.34 169.666 T
3 FF
(struct ) 108.0 169.666 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(pending_op) 132.72 169.666 T
3 FF
([11]) 82.34 181.666 T
3 FF
({) 108.0 181.666 T
3 FF
([12]) 82.34 193.666 T
3 FF
(struct pending_op) 144.0 193.666 T
(*) 288.0 193.666 T
4 FF
(ne) 293.0 193.666 T
(xt) 302.24 193.666 T
3 FF
(;) 309.46 193.666 T
3 FF
([13]) 82.34 205.666 T
3 FF
(int) 144.0 205.666 T
4 FF
(op) 288.0 205.666 T
3 FF
(;) 298.0 205.666 T
72 209.999573 360 9 CR
1 G
72 209.999573 360 9 NF
0 G
3 FF
(/*) 90.0 217.831 T
0.6667 G
422.91 214.5 M
422.91 219.75 L
432 214.5 L
422.91 209.25 L
F
422.91 214.5 M
288 214.5 L
S
72 228.999557 360 9 CR
1 G
72 228.999557 360 9 NF
0 G
3 FF
(*/) 90.0 236.826 T
0.6667 G
297.09 233.5 M
297.09 228.25 L
288 233.5 L
297.09 238.75 L
F
432 233.5 M
297.09 233.5 L
S
0 0 612 792 CR
0 G
3 FF
(read or write) 288.0 226.666 T
3 FF
([14]) 82.34 247.666 T
3 FF
(vm_of) 144.0 247.666 T
(fset_t) 169.86 247.666 T
4 FF
(of) 288.0 247.666 T
(fset) 295.6 247.666 T
3 FF
(;) 309.49 247.666 T
3 FF
([15]) 82.34 259.666 T
3 FF
(int) 144.0 259.666 T
4 FF
(value) 288.0 259.666 T
3 FF
(;) 309.66 259.666 T
3 FF
([16]) 82.34 271.666 T
3 FF
(mach_port_t) 144.0 271.666 T
4 FF
(r) 288.0 271.666 T
(eply_port) 291.52 271.666 T
3 FF
(;) 329.85 271.666 T
3 FF
([17]) 82.34 283.666 T
3 FF
(};) 108.0 283.666 T
3 FF
([18]) 82.34 295.666 T
3 FF
(typedef struct ) 108.0 295.666 T
4 FF
(pending_op) 165.21 295.666 T
3 FF
(*) 288.0 295.666 T
4 FF
(pending_op_t) 293.0 295.666 T
3 FF
(;) 348.0 295.666 T
3 FF
([19]) 82.34 307.666 T
3 FF
(typedef struct ) 108.0 307.666 T
4 FF
(pending_op) 165.21 307.666 T
(pending_op_data_t) 288.0 307.666 T
3 FF
(;) 365.78 307.666 T
3 FF
([20]) 82.34 319.666 T
3 FF
(#de\336ne PENDING_OP_NULL) 108.0 319.666 T
(\(\() 288.0 319.666 T
4 FF
(pending_op_t) 294.66 319.666 T
3 FF
(\) 0\)) 349.66 319.666 T
72 323.999176 360 9 CR
1 G
72 323.999176 360 9 NF
0 G
3 FF
(/*) 91.224 331.83 T
0.6667 G
422.91 328.5 M
422.91 333.75 L
432 328.5 L
422.91 323.25 L
F
422.91 328.5 M
108 328.5 L
S
72 342.999115 360 9 CR
1 G
72 342.999115 360 9 NF
0 G
3 FF
(*/) 90.0 350.825 T
0.6667 G
117.09 347.5 M
117.09 342.25 L
108 347.5 L
117.09 352.75 L
F
432 347.5 M
117.09 347.5 L
S
0 0 612 792 CR
0 G
3 FF
(Object data structure) 108.0 340.666 T
3 FF
([21]) 82.34 361.666 T
3 FF
(struct ) 108.0 361.666 T
4 FF
(netmem_obj) 132.72 361.666 T
3 FF
([22]) 82.34 373.666 T
3 FF
({) 108.0 373.666 T
3 FF
([23]) 82.34 385.666 T
(mem_obj_rep_port_t) 144.0 385.666 T
4 FF
(r) 288.0 385.666 T
(epr) 291.52 385.666 T
(esentative_port) 304.48 385.666 T
3 FF
(;) 366.14 385.666 T
72 389.999023 360 9 CR
1 G
72 389.999023 360 9 NF
0 G
3 FF
(/*) 90.0 397.83 T
0.6667 G
422.91 394.5 M
422.91 399.75 L
432 394.5 L
422.91 389.25 L
F
422.91 394.5 M
288 394.5 L
S
72 408.999023 360 9 CR
1 G
72 408.999023 360 9 NF
0 G
3 FF
(*/) 90.0 416.825 T
0.6667 G
297.09 413.5 M
297.09 408.25 L
288 413.5 L
297.09 418.75 L
F
432 413.5 M
297.09 413.5 L
S
0 0 612 792 CR
0 G
3 FF
(represents object) 288.0 406.666 T
([24]) 82.34 427.666 T
(abs_mem_obj_port_t) 144.0 427.666 T
4 FF
(abstr) 288.0 427.666 T
(act_port) 308.41 427.666 T
3 FF
(;) 342.3 427.666 T
72 431.998993 360 9 CR
1 G
72 431.998993 360 9 NF
0 G
3 FF
(/*) 90.0 439.83 T
0.6667 G
422.91 436.5 M
422.91 441.75 L
432 436.5 L
422.91 431.25 L
F
422.91 436.5 M
288 436.5 L
S
72 450.998962 360 9 CR
1 G
72 450.998962 360 9 NF
0 G
3 FF
(*/) 90.0 458.825 T
0.6667 G
297.09 455.5 M
297.09 450.25 L
288 455.5 L
297.09 460.75 L
F
432 455.5 M
297.09 455.5 L
S
0 0 612 792 CR
0 G
3 FF
(represents object) 288.0 448.666 T
3 FF
([25]) 82.34 469.666 T
(mem_cache_control_port_t) 144.0 469.666 T
4 FF
(contr) 288.0 469.666 T
(ol_port) 308.66 469.666 T
3 FF
(;) 338.11 469.666 T
72 473.998962 360 9 CR
1 G
72 473.998962 360 9 NF
0 G
3 FF
(/*) 90.0 481.83 T
0.6667 G
422.91 478.5 M
422.91 483.75 L
432 478.5 L
422.91 473.25 L
F
422.91 478.5 M
288 478.5 L
S
72 492.998962 360 9 CR
1 G
72 492.998962 360 9 NF
0 G
3 FF
(*/) 90.0 500.825 T
0.6667 G
297.09 497.5 M
297.09 492.25 L
288 497.5 L
297.09 502.75 L
F
432 497.5 M
297.09 497.5 L
S
0 0 612 792 CR
0 G
3 FF
(k) 288.0 490.666 T
(ernel control port) 292.9 490.666 T
3 FF
([26]) 82.34 511.666 T
3 FF
(int) 144.0 511.666 T
4 FF
(send_rights) 288.0 511.666 T
3 FF
(;) 334.67 511.666 T
72 515.998901 360 9 CR
1 G
72 515.998901 360 9 NF
0 G
3 FF
(/*) 90.0 523.83 T
0.6667 G
422.91 520.5 M
422.91 525.75 L
432 520.5 L
422.91 515.25 L
F
422.91 520.5 M
288 520.5 L
S
72 534.998901 360 9 CR
1 G
72 534.998901 360 9 NF
0 G
3 FF
(*/) 90.0 542.825 T
0.6667 G
297.09 539.5 M
297.09 534.25 L
288 539.5 L
297.09 544.75 L
F
432 539.5 M
297.09 539.5 L
S
0 0 612 792 CR
0 G
3 FF
(control send right count) 288.0 532.666 T
3 FF
([27]) 82.34 553.666 T
3 FF
(int) 144.0 553.666 T
4 FF
(state) 288.0 553.666 T
3 FF
(;) 306.89 553.666 T
72 557.998901 360 9 CR
1 G
72 557.998901 360 9 NF
0 G
3 FF
(/*) 90.0 565.83 T
0.6667 G
422.91 562.5 M
422.91 567.75 L
432 562.5 L
422.91 557.25 L
F
422.91 562.5 M
288 562.5 L
S
72 576.998901 360 9 CR
1 G
72 576.998901 360 9 NF
0 G
3 FF
(*/) 90.0 584.825 T
0.6667 G
297.09 581.5 M
297.09 576.25 L
288 581.5 L
297.09 586.75 L
F
432 581.5 M
297.09 581.5 L
S
0 0 612 792 CR
0 G
3 FF
(who can access ho) 288.0 574.666 T
(w) 361.89 574.666 T
3 FF
([28]) 82.34 595.666 T
3 FF
(vm_address_t) 144.0 595.666 T
4 FF
(data) 288.0 595.666 T
3 FF
(;) 305.78 595.666 T
72 599.998901 360 9 CR
1 G
72 599.998901 360 9 NF
0 G
3 FF
(/*) 90.0 607.83 T
0.6667 G
422.91 604.5 M
422.91 609.75 L
432 604.5 L
422.91 599.25 L
F
422.91 604.5 M
288 604.5 L
S
72 618.998779 360 9 CR
1 G
72 618.998779 360 9 NF
0 G
3 FF
(*/) 90.0 626.825 T
0.6667 G
297.09 623.5 M
297.09 618.25 L
288 623.5 L
297.09 628.75 L
F
432 623.5 M
297.09 623.5 L
S
0 0 612 792 CR
0 G
3 FF
(pointer to contents) 288.0 616.665 T
72 629.998779 360 9 CR
1 G
72 629.998779 360 9 NF
0 G
3 FF
(/*) 91.224 637.83 T
0.6667 G
422.91 634.5 M
422.91 639.75 L
432 634.5 L
422.91 629.25 L
F
422.91 634.5 M
108 634.5 L
S
72 648.998779 360 9 CR
1 G
72 648.998779 360 9 NF
0 G
3 FF
(*/) 90.0 656.825 T
0.6667 G
117.09 653.5 M
117.09 648.25 L
108 653.5 L
117.09 658.75 L
F
432 653.5 M
117.09 653.5 L
S
0 0 612 792 CR
0 G
3 FF
(Ne) 144.0 646.665 T
(xt three \336elds used only in cleaning and \337ushing states.) 155.51 646.665 T
3 FF
([29]) 82.34 667.665 T
3 FF
(pending_op_t) 144.0 667.665 T
4 FF
(pending_op_queue) 288.0 667.665 T
3 FF
(;) 364.1 667.665 T
72 671.998779 360 9 CR
1 G
72 671.998779 360 9 NF
0 G
3 FF
(/*) 90.0 679.83 T
0.6667 G
422.91 676.5 M
422.91 681.75 L
432 676.5 L
422.91 671.25 L
F
422.91 676.5 M
288 676.5 L
S
72 690.998779 360 9 CR
1 G
72 690.998779 360 9 NF
0 G
3 FF
(*/) 90.0 698.825 T
0.6667 G
297.09 695.5 M
297.09 690.25 L
288 695.5 L
297.09 700.75 L
F
432 695.5 M
297.09 695.5 L
S
0 0 612 792 CR
0 G
3 FF
(pending msg ops) 288.0 688.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 108 108
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(104 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([30]) 190.34 113.651 T
3 FF
(vm_prot_t) 252.0 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(pending_k) 396.0 113.651 T
(ernel_access) 437.56 113.651 T
3 FF
(;) 489.21 113.651 T
180 117.983994 360 9 CR
1 G
180 117.983994 360 9 NF
0 G
3 FF
(/*) 198.0 125.815 T
3 SL
0.6667 G
530.91 122.48 M
530.91 127.73 L
540 122.48 L
530.91 117.23 L
F
530.91 122.48 M
396 122.48 L
S
180 136.983978 360 9 CR
1 G
180 136.983978 360 9 NF
0 G
3 FF
(*/) 198.0 144.81 T
0.6667 G
405.09 141.48 M
405.09 136.23 L
396 141.48 L
405.09 146.73 L
F
540 141.48 M
405.09 141.48 L
S
0 0 612 792 CR
0 G
3 FF
(pending k) 396.0 134.651 T
(ernel op) 435.62 134.651 T
3 FF
([31]) 190.34 155.651 T
3 FF
(int) 252.0 155.651 T
4 FF
(pending_k) 396.0 155.651 T
(ernel_type) 437.56 155.651 T
3 FF
(;) 479.77 155.651 T
180 159.983963 360 9 CR
1 G
180 159.983963 360 9 NF
0 G
3 FF
(/*) 198.0 167.815 T
0.6667 G
530.91 164.48 M
530.91 169.73 L
540 164.48 L
530.91 159.23 L
F
530.91 164.48 M
396 164.48 L
S
180 178.983948 360 9 CR
1 G
180 178.983948 360 9 NF
0 G
3 FF
(*/) 198.0 186.81 T
0.6667 G
405.09 183.48 M
405.09 178.23 L
396 183.48 L
405.09 188.73 L
F
540 183.48 M
405.09 183.48 L
S
0 0 612 792 CR
0 G
3 FF
(which k) 396.0 176.651 T
(ernel op) 427.84 176.651 T
3 FF
([32]) 190.34 197.651 T
3 FF
(#de\336ne PENDING_TYPE_LOCK) 216.0 197.651 T
(1) 396.0 197.651 T
3 FF
([33]) 190.34 209.651 T
3 FF
(#de\336ne PENDING_TYPE_D) 216.0 209.651 T
(A) 333.64 209.651 T
(T) 339.751 209.651 T
(A) 344.931 209.651 T
(2) 396.0 209.651 T
3 FF
([34]) 190.34 221.651 T
3 FF
(};) 216.0 221.651 T
3 FF
([35]) 190.34 233.651 T
3 FF
(typedef struct ) 216.0 233.651 T
4 FF
(netmem_obj) 273.21 233.651 T
3 FF
(*) 396.0 233.651 T
4 FF
(netmem_obj_t) 401.0 233.651 T
3 FF
(;) 457.66 233.651 T
3 FF
([36]) 190.34 245.651 T
3 FF
(typedef struct ) 216.0 245.651 T
4 FF
(netmem_obj) 273.21 245.651 T
(netmem_obj_data_t) 396.0 245.651 T
3 FF
(;) 475.44 245.651 T
3 FF
([37]) 190.34 257.651 T
3 FF
(#de\336ne NETMEM_OBJ_NULL) 216.0 257.651 T
(\(\() 396.0 257.651 T
4 FF
(netmem_obj_t) 402.66 257.651 T
3 FF
(\) 0\)) 459.32 257.651 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Exter) 180.0 286.984 T
(nal Memory Manager) 208.476 286.984 T
3 FF
(The source for the manager itself follo) 180.0 303.65 T
(ws.) 333.6 303.65 T
(The one and only memory object is declared in line [11]. ) 180.0 327.65 T
180 337.983765 360 9 CR
1 G
180 337.983765 360 9 NF
0 G
3 FF
(/*) 199.224 345.815 T
0.6667 G
530.91 342.48 M
530.91 347.73 L
540 342.48 L
530.91 337.23 L
F
530.91 342.48 M
216 342.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 354.65 T
0 FF
(netmem_pager) 236.84 354.65 T
3 FF
(.c) 300.16 354.65 T
(Author: Da) 216.0 364.65 T
(vid L. Black) 261.07 364.65 T
216 374.650269 M 0.196106 0 32 (The actual ) widthshow
0 FF
260.822205 374.650269 M 0.196106 0 32 (netmem_msg) widthshow
3 FF
317.472229 374.650269 M 0.196106 0 32 ( pager) widthshow
341.828644 374.650269 M 0.196106 0 32 (. This is a simple pager that pro) widthshow
469.151489 374.650269 M 0.196106 0 32 (vides one page of) widthshow
216 384.650208 M 1.827194 0 32 (memory) widthshow
248.680359 384.650208 M 1.827194 0 32 (, accessible either via mapping or a message based interf) widthshow
491.635193 384.650208 M 1.827194 0 32 (ace. It only) widthshow
180 396.983459 360 9 CR
1 G
180 396.983459 360 9 NF
0 G
3 FF
(*/) 198.0 404.81 T
0.6667 G
225.09 401.48 M
225.09 396.23 L
216 401.48 L
225.09 406.73 L
F
540 401.48 M
225.09 401.48 L
S
0 0 612 792 CR
0 G
3 FF
(w) 216.0 394.65 T
(orks with one k) 223.12 394.65 T
(ernel.) 284.96 394.65 T
([1]) 195.34 415.65 T
(#include <mach.h>) 216.0 415.65 T
3 FF
([2]) 195.34 427.65 T
3 FF
(#include <mach_init.h>) 216.0 427.65 T
3 FF
([3]) 195.34 439.65 T
3 FF
(#include <mig_errors.h>) 216.0 439.65 T
3 FF
([4]) 195.34 451.65 T
3 FF
(#include <serv) 216.0 451.65 T
(ers/netname.h>) 275.09 451.65 T
3 FF
([5]) 195.34 463.65 T
3 FF
(#include <stdio.h>) 216.0 463.65 T
3 FF
([6]) 195.34 475.65 T
3 FF
(#include <mach/message.h>) 216.0 475.65 T
3 FF
([7]) 195.34 487.65 T
3 FF
(#include \322) 216.0 487.65 T
0 FF
(netmem_defs) 257.38 487.65 T
3 FF
(.h\323) 314.03 487.65 T
3 FF
([8]) 195.34 499.65 T
3 FF
(#include \322) 216.0 499.65 T
0 FF
(netmem_obj) 257.38 499.65 T
3 FF
(.h\323) 310.7 499.65 T
3 FF
([9]) 195.34 511.65 T
3 FF
(#include \322) 216.0 511.65 T
0 FF
(netmem_msg) 257.38 511.65 T
3 FF
(.h\323) 314.03 511.65 T
3 FF
([10]) 190.34 523.65 T
3 FF
(#include \322) 216.0 523.65 T
0 FF
(netmem_msg_r) 257.38 523.65 T
(eply) 323.29 523.65 T
3 FF
(.h\323) 340.42 523.65 T
3 FF
([11]) 190.34 535.65 T
4 FF
(netmem_obj_data_t) 216.0 535.65 T
(master_obj) 396.0 535.65 T
3 FF
(;) 441.0 535.65 T
([12]) 190.34 547.65 T
(mach_port_t) 216.0 547.65 T
4 FF
(port_set) 396.0 547.65 T
3 FF
(;) 428.78 547.65 T
180 551.982849 360 9 CR
1 G
180 551.982849 360 9 NF
0 G
3 FF
(/*) 198.0 559.814 T
0.6667 G
530.91 556.48 M
530.91 561.73 L
540 556.48 L
530.91 551.23 L
F
530.91 556.48 M
396 556.48 L
S
0 0 612 792 CR
0 G
3 FF
396 568.649475 M 4.403305 0 32 (contains abstract and representa-) widthshow
180 580.982788 360 9 CR
1 G
180 580.982788 360 9 NF
0 G
3 FF
(*/) 198.0 588.809 T
0.6667 G
405.09 585.48 M
405.09 580.23 L
396 585.48 L
405.09 590.73 L
F
540 585.48 M
405.09 585.48 L
S
0 0 612 792 CR
0 G
3 FF
(ti) 396.0 578.649 T
(v) 401.31 578.649 T
(e ports) 406.16 578.649 T
5 FF
(Initialization) 180.0 616.983 T
3 FF
180 633.649414 M 0.842285 0 32 (The immediately follo) widthshow
270.874695 633.649414 M 0.842285 0 32 (wing ) widthshow
0 FF
294.21698 633.649414 M 0.842285 0 32 (init) widthshow
3 FF
308.666992 633.649414 M 0.842285 0 32 ( routine puts the object in the ob) widthshow
443.573059 633.649414 M 0.842285 0 32 (vious initial state. Most) widthshow
180 645.649292 M 1.691513 0 32 (of the routine is concerned with logically creating the memory object and making its) widthshow
180 657.649292 M 0.307922 0 32 (presence kno) widthshow
232.538071 657.649292 M 0.307922 0 32 (wn to the name serv) widthshow
314.159851 657.649292 M 0.307922 0 32 (er) widthshow
321.380157 657.649292 M 0.307922 0 32 (. Of course, the object isn\325) widthshow
428.549866 657.649292 M 0.307922 0 32 (t really kno) widthshow
474.465881 657.649292 M 0.307922 0 32 (wn to the k) widthshow
520.009705 657.649292 M 0.307922 0 32 (ernel) widthshow
180 669.649292 M 1.362488 0 32 (until the ) widthshow
0 FF
218.284973 669.649292 M 1.362488 0 32 (memory_object_notify) widthshow
3 FF
314.924988 669.649292 M 1.362488 0 32 ( sequence. Note in the ) widthshow
0 FF
412.827454 669.649292 M 1.362488 0 32 (memory_object_establish ) widthshow
3 FF
525.559937 669.649292 M 1.362488 0 32 (call) widthshow
3 FF
180 681.649292 M 0.416946 0 32 (\(line [204]\) that the MEMOR) widthshow
299.338135 681.649292 M 0.416946 0 32 (Y_OBJECT_COPY_NONE strate) widthshow
437.095184 681.649292 M 0.416946 0 32 (gy is used since the man-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 109 109
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (105 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666656 M 0.417328 0 32 (ager does, at times, modify the object itself. \(Refer to the discussion of virtual cop) widthshow
406.312683 115.666656 M 0.417328 0 32 (y con-) widthshow
3 FF
(sistenc) 72.0 127.667 T
(y) 99.07 127.667 T
(.\)) 103.42 127.667 T
72 137.999969 360 9 CR
1 G
72 137.999969 360 9 NF
0 G
3 FF
(/*) 91.224 145.831 T
3 SL
0 SC
0.6667 G
422.91 142.5 M
422.91 147.75 L
432 142.5 L
422.91 137.25 L
F
422.91 142.5 M
108 142.5 L
S
72 156.999954 360 9 CR
1 G
72 156.999954 360 9 NF
0 G
3 FF
(*/) 90.0 164.826 T
0.6667 G
117.09 161.5 M
117.09 156.25 L
108 161.5 L
117.09 166.75 L
F
432 161.5 M
117.09 161.5 L
S
0 0 612 792 CR
0 G
3 FF
(Initialization routine for the serv) 108.0 154.667 T
(er) 237.83 154.667 T
(.) 245.05 154.667 T
3 FF
([13]) 82.34 175.667 T
3 FF
(v) 108.0 175.667 T
(oid ) 112.8 175.667 T
1 FF
(init \() 128.08 175.667 T
3 FF
(\)) 148.36 175.667 T
3 FF
([14]) 82.34 187.667 T
3 FF
({) 108.0 187.667 T
3 FF
([15]) 82.34 199.667 T
3 FF
(k) 144.0 199.667 T
(ern_return_t) 148.9 199.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(r) 288.0 199.667 T
3 FF
(;) 291.89 199.667 T
72 203.999908 360 9 CR
1 G
72 203.999908 360 9 NF
0 G
3 FF
(/*) 91.224 211.831 T
0.6667 G
422.91 208.5 M
422.91 213.75 L
432 208.5 L
422.91 203.25 L
F
422.91 208.5 M
108 208.5 L
S
72 222.999893 360 9 CR
1 G
72 222.999893 360 9 NF
0 G
3 FF
(*/) 90.0 230.826 T
0.6667 G
117.09 227.5 M
117.09 222.25 L
108 227.5 L
117.09 232.75 L
F
432 227.5 M
117.09 227.5 L
S
0 0 612 792 CR
0 G
3 FF
(Initialize the object. This had better w) 144.0 220.667 T
(ork.) 295.82 220.667 T
3 FF
([16]) 82.34 241.667 T
4 FF
(r) 144.0 241.667 T
3 FF
( = ) 147.89 241.667 T
1 FF
(mach_port_allocate) 158.53 241.667 T
3 FF
( \() 242.96 241.667 T
1 FF
(mach_task_self) 248.79 241.667 T
3 FF
( \(\), ) 314.34 241.667 T
(MA) 198.0 251.667 T
(CH_POR) 213.71 251.667 T
(T_RIGHT_RECEIVE, ) 251.451 251.667 T
(&) 198.0 261.667 T
4 FF
(master_obj) 205.78 261.667 T
3 FF
(.) 250.78 261.667 T
4 FF
(abstr) 253.28 261.667 T
(act_port) 273.69 261.667 T
3 FF
(\);) 307.58 261.667 T
([17]) 82.34 273.667 T
3 FF
(if \() 144.0 273.667 T
4 FF
(r) 155.94 273.667 T
3 FF
( != KERN_SUCCESS\)) 159.83 273.667 T
3 FF
([18]) 82.34 285.666 T
3 FF
({) 144.0 285.666 T
3 FF
([19]) 82.34 297.666 T
3 FF
(printf \(\322Can\325) 180.0 297.666 T
(t allocate object/service port\\n\323\);) 231.75 297.666 T
3 FF
([20]) 82.34 309.666 T
3 FF
(e) 180.0 309.666 T
(xit \(\3201\);) 184.29 309.666 T
3 FF
([21]) 82.34 321.666 T
(}) 144.0 321.666 T
([22]) 82.34 333.666 T
4 FF
(r) 144.0 333.666 T
3 FF
( = ) 147.89 333.666 T
1 FF
(mach_port_mo) 158.53 333.666 T
(v) 223.42 333.666 T
(e_member) 228.32 333.666 T
3 FF
( \() 273.3 333.666 T
1 FF
(mach_task_self) 279.13 333.666 T
3 FF
( \(\), ) 344.68 333.666 T
4 FF
(master_obj) 198.0 343.666 T
3 FF
(.) 243.0 343.666 T
4 FF
(abstr) 245.5 343.666 T
(act_port) 265.91 343.666 T
3 FF
(, ) 299.8 343.666 T
4 FF
(port_set) 304.8 343.666 T
3 FF
(\);) 337.58 343.666 T
([23]) 82.34 355.666 T
(if \() 144.0 355.666 T
4 FF
(r) 155.94 355.666 T
3 FF
( != KERN_SUCCESS\)) 159.83 355.666 T
([24]) 82.34 367.666 T
({) 144.0 367.666 T
([25]) 82.34 379.666 T
(printf \(\322Can\325) 180.0 379.666 T
(t add object to port set\\n\323\);) 231.75 379.666 T
([26]) 82.34 391.666 T
(e) 180.0 391.666 T
(xit \(\3201\);) 184.29 391.666 T
([27]) 82.34 403.666 T
(}) 144.0 403.666 T
([28]) 82.34 415.666 T
4 FF
(r) 144.0 415.666 T
3 FF
( = ) 147.89 415.666 T
1 FF
(mach_port_allocate) 158.53 415.666 T
3 FF
( \() 242.96 415.666 T
1 FF
(mach_task_self) 248.79 415.666 T
3 FF
( \(\), ) 314.34 415.666 T
(MA) 198.0 425.666 T
(CH_POR) 213.71 425.666 T
(T_RIGHT_RECEIVE, ) 251.451 425.666 T
(&) 198.0 435.666 T
4 FF
(master_obj) 205.78 435.666 T
3 FF
(.) 250.78 435.666 T
4 FF
(r) 253.28 435.666 T
(epr) 256.8 435.666 T
(esentative_port) 269.76 435.666 T
3 FF
(\);) 331.42 435.666 T
([29]) 82.34 447.666 T
(if \() 144.0 447.666 T
4 FF
(r) 155.94 447.666 T
3 FF
( != KERN_SUCCESS\)) 159.83 447.666 T
([30]) 82.34 459.666 T
({) 144.0 459.666 T
([31]) 82.34 471.666 T
(printf \(\322Can\325) 180.0 471.666 T
(t allocate object/service port\\n\323\);) 231.75 471.666 T
([32]) 82.34 483.666 T
(e) 180.0 483.666 T
(xit \(\3201\);) 184.29 483.666 T
([33]) 82.34 495.666 T
(}) 144.0 495.666 T
([34]) 82.34 507.666 T
4 FF
(r) 144.0 507.666 T
3 FF
( = ) 147.89 507.666 T
1 FF
(mach_port_mo) 158.53 507.666 T
(v) 223.42 507.666 T
(e_member) 228.32 507.666 T
3 FF
( \() 273.3 507.666 T
1 FF
(mach_task_self) 279.13 507.666 T
3 FF
( \(\), ) 344.68 507.666 T
4 FF
(master_obj) 198.0 517.666 T
3 FF
(.) 243.0 517.666 T
4 FF
(r) 245.5 517.666 T
(epr) 249.02 517.666 T
(esentative_port) 261.98 517.666 T
3 FF
(, ) 323.64 517.666 T
4 FF
(port_set) 328.64 517.666 T
3 FF
(\);) 361.42 517.666 T
([35]) 82.34 529.666 T
(if \() 144.0 529.666 T
4 FF
(r) 155.94 529.666 T
3 FF
( != KERN_SUCCESS\)) 159.83 529.666 T
([36]) 82.34 541.666 T
({) 144.0 541.666 T
([37]) 82.34 553.666 T
(printf \(\322Can\325) 180.0 553.666 T
(t add object to port set\\n\323\);) 231.75 553.666 T
([38]) 82.34 565.666 T
(e) 180.0 565.666 T
(xit \(\3201\);) 184.29 565.666 T
([39]) 82.34 577.666 T
(}) 144.0 577.666 T
([40]) 82.34 589.666 T
4 FF
(master_obj) 144.0 589.666 T
3 FF
(.) 189.0 589.666 T
4 FF
(contr) 191.5 589.666 T
(ol_port) 212.16 589.666 T
3 FF
( = MA) 241.61 589.666 T
(CH_POR) 267.96 589.666 T
(T_NULL;) 305.701 589.666 T
3 FF
([41]) 82.34 601.666 T
4 FF
(master_obj) 144.0 601.666 T
3 FF
(.) 189.0 601.666 T
4 FF
(state) 191.5 601.666 T
3 FF
( = NETMEM_OBJ_NONE;) 210.39 601.666 T
3 FF
([42]) 82.34 613.666 T
4 FF
(master_obj) 144.0 613.666 T
3 FF
(.) 189.0 613.666 T
4 FF
(data) 191.5 613.666 T
3 FF
( = \(vm_address_t\) 0;) 209.28 613.666 T
3 FF
([43]) 82.34 625.666 T
4 FF
(master_obj) 144.0 625.666 T
3 FF
(.) 189.0 625.666 T
4 FF
(pending_op_queue) 191.5 625.666 T
3 FF
( = PENDING_OP_NULL;) 267.6 625.666 T
3 FF
([44]) 82.34 637.666 T
4 FF
(master_obj) 144.0 637.666 T
3 FF
(.) 189.0 637.666 T
4 FF
(pending_k) 191.5 637.666 T
(ernel_access) 233.06 637.666 T
3 FF
( = VM_PR) 284.71 637.666 T
(O) 328.29 637.666 T
(T_NONE;) 335.111 637.666 T
72 641.99939 360 9 CR
1 G
72 641.99939 360 9 NF
0 G
3 FF
(/*) 91.224 649.831 T
0.6667 G
422.91 646.5 M
422.91 651.75 L
432 646.5 L
422.91 641.25 L
F
422.91 646.5 M
108 646.5 L
S
0 0 612 792 CR
0 G
3 FF
144 658.666016 M 1.500809 0 32 (No) widthshow
155.970139 658.666016 M 1.500809 0 32 (w check it into the name service. No signature port means this is) widthshow
72 670.999268 360 9 CR
1 G
72 670.999268 360 9 NF
0 G
3 FF
(*/) 90.0 678.826 T
0.6667 G
117.09 675.5 M
117.09 670.25 L
108 675.5 L
117.09 680.75 L
F
432 675.5 M
117.09 675.5 L
S
0 0 612 792 CR
0 G
3 FF
(unprotected.) 144.0 668.666 T
3 FF
([45]) 82.34 689.666 T
4 FF
(r) 144.0 689.666 T
3 FF
( = ) 147.89 689.666 T
1 FF
(netname_check_in) 158.53 689.666 T
3 FF
( \() 237.97 689.666 T
4 FF
(name_server_port) 243.8 689.666 T
3 FF
(, NETMEM_N) 317.12 689.666 T
(AME, ) 377.32 689.666 T
(MA) 198.0 699.666 T
(CH_POR) 213.71 699.666 T
(T_NULL, ) 251.451 699.666 T
4 FF
(master_obj) 294.221 699.666 T
3 FF
(.) 339.221 699.666 T
4 FF
(r) 341.721 699.666 T
(epr) 345.241 699.666 T
(esentative_port) 358.201 699.666 T
3 FF
(\);) 419.861 699.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 110 110
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(106 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([46]) 190.34 113.651 T
3 FF
(if \() 252.0 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(r) 263.94 113.651 T
3 FF
( != NETN) 267.83 113.651 T
(AME_SUCCESS\)) 308.11 113.651 T
3 FF
([47]) 190.34 125.651 T
3 FF
({) 252.0 125.651 T
3 FF
([48]) 190.34 137.651 T
3 FF
(mach_error \(\322Check In:\323, ) 288.0 137.651 T
4 FF
(r) 392.96 137.651 T
3 FF
(\);) 396.85 137.651 T
3 FF
([49]) 190.34 149.651 T
3 FF
(e) 288.0 149.651 T
(xit \(\3201\);) 292.29 149.651 T
3 FF
([50]) 190.34 161.651 T
3 FF
(}) 252.0 161.651 T
3 FF
([51]) 190.34 173.651 T
3 FF
(}) 216.0 173.651 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(P) 180.0 202.984 T
(ort Manipulation) 187.092 202.984 T
0 FF
180 219.650574 M 0.097458 0 32 (netmem_lookup) widthshow
3 FF
248.889999 219.650574 M 0.097458 0 32 ( is a typical routine needed to translate between the abstract memory ob-) widthshow
180 231.650558 M 1.459198 0 32 (ject port o) widthshow
223.318481 231.650558 M 1.459198 0 32 (v) widthshow
228.168564 231.650558 M 1.459198 0 32 (er which messages come into the memory object control structure that de-) widthshow
180 243.650543 M 6.929932 0 32 (scribes that object. W) widthshow
287.040039 243.650543 M 6.929932 0 32 (ith only one object, this con) widthshow
432.399902 243.650543 M 6.929932 0 32 (v) widthshow
437.25 243.650543 M 6.929932 0 32 (ersion is tri) widthshow
495.859985 243.650543 M 6.929932 0 32 (vial here.) widthshow
0 FF
180 255.650528 M 1.091949 0 32 (netmem_r) widthshow
223.690109 255.650528 M 1.091949 0 32 (ep_lookup) widthshow
3 FF
268.150085 255.650528 M 1.091949 0 32 ( does the same for the representati) widthshow
411.08197 255.650528 M 1.091949 0 32 (v) widthshow
415.932037 255.650528 M 1.091949 0 32 (e port. Only the ) widthshow
0 FF
485.569824 255.650528 M 1.091949 0 32 (memory_ob-) widthshow
180 267.650513 M 0.689957 0 32 (ject_notify) widthshow
3 FF
225.540009 267.650513 M 0.689957 0 32 ( message and client requests use this; all other messages must come o) widthshow
511.969604 267.650513 M 0.689957 0 32 (v) widthshow
516.819702 267.650513 M 0.689957 0 32 (er the) widthshow
(abstract port.) 180.0 279.65 T
3 FF
180 303.650482 M 1.605911 0 32 (The routine ) widthshow
0 FF
232.091827 303.650482 M 1.605911 0 32 (netmem_contr) widthshow
294.111938 303.650482 M 1.605911 0 32 (ol_cleanup) widthshow
3 FF
340.231934 303.650482 M 1.605911 0 32 ( is called whene) widthshow
408.949829 303.650482 M 1.605911 0 32 (v) widthshow
413.799896 303.650482 M 1.605911 0 32 (er a message is recei) widthshow
502.163696 303.650482 M 1.605911 0 32 (v) widthshow
507.013794 303.650482 M 1.605911 0 32 (ed from) widthshow
180 315.650452 M 0.622635 0 32 (the k) widthshow
200.242691 315.650452 M 0.622635 0 32 (ernel. Since all such messages carry a send right to the memory cache control port,) widthshow
180 327.650391 M 0.932617 0 32 (these accumulate. Instead of de-allocating them one at a time as the) widthshow
460.048889 327.650391 M 0.932617 0 32 (y come in, the) widthshow
519.356812 327.650391 M 0.932617 0 32 (y are) widthshow
(left to add up, and \(almost all\) deleted periodically) 180.0 339.65 T
(.) 381.82 339.65 T
180 349.983673 360 9 CR
1 G
180 349.983673 360 9 NF
0 G
3 FF
(/*) 199.224 357.815 T
3 SL
0.6667 G
530.91 354.48 M
530.91 359.73 L
540 354.48 L
530.91 349.23 L
F
530.91 354.48 M
216 354.48 L
S
0 0 612 792 CR
0 G
3 FF
216 366.65033 M 1.987839 0 32 (Con) widthshow
232.270218 366.65033 M 1.987839 0 32 (v) widthshow
237.1203 366.65033 M 1.987839 0 32 (ersion routine from abstract port to object. V) widthshow
428.785797 366.65033 M 1.987839 0 32 (ery simple because there\325) widthshow
536.109619 366.65033 M 1.987839 0 32 (s) widthshow
180 378.983643 360 9 CR
1 G
180 378.983643 360 9 NF
0 G
3 FF
(*/) 198.0 386.81 T
0.6667 G
225.09 383.48 M
225.09 378.23 L
216 383.48 L
225.09 388.73 L
F
540 383.48 M
225.09 383.48 L
S
0 0 612 792 CR
0 G
3 FF
(only one object.) 216.0 376.65 T
3 FF
([52]) 190.34 397.65 T
4 FF
(netmem_obj_t ) 216.0 397.65 T
0 FF
(netmem_lookup) 275.16 397.65 T
3 FF
( \(memory_object_t ) 344.05 397.65 T
4 FF
(port) 422.93 397.65 T
3 FF
(\)) 439.6 397.65 T
3 FF
([53]) 190.34 409.65 T
3 FF
({) 216.0 409.65 T
3 FF
([54]) 190.34 421.65 T
3 FF
(if \() 252.0 421.65 T
4 FF
(port) 263.94 421.65 T
3 FF
( != ) 280.61 421.65 T
4 FF
(master_obj) 294.58 421.65 T
3 FF
(.) 339.58 421.65 T
4 FF
(abstr) 342.08 421.65 T
(act_port) 362.49 421.65 T
3 FF
(\)) 396.38 421.65 T
([55]) 190.34 433.65 T
3 FF
({) 252.0 433.65 T
3 FF
([56]) 190.34 445.65 T
3 FF
(printf \(\322object mismatch\\n\323\);) 288.0 445.65 T
3 FF
([57]) 190.34 457.65 T
3 FF
(return \(NETMEM_OBJ_NULL\); ) 288.0 457.65 T
180 461.983551 360 9 CR
1 G
180 461.983551 360 9 NF
0 G
3 FF
(/*) 198.0 469.815 T
0.6667 G
530.91 466.48 M
530.91 471.73 L
540 466.48 L
530.91 461.23 L
F
530.91 466.48 M
396 466.48 L
S
180 480.983521 360 9 CR
1 G
180 480.983521 360 9 NF
0 G
3 FF
(*/) 198.0 488.81 T
0.6667 G
405.09 485.48 M
405.09 480.23 L
396 485.48 L
405.09 490.73 L
F
540 485.48 M
405.09 485.48 L
S
0 0 612 792 CR
0 G
3 FF
(Can\325) 396.0 478.65 T
(t happen) 415.26 478.65 T
3 FF
([58]) 190.34 499.65 T
3 FF
(}) 252.0 499.65 T
3 FF
([59]) 190.34 511.65 T
3 FF
(return \(&) 252.0 511.65 T
4 FF
(master_obj) 289.49 511.65 T
3 FF
(\);) 334.49 511.65 T
3 FF
([60]) 190.34 523.65 T
3 FF
(}) 216.0 523.65 T
180 527.983521 360 9 CR
1 G
180 527.983521 360 9 NF
0 G
3 FF
(/*) 199.224 535.815 T
0.6667 G
530.91 532.48 M
530.91 537.73 L
540 532.48 L
530.91 527.23 L
F
530.91 532.48 M
216 532.48 L
S
0 0 612 792 CR
0 G
3 FF
216 544.650146 M 2.716522 0 32 (Con) widthshow
232.270218 544.650146 M 2.716522 0 32 (v) widthshow
237.1203 544.650146 M 2.716522 0 32 (ersion routine from representati) widthshow
371.380005 544.650146 M 2.716522 0 32 (v) widthshow
376.230103 544.650146 M 2.716522 0 32 (e port to object. V) widthshow
458.476807 544.650146 M 2.716522 0 32 (ery simple because) widthshow
180 556.983459 360 9 CR
1 G
180 556.983459 360 9 NF
0 G
3 FF
(*/) 198.0 564.81 T
0.6667 G
225.09 561.48 M
225.09 556.23 L
216 561.48 L
225.09 566.73 L
F
540 561.48 M
225.09 561.48 L
S
0 0 612 792 CR
0 G
3 FF
(there\325) 216.0 554.65 T
(s only one object.) 238.77 554.65 T
([61]) 190.34 575.65 T
4 FF
(netmem_obj_t ) 216.0 575.65 T
0 FF
(netmem_r) 275.16 575.65 T
(ep_lookup) 318.85 575.65 T
3 FF
( \(memory_object_t ) 363.31 575.65 T
4 FF
(port) 442.19 575.65 T
3 FF
(\)) 458.86 575.65 T
([62]) 190.34 587.65 T
({) 216.0 587.65 T
([63]) 190.34 599.65 T
(if \() 252.0 599.65 T
4 FF
(port) 263.94 599.65 T
3 FF
( != ) 280.61 599.65 T
4 FF
(master_obj) 294.58 599.65 T
3 FF
(.) 339.58 599.65 T
4 FF
(r) 342.08 599.65 T
(epr) 345.6 599.65 T
(esentative_port) 358.56 599.65 T
3 FF
(\)) 420.22 599.65 T
([64]) 190.34 611.65 T
({) 252.0 611.65 T
([65]) 190.34 623.65 T
(printf \(\322object mismatch\\n\323\);) 288.0 623.65 T
([66]) 190.34 635.65 T
(return \(NETMEM_OBJ_NULL\); ) 288.0 635.65 T
180 639.983398 360 9 CR
1 G
180 639.983398 360 9 NF
0 G
3 FF
(/*) 198.0 647.815 T
0.6667 G
530.91 644.48 M
530.91 649.73 L
540 644.48 L
530.91 639.23 L
F
530.91 644.48 M
396 644.48 L
S
180 658.983337 360 9 CR
1 G
180 658.983337 360 9 NF
0 G
3 FF
(*/) 198.0 666.81 T
0.6667 G
405.09 663.48 M
405.09 658.23 L
396 663.48 L
405.09 668.73 L
F
540 663.48 M
405.09 663.48 L
S
0 0 612 792 CR
0 G
3 FF
(Can\325) 396.0 656.65 T
(t happen) 415.26 656.65 T
([67]) 190.34 677.65 T
(}) 252.0 677.65 T
([68]) 190.34 689.65 T
(return \(&) 252.0 689.65 T
4 FF
(master_obj) 289.49 689.65 T
3 FF
(\);) 334.49 689.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 111 111
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (107 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([69]) 82.34 115.667 T
(}) 108.0 115.667 T
72 119.999985 360 9 CR
1 G
72 119.999985 360 9 NF
0 G
3 FF
(/*) 91.224 127.831 T
3 SL
0 SC
0.6667 G
422.91 124.5 M
422.91 129.75 L
432 124.5 L
422.91 119.25 L
F
422.91 124.5 M
108 124.5 L
S
0 0 612 792 CR
0 G
3 FF
108 136.666611 M 0.307846 0 32 (Routine for lazy discarding of send rights to control port. Add one more right to) widthshow
108 146.66655 M 0.72757 0 32 (the number we ha) widthshow
181.352829 146.66655 M 0.72757 0 32 (v) widthshow
186.202911 146.66655 M 0.72757 0 32 (e. If o) widthshow
211.108139 146.66655 M 0.72757 0 32 (v) widthshow
215.958221 146.66655 M 0.72757 0 32 (er limit, get rid of all b) widthshow
310.953735 146.66655 M 0.72757 0 32 (ut one. W) widthshow
350.769348 146.66655 M 0.72757 0 32 (e retain one right to) widthshow
72 158.999847 360 9 CR
1 G
72 158.999847 360 9 NF
0 G
3 FF
(*/) 90.0 166.826 T
0.6667 G
117.09 163.5 M
117.09 158.25 L
108 163.5 L
117.09 168.75 L
F
432 163.5 M
117.09 163.5 L
S
0 0 612 792 CR
0 G
3 FF
(ensure that the port\325) 108.0 156.667 T
(s name doesn\325) 187.71 156.667 T
(t change.) 244.74 156.667 T
3 FF
([70]) 82.34 177.667 T
3 FF
(#de\336ne SEND_RIGHT_MAX) 108.0 177.667 T
(10000) 288.0 177.667 T
3 FF
([71]) 82.34 189.666 T
3 FF
(v) 108.0 189.666 T
(oid ) 112.8 189.666 T
1 FF
(netmem_contr) 128.08 189.666 T
(ol_cleanup) 190.1 189.666 T
3 FF
( \() 236.22 189.666 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(netmem_obj_t) 242.05 189.666 T
3 FF
( ) 298.71 189.666 T
4 FF
(obj) 301.21 189.666 T
3 FF
(\)) 313.99 189.666 T
3 FF
([72]) 82.34 201.666 T
3 FF
({) 108.0 201.666 T
3 FF
([73]) 82.34 213.666 T
4 FF
(obj) 144.0 213.666 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 156.78 213.666 T
4 FF
(send_rights) 166.65 213.666 T
3 FF
(++;) 213.32 213.666 T
3 FF
([74]) 82.34 225.666 T
3 FF
(if \() 144.0 225.666 T
4 FF
(obj) 155.94 225.666 T
5 FF
<ae> 168.72 225.666 T
4 FF
(send_rights) 178.59 225.666 T
3 FF
( > SEND_RIGHT_MAX\)) 225.26 225.666 T
3 FF
([75]) 82.34 237.666 T
3 FF
({) 144.0 237.666 T
3 FF
([76]) 82.34 249.666 T
3 FF
(\(v) 180.0 249.666 T
(oid\) ) 188.13 249.666 T
1 FF
(mach_port_mod_r) 206.74 249.666 T
(efs) 286.55 249.666 T
3 FF
( \() 298.21 249.666 T
1 FF
(mach_task_self) 304.04 249.666 T
3 FF
( \(\),) 369.59 249.666 T
4 FF
( ) 381.25 249.666 T
(obj) 234.0 259.666 T
5 FF
<ae> 246.78 259.666 T
4 FF
(contr) 256.65 259.666 T
(ol_port) 277.31 259.666 T
3 FF
(, ) 306.76 259.666 T
(MA) 234.0 269.666 T
(CH_POR) 249.71 269.666 T
(T_RIGHT_SEND, \320) 287.451 269.666 T
(\(SEND_RIGHT_MAX\)\);) 234.0 279.666 T
3 FF
([77]) 82.34 291.666 T
4 FF
(obj) 180.0 291.666 T
5 FF
<ae> 192.78 291.666 T
4 FF
(send_rights) 202.65 291.666 T
3 FF
( \320= SEND_RIGHT_MAX;) 249.32 291.666 T
3 FF
([78]) 82.34 303.666 T
3 FF
(}) 144.0 303.666 T
3 FF
([79]) 82.34 315.666 T
3 FF
(}) 108.0 315.666 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Deferr) 72.0 345.0 T
(ed Operation Pr) 105.756 345.0 T
(ocessing) 188.868 345.0 T
72 353.999512 360 9 CR
1 G
72 353.999512 360 9 NF
0 G
3 FF
(/*) 91.224 361.831 T
0.6667 G
422.91 358.5 M
422.91 363.75 L
432 358.5 L
422.91 353.25 L
F
422.91 358.5 M
108 358.5 L
S
72 372.999512 360 9 CR
1 G
72 372.999512 360 9 NF
0 G
3 FF
(*/) 90.0 380.826 T
0.6667 G
117.09 377.5 M
117.09 372.25 L
108 377.5 L
117.09 382.75 L
F
432 377.5 M
117.09 377.5 L
S
0 0 612 792 CR
0 G
3 FF
(Routines for handling pending operations.) 108.0 370.666 T
3 FF
([80]) 82.34 391.666 T
3 FF
(v) 108.0 391.666 T
(oid ) 112.8 391.666 T
1 FF
(pending_op_queue) 128.08 391.666 T
3 FF
( \() 208.66 391.666 T
4 FF
(netmem_obj_t) 214.49 391.666 T
3 FF
( ) 271.15 391.666 T
4 FF
(obj) 273.65 391.666 T
3 FF
(, int ) 286.43 391.666 T
4 FF
(op) 304.49 391.666 T
3 FF
(, vm_of) 314.49 391.666 T
(fset_t ) 345.35 391.666 T
4 FF
(of) 370.07 391.666 T
(fset) 377.67 391.666 T
3 FF
(, int ) 391.56 391.666 T
4 FF
(value) 162.0 401.666 T
3 FF
(, mach_port_t ) 183.66 401.666 T
4 FF
(r) 241.71 401.666 T
(eply_to) 245.23 401.666 T
3 FF
(\)) 274.67 401.666 T
3 FF
([81]) 82.34 413.666 T
3 FF
({) 108.0 413.666 T
3 FF
([82]) 82.34 425.666 T
4 FF
(pending_op_t) 144.0 425.666 T
(pend) 288.0 425.666 T
3 FF
(, *) 307.44 425.666 T
4 FF
(pend_ptr) 317.44 425.666 T
3 FF
(;) 353.55 425.666 T
72 429.999451 360 9 CR
1 G
72 429.999451 360 9 NF
0 G
3 FF
(/*) 91.224 437.831 T
0.6667 G
422.91 434.5 M
422.91 439.75 L
432 434.5 L
422.91 429.25 L
F
422.91 434.5 M
108 434.5 L
S
72 448.99942 360 9 CR
1 G
72 448.99942 360 9 NF
0 G
3 FF
(*/) 90.0 456.826 T
0.6667 G
117.09 453.5 M
117.09 448.25 L
108 453.5 L
117.09 458.75 L
F
432 453.5 M
117.09 453.5 L
S
0 0 612 792 CR
0 G
3 FF
(Using malloc \(\) here is not particularly ef) 144.0 446.666 T
<de6369656e742e> 309.55 446.666 T
3 FF
([83]) 82.34 467.666 T
4 FF
(pend) 144.0 467.666 T
3 FF
( = \() 163.44 467.666 T
4 FF
(pending_op_t) 177.41 467.666 T
3 FF
(\) malloc \(sizeof \() 232.41 467.666 T
4 FF
(pending_op_data_t) 301.0 467.666 T
3 FF
(\)\);) 378.78 467.666 T
72 471.99939 360 9 CR
1 G
72 471.99939 360 9 NF
0 G
3 FF
(/*) 91.224 479.831 T
0.6667 G
422.91 476.5 M
422.91 481.75 L
432 476.5 L
422.91 471.25 L
F
422.91 476.5 M
108 476.5 L
S
0 0 612 792 CR
0 G
3 FF
144 488.666016 M 1.234512 0 32 (Initialize pending op and add to queue. This results in LIFO pending) widthshow
72 500.999329 360 9 CR
1 G
72 500.999329 360 9 NF
0 G
3 FF
(*/) 90.0 508.826 T
0.6667 G
117.09 505.5 M
117.09 500.25 L
108 505.5 L
117.09 510.75 L
F
432 505.5 M
117.09 505.5 L
S
0 0 612 792 CR
0 G
3 FF
(operation order) 144.0 498.666 T
(.) 204.82 498.666 T
3 FF
([84]) 82.34 519.666 T
4 FF
(pend) 144.0 519.666 T
5 FF
<ae> 163.44 519.666 T
4 FF
(op) 173.31 519.666 T
3 FF
( = ) 183.31 519.666 T
4 FF
(op) 193.95 519.666 T
3 FF
(;) 203.95 519.666 T
3 FF
([85]) 82.34 531.666 T
4 FF
(pend) 144.0 531.666 T
5 FF
<ae> 163.44 531.666 T
4 FF
(of) 173.31 531.666 T
(fset) 180.91 531.666 T
3 FF
( = ) 194.8 531.666 T
4 FF
(of) 205.44 531.666 T
(fset) 213.04 531.666 T
3 FF
(;) 226.93 531.666 T
3 FF
([86]) 82.34 543.666 T
4 FF
(pend) 144.0 543.666 T
5 FF
<ae> 163.44 543.666 T
4 FF
(value) 173.31 543.666 T
3 FF
( = ) 194.97 543.666 T
4 FF
(value) 205.61 543.666 T
3 FF
(;) 227.27 543.666 T
3 FF
([87]) 82.34 555.666 T
4 FF
(pend) 144.0 555.666 T
5 FF
<ae> 163.44 555.666 T
4 FF
(r) 173.31 555.666 T
(eply_port) 176.83 555.666 T
3 FF
( = ) 215.16 555.666 T
4 FF
(r) 225.8 555.666 T
(eply_to) 229.32 555.666 T
3 FF
(;) 258.76 555.666 T
3 FF
([88]) 82.34 567.666 T
4 FF
(pend) 144.0 567.666 T
5 FF
<ae> 163.44 567.666 T
4 FF
(ne) 173.31 567.666 T
(xt) 182.55 567.666 T
3 FF
( = ) 189.77 567.666 T
4 FF
(obj) 200.41 567.666 T
5 FF
<ae> 213.19 567.666 T
4 FF
(pending_op_queue) 223.06 567.666 T
3 FF
(;) 299.16 567.666 T
3 FF
([89]) 82.34 579.666 T
4 FF
(obj) 144.0 579.666 T
5 FF
<ae> 156.78 579.666 T
4 FF
(pending_op_queue) 166.65 579.666 T
3 FF
( = ) 242.75 579.666 T
4 FF
(pend) 253.39 579.666 T
3 FF
(;) 272.83 579.666 T
3 FF
([90]) 82.34 591.666 T
3 FF
(}) 108.0 591.666 T
72 613.665833 M 2.087479 0 32 (The routine ) widthshow
1 FF
125.054962 613.665833 M 2.087479 0 32 (pending_op_execute) widthshow
3 FF
211.72496 613.665833 M 2.087479 0 32 ( performs the processing deferred by ) widthshow
1 FF
373.649841 613.665833 M 2.087479 0 32 (pending_op_-) widthshow
72 625.665771 M 1.407959 0 32 (queue) widthshow
3 FF
97.559998 625.665771 M 1.407959 0 32 (. It is called only when a ) widthshow
1 FF
207.955719 625.665771 M 1.407959 0 32 (memory_object_lock_completed) widthshow
3 FF
346.255737 625.665771 M 1.407959 0 32 ( message is recei) widthshow
417.709778 625.665771 M 1.407959 0 32 (v) widthshow
422.559845 625.665771 M 1.407959 0 32 (ed) widthshow
72 637.66571 M 2.041504 0 32 (from the k) widthshow
117.643066 637.66571 M 2.041504 0 32 (ernel. As such, the page is either in the NETMEM_OBJ_READ or NET-) widthshow
72 649.665649 M 1.331863 0 32 (MEM_OBJ_SER) widthshow
141.210434 649.665649 M 1.331863 0 32 (VER_WRITE states, namely) widthshow
259.044525 649.665649 M 1.331863 0 32 (, the manager has a v) widthshow
349.873993 649.665649 M 1.331863 0 32 (alid cop) widthshow
383.045898 649.665649 M 1.331863 0 32 (y) widthshow
387.396271 649.665649 M 1.331863 0 32 (. This rou-) widthshow
72 661.665588 M 1.774933 0 32 (tine can then e) widthshow
135.21489 661.665588 M 1.774933 0 32 (x) widthshow
140.064972 661.665588 M 1.774933 0 32 (ecute all pending read requests. It can also e) widthshow
330.454529 661.665588 M 1.774933 0 32 (x) widthshow
335.304626 661.665588 M 1.774933 0 32 (ecute all pending write) widthshow
72 673.665527 M 0.02243 0 32 (requests if in the NETMEM_OBJ_SER) widthshow
229.620163 673.665527 M 0.02243 0 32 (VER_WRITE state. If not in this state, the manag-) widthshow
72 685.665466 M 1.252472 0 32 (er must start a ne) widthshow
145.080032 685.665466 M 1.252472 0 32 (w lock request sequence to enter this state, so the writes \(and subse-) widthshow
(quent reads\) must continue to be deferred.) 72.0 697.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 112 112
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(108 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
0 0 612 792 CR
0 G
3 FF
216 122.650635 M 0.584518 0 32 (Ex) widthshow
226.960083 122.650635 M 0.584518 0 32 (ecute operations from pending op queue. This routine checks the object state) widthshow
216 132.650574 M 0.680695 0 32 (to \336nd out what is allo) widthshow
308.883606 132.650574 M 0.680695 0 32 (wed, so an) widthshow
352.585083 132.650574 M 0.680695 0 32 (y state transition must occur BEFORE calling) widthshow
216 142.650513 M 0.862839 0 32 (this routine. Processing stops when the queue is empty or a write is found that) widthshow
216 152.650452 M 3.45813 0 32 (can\325) widthshow
233.030106 152.650452 M 3.45813 0 32 (t be e) widthshow
261.456451 152.650452 M 3.45813 0 32 (x) widthshow
266.306519 152.650452 M 3.45813 0 32 (ecuted because the serv) widthshow
370.661011 152.650452 M 3.45813 0 32 (er only has read permission. Caller is) widthshow
180 164.983749 360 9 CR
1 G
180 164.983749 360 9 NF
0 G
3 FF
(*/) 198.0 172.81 T
0.6667 G
225.09 169.48 M
225.09 164.23 L
216 169.48 L
225.09 174.73 L
F
540 169.48 M
225.09 169.48 L
S
0 0 612 792 CR
0 G
3 FF
(responsible for handling pending k) 216.0 162.65 T
(ernel access.) 355.33 162.65 T
3 FF
([91]) 190.34 183.65 T
3 FF
(v) 216.0 183.65 T
(oid ) 220.8 183.65 T
0 FF
(pending_op_execute) 236.08 183.65 T
3 FF
( \() 322.75 183.65 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(netmem_obj_t) 328.58 183.65 T
3 FF
( ) 385.24 183.65 T
4 FF
(obj) 387.74 183.65 T
3 FF
(\)) 400.52 183.65 T
3 FF
([92]) 190.34 195.65 T
3 FF
({) 216.0 195.65 T
3 FF
([93]) 190.34 207.65 T
4 FF
(pending_op_t) 252.0 207.65 T
(pend) 396.0 207.65 T
3 FF
(, ) 415.44 207.65 T
4 FF
(ne) 420.44 207.65 T
(w_pend) 429.73 207.65 T
3 FF
(;) 460.84 207.65 T
3 FF
([94]) 190.34 219.65 T
3 FF
(k) 252.0 219.65 T
(ern_return_t) 256.9 219.65 T
4 FF
(r) 396.0 219.65 T
(esult) 399.52 219.65 T
3 FF
(;) 418.41 219.65 T
3 FF
([95]) 190.34 231.65 T
4 FF
(pend) 252.0 231.65 T
3 FF
( = ) 271.44 231.65 T
4 FF
(obj) 282.08 231.65 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 294.86 231.65 T
4 FF
(pending_op_queue) 304.73 231.65 T
3 FF
(;) 380.83 231.65 T
3 FF
([96]) 190.34 243.65 T
3 FF
(while \() 252.0 243.65 T
4 FF
(pend) 280.05 243.65 T
3 FF
( != PENDING_OP_NULL\)) 299.49 243.65 T
3 FF
([97]) 190.34 255.65 T
3 FF
({) 252.0 255.65 T
3 FF
([98]) 190.34 267.65 T
3 FF
(if \() 288.0 267.65 T
4 FF
(pend) 299.94 267.65 T
5 FF
<ae> 319.38 267.65 T
4 FF
(op) 329.25 267.65 T
3 FF
( == PENDING_READ\)) 339.25 267.65 T
3 FF
([99]) 190.34 279.65 T
3 FF
({) 288.0 279.65 T
180 283.983612 360 9 CR
1 G
180 283.983612 360 9 NF
0 G
3 FF
(/*) 199.224 291.815 T
0.6667 G
530.91 288.48 M
530.91 293.73 L
540 288.48 L
530.91 283.23 L
F
530.91 288.48 M
216 288.48 L
S
180 302.983582 360 9 CR
1 G
180 302.983582 360 9 NF
0 G
3 FF
(*/) 198.0 310.81 T
0.6667 G
225.09 307.48 M
225.09 302.23 L
216 307.48 L
225.09 312.73 L
F
540 307.48 M
225.09 307.48 L
S
0 0 612 792 CR
0 G
3 FF
(Can al) 324.0 300.65 T
(w) 349.73 300.65 T
(ays do read. Must send reply ourselv) 356.85 300.65 T
(es.) 503.62 300.65 T
([100]) 185.34 321.65 T
4 FF
(r) 324.0 321.65 T
(esult) 327.52 321.65 T
3 FF
( = ) 346.41 321.65 T
0 FF
(netmem_r) 357.05 321.65 T
(ead) 400.74 321.65 T
3 FF
( \() 415.74 321.65 T
4 FF
(obj) 421.57 321.65 T
5 FF
<ae> 434.35 321.65 T
4 FF
(r) 444.22 321.65 T
(epr) 447.741 321.65 T
(esentative_port) 460.701 321.65 T
3 FF
(, ) 522.361 321.65 T
3 FF
(MA) 378.0 331.65 T
(CH_POR) 393.71 331.65 T
(T_NULL, ) 431.451 331.65 T
4 FF
(pend) 474.221 331.65 T
5 FF
<ae> 493.661 331.65 T
4 FF
(of) 503.531 331.65 T
(fset) 511.131 331.65 T
3 FF
(, ) 525.021 331.65 T
(&) 378.0 341.65 T
4 FF
(pend) 385.78 341.65 T
5 FF
<ae> 405.22 341.65 T
4 FF
(value) 415.09 341.65 T
3 FF
(\);) 436.75 341.65 T
([101]) 185.34 353.65 T
(printf \(\322read_reply\\n\323\);) 324.0 353.65 T
([102]) 185.34 365.65 T
4 FF
(r) 324.0 365.65 T
(esult) 327.52 365.65 T
3 FF
( = ) 346.41 365.65 T
0 FF
(netmem_r) 357.05 365.65 T
(ead_r) 400.74 365.65 T
(eply) 425.0 365.65 T
3 FF
( \() 442.78 365.65 T
4 FF
(pend) 448.61 365.65 T
5 FF
<ae> 468.05 365.65 T
4 FF
(r) 477.92 365.65 T
(eply_port) 481.441 365.65 T
3 FF
(, ) 519.771 365.65 T
4 FF
(r) 378.0 375.65 T
(esult) 381.52 375.65 T
3 FF
(, ) 400.41 375.65 T
4 FF
(pend) 405.41 375.65 T
5 FF
<ae> 424.85 375.65 T
4 FF
(value) 434.72 375.65 T
3 FF
(\);) 456.38 375.65 T
3 FF
([103]) 185.34 387.65 T
3 FF
(}) 288.0 387.65 T
3 FF
([104]) 185.34 399.65 T
3 FF
(else) 288.0 399.65 T
3 FF
([105]) 185.34 411.65 T
3 FF
({) 288.0 411.65 T
180 415.983398 360 9 CR
1 G
180 415.983398 360 9 NF
0 G
3 FF
(/*) 199.224 423.815 T
0.6667 G
530.91 420.48 M
530.91 425.73 L
540 420.48 L
530.91 415.23 L
F
530.91 420.48 M
216 420.48 L
S
180 434.983398 360 9 CR
1 G
180 434.983398 360 9 NF
0 G
3 FF
(*/) 198.0 442.81 T
0.6667 G
225.09 439.48 M
225.09 434.23 L
216 439.48 L
225.09 444.73 L
F
540 439.48 M
225.09 439.48 L
S
0 0 612 792 CR
0 G
3 FF
(Write case. Stop if read only) 324.0 432.65 T
(.) 437.77 432.65 T
([106]) 185.34 453.65 T
(if \() 324.0 453.65 T
4 FF
(obj) 335.94 453.65 T
5 FF
<ae> 348.72 453.65 T
4 FF
(state) 358.59 453.65 T
3 FF
( == NETMEM_OBJ_READ\)) 377.48 453.65 T
([107]) 185.34 465.65 T
(break;) 360.0 465.65 T
([108]) 185.34 477.65 T
4 FF
(r) 324.0 477.65 T
(esult) 327.52 477.65 T
3 FF
( = ) 346.41 477.65 T
0 FF
(netmem_write) 357.05 477.65 T
3 FF
( \() 418.69 477.65 T
4 FF
(obj) 424.52 477.65 T
5 FF
<ae> 437.3 477.65 T
4 FF
(r) 447.17 477.65 T
(epr) 450.69 477.65 T
(esentative_port) 463.651 477.65 T
3 FF
(, ) 525.311 477.65 T
3 FF
(MA) 378.0 487.65 T
(CH_POR) 393.71 487.65 T
(T_NULL, ) 431.451 487.65 T
4 FF
(pend) 474.221 487.65 T
5 FF
<ae> 493.661 487.65 T
4 FF
(of) 503.531 487.65 T
(fset) 511.131 487.65 T
3 FF
(,) 525.021 487.65 T
4 FF
( ) 527.521 487.65 T
(pend) 378.0 497.65 T
5 FF
<ae> 397.44 497.65 T
4 FF
(value) 407.31 497.65 T
3 FF
(\);) 428.97 497.65 T
([109]) 185.34 509.65 T
(printf \(\322write_reply\\n\323\);) 324.0 509.65 T
([110]) 185.34 521.65 T
4 FF
(r) 324.0 521.65 T
(esult) 327.52 521.65 T
3 FF
( = ) 346.41 521.65 T
0 FF
(netmem_write_r) 357.05 521.65 T
(eply) 427.95 521.65 T
3 FF
( \() 445.73 521.65 T
4 FF
(pend) 451.56 521.65 T
5 FF
<ae> 471.0 521.65 T
4 FF
(r) 480.87 521.65 T
(eply_port) 484.391 521.65 T
3 FF
(, ) 522.721 521.65 T
4 FF
(r) 378.0 531.65 T
(esult) 381.52 531.65 T
3 FF
(\);) 400.41 531.65 T
3 FF
([111]) 185.34 543.65 T
3 FF
(}) 288.0 543.65 T
180 547.983215 360 9 CR
1 G
180 547.983215 360 9 NF
0 G
3 FF
(/*) 199.224 555.814 T
0.6667 G
530.91 552.48 M
530.91 557.73 L
540 552.48 L
530.91 547.23 L
F
530.91 552.48 M
216 552.48 L
S
0 0 612 792 CR
0 G
3 FF
288 564.649841 M 1.557648 0 32 (Reply might f) widthshow
346.575348 564.649841 M 1.557648 0 32 (ail if client died. INV) widthshow
437.276672 564.649841 M 1.557648 0 32 (ALID_DEST is the only) widthshow
180 576.983154 360 9 CR
1 G
180 576.983154 360 9 NF
0 G
3 FF
(*/) 198.0 584.809 T
0.6667 G
225.09 581.48 M
225.09 576.23 L
216 581.48 L
225.09 586.73 L
F
540 581.48 M
225.09 581.48 L
S
0 0 612 792 CR
0 G
3 FF
(possible error) 288.0 574.65 T
(.) 342.16 574.65 T
3 FF
([112]) 185.34 595.65 T
3 FF
(if \() 288.0 595.65 T
4 FF
(r) 299.94 595.65 T
(esult) 303.46 595.65 T
3 FF
( == MA) 322.35 595.65 T
(CH_SEND_INV) 354.34 595.65 T
(ALID_DEST\)) 420.761 595.65 T
([113]) 185.34 607.65 T
0 FF
(mach_port_deallocate) 324.0 607.65 T
3 FF
( \() 418.43 607.65 T
0 FF
(mach_task_self) 424.26 607.65 T
3 FF
( \(\), ) 489.81 607.65 T
4 FF
(pend) 378.0 617.65 T
5 FF
<ae> 397.44 617.65 T
4 FF
(r) 407.31 617.65 T
(eply_port) 410.83 617.65 T
3 FF
(\);) 449.16 617.65 T
180 621.983032 360 9 CR
1 G
180 621.983032 360 9 NF
0 G
3 FF
(/*) 199.224 629.814 T
0.6667 G
530.91 626.48 M
530.91 631.73 L
540 626.48 L
530.91 621.23 L
F
530.91 626.48 M
216 626.48 L
S
180 640.983032 360 9 CR
1 G
180 640.983032 360 9 NF
0 G
3 FF
(*/) 198.0 648.809 T
0.6667 G
225.09 645.48 M
225.09 640.23 L
216 645.48 L
225.09 650.73 L
F
540 645.48 M
225.09 645.48 L
S
0 0 612 792 CR
0 G
3 FF
(Onw) 288.0 638.65 T
(ard to ne) 307.34 638.65 T
(xt pending operation.) 342.18 638.65 T
3 FF
([114]) 185.34 659.65 T
4 FF
(ne) 288.0 659.65 T
(w_pend) 297.29 659.65 T
3 FF
( = ) 328.4 659.65 T
4 FF
(pend) 339.04 659.65 T
5 FF
<ae> 358.48 659.65 T
4 FF
(ne) 368.35 659.65 T
(xt) 377.59 659.65 T
3 FF
(;) 384.81 659.65 T
3 FF
([115]) 185.34 671.65 T
3 FF
(free \() 288.0 671.65 T
4 FF
(pend) 309.37 671.65 T
3 FF
(\);) 328.81 671.65 T
3 FF
([116]) 185.34 683.65 T
4 FF
(pend) 288.0 683.65 T
3 FF
( = ) 307.44 683.65 T
4 FF
(ne) 318.08 683.65 T
(w_pend) 327.37 683.65 T
3 FF
(;) 358.48 683.65 T
3 FF
([117]) 185.34 695.65 T
3 FF
(}) 252.0 695.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 113 113
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (109 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 108 360 9 CR
72 108 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 91.224 115.831 T
3 SL
0 SC
0.6667 G
422.91 112.5 M
422.91 117.75 L
432 112.5 L
422.91 107.25 L
F
422.91 112.5 M
108 112.5 L
S
0 0 612 792 CR
0 G
3 FF
144 124.666626 M 0.1828 0 32 (Reset pending op queue. This sets it to null if we ran it completely) widthshow
411.266785 124.666626 M 0.1828 0 32 (, else) widthshow
72 136.999924 360 9 CR
1 G
72 136.999924 360 9 NF
0 G
3 FF
(*/) 90.0 144.826 T
0.6667 G
117.09 141.5 M
117.09 136.25 L
108 141.5 L
117.09 146.75 L
F
432 141.5 M
117.09 141.5 L
S
0 0 612 792 CR
0 G
3 FF
(to the \336rst write that stopped us.) 144.0 134.667 T
3 FF
([118]) 77.34 155.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(obj) 144.0 155.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 156.78 155.667 T
4 FF
(pending_op_queue) 166.65 155.667 T
3 FF
( = ) 242.75 155.667 T
4 FF
(pend) 253.39 155.667 T
3 FF
(;) 272.83 155.667 T
3 FF
([119]) 77.34 167.667 T
3 FF
(}) 108.0 167.667 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Client Request Pr) 72.0 197.0 T
(ocessing) 163.104 197.0 T
3 FF
72 213.666504 M 0.606339 0 32 (The ) widthshow
1 FF
90.656342 213.666504 M 0.606339 0 32 (netmem_r) widthshow
134.346451 213.666504 M 0.606339 0 32 (ead) widthshow
3 FF
149.346451 213.666504 M 0.606339 0 32 ( and ) widthshow
1 FF
169.99913 213.666504 M 0.606339 0 32 (netmem_write) widthshow
3 FF
231.639145 213.666504 M 0.606339 0 32 ( routines handle read and write requests from the) widthshow
72 225.666489 M 1.536285 0 32 (clients \(o) widthshow
110.32637 225.666489 M 1.536285 0 32 (v) widthshow
115.176453 225.666489 M 1.536285 0 32 (er the representati) widthshow
189.639175 225.666489 M 1.536285 0 32 (v) widthshow
194.489258 225.666489 M 1.536285 0 32 (e port\). The page state determines whether the operation) widthshow
72 237.666473 M 0.78746 0 32 (can be done directly \(lines [135] or [164]\) or must be deferred \(lines [143] or [173]\). If) widthshow
72 249.666458 M 0.065262 0 32 (the operation is to be deferred b) widthshow
199.381699 249.666458 M 0.065262 0 32 (ut there is no outstanding request for the page \(no lock re-) widthshow
(quest is pending\), then a lock request is made.) 72.0 261.666 T
72 271.999756 360 9 CR
1 G
72 271.999756 360 9 NF
0 G
3 FF
(/*) 91.224 279.831 T
0.6667 G
422.91 276.5 M
422.91 281.75 L
432 276.5 L
422.91 271.25 L
F
422.91 276.5 M
108 276.5 L
S
72 290.999756 360 9 CR
1 G
72 290.999756 360 9 NF
0 G
3 FF
(*/) 90.0 298.826 T
0.6667 G
117.09 295.5 M
117.09 290.25 L
108 295.5 L
117.09 300.75 L
F
432 295.5 M
117.09 295.5 L
S
0 0 612 792 CR
0 G
3 FF
(Routines for handling messages from clients) 108.0 288.666 T
3 FF
([120]) 77.34 309.666 T
3 FF
(mach_error_t ) 108.0 309.666 T
1 FF
(netmem_r) 164.37 309.666 T
(ead) 208.06 309.666 T
3 FF
( \(mem_obj_rep_port_t ) 223.06 309.666 T
4 FF
(object) 315.83 309.666 T
3 FF
(, mach_port_t ) 340.27 309.666 T
4 FF
(r) 162.0 319.666 T
(eply_to) 165.52 319.666 T
3 FF
(, vm_of) 194.96 319.666 T
(fset_t ) 225.82 319.666 T
4 FF
(of) 250.54 319.666 T
(fset) 258.14 319.666 T
3 FF
(, int *) 272.03 319.666 T
4 FF
(value) 295.09 319.666 T
3 FF
(\)) 316.75 319.666 T
3 FF
([121]) 77.34 331.666 T
3 FF
({) 108.0 331.666 T
3 FF
([122]) 77.34 343.666 T
4 FF
(netmem_obj_t) 144.0 343.666 T
(my_obj) 288.0 343.666 T
3 FF
(;) 317.44 343.666 T
3 FF
([123]) 77.34 355.666 T
3 FF
(printf \(\322read\\n\323\);) 144.0 355.666 T
72 359.999695 360 9 CR
1 G
72 359.999695 360 9 NF
0 G
3 FF
(/*) 91.224 367.831 T
0.6667 G
422.91 364.5 M
422.91 369.75 L
432 364.5 L
422.91 359.25 L
F
422.91 364.5 M
108 364.5 L
S
72 378.999664 360 9 CR
1 G
72 378.999664 360 9 NF
0 G
3 FF
(*/) 90.0 386.826 T
0.6667 G
117.09 383.5 M
117.09 378.25 L
108 383.5 L
117.09 388.75 L
F
432 383.5 M
117.09 383.5 L
S
0 0 612 792 CR
0 G
3 FF
(Check ar) 144.0 376.666 T
(guments.) 179.64 376.666 T
3 FF
([124]) 77.34 397.666 T
3 FF
(if \(\() 144.0 397.666 T
4 FF
(my_obj) 159.27 397.666 T
3 FF
( = ) 188.71 397.666 T
1 FF
(netmem_r) 199.35 397.666 T
(ep_lookup) 243.04 397.666 T
3 FF
( \() 287.5 397.666 T
4 FF
(object) 293.33 397.666 T
3 FF
(\)\) == ) 317.77 397.666 T
(NETMEM_OBJ_NULL\)) 198.0 407.666 T
3 FF
([125]) 77.34 419.666 T
3 FF
(return \(NETMEM_B) 180.0 419.666 T
(AD_OBJECT\);) 264.36 419.666 T
3 FF
([126]) 77.34 431.666 T
3 FF
(if \() 144.0 431.666 T
4 FF
(of) 155.94 431.666 T
(fset) 163.54 431.666 T
3 FF
( < 0 || ) 177.43 431.666 T
4 FF
(of) 202.07 431.666 T
(fset) 209.67 431.666 T
3 FF
( >= \(vm_page_size / sizeof \(int\)\)\)) 223.56 431.666 T
3 FF
([127]) 77.34 443.666 T
3 FF
(return \(NETMEM_B) 180.0 443.666 T
(AD_OFFSET\);) 264.36 443.666 T
72 447.999573 360 9 CR
1 G
72 447.999573 360 9 NF
0 G
3 FF
(/*) 91.224 455.831 T
0.6667 G
422.91 452.5 M
422.91 457.75 L
432 452.5 L
422.91 447.25 L
F
422.91 452.5 M
108 452.5 L
S
72 466.999573 360 9 CR
1 G
72 466.999573 360 9 NF
0 G
3 FF
(*/) 90.0 474.826 T
0.6667 G
117.09 471.5 M
117.09 466.25 L
108 471.5 L
117.09 476.75 L
F
432 471.5 M
117.09 471.5 L
S
0 0 612 792 CR
0 G
3 FF
(Ex) 144.0 464.666 T
(ecute the read.) 154.96 464.666 T
3 FF
([128]) 77.34 485.666 T
3 FF
(switch \() 144.0 485.666 T
4 FF
(my_obj) 175.94 485.666 T
5 FF
<ae> 205.38 485.666 T
4 FF
(state) 215.25 485.666 T
3 FF
(\)) 234.14 485.666 T
3 FF
([129]) 77.34 497.666 T
3 FF
({) 144.0 497.666 T
3 FF
([130]) 77.34 509.666 T
3 FF
(case NETMEM_OBJ_NONE:) 144.0 509.666 T
72 513.999512 360 9 CR
1 G
72 513.999512 360 9 NF
0 G
3 FF
(/*) 91.224 521.831 T
0.6667 G
422.91 518.5 M
422.91 523.75 L
432 518.5 L
422.91 513.25 L
F
422.91 518.5 M
108 518.5 L
S
0 0 612 792 CR
0 G
3 FF
180 530.666138 M 1.838684 0 32 (Need to initialize. Serv) widthshow
277.576141 530.666138 M 1.838684 0 32 (er has e) widthshow
311.643616 530.666138 M 1.838684 0 32 (xclusi) widthshow
335.283752 530.666138 M 1.838684 0 32 (v) widthshow
340.13382 530.666138 M 1.838684 0 32 (e access \(write\) when) widthshow
72 542.999451 360 9 CR
1 G
72 542.999451 360 9 NF
0 G
3 FF
(*/) 90.0 550.826 T
0.6667 G
117.09 547.5 M
117.09 542.25 L
108 547.5 L
117.09 552.75 L
F
432 547.5 M
117.09 547.5 L
S
0 0 612 792 CR
0 G
3 FF
(we\325) 180.0 540.666 T
(re done.) 194.49 540.666 T
3 FF
([131]) 77.34 561.666 T
3 FF
(\(v) 180.0 561.666 T
(oid\) ) 188.13 561.666 T
1 FF
(vm_allocate) 206.74 561.666 T
3 FF
( \() 257.84 561.666 T
1 FF
(mach_task_self) 263.67 561.666 T
3 FF
( \(\), &) 329.22 561.666 T
4 FF
(my_obj) 351.16 561.666 T
5 FF
<ae> 380.6 561.666 T
4 FF
(data) 390.47 561.666 T
3 FF
(, ) 408.25 561.666 T
(vm_page_size, TR) 234.0 571.666 T
(UE\);) 308.59 571.666 T
3 FF
([132]) 77.34 583.666 T
4 FF
(my_obj) 180.0 583.666 T
5 FF
<ae> 209.44 583.666 T
4 FF
(state) 219.31 583.666 T
3 FF
( = NETMEM_OBJ_SER) 238.2 583.666 T
(VER_WRITE;) 337.49 583.666 T
72 587.99939 360 9 CR
1 G
72 587.99939 360 9 NF
0 G
3 FF
(/*) 90.0 595.831 T
0.6667 G
422.91 592.5 M
422.91 597.75 L
432 592.5 L
422.91 587.25 L
F
422.91 592.5 M
288 592.5 L
S
72 606.99939 360 9 CR
1 G
72 606.99939 360 9 NF
0 G
3 FF
(*/) 90.0 614.826 T
0.6667 G
297.09 611.5 M
297.09 606.25 L
288 611.5 L
297.09 616.75 L
F
432 611.5 M
297.09 611.5 L
S
0 0 612 792 CR
0 G
3 FF
(F) 288.0 604.666 T
(all through...) 293.41 604.666 T
3 FF
([133]) 77.34 625.666 T
3 FF
(case NETMEM_OBJ_READ:) 144.0 625.666 T
3 FF
([134]) 77.34 637.666 T
3 FF
(case NETMEM_OBJ_SER) 144.0 637.666 T
(VER_WRITE:) 252.36 637.666 T
72 641.99939 360 9 CR
1 G
72 641.99939 360 9 NF
0 G
3 FF
(/*) 91.224 649.831 T
0.6667 G
422.91 646.5 M
422.91 651.75 L
432 646.5 L
422.91 641.25 L
F
422.91 646.5 M
108 646.5 L
S
72 660.999329 360 9 CR
1 G
72 660.999329 360 9 NF
0 G
3 FF
(*/) 90.0 668.826 T
0.6667 G
117.09 665.5 M
117.09 660.25 L
108 665.5 L
117.09 670.75 L
F
432 665.5 M
117.09 665.5 L
S
0 0 612 792 CR
0 G
3 FF
(Read the v) 180.0 658.666 T
(alue.) 222.52 658.666 T
3 FF
([135]) 77.34 679.666 T
3 FF
(*) 180.0 679.666 T
4 FF
(value) 185.0 679.666 T
3 FF
( = * \(\(\(int *\) \() 206.66 679.666 T
4 FF
(my_obj) 262.01 679.666 T
5 FF
<ae> 291.45 679.666 T
4 FF
(data) 301.32 679.666 T
3 FF
(\)\) + ) 319.1 679.666 T
4 FF
(of) 336.4 679.666 T
(fset) 344.0 679.666 T
3 FF
(\);) 357.89 679.666 T
3 FF
([136]) 77.34 691.666 T
3 FF
(return \(ERR_SUCCESS\);) 180.0 691.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 114 114
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(110 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([137]) 185.34 113.651 T
3 FF
(case NETMEM_OBJ_KERNEL_WRITE:) 252.0 113.651 T
180 117.983994 360 9 CR
1 G
180 117.983994 360 9 NF
0 G
3 FF
(/*) 199.224 125.815 T
3 SL
0.6667 G
530.91 122.48 M
530.91 127.73 L
540 122.48 L
530.91 117.23 L
F
530.91 122.48 M
216 122.48 L
S
0 0 612 792 CR
0 G
3 FF
288 134.65062 M 2.302658 0 32 (Request k) widthshow
329.922729 134.65062 M 2.302658 0 32 (ernel to gi) widthshow
374.828186 134.65062 M 2.302658 0 32 (v) widthshow
379.678253 134.65062 M 2.302658 0 32 (e up write access to page. Ask for a) widthshow
180 146.983917 360 9 CR
1 G
180 146.983917 360 9 NF
0 G
3 FF
(*/) 198.0 154.81 T
0.6667 G
225.09 151.48 M
225.09 146.23 L
216 151.48 L
225.09 156.73 L
F
540 151.48 M
225.09 151.48 L
S
0 0 612 792 CR
0 G
3 FF
(reply when it\325) 288.0 144.651 T
(s \336nished.) 343.55 144.651 T
3 FF
([138]) 185.34 165.651 T
3 FF
(printf \(\322lock_request: clean, lock %d\\n\323, ) 288.0 165.651 T
(VM_PR) 342.0 175.651 T
(O) 374.94 175.651 T
(T_WRITE\);) 381.76 175.651 T
3 FF
([139]) 185.34 187.651 T
3 FF
(\(v) 288.0 187.651 T
(oid\) ) 296.13 187.651 T
0 FF
(memory_object_lock_r) 314.74 187.651 T
(equest) 413.42 187.651 T
3 FF
( \() 440.64 187.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(my_obj) 446.47 187.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 475.91 187.651 T
4 FF
( ) 485.78 187.651 T
(contr) 342.0 197.651 T
(ol_port) 362.66 197.651 T
3 FF
(, \(vm_of) 392.11 197.651 T
(fset_t\) 0, vm_page_size, ) 426.3 197.651 T
(TR) 342.0 207.651 T
(UE, F) 354.38 207.651 T
(ALSE, F) 377.531 207.651 T
(ALSE, VM_PR) 412.351 207.651 T
(O) 475.291 207.651 T
(T_WRITE,) 482.111 207.651 T
4 FF
( ) 527.381 207.651 T
(my_obj) 342.0 217.65 T
5 FF
<ae> 371.44 217.65 T
4 FF
(abstr) 381.31 217.65 T
(act_port) 401.72 217.65 T
3 FF
(\);) 435.61 217.65 T
([140]) 185.34 229.65 T
4 FF
(my_obj) 288.0 229.65 T
5 FF
<ae> 317.44 229.65 T
4 FF
(state) 327.31 229.65 T
3 FF
( = NETMEM_OBJ_CLEANING;) 346.2 229.65 T
180 233.98381 360 9 CR
1 G
180 233.98381 360 9 NF
0 G
3 FF
(/*) 198.0 241.815 T
0.6667 G
530.91 238.48 M
530.91 243.73 L
540 238.48 L
530.91 233.23 L
F
530.91 238.48 M
396 238.48 L
S
180 252.983795 360 9 CR
1 G
180 252.983795 360 9 NF
0 G
3 FF
(*/) 198.0 260.81 T
0.6667 G
405.09 257.48 M
405.09 252.23 L
396 257.48 L
405.09 262.73 L
F
540 257.48 M
405.09 257.48 L
S
0 0 612 792 CR
0 G
3 FF
(F) 396.0 250.65 T
(all through...) 401.41 250.65 T
3 FF
([141]) 185.34 271.65 T
3 FF
(case NETMEM_OBJ_CLEANING:) 252.0 271.65 T
3 FF
([142]) 185.34 283.65 T
3 FF
(case NETMEM_OBJ_FLUSHING:) 252.0 283.65 T
180 287.983765 360 9 CR
1 G
180 287.983765 360 9 NF
0 G
3 FF
(/*) 199.224 295.815 T
0.6667 G
530.91 292.48 M
530.91 297.73 L
540 292.48 L
530.91 287.23 L
F
530.91 292.48 M
216 292.48 L
S
0 0 612 792 CR
0 G
3 FF
288 304.650391 M 0.25592 0 32 (W) widthshow
296.640442 304.650391 M 0.25592 0 32 (ait for this change to complete. Enqueue this operation to be) widthshow
180 316.983704 360 9 CR
1 G
180 316.983704 360 9 NF
0 G
3 FF
(*/) 198.0 324.81 T
0.6667 G
225.09 321.48 M
225.09 316.23 L
216 321.48 L
225.09 326.73 L
F
540 321.48 M
225.09 321.48 L
S
0 0 612 792 CR
0 G
3 FF
(handled later) 288.0 314.65 T
(.) 339.38 314.65 T
3 FF
([143]) 185.34 335.65 T
0 FF
(pending_op_queue) 288.0 335.65 T
3 FF
( \() 368.58 335.65 T
4 FF
(my_obj) 374.41 335.65 T
3 FF
(, PENDING_READ, ) 403.85 335.65 T
4 FF
(of) 489.95 335.65 T
(fset) 497.55 335.65 T
3 FF
(, 0,) 511.44 335.65 T
4 FF
( ) 523.94 335.65 T
(r) 342.0 345.65 T
(eply_to) 345.52 345.65 T
3 FF
(\);) 374.96 345.65 T
180 349.983612 360 9 CR
1 G
180 349.983612 360 9 NF
0 G
3 FF
(/*) 199.224 357.815 T
0.6667 G
530.91 354.48 M
530.91 359.73 L
540 354.48 L
530.91 349.23 L
F
530.91 354.48 M
216 354.48 L
S
180 368.983582 360 9 CR
1 G
180 368.983582 360 9 NF
0 G
3 FF
(*/) 198.0 376.81 T
0.6667 G
225.09 373.48 M
225.09 368.23 L
216 373.48 L
225.09 378.73 L
F
540 373.48 M
225.09 373.48 L
S
0 0 612 792 CR
0 G
3 FF
(Reply will happen when lock_request completes.) 288.0 366.65 T
3 FF
([144]) 185.34 387.65 T
3 FF
(return \(MIG_NO_REPL) 288.0 387.65 T
(Y\);) 385.041 387.65 T
3 FF
([145]) 185.34 399.65 T
3 FF
(def) 252.0 399.65 T
(ault:) 264.67 399.65 T
3 FF
([146]) 185.34 411.65 T
3 FF
(printf \(\322Bad state %d\\n\323, ) 288.0 411.65 T
4 FF
(my_obj) 390.48 411.65 T
5 FF
<ae> 419.92 411.65 T
4 FF
(state) 429.79 411.65 T
3 FF
(\);) 448.68 411.65 T
3 FF
([147]) 185.34 423.65 T
3 FF
(return \(NETMEM_F) 288.0 423.65 T
(AILURE\); ) 370.86 423.65 T
3 FF
([148]) 185.34 435.65 T
3 FF
(}) 252.0 435.65 T
180 439.983521 360 9 CR
1 G
180 439.983521 360 9 NF
0 G
3 FF
(/*) 198.0 447.815 T
0.6667 G
530.91 444.48 M
530.91 449.73 L
540 444.48 L
530.91 439.23 L
F
530.91 444.48 M
396 444.48 L
S
180 458.983521 360 9 CR
1 G
180 458.983521 360 9 NF
0 G
3 FF
(*/) 198.0 466.81 T
0.6667 G
405.09 463.48 M
405.09 458.23 L
396 463.48 L
405.09 468.73 L
F
540 463.48 M
405.09 463.48 L
S
0 0 612 792 CR
0 G
3 FF
(NO) 396.0 456.65 T
(TREA) 410.04 456.65 T
(CHED) 435.75 456.65 T
3 FF
([149]) 185.34 477.65 T
3 FF
(}) 216.0 477.65 T
180 481.98349 360 9 CR
1 G
180 481.98349 360 9 NF
0 G
3 FF
(/*) 199.224 489.815 T
0.6667 G
530.91 486.48 M
530.91 491.73 L
540 486.48 L
530.91 481.23 L
F
530.91 486.48 M
216 486.48 L
S
180 500.983459 360 9 CR
1 G
180 500.983459 360 9 NF
0 G
3 FF
(*/) 198.0 508.81 T
0.6667 G
225.09 505.48 M
225.09 500.23 L
216 505.48 L
225.09 510.73 L
F
540 505.48 M
225.09 505.48 L
S
0 0 612 792 CR
0 G
3 FF
(Write request.) 216.0 498.65 T
3 FF
([150]) 185.34 519.65 T
3 FF
(mach_error_t ) 216.0 519.65 T
0 FF
(netmem_write) 272.37 519.65 T
3 FF
( \(mem_obj_rep_port_t ) 334.01 519.65 T
4 FF
(object) 426.78 519.65 T
3 FF
(, mach_port_t ) 451.22 519.65 T
4 FF
(r) 270.0 529.65 T
(eply_to) 273.52 529.65 T
3 FF
(, vm_of) 302.96 529.65 T
(fset_t ) 333.82 529.65 T
4 FF
(of) 358.54 529.65 T
(fset) 366.14 529.65 T
3 FF
(, int ) 380.03 529.65 T
4 FF
(value) 398.09 529.65 T
3 FF
(\)) 419.75 529.65 T
3 FF
([151]) 185.34 541.65 T
3 FF
({) 216.0 541.65 T
3 FF
([152]) 185.34 553.65 T
4 FF
(netmem_obj_t) 252.0 553.65 T
(my_obj) 396.0 553.65 T
3 FF
(;) 425.44 553.65 T
3 FF
([153]) 185.34 565.65 T
3 FF
(printf \(\322write\\n\323\);) 252.0 565.65 T
180 569.983398 360 9 CR
1 G
180 569.983398 360 9 NF
0 G
3 FF
(/*) 199.224 577.815 T
0.6667 G
530.91 574.48 M
530.91 579.73 L
540 574.48 L
530.91 569.23 L
F
530.91 574.48 M
216 574.48 L
S
180 588.983398 360 9 CR
1 G
180 588.983398 360 9 NF
0 G
3 FF
(*/) 198.0 596.81 T
0.6667 G
225.09 593.48 M
225.09 588.23 L
216 593.48 L
225.09 598.73 L
F
540 593.48 M
225.09 593.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check ar) 252.0 586.65 T
(guments. ) 287.64 586.65 T
3 FF
([154]) 185.34 607.65 T
3 FF
(if \(\() 252.0 607.65 T
4 FF
(my_obj) 267.27 607.65 T
3 FF
( = ) 296.71 607.65 T
0 FF
(netmem_r) 307.35 607.65 T
(ep_lookup) 351.04 607.65 T
3 FF
( \() 395.5 607.65 T
4 FF
(object) 401.33 607.65 T
3 FF
(\)\) == ) 425.77 607.65 T
(NETMEM_OBJ_NULL\)) 306.0 617.65 T
3 FF
([155]) 185.34 629.65 T
3 FF
(return \(NETMEM_B) 288.0 629.65 T
(AD_OBJECT\);) 372.36 629.65 T
3 FF
([156]) 185.34 641.65 T
3 FF
(if \() 252.0 641.65 T
4 FF
(of) 263.94 641.65 T
(fset) 271.54 641.65 T
3 FF
( < 0 || ) 285.43 641.65 T
4 FF
(of) 310.07 641.65 T
(fset) 317.67 641.65 T
3 FF
( >= \(vm_page_size / sizeof \(int\)\)\)) 331.56 641.65 T
3 FF
([157]) 185.34 653.65 T
3 FF
(return \(NETMEM_B) 288.0 653.65 T
(AD_OFFSET\); ) 372.36 653.65 T
180 657.983276 360 9 CR
1 G
180 657.983276 360 9 NF
0 G
3 FF
(/*) 199.224 665.814 T
0.6667 G
530.91 662.48 M
530.91 667.73 L
540 662.48 L
530.91 657.23 L
F
530.91 662.48 M
216 662.48 L
S
180 676.983276 360 9 CR
1 G
180 676.983276 360 9 NF
0 G
3 FF
(*/) 198.0 684.81 T
0.6667 G
225.09 681.48 M
225.09 676.23 L
216 681.48 L
225.09 686.73 L
F
540 681.48 M
225.09 681.48 L
S
0 0 612 792 CR
0 G
3 FF
(Ex) 252.0 674.65 T
(ecute the write.) 262.96 674.65 T
3 FF
([158]) 185.34 695.65 T
3 FF
(switch \() 252.0 695.65 T
4 FF
(my_obj) 283.94 695.65 T
5 FF
<ae> 313.38 695.65 T
4 FF
(state) 323.25 695.65 T
3 FF
(\)) 342.14 695.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 115 115
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (111 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([159]) 77.34 115.667 T
3 FF
({) 144.0 115.667 T
3 FF
([160]) 77.34 127.667 T
3 FF
(case NETMEM_OBJ_NONE:) 144.0 127.667 T
72 131.999969 360 9 CR
1 G
72 131.999969 360 9 NF
0 G
3 FF
(/*) 91.224 139.831 T
3 SL
0 SC
0.6667 G
422.91 136.5 M
422.91 141.75 L
432 136.5 L
422.91 131.25 L
F
422.91 136.5 M
108 136.5 L
S
0 0 612 792 CR
0 G
3 FF
180 148.666595 M 1.838684 0 32 (Need to initialize. Serv) widthshow
277.576141 148.666595 M 1.838684 0 32 (er has e) widthshow
311.643616 148.666595 M 1.838684 0 32 (xclusi) widthshow
335.283752 148.666595 M 1.838684 0 32 (v) widthshow
340.13382 148.666595 M 1.838684 0 32 (e access \(write\) when) widthshow
72 160.999893 360 9 CR
1 G
72 160.999893 360 9 NF
0 G
3 FF
(*/) 90.0 168.826 T
0.6667 G
117.09 165.5 M
117.09 160.25 L
108 165.5 L
117.09 170.75 L
F
432 165.5 M
117.09 165.5 L
S
0 0 612 792 CR
0 G
3 FF
(we\325) 180.0 158.667 T
(re done.) 194.49 158.667 T
3 FF
([161]) 77.34 179.667 T
3 FF
(\(v) 180.0 179.667 T
(oid\) ) 188.13 179.667 T
1 FF
(vm_allocate) 206.74 179.667 T
3 FF
( \() 257.84 179.667 T
1 FF
(mach_task_self) 263.67 179.667 T
3 FF
( \(\), &) 329.22 179.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(my_obj) 351.16 179.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 380.6 179.667 T
4 FF
(data) 390.47 179.667 T
3 FF
(, ) 408.25 179.667 T
(vm_page_size, TR) 234.0 189.667 T
(UE\);) 308.59 189.667 T
3 FF
([162]) 77.34 201.667 T
4 FF
(my_obj) 180.0 201.667 T
5 FF
<ae> 209.44 201.667 T
4 FF
(state) 219.31 201.667 T
3 FF
( = NETMEM_OBJ_SER) 238.2 201.667 T
(VER_WRITE;) 337.49 201.667 T
72 205.999847 360 9 CR
1 G
72 205.999847 360 9 NF
0 G
3 FF
(/*) 90.0 213.831 T
0.6667 G
422.91 210.5 M
422.91 215.75 L
432 210.5 L
422.91 205.25 L
F
422.91 210.5 M
288 210.5 L
S
72 224.999832 360 9 CR
1 G
72 224.999832 360 9 NF
0 G
3 FF
(*/) 90.0 232.826 T
0.6667 G
297.09 229.5 M
297.09 224.25 L
288 229.5 L
297.09 234.75 L
F
432 229.5 M
297.09 229.5 L
S
0 0 612 792 CR
0 G
3 FF
(F) 288.0 222.667 T
(all through...) 293.41 222.667 T
3 FF
([163]) 77.34 243.666 T
3 FF
(case NETMEM_OBJ_SER) 144.0 243.666 T
(VER_WRITE:) 252.36 243.666 T
72 247.999817 360 9 CR
1 G
72 247.999817 360 9 NF
0 G
3 FF
(/*) 91.224 255.831 T
0.6667 G
422.91 252.5 M
422.91 257.75 L
432 252.5 L
422.91 247.25 L
F
422.91 252.5 M
108 252.5 L
S
72 266.999817 360 9 CR
1 G
72 266.999817 360 9 NF
0 G
3 FF
(*/) 90.0 274.826 T
0.6667 G
117.09 271.5 M
117.09 266.25 L
108 271.5 L
117.09 276.75 L
F
432 271.5 M
117.09 271.5 L
S
0 0 612 792 CR
0 G
3 FF
(Write the v) 180.0 264.666 T
(alue.) 224.74 264.666 T
3 FF
([164]) 77.34 285.666 T
3 FF
(* \(\(int *\) \() 180.0 285.666 T
4 FF
(my_obj) 221.38 285.666 T
5 FF
<ae> 250.82 285.666 T
4 FF
(data) 260.69 285.666 T
3 FF
(\) + ) 278.47 285.666 T
4 FF
(of) 292.44 285.666 T
(fset) 300.04 285.666 T
3 FF
(\) = ) 313.93 285.666 T
4 FF
(value) 327.9 285.666 T
3 FF
(;) 349.56 285.666 T
3 FF
([165]) 77.34 297.666 T
3 FF
(return \(ERR_SUCCESS\);) 180.0 297.666 T
3 FF
([166]) 77.34 309.666 T
3 FF
(case NETMEM_OBJ_READ:) 144.0 309.666 T
3 FF
([167]) 77.34 321.666 T
3 FF
(case NETMEM_OBJ_KERNEL_WRITE:) 144.0 321.666 T
72 325.999756 360 9 CR
1 G
72 325.999756 360 9 NF
0 G
3 FF
(/*) 91.224 333.831 T
0.6667 G
422.91 330.5 M
422.91 335.75 L
432 330.5 L
422.91 325.25 L
F
422.91 330.5 M
108 330.5 L
S
0 0 612 792 CR
0 G
3 FF
180 342.666382 M 1.069107 0 32 (Request k) widthshow
220.689163 342.666382 M 1.069107 0 32 (ernel to gi) widthshow
263.127502 342.666382 M 1.069107 0 32 (v) widthshow
267.9776 342.666382 M 1.069107 0 32 (e up all access to page. Ask for a reply) widthshow
72 354.999664 360 9 CR
1 G
72 354.999664 360 9 NF
0 G
3 FF
(*/) 90.0 362.826 T
0.6667 G
117.09 359.5 M
117.09 354.25 L
108 359.5 L
117.09 364.75 L
F
432 359.5 M
117.09 359.5 L
S
0 0 612 792 CR
0 G
3 FF
(when it\325) 180.0 352.666 T
(s \336nished.) 212.5 352.666 T
3 FF
([168]) 77.34 373.666 T
3 FF
(printf \(\322lock_request: clean, \337ush, lock %d\\n\323, ) 180.0 373.666 T
(VM_PR) 234.0 383.666 T
(O) 266.94 383.666 T
(T_ALL\);) 273.76 383.666 T
3 FF
([169]) 77.34 395.666 T
3 FF
(\(v) 180.0 395.666 T
(oid\) ) 188.13 395.666 T
1 FF
(memory_object_lock_r) 206.74 395.666 T
(equest) 305.42 395.666 T
3 FF
( \() 332.64 395.666 T
4 FF
(my_obj) 338.47 395.666 T
5 FF
<ae> 367.91 395.666 T
3 FF
( ) 377.78 395.666 T
4 FF
(contr) 234.0 405.666 T
(ol_port) 254.66 405.666 T
3 FF
(, \(vm_of) 284.11 405.666 T
(fset_t\) 0, vm_page_size, ) 318.3 405.666 T
(TR) 234.0 415.666 T
(UE, TR) 246.38 415.666 T
(UE, F) 277.09 415.666 T
(ALSE, VM_PR) 300.241 415.666 T
(O) 363.181 415.666 T
(T_ALL, ) 370.001 415.666 T
4 FF
(my_obj) 234.0 425.666 T
5 FF
<ae> 263.44 425.666 T
4 FF
(abstr) 273.31 425.666 T
(act_port) 293.72 425.666 T
3 FF
(\);) 327.61 425.666 T
([170]) 77.34 437.666 T
4 FF
(my_obj) 180.0 437.666 T
5 FF
<ae> 209.44 437.666 T
4 FF
(state) 219.31 437.666 T
3 FF
( = NETMEM_OBJ_FLUSHING;) 238.2 437.666 T
72 441.999573 360 9 CR
1 G
72 441.999573 360 9 NF
0 G
3 FF
(/*) 90.0 449.831 T
0.6667 G
422.91 446.5 M
422.91 451.75 L
432 446.5 L
422.91 441.25 L
F
422.91 446.5 M
288 446.5 L
S
72 460.999542 360 9 CR
1 G
72 460.999542 360 9 NF
0 G
3 FF
(*/) 90.0 468.826 T
0.6667 G
297.09 465.5 M
297.09 460.25 L
288 465.5 L
297.09 470.75 L
F
432 465.5 M
297.09 465.5 L
S
0 0 612 792 CR
0 G
3 FF
(F) 288.0 458.666 T
(all through...) 293.41 458.666 T
3 FF
([171]) 77.34 479.666 T
3 FF
(case NETMEM_OBJ_CLEANING:) 144.0 479.666 T
3 FF
([172]) 77.34 491.666 T
3 FF
(case NETMEM_OBJ_FLUSHING:) 144.0 491.666 T
72 495.999512 360 9 CR
1 G
72 495.999512 360 9 NF
0 G
3 FF
(/*) 91.224 503.831 T
0.6667 G
422.91 500.5 M
422.91 505.75 L
432 500.5 L
422.91 495.25 L
F
422.91 500.5 M
108 500.5 L
S
0 0 612 792 CR
0 G
3 FF
180 512.666138 M 0.25592 0 32 (W) widthshow
188.640442 512.666138 M 0.25592 0 32 (ait for this change to complete. Enqueue this operation to be) widthshow
72 524.999451 360 9 CR
1 G
72 524.999451 360 9 NF
0 G
3 FF
(*/) 90.0 532.826 T
0.6667 G
117.09 529.5 M
117.09 524.25 L
108 529.5 L
117.09 534.75 L
F
432 529.5 M
117.09 529.5 L
S
0 0 612 792 CR
0 G
3 FF
(handled later) 180.0 522.666 T
(.) 231.38 522.666 T
3 FF
([173]) 77.34 543.666 T
1 FF
(pending_op_queue) 180.0 543.666 T
3 FF
( \() 260.58 543.666 T
4 FF
(my_obj) 266.41 543.666 T
3 FF
(, PENDING_WRITE, ) 295.85 543.666 T
4 FF
(of) 386.39 543.666 T
(fset) 393.99 543.666 T
3 FF
(, ) 407.88 543.666 T
4 FF
(value) 234.0 553.666 T
3 FF
(, ) 255.66 553.666 T
4 FF
(r) 260.66 553.666 T
(eply_to) 264.18 553.666 T
3 FF
(\);) 293.62 553.666 T
72 557.99939 360 9 CR
1 G
72 557.99939 360 9 NF
0 G
3 FF
(/*) 91.224 565.831 T
0.6667 G
422.91 562.5 M
422.91 567.75 L
432 562.5 L
422.91 557.25 L
F
422.91 562.5 M
108 562.5 L
S
72 576.999329 360 9 CR
1 G
72 576.999329 360 9 NF
0 G
3 FF
(*/) 90.0 584.826 T
0.6667 G
117.09 581.5 M
117.09 576.25 L
108 581.5 L
117.09 586.75 L
F
432 581.5 M
117.09 581.5 L
S
0 0 612 792 CR
0 G
3 FF
(Reply will happen when lock_request completes.) 180.0 574.666 T
3 FF
([174]) 77.34 595.666 T
3 FF
(return \(MIG_NO_REPL) 180.0 595.666 T
(Y\);) 277.041 595.666 T
3 FF
([175]) 77.34 607.666 T
3 FF
(def) 144.0 607.666 T
(ault:) 156.67 607.666 T
3 FF
([176]) 77.34 619.666 T
3 FF
(printf \(\322Bad state %d\\n\323, ) 180.0 619.666 T
4 FF
(my_obj) 282.48 619.666 T
5 FF
<ae> 311.92 619.666 T
4 FF
(state) 321.79 619.666 T
3 FF
(\);) 340.68 619.666 T
3 FF
([177]) 77.34 631.666 T
3 FF
(return \(NETMEM_F) 180.0 631.666 T
(AILURE\); ) 262.86 631.666 T
3 FF
([178]) 77.34 643.666 T
3 FF
(}) 144.0 643.666 T
72 647.999268 360 9 CR
1 G
72 647.999268 360 9 NF
0 G
3 FF
(/*) 90.0 655.83 T
0.6667 G
422.91 652.5 M
422.91 657.75 L
432 652.5 L
422.91 647.25 L
F
422.91 652.5 M
288 652.5 L
S
72 666.999268 360 9 CR
1 G
72 666.999268 360 9 NF
0 G
3 FF
(*/) 90.0 674.826 T
0.6667 G
297.09 671.5 M
297.09 666.25 L
288 671.5 L
297.09 676.75 L
F
432 671.5 M
297.09 671.5 L
S
0 0 612 792 CR
0 G
3 FF
(NO) 288.0 664.666 T
(TREA) 302.04 664.666 T
(CHED) 327.75 664.666 T
3 FF
([179]) 77.34 685.666 T
3 FF
(}) 108.0 685.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 116 116
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(112 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Exter) 180.0 114.984 T
(nal Memory Management Pr) 208.476 114.984 T
(otocol) 357.228 114.984 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(The routines that follo) 180.0 131.651 T
(w handle the e) 268.91 131.651 T
(xternal memory management protocol itself.) 326.8 131.651 T
180 141.983902 360 9 CR
1 G
180 141.983902 360 9 NF
0 G
4 FF
(/*) 199.224 149.815 T
3 SL
0.6667 G
530.91 146.48 M
530.91 151.73 L
540 146.48 L
530.91 141.23 L
F
530.91 146.48 M
216 146.48 L
S
180 160.983887 360 9 CR
1 G
180 160.983887 360 9 NF
0 G
4 FF
(*/) 198.0 168.81 T
0.6667 G
225.09 165.48 M
225.09 160.23 L
216 165.48 L
225.09 170.73 L
F
540 165.48 M
225.09 165.48 L
S
0 0 612 792 CR
0 G
4 FF
(Routines for handling paging messages from the k) 216.0 158.651 T
(ernel.) 417.27 158.651 T
4 FF
([180]) 185.34 179.651 T
(static struct memory_object_beha) 216.0 179.651 T
(vior_info ) 350.78 179.651 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
(behavior) 390.5 179.651 T
4 FF
( = ) 426.05 179.651 T
({MEMOR) 270.0 189.651 T
(Y_OBJECT_COPY_NONE, 0, 0, 0, 0};) 311.93 189.651 T
180 193.983856 360 9 CR
1 G
180 193.983856 360 9 NF
0 G
4 FF
(/*) 199.224 201.815 T
0.6667 G
530.91 198.48 M
530.91 203.73 L
540 198.48 L
530.91 193.23 L
F
530.91 198.48 M
216 198.48 L
S
180 212.983841 360 9 CR
1 G
180 212.983841 360 9 NF
0 G
4 FF
(*/) 198.0 220.81 T
0.6667 G
225.09 217.48 M
225.09 212.23 L
216 217.48 L
225.09 222.73 L
F
540 217.48 M
225.09 217.48 L
S
0 0 612 792 CR
0 G
4 FF
(K) 216.0 210.651 T
(ernel request to initialize object.) 222.97 210.651 T
4 FF
([181]) 185.34 231.65 T
4 FF
(k) 216.0 231.65 T
(ern_return_t ) 220.9 231.65 T
0 FF
(memory_object_notify) 272.83 231.65 T
4 FF
( \(mem_obj_rep_port_t ) 369.47 231.65 T
5 FF
(r) 462.24 231.65 T
(epr) 465.76 231.65 T
(esentative) 478.72 231.65 T
4 FF
(, ) 518.71 231.65 T
(mem_cache_control_port_t ) 270.0 241.65 T
5 FF
(contr) 382.48 241.65 T
(ol) 403.14 241.65 T
4 FF
(, host_name_port_t ) 410.92 241.65 T
5 FF
(host) 490.64 241.65 T
4 FF
(, ) 507.31 241.65 T
4 FF
(vm_of) 270.0 251.65 T
(fset_t ) 295.86 251.65 T
5 FF
(obj_pa) 320.58 251.65 T
(g) 348.26 251.65 T
(e_size) 353.16 251.65 T
4 FF
(\)) 377.6 251.65 T
4 FF
([182]) 185.34 263.65 T
4 FF
({) 216.0 263.65 T
4 FF
([183]) 185.34 275.65 T
5 FF
(netmem_obj_t) 252.0 275.65 T
(my_obj) 396.0 275.65 T
4 FF
(;) 425.44 275.65 T
4 FF
([184]) 185.34 287.65 T
4 FF
(ledger_port_t) 252.0 287.65 T
5 FF
(ledg) 396.0 287.65 T
(er) 413.12 287.65 T
(s) 421.35 287.65 T
4 FF
( [2];) 425.24 287.65 T
4 FF
([185]) 185.34 299.65 T
4 FF
(printf \(\322init\\n\323\);) 252.0 299.65 T
180 303.983734 360 9 CR
1 G
180 303.983734 360 9 NF
0 G
4 FF
(/*) 199.224 311.815 T
0.6667 G
530.91 308.48 M
530.91 313.73 L
540 308.48 L
530.91 303.23 L
F
530.91 308.48 M
216 308.48 L
S
180 322.983704 360 9 CR
1 G
180 322.983704 360 9 NF
0 G
4 FF
(*/) 198.0 330.81 T
0.6667 G
225.09 327.48 M
225.09 322.23 L
216 327.48 L
225.09 332.73 L
F
540 327.48 M
225.09 327.48 L
S
0 0 612 792 CR
0 G
4 FF
(Check the object\325) 252.0 320.65 T
(s page size.) 321.99 320.65 T
4 FF
([186]) 185.34 341.65 T
4 FF
(if \() 252.0 341.65 T
5 FF
(obj_pa) 263.94 341.65 T
(g) 291.62 341.65 T
(e_size) 296.52 341.65 T
4 FF
( != vm_page_size\)) 320.96 341.65 T
4 FF
([187]) 185.34 353.65 T
4 FF
({) 252.0 353.65 T
4 FF
([188]) 185.34 365.65 T
4 FF
(printf \(\322page size mismatch\\n\323\);) 288.0 365.65 T
4 FF
([189]) 185.34 377.65 T
4 FF
(return \(KERN_F) 288.0 377.65 T
(AILURE\);) 354.75 377.65 T
4 FF
([190]) 185.34 389.65 T
4 FF
(}) 252.0 389.65 T
180 393.983643 360 9 CR
1 G
180 393.983643 360 9 NF
0 G
4 FF
(/*) 199.224 401.815 T
0.6667 G
530.91 398.48 M
530.91 403.73 L
540 398.48 L
530.91 393.23 L
F
530.91 398.48 M
216 398.48 L
S
180 412.983643 360 9 CR
1 G
180 412.983643 360 9 NF
0 G
4 FF
(*/) 198.0 420.81 T
0.6667 G
225.09 417.48 M
225.09 412.23 L
216 417.48 L
225.09 422.73 L
F
540 417.48 M
225.09 417.48 L
S
0 0 612 792 CR
0 G
4 FF
(Check that it\325) 252.0 410.65 T
(s our host.) 305.89 410.65 T
([191]) 185.34 431.65 T
(if \() 252.0 431.65 T
5 FF
(host ) 263.94 431.65 T
4 FF
(!= ) 283.11 431.65 T
0 FF
(mach_host_self) 294.58 431.65 T
4 FF
( \(\)\)) 360.13 431.65 T
([192]) 185.34 443.65 T
(return \(KERN_F) 288.0 443.65 T
(AILURE\);) 354.75 443.65 T
180 447.983582 360 9 CR
1 G
180 447.983582 360 9 NF
0 G
4 FF
(/*) 199.224 455.815 T
0.6667 G
530.91 452.48 M
530.91 457.73 L
540 452.48 L
530.91 447.23 L
F
530.91 452.48 M
216 452.48 L
S
180 466.983582 360 9 CR
1 G
180 466.983582 360 9 NF
0 G
4 FF
(*/) 198.0 474.81 T
0.6667 G
225.09 471.48 M
225.09 466.23 L
216 471.48 L
225.09 476.73 L
F
540 471.48 M
225.09 471.48 L
S
0 0 612 792 CR
0 G
4 FF
(Check that it\325) 252.0 464.65 T
(s our object.) 305.89 464.65 T
([193]) 185.34 485.65 T
4 FF
(if \(\() 252.0 485.65 T
5 FF
(my_obj) 267.27 485.65 T
4 FF
( = ) 296.71 485.65 T
0 FF
(netmem_r) 307.35 485.65 T
(ep_lookup) 351.04 485.65 T
4 FF
( \() 395.5 485.65 T
5 FF
(r) 401.33 485.65 T
(epr) 404.85 485.65 T
(esentative) 417.811 485.65 T
4 FF
(\)\) == ) 457.801 485.65 T
4 FF
(NETMEM_OBJ_NULL\)) 306.0 495.65 T
4 FF
([194]) 185.34 507.65 T
4 FF
(return \(KERN_F) 288.0 507.65 T
(AILURE\);) 354.75 507.65 T
180 511.983521 360 9 CR
1 G
180 511.983521 360 9 NF
0 G
4 FF
(/*) 199.224 519.815 T
0.6667 G
530.91 516.48 M
530.91 521.73 L
540 516.48 L
530.91 511.23 L
F
530.91 516.48 M
216 516.48 L
S
0 0 612 792 CR
0 G
4 FF
252 528.650208 M 0.730743 0 32 (Set up control port. If it\325) widthshow
352.874023 528.650208 M 0.730743 0 32 (s not NULL, we\325) widthshow
422.886536 528.650208 M 0.730743 0 32 (v) widthshow
427.736633 528.650208 M 0.730743 0 32 (e just w) widthshow
460.20816 528.650208 M 0.730743 0 32 (on an init/terminate) widthshow
252 538.650146 M 8.167908 0 32 (race. Respond with ) widthshow
0 FF
355.933716 538.650146 M 8.167908 0 32 (memory_object_r) widthshow
431.833862 538.650146 M 8.167908 0 32 (epr) widthshow
446.093933 538.650146 M 8.167908 0 32 (esentati) widthshow
478.764008 538.650146 M 8.167908 0 32 (v) widthshow
483.664062 538.650146 M 8.167908 0 32 (e) widthshow
4 FF
488.104065 538.650146 M 8.167908 0 32 ( until the) widthshow
180 550.983521 360 9 CR
1 G
180 550.983521 360 9 NF
0 G
4 FF
(*/) 198.0 558.81 T
0.6667 G
225.09 555.48 M
225.09 550.23 L
216 555.48 L
225.09 560.73 L
F
540 555.48 M
225.09 555.48 L
S
0 0 612 792 CR
0 G
4 FF
(terminate message appears.) 252.0 548.65 T
([195]) 185.34 569.65 T
4 FF
(if \() 252.0 569.65 T
5 FF
(my_obj) 263.94 569.65 T
6 (Symbol) 10 1 mymakefontmetric
6 FF
<ae> 293.38 569.65 T
5 FF
(contr) 303.25 569.65 T
(ol_port) 323.91 569.65 T
4 FF
( != MA) 353.36 569.65 T
(CH_POR) 383.04 569.65 T
(T_NULL\)) 420.781 569.65 T
4 FF
([196]) 185.34 581.65 T
(\(v) 288.0 581.65 T
(oid\) ) 296.13 581.65 T
0 FF
(memory_object_r) 314.74 581.65 T
(epr) 390.64 581.65 T
(esentati) 404.9 581.65 T
(v) 437.57 581.65 T
(e) 442.47 581.65 T
4 FF
( \() 446.91 581.65 T
5 FF
(host) 452.74 581.65 T
4 FF
(, ) 469.41 581.65 T
5 FF
(contr) 474.41 581.65 T
(ol) 495.071 581.65 T
4 FF
(, ) 502.851 581.65 T
5 FF
(r) 342.0 591.65 T
(epr) 345.52 591.65 T
(esentative) 358.48 591.65 T
4 FF
(, ) 398.47 591.65 T
5 FF
(my_obj) 403.47 591.65 T
6 FF
<ae> 432.91 591.65 T
5 FF
(abstr) 442.78 591.65 T
(act_port) 463.19 591.65 T
4 FF
(, ) 497.08 591.65 T
(VM_PR) 342.0 601.65 T
(O) 374.94 601.65 T
(T_ALL, SECURITY_ID_ALL\);) 381.76 601.65 T
([197]) 185.34 613.65 T
(else) 252.0 613.65 T
([198]) 185.34 625.65 T
({) 252.0 625.65 T
([199]) 185.34 637.65 T
5 FF
(my_obj) 288.0 637.65 T
6 FF
<ae> 317.44 637.65 T
5 FF
(contr) 327.31 637.65 T
(ol_port) 347.97 637.65 T
4 FF
( = ) 377.42 637.65 T
5 FF
(contr) 388.06 637.65 T
(ol) 408.72 637.65 T
4 FF
(;) 416.5 637.65 T
4 FF
([200]) 185.34 649.65 T
5 FF
(my_obj) 288.0 649.65 T
6 FF
<ae> 317.44 649.65 T
5 FF
(send_rights) 327.31 649.65 T
4 FF
( = 1;) 373.98 649.65 T
180 653.983398 360 9 CR
1 G
180 653.983398 360 9 NF
0 G
4 FF
(/*) 199.224 661.815 T
0.6667 G
530.91 658.48 M
530.91 663.73 L
540 658.48 L
530.91 653.23 L
F
530.91 658.48 M
216 658.48 L
S
0 0 612 792 CR
0 G
4 FF
288 670.650024 M 2.378799 0 32 (Reply: the object is ready) widthshow
399.075562 670.650024 M 2.378799 0 32 (. Not cacheable, no special cop) widthshow
534.999634 670.650024 M 2.378799 0 32 (y) widthshow
180 682.983337 360 9 CR
1 G
180 682.983337 360 9 NF
0 G
4 FF
(*/) 198.0 690.81 T
0.6667 G
225.09 687.48 M
225.09 682.23 L
216 687.48 L
225.09 692.73 L
F
540 687.48 M
225.09 687.48 L
S
0 0 612 792 CR
0 G
4 FF
(strate) 288.0 680.65 T
(gy) 309.51 680.65 T
(.) 318.86 680.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 117 117
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (113 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([201]) 77.34 115.667 T
3 FF
(printf \(\322ready\\n\323\);) 180.0 115.667 T
3 FF
([202]) 77.34 127.667 T
3 FF
(\(v) 180.0 127.667 T
(oid\) ) 188.13 127.667 T
1 FF
(task_get_wir) 206.74 127.667 T
(ed_ledger_port) 261.55 127.667 T
3 FF
( \() 326.54 127.667 T
1 FF
(mach_task_self) 332.37 127.667 T
3 FF
( \(\), ) 397.92 127.667 T
(&) 234.0 137.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(ledg) 241.78 137.667 T
(er) 258.9 137.667 T
(s) 267.13 137.667 T
3 FF
( [0]\);) 271.02 137.667 T
3 FF
([203]) 77.34 149.667 T
3 FF
(\(v) 180.0 149.667 T
(oid\) ) 188.13 149.667 T
1 FF
(task_get_paged_ledger_port) 206.74 149.667 T
3 FF
( \() 327.84 149.667 T
1 FF
(mach_task_self) 333.67 149.667 T
3 FF
( \(\), ) 399.22 149.667 T
(&) 234.0 159.667 T
4 FF
(ledg) 241.78 159.667 T
(er) 258.9 159.667 T
(s) 267.13 159.667 T
3 FF
( [1]\);) 271.02 159.667 T
3 FF
([204]) 77.34 171.667 T
3 FF
(\(v) 180.0 171.667 T
(oid\) ) 188.13 171.667 T
1 FF
(memory_object_establish ) 206.74 171.667 T
3 FF
(\() 318.11 171.667 T
4 FF
(host) 321.44 171.667 T
3 FF
(, ) 338.11 171.667 T
4 FF
(ledg) 343.11 171.667 T
(er) 360.23 171.667 T
(s) 368.46 171.667 T
3 FF
(, ) 372.35 171.667 T
4 FF
(contr) 377.35 171.667 T
(ol) 398.01 171.667 T
3 FF
(, ) 405.79 171.667 T
4 FF
(r) 234.0 181.667 T
(epr) 237.52 181.667 T
(esentative) 250.48 181.667 T
3 FF
(, ) 290.47 181.667 T
4 FF
(my_obj) 295.47 181.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 324.91 181.667 T
4 FF
(abstr) 334.78 181.667 T
(act_port) 355.19 181.667 T
3 FF
(, ) 389.08 181.667 T
(VM_PR) 234.0 191.667 T
(O) 266.94 191.667 T
(T_ALL, SECURITY_ID_ALL, ) 273.76 191.667 T
(MEMOR) 234.0 201.667 T
(Y_OBJECT_BEHA) 271.13 201.667 T
(VIOR_INFO, ) 350.891 201.667 T
(&) 234.0 211.667 T
4 FF
(behavior) 241.78 211.667 T
3 FF
(\);) 277.33 211.667 T
([205]) 77.34 223.667 T
(}) 144.0 223.667 T
([206]) 77.34 235.666 T
(return \(KERN_SUCCESS\);) 144.0 235.666 T
([207]) 77.34 247.666 T
3 FF
(}) 108.0 247.666 T
72 251.999802 360 9 CR
1 G
72 251.999802 360 9 NF
0 G
3 FF
(/*) 91.224 259.831 T
3 SL
0 SC
0.6667 G
422.91 256.5 M
422.91 261.75 L
432 256.5 L
422.91 251.25 L
F
422.91 256.5 M
108 256.5 L
S
72 270.999786 360 9 CR
1 G
72 270.999786 360 9 NF
0 G
3 FF
(*/) 90.0 278.826 T
0.6667 G
117.09 275.5 M
117.09 270.25 L
108 275.5 L
117.09 280.75 L
F
432 275.5 M
117.09 275.5 L
S
0 0 612 792 CR
0 G
3 FF
(K) 108.0 268.666 T
(ernel object termination.) 114.97 268.666 T
3 FF
([208]) 77.34 289.666 T
3 FF
(k) 108.0 289.666 T
(ern_return_t ) 112.9 289.666 T
1 FF
(memory_object_terminate) 164.83 289.666 T
3 FF
( \(abs_mem_obj_port_t ) 278.12 289.666 T
4 FF
(object) 371.45 289.666 T
3 FF
(, ) 395.89 289.666 T
(mem_cache_control_port_t ) 162.0 299.666 T
4 FF
(contr) 274.48 299.666 T
(ol) 295.14 299.666 T
3 FF
(\)) 302.92 299.666 T
([209]) 77.34 311.666 T
3 FF
({) 108.0 311.666 T
3 FF
([210]) 77.34 323.666 T
4 FF
(netmem_obj_t) 144.0 323.666 T
(my_obj) 288.0 323.666 T
3 FF
(;) 317.44 323.666 T
3 FF
([211]) 77.34 335.666 T
3 FF
(printf \(\322terminate\\n\323\);) 144.0 335.666 T
72 339.999695 360 9 CR
1 G
72 339.999695 360 9 NF
0 G
3 FF
(/*) 91.224 347.831 T
0.6667 G
422.91 344.5 M
422.91 349.75 L
432 344.5 L
422.91 339.25 L
F
422.91 344.5 M
108 344.5 L
S
72 358.999695 360 9 CR
1 G
72 358.999695 360 9 NF
0 G
3 FF
(*/) 90.0 366.826 T
0.6667 G
117.09 363.5 M
117.09 358.25 L
108 363.5 L
117.09 368.75 L
F
432 363.5 M
117.09 363.5 L
S
0 0 612 792 CR
0 G
3 FF
(Check that it\325) 144.0 356.666 T
(s our object.) 197.89 356.666 T
3 FF
([212]) 77.34 377.666 T
3 FF
(if \(\() 144.0 377.666 T
4 FF
(my_obj) 159.27 377.666 T
3 FF
( = ) 188.71 377.666 T
1 FF
(netmem_lookup) 199.35 377.666 T
3 FF
( \() 268.24 377.666 T
4 FF
(object) 274.07 377.666 T
3 FF
(\)\) == NETMEM_OBJ_NULL\)) 298.51 377.666 T
3 FF
([213]) 77.34 389.666 T
3 FF
(return \(KERN_F) 180.0 389.666 T
(AILURE\);) 246.75 389.666 T
72 393.999664 360 9 CR
1 G
72 393.999664 360 9 NF
0 G
3 FF
(/*) 91.224 401.831 T
0.6667 G
422.91 398.5 M
422.91 403.75 L
432 398.5 L
422.91 393.25 L
F
422.91 398.5 M
108 398.5 L
S
72 412.999634 360 9 CR
1 G
72 412.999634 360 9 NF
0 G
3 FF
(*/) 90.0 420.826 T
0.6667 G
117.09 417.5 M
117.09 412.25 L
108 417.5 L
117.09 422.75 L
F
432 417.5 M
117.09 417.5 L
S
0 0 612 792 CR
0 G
3 FF
(Clear control port, and remo) 144.0 410.666 T
(v) 257.44 410.666 T
(e an) 262.29 410.666 T
(y send rights we ha) 278.52 410.666 T
(v) 355.53 410.666 T
(e.) 360.38 410.666 T
3 FF
([214]) 77.34 431.666 T
3 FF
(if \() 144.0 431.666 T
4 FF
(my_obj) 155.94 431.666 T
5 FF
<ae> 185.38 431.666 T
4 FF
(contr) 195.25 431.666 T
(ol_port) 215.91 431.666 T
3 FF
( == ) 245.36 431.666 T
4 FF
(contr) 261.64 431.666 T
(ol) 282.3 431.666 T
3 FF
(\)) 290.08 431.666 T
3 FF
([215]) 77.34 443.666 T
3 FF
({) 144.0 443.666 T
3 FF
([216]) 77.34 455.666 T
4 FF
(my_obj) 180.0 455.666 T
5 FF
<ae> 209.44 455.666 T
4 FF
(contr) 219.31 455.666 T
(ol_port) 239.97 455.666 T
3 FF
( = MA) 269.42 455.666 T
(CH_POR) 295.77 455.666 T
(T_NULL;) 333.511 455.666 T
3 FF
([217]) 77.34 467.666 T
3 FF
(\(v) 180.0 467.666 T
(oid\) ) 188.13 467.666 T
1 FF
(mach_port_mod_r) 206.74 467.666 T
(efs) 286.55 467.666 T
3 FF
( \() 298.21 467.666 T
1 FF
(mach_task_self) 304.04 467.666 T
3 FF
( \(\), ) 369.59 467.666 T
4 FF
(contr) 383.75 467.666 T
(ol) 404.41 467.666 T
3 FF
(, ) 412.19 467.666 T
(MA) 234.0 477.666 T
(CH_POR) 249.71 477.666 T
(T_RIGHT_SEND, \320 ) 287.451 477.666 T
(\() 234.0 487.666 T
4 FF
(my_obj) 237.33 487.666 T
5 FF
<ae> 266.77 487.666 T
4 FF
(send_rights) 276.64 487.666 T
3 FF
(\)\);) 323.31 487.666 T
3 FF
([218]) 77.34 499.666 T
4 FF
(my_obj) 180.0 499.666 T
5 FF
<ae> 209.44 499.666 T
4 FF
(send_rights) 219.31 499.666 T
3 FF
( = 0;) 265.98 499.666 T
3 FF
([219]) 77.34 511.666 T
3 FF
(}) 144.0 511.666 T
72 515.999512 360 9 CR
1 G
72 515.999512 360 9 NF
0 G
3 FF
(/*) 91.224 523.831 T
0.6667 G
422.91 520.5 M
422.91 525.75 L
432 520.5 L
422.91 515.25 L
F
422.91 520.5 M
108 520.5 L
S
72 534.999451 360 9 CR
1 G
72 534.999451 360 9 NF
0 G
3 FF
(*/) 90.0 542.826 T
0.6667 G
117.09 539.5 M
117.09 534.25 L
108 539.5 L
117.09 544.75 L
F
432 539.5 M
117.09 539.5 L
S
0 0 612 792 CR
0 G
3 FF
(Reset object state: no k) 144.0 532.666 T
(ernel cop) 236.67 532.666 T
(y) 273.5 532.666 T
(, so serv) 277.85 532.666 T
(er write ok.) 310.751 532.666 T
3 FF
([220]) 77.34 553.666 T
4 FF
(my_obj) 144.0 553.666 T
5 FF
<ae> 173.44 553.666 T
4 FF
(state) 183.31 553.666 T
3 FF
( = NETMEM_OBJ_SER) 202.2 553.666 T
(VER_WRITE;) 301.49 553.666 T
72 557.999451 360 9 CR
1 G
72 557.999451 360 9 NF
0 G
3 FF
(/*) 91.224 565.831 T
0.6667 G
422.91 562.5 M
422.91 567.75 L
432 562.5 L
422.91 557.25 L
F
422.91 562.5 M
108 562.5 L
S
72 576.999451 360 9 CR
1 G
72 576.999451 360 9 NF
0 G
3 FF
(*/) 90.0 584.826 T
0.6667 G
117.09 581.5 M
117.09 576.25 L
108 581.5 L
117.09 586.75 L
F
432 581.5 M
117.09 581.5 L
S
0 0 612 792 CR
0 G
3 FF
(No) 144.0 574.666 T
(w get rid of the recei) 155.97 574.666 T
(v) 238.75 574.666 T
(e right that came in this message.) 243.6 574.666 T
3 FF
([221]) 77.34 595.666 T
3 FF
(\(v) 144.0 595.666 T
(oid\) ) 152.13 595.666 T
1 FF
(mach_port_mod_r) 170.74 595.666 T
(efs) 250.55 595.666 T
3 FF
( \() 262.21 595.666 T
1 FF
(mach_task_self) 268.04 595.666 T
3 FF
( \(\), ) 333.59 595.666 T
4 FF
(contr) 347.75 595.666 T
(ol) 368.41 595.666 T
3 FF
(, ) 376.19 595.666 T
(MA) 198.0 605.666 T
(CH_POR) 213.71 605.666 T
(T_RIGHT_RECEIVE,\3201\);) 251.451 605.666 T
3 FF
([222]) 77.34 617.666 T
(return \(KERN_SUCCESS\);) 144.0 617.666 T
([223]) 77.34 629.666 T
3 FF
(}) 108.0 629.666 T
72 633.99939 360 9 CR
1 G
72 633.99939 360 9 NF
0 G
3 FF
(/*) 91.224 641.831 T
0.6667 G
422.91 638.5 M
422.91 643.75 L
432 638.5 L
422.91 633.25 L
F
422.91 638.5 M
108 638.5 L
S
72 652.99939 360 9 CR
1 G
72 652.99939 360 9 NF
0 G
3 FF
(*/) 90.0 660.826 T
0.6667 G
117.09 657.5 M
117.09 652.25 L
108 657.5 L
117.09 662.75 L
F
432 657.5 M
117.09 657.5 L
S
0 0 612 792 CR
0 G
3 FF
(K) 108.0 650.666 T
(ernel object rejection. This has the same ef) 114.97 650.666 T
(fect as if the object were terminated.) 285.79 650.666 T
([224]) 77.34 671.666 T
(k) 108.0 671.666 T
(ern_return_t ) 112.9 671.666 T
1 FF
(memory_object_r) 164.83 671.666 T
(ejected) 240.73 671.666 T
3 FF
( \(abs_mem_obj_port_t ) 270.71 671.666 T
4 FF
(object) 364.04 671.666 T
3 FF
(, ) 388.48 671.666 T
(mem_cache_control_port_t ) 162.0 681.666 T
4 FF
(contr) 274.48 681.666 T
(ol) 295.14 681.666 T
3 FF
(\)) 302.92 681.666 T
([225]) 77.34 693.666 T
({) 108.0 693.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 118 118
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(114 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([226]) 185.34 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(netmem_obj_t) 252.0 113.651 T
(my_obj) 396.0 113.651 T
3 FF
(;) 425.44 113.651 T
([227]) 185.34 125.651 T
(printf \(\322rejection\\n\323\);) 252.0 125.651 T
180 129.983978 360 9 CR
1 G
180 129.983978 360 9 NF
0 G
3 FF
(/*) 199.224 137.815 T
3 SL
0.6667 G
530.91 134.48 M
530.91 139.73 L
540 134.48 L
530.91 129.23 L
F
530.91 134.48 M
216 134.48 L
S
180 148.983963 360 9 CR
1 G
180 148.983963 360 9 NF
0 G
3 FF
(*/) 198.0 156.81 T
0.6667 G
225.09 153.48 M
225.09 148.23 L
216 153.48 L
225.09 158.73 L
F
540 153.48 M
225.09 153.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check that it\325) 252.0 146.651 T
(s our object.) 305.89 146.651 T
([228]) 185.34 167.651 T
(if \(\() 252.0 167.651 T
4 FF
(my_obj) 267.27 167.651 T
3 FF
( = ) 296.71 167.651 T
0 FF
(netmem_lookup) 307.35 167.651 T
3 FF
( \() 376.24 167.651 T
4 FF
(object) 382.07 167.651 T
3 FF
(\)\) == NETMEM_OBJ_NULL\)) 406.51 167.651 T
([229]) 185.34 179.651 T
(return \(KERN_F) 288.0 179.651 T
(AILURE\);) 354.75 179.651 T
180 183.983932 360 9 CR
1 G
180 183.983932 360 9 NF
0 G
3 FF
(/*) 199.224 191.815 T
0.6667 G
530.91 188.48 M
530.91 193.73 L
540 188.48 L
530.91 183.23 L
F
530.91 188.48 M
216 188.48 L
S
0 0 612 792 CR
0 G
3 FF
252 200.650589 M 0.804474 0 32 (Clear control port, and remo) widthshow
368.65799 200.650589 M 0.804474 0 32 (v) widthshow
373.508057 200.650589 M 0.804474 0 32 (e an) widthshow
390.542633 200.650589 M 0.804474 0 32 (y send rights we ha) widthshow
470.77063 200.650589 M 0.804474 0 32 (v) widthshow
475.620728 200.650589 M 0.804474 0 32 (e \(including the) widthshow
180 212.983902 360 9 CR
1 G
180 212.983902 360 9 NF
0 G
3 FF
(*/) 198.0 220.81 T
0.6667 G
225.09 217.48 M
225.09 212.23 L
216 217.48 L
225.09 222.73 L
F
540 217.48 M
225.09 217.48 L
S
0 0 612 792 CR
0 G
3 FF
(ne) 252.0 210.651 T
(w one we just got\).) 261.19 210.651 T
([230]) 185.34 231.651 T
(if \() 252.0 231.651 T
4 FF
(my_obj) 263.94 231.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 293.38 231.651 T
4 FF
(contr) 303.25 231.651 T
(ol_port) 323.91 231.651 T
3 FF
( == ) 353.36 231.651 T
4 FF
(contr) 369.64 231.651 T
(ol) 390.3 231.651 T
3 FF
(\)) 398.08 231.651 T
([231]) 185.34 243.651 T
({) 252.0 243.651 T
([232]) 185.34 255.651 T
4 FF
(my_obj) 288.0 255.651 T
5 FF
<ae> 317.44 255.651 T
4 FF
(contr) 327.31 255.651 T
(ol_port) 347.97 255.651 T
3 FF
( = MA) 377.42 255.651 T
(CH_POR) 403.77 255.651 T
(T_NULL;) 441.511 255.651 T
([233]) 185.34 267.651 T
(\(v) 288.0 267.651 T
(oid\) ) 296.13 267.651 T
0 FF
(mach_port_mod_r) 314.74 267.651 T
(efs) 394.55 267.651 T
3 FF
( \() 406.21 267.651 T
0 FF
(mach_task_self) 412.04 267.651 T
3 FF
( \(\), ) 477.59 267.651 T
4 FF
(contr) 491.75 267.651 T
(ol) 512.41 267.651 T
3 FF
(, ) 520.19 267.651 T
(MA) 342.0 277.65 T
(CH_POR) 357.71 277.65 T
(T_RIGHT_SEND, -1 \320 ) 395.451 277.65 T
(\() 342.0 287.65 T
4 FF
(my_obj) 345.33 287.65 T
5 FF
<ae> 374.77 287.65 T
4 FF
(send_rights) 384.64 287.65 T
3 FF
(\)\);) 431.31 287.65 T
([234]) 185.34 299.65 T
4 FF
(my_obj) 288.0 299.65 T
5 FF
<ae> 317.44 299.65 T
4 FF
(send_rights) 327.31 299.65 T
3 FF
( = 0;) 373.98 299.65 T
([235]) 185.34 311.65 T
(}) 252.0 311.65 T
180 315.983765 360 9 CR
1 G
180 315.983765 360 9 NF
0 G
3 FF
(/*) 199.224 323.815 T
0.6667 G
530.91 320.48 M
530.91 325.73 L
540 320.48 L
530.91 315.23 L
F
530.91 320.48 M
216 320.48 L
S
180 334.983765 360 9 CR
1 G
180 334.983765 360 9 NF
0 G
3 FF
(*/) 198.0 342.81 T
0.6667 G
225.09 339.48 M
225.09 334.23 L
216 339.48 L
225.09 344.73 L
F
540 339.48 M
225.09 339.48 L
S
0 0 612 792 CR
0 G
3 FF
(Reset object state: no k) 252.0 332.65 T
(ernel cop) 344.67 332.65 T
(y) 381.5 332.65 T
(, so serv) 385.85 332.65 T
(er write ok.) 418.751 332.65 T
([236]) 185.34 353.65 T
4 FF
(my_obj) 252.0 353.65 T
5 FF
<ae> 281.44 353.65 T
4 FF
(state) 291.31 353.65 T
3 FF
( = NETMEM_OBJ_SER) 310.2 353.65 T
(VER_WRITE;) 409.49 353.65 T
([237]) 185.34 365.65 T
(return \(KERN_SUCCESS\);) 252.0 365.65 T
([238]) 185.34 377.65 T
(}) 216.0 377.65 T
0 FF
180 399.65033 M 0.330841 0 32 (memory_object_data_r) widthshow
279.7901 399.65033 M 0.330841 0 32 (equest) widthshow
3 FF
307.010132 399.65033 M 0.330841 0 32 ( is f) widthshow
322.571838 399.65033 M 0.330841 0 32 (airly simple. The mere f) widthshow
420.165283 399.65033 M 0.330841 0 32 (act that we recei) widthshow
486.157959 399.65033 M 0.330841 0 32 (v) widthshow
491.008057 399.65033 M 0.330841 0 32 (ed this mes-) widthshow
180 411.650269 M 0.3564 0 32 (sage means that the k) widthshow
266.865662 411.650269 M 0.3564 0 32 (ernel does not hold the page and w) widthshow
408.400513 411.650269 M 0.3564 0 32 (ants it. W) widthshow
446.923767 411.650269 M 0.3564 0 32 (e must clearly be hold-) widthshow
180 423.650208 M 1.327591 0 32 (ing the most recent cop) widthshow
278.530426 423.650208 M 1.327591 0 32 (y and can supply it to the k) widthshow
395.773621 423.650208 M 1.327591 0 32 (ernel directly) widthshow
449.491577 423.650208 M 1.327591 0 32 (, unless we are in the) widthshow
(midst of a lock request sequence, in which case the page request is deferred.) 180.0 435.65 T
180 445.983459 360 9 CR
1 G
180 445.983459 360 9 NF
0 G
3 FF
(/*) 199.224 453.815 T
0.6667 G
530.91 450.48 M
530.91 455.73 L
540 450.48 L
530.91 445.23 L
F
530.91 450.48 M
216 450.48 L
S
180 464.983459 360 9 CR
1 G
180 464.983459 360 9 NF
0 G
3 FF
(*/) 198.0 472.81 T
0.6667 G
225.09 469.48 M
225.09 464.23 L
216 469.48 L
225.09 474.73 L
F
540 469.48 M
225.09 469.48 L
S
0 0 612 792 CR
0 G
3 FF
(P) 216.0 462.65 T
(age-in) 221.41 462.65 T
3 FF
([239]) 185.34 483.65 T
3 FF
(k) 216.0 483.65 T
(ern_return_t ) 220.9 483.65 T
0 FF
(memory_object_data_r) 272.83 483.65 T
(equest) 372.62 483.65 T
3 FF
( \(abs_mem_obj_port_t ) 399.84 483.65 T
4 FF
(object) 493.17 483.65 T
3 FF
(, ) 517.61 483.65 T
(mem_cache_control_port_t ) 270.0 493.65 T
4 FF
(contr) 382.48 493.65 T
(ol) 403.14 493.65 T
3 FF
(, vm_of) 410.92 493.65 T
(fset_t ) 441.78 493.65 T
4 FF
(of) 466.5 493.65 T
(fset) 474.1 493.65 T
3 FF
(, vm_size_t ) 487.99 493.65 T
4 FF
(length) 270.0 503.65 T
3 FF
(, vm_prot_t ) 295.0 503.65 T
4 FF
(access) 344.17 503.65 T
3 FF
(\)) 370.27 503.65 T
3 FF
([240]) 185.34 515.65 T
3 FF
({) 216.0 515.65 T
3 FF
([241]) 185.34 527.65 T
4 FF
(netmem_obj_t) 252.0 527.65 T
(my_obj) 396.0 527.65 T
3 FF
(;) 425.44 527.65 T
3 FF
([242]) 185.34 539.65 T
3 FF
(vm_prot_t) 252.0 539.65 T
4 FF
(loc) 396.0 539.65 T
(k_value) 408.02 539.65 T
3 FF
(;) 439.12 539.65 T
3 FF
([243]) 185.34 551.65 T
3 FF
(printf \(\322data_request %d\\n\323, access\);) 252.0 551.65 T
180 555.983337 360 9 CR
1 G
180 555.983337 360 9 NF
0 G
3 FF
(/*) 199.224 563.815 T
0.6667 G
530.91 560.48 M
530.91 565.73 L
540 560.48 L
530.91 555.23 L
F
530.91 560.48 M
216 560.48 L
S
180 574.983337 360 9 CR
1 G
180 574.983337 360 9 NF
0 G
3 FF
(*/) 198.0 582.81 T
0.6667 G
225.09 579.48 M
225.09 574.23 L
216 579.48 L
225.09 584.73 L
F
540 579.48 M
225.09 579.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check that it\325) 252.0 572.65 T
(s our object.) 305.89 572.65 T
3 FF
([244]) 185.34 593.65 T
3 FF
(if \(\() 252.0 593.65 T
4 FF
(my_obj) 267.27 593.65 T
3 FF
( = ) 296.71 593.65 T
0 FF
(netmem_lookup) 307.35 593.65 T
3 FF
( \() 376.24 593.65 T
4 FF
(object) 382.07 593.65 T
3 FF
(\)\) == NETMEM_OBJ_NULL\)) 406.51 593.65 T
3 FF
([245]) 185.34 605.65 T
3 FF
(return \(KERN_F) 288.0 605.65 T
(AILURE\);) 354.75 605.65 T
180 609.983276 360 9 CR
1 G
180 609.983276 360 9 NF
0 G
3 FF
(/*) 199.224 617.814 T
0.6667 G
530.91 614.48 M
530.91 619.73 L
540 614.48 L
530.91 609.23 L
F
530.91 614.48 M
216 614.48 L
S
180 628.983276 360 9 CR
1 G
180 628.983276 360 9 NF
0 G
3 FF
(*/) 198.0 636.81 T
0.6667 G
225.09 633.48 M
225.09 628.23 L
216 633.48 L
225.09 638.73 L
F
540 633.48 M
225.09 633.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check of) 252.0 626.65 T
(fset and length ar) 288.13 626.65 T
(guments.) 357.1 626.65 T
3 FF
([246]) 185.34 647.65 T
3 FF
(if \() 252.0 647.65 T
4 FF
(of) 263.94 647.65 T
(fset) 271.54 647.65 T
3 FF
( > 0 || ) 285.43 647.65 T
4 FF
(of) 310.07 647.65 T
(fset) 317.67 647.65 T
3 FF
( + ) 331.56 647.65 T
4 FF
(length) 342.2 647.65 T
3 FF
( > vm_page_size\)) 367.2 647.65 T
3 FF
([247]) 185.34 659.65 T
3 FF
({) 252.0 659.65 T
180 663.983276 360 9 CR
1 G
180 663.983276 360 9 NF
0 G
3 FF
(/*) 199.224 671.814 T
0.6667 G
530.91 668.48 M
530.91 673.73 L
540 668.48 L
530.91 663.23 L
F
530.91 668.48 M
216 668.48 L
S
0 0 612 792 CR
0 G
3 FF
288 680.649902 M 1.674911 0 32 (Accessing this re) widthshow
359.519897 680.649902 M 1.674911 0 32 (gion of the object is an error) widthshow
482.329712 680.649902 M 1.674911 0 32 (. NO) widthshow
503.04483 680.649902 M 1.674911 0 32 (TE: This) widthshow
288 690.649841 M 1.491089 0 32 (code assumes that there will not be multi-page requests that) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 119 119
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (115 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 115.666626 M 0.784332 0 32 (include both v) widthshow
238.538803 115.666626 M 0.784332 0 32 (alid and in) widthshow
281.927673 115.666626 M 0.784332 0 32 (v) widthshow
286.677826 115.666626 M 0.784332 0 32 (alid re) widthshow
312.582245 115.666626 M 0.784332 0 32 (gions. Current k) widthshow
378.770966 115.666626 M 0.784332 0 32 (ernels do not) widthshow
180 125.666565 M 0.614502 0 32 (mak) widthshow
197.120056 125.666565 M 0.614502 0 32 (e such requests. A request lik) widthshow
317.292633 125.666565 M 0.614502 0 32 (e that w) widthshow
350.081696 125.666565 M 0.614502 0 32 (ould be split into its) widthshow
72 137.999863 360 9 CR
1 G
72 137.999863 360 9 NF
0 G
3 FF
(*/) 90.0 145.826 T
3 SL
0 SC
0.6667 G
117.09 142.5 M
117.09 137.25 L
108 142.5 L
117.09 147.75 L
F
432 142.5 M
117.09 142.5 L
S
0 0 612 792 CR
0 G
3 FF
(components here.) 180.0 135.667 T
3 FF
([248]) 77.34 156.667 T
3 FF
(printf \(\322data_error\\n\323\);) 180.0 156.667 T
3 FF
([249]) 77.34 168.667 T
3 FF
(\(v) 180.0 168.667 T
(oid\) ) 188.13 168.667 T
1 FF
(memory_object_data_err) 206.74 168.667 T
(or) 315.41 168.667 T
3 FF
( \() 324.85 168.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(contr) 330.68 168.667 T
(ol) 351.34 168.667 T
3 FF
(, ) 359.12 168.667 T
4 FF
(of) 364.12 168.667 T
(fset) 371.721 168.667 T
3 FF
(, ) 385.611 168.667 T
4 FF
(length) 390.611 168.667 T
3 FF
(, ) 415.611 168.667 T
(NETMEM_B) 234.0 178.666 T
(AD_OFFSET\);) 288.65 178.666 T
3 FF
([250]) 77.34 190.666 T
3 FF
(return \(KERN_F) 180.0 190.666 T
(AILURE\);) 246.75 190.666 T
3 FF
([251]) 77.34 202.666 T
3 FF
(}) 144.0 202.666 T
72 206.999786 360 9 CR
1 G
72 206.999786 360 9 NF
0 G
3 FF
(/*) 91.224 214.831 T
0.6667 G
422.91 211.5 M
422.91 216.75 L
432 211.5 L
422.91 206.25 L
F
422.91 211.5 M
108 211.5 L
S
72 225.999771 360 9 CR
1 G
72 225.999771 360 9 NF
0 G
3 FF
(*/) 90.0 233.826 T
0.6667 G
117.09 230.5 M
117.09 225.25 L
108 230.5 L
117.09 235.75 L
F
432 230.5 M
117.09 230.5 L
S
0 0 612 792 CR
0 G
3 FF
(No) 144.0 223.666 T
(w do something about it.) 155.97 223.666 T
3 FF
([252]) 77.34 244.666 T
3 FF
(switch \() 144.0 244.666 T
4 FF
(my_obj) 175.94 244.666 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 205.38 244.666 T
4 FF
(state) 215.25 244.666 T
3 FF
(\)) 234.14 244.666 T
3 FF
([253]) 77.34 256.666 T
3 FF
({) 144.0 256.666 T
3 FF
([254]) 77.34 268.666 T
3 FF
(case NETMEM_OBJ_NONE:) 144.0 268.666 T
72 272.999725 360 9 CR
1 G
72 272.999725 360 9 NF
0 G
3 FF
(/*) 91.224 280.831 T
0.6667 G
422.91 277.5 M
422.91 282.75 L
432 277.5 L
422.91 272.25 L
F
422.91 277.5 M
108 277.5 L
S
0 0 612 792 CR
0 G
3 FF
180 289.666382 M 5.232468 0 32 (Need to initialize. Initialize k) widthshow
317.759949 289.666382 M 5.232468 0 32 (ernel to zeros with data) widthshow
72 301.999695 360 9 CR
1 G
72 301.999695 360 9 NF
0 G
3 FF
(*/) 90.0 309.826 T
0.6667 G
117.09 306.5 M
117.09 301.25 L
108 306.5 L
117.09 311.75 L
F
432 306.5 M
117.09 306.5 L
S
0 0 612 792 CR
0 G
3 FF
(una) 180.0 299.666 T
(v) 194.24 299.666 T
(ailable. K) 198.99 299.666 T
(ernel gets write access.) 237.62 299.666 T
([255]) 77.34 320.666 T
3 FF
(\(v) 180.0 320.666 T
(oid\) ) 188.13 320.666 T
1 FF
(vm_allocate) 206.74 320.666 T
3 FF
( \() 257.84 320.666 T
1 FF
(mach_task_self) 263.67 320.666 T
3 FF
( \(\), &) 329.22 320.666 T
4 FF
(my_obj) 351.16 320.666 T
5 FF
<ae> 380.6 320.666 T
4 FF
(data) 390.47 320.666 T
3 FF
(, ) 408.25 320.666 T
(vm_page_size, TR) 234.0 330.666 T
(UE\);) 308.59 330.666 T
3 FF
([256]) 77.34 342.666 T
3 FF
(printf \(\322data_una) 180.0 342.666 T
(v) 248.39 342.666 T
(ailable\\n\323\);) 253.14 342.666 T
3 FF
([257]) 77.34 354.666 T
3 FF
(\(v) 180.0 354.666 T
(oid\) ) 188.13 354.666 T
1 FF
(memory_object_data_una) 206.74 354.666 T
(v) 318.14 354.666 T
(ailable) 323.04 354.666 T
3 FF
( \() 351.38 354.666 T
4 FF
(contr) 357.21 354.666 T
(ol) 377.871 354.666 T
3 FF
(, ) 385.651 354.666 T
4 FF
(of) 390.651 354.666 T
(fset) 398.251 354.666 T
3 FF
(, ) 412.141 354.666 T
4 FF
(length) 234.0 364.666 T
3 FF
(\);) 259.0 364.666 T
([258]) 77.34 376.666 T
4 FF
(my_obj) 180.0 376.666 T
5 FF
<ae> 209.44 376.666 T
4 FF
(state) 219.31 376.666 T
3 FF
( = NETMEM_OBJ_KERNEL_WRITE;) 238.2 376.666 T
3 FF
([259]) 77.34 388.666 T
3 FF
(break;) 180.0 388.666 T
3 FF
([260]) 77.34 400.666 T
3 FF
(case NETMEM_OBJ_READ:) 144.0 400.666 T
3 FF
([261]) 77.34 412.666 T
3 FF
(case NETMEM_OBJ_SER) 144.0 412.666 T
(VER_WRITE:) 252.36 412.666 T
3 FF
([262]) 77.34 424.666 T
3 FF
(case NETMEM_OBJ_KERNEL_WRITE:) 144.0 424.666 T
72 428.999542 360 9 CR
1 G
72 428.999542 360 9 NF
0 G
3 FF
(/*) 91.224 436.831 T
0.6667 G
422.91 433.5 M
422.91 438.75 L
432 433.5 L
422.91 428.25 L
F
422.91 433.5 M
108 433.5 L
S
0 0 612 792 CR
0 G
3 FF
180 445.666168 M 0.875351 0 32 (K) widthshow
186.970139 445.666168 M 0.875351 0 32 (ernel does not ha) widthshow
257.43631 445.666168 M 0.875351 0 32 (v) widthshow
262.286377 445.666168 M 0.875351 0 32 (e a cop) widthshow
292.257141 445.666168 M 0.875351 0 32 (y) widthshow
296.607513 445.666168 M 0.875351 0 32 (. Gi) widthshow
312.233002 445.666168 M 0.875351 0 32 (v) widthshow
317.083069 445.666168 M 0.875351 0 32 (e it one. If write permission) widthshow
72 457.999451 360 9 CR
1 G
72 457.999451 360 9 NF
0 G
3 FF
(*/) 90.0 465.826 T
0.6667 G
117.09 462.5 M
117.09 457.25 L
108 462.5 L
117.09 467.75 L
F
432 462.5 M
117.09 462.5 L
S
0 0 612 792 CR
0 G
3 FF
(w) 180.0 455.666 T
(asn\325) 187.12 455.666 T
(t requested, don\325) 203.6 455.666 T
(t grant it.) 270.35 455.666 T
3 FF
([263]) 77.34 476.666 T
3 FF
(if \() 180.0 476.666 T
4 FF
(access) 191.94 476.666 T
3 FF
( & VM_PR) 218.04 476.666 T
(O) 263.76 476.666 T
(T_WRITE\)) 270.58 476.666 T
3 FF
([264]) 77.34 488.666 T
3 FF
({) 180.0 488.666 T
([265]) 77.34 500.666 T
4 FF
(loc) 216.0 500.666 T
(k_value) 228.02 500.666 T
3 FF
( = VM_PR) 259.12 500.666 T
(O) 302.7 500.666 T
(T_NONE;) 309.521 500.666 T
([266]) 77.34 512.666 T
4 FF
(my_obj) 216.0 512.666 T
5 FF
<ae> 245.44 512.666 T
4 FF
(state) 255.31 512.666 T
3 FF
( = ) 274.2 512.666 T
(NETMEM_OBJ_KERNEL_WRITE;) 270.0 522.666 T
3 FF
([267]) 77.34 534.666 T
3 FF
(}) 180.0 534.666 T
3 FF
([268]) 77.34 546.666 T
3 FF
(else) 180.0 546.666 T
3 FF
([269]) 77.34 558.666 T
3 FF
({) 180.0 558.666 T
([270]) 77.34 570.666 T
4 FF
(loc) 216.0 570.666 T
(k_value) 228.02 570.666 T
3 FF
( = VM_PR) 259.12 570.666 T
(O) 302.7 570.666 T
(T_WRITE;) 309.521 570.666 T
([271]) 77.34 582.666 T
4 FF
(my_obj) 216.0 582.666 T
5 FF
<ae> 245.44 582.666 T
4 FF
(state) 255.31 582.666 T
3 FF
( = NETMEM_OBJ_READ;) 274.2 582.666 T
3 FF
([272]) 77.34 594.666 T
3 FF
(}) 180.0 594.666 T
3 FF
([273]) 77.34 606.666 T
3 FF
(printf \(\322data_supply: lock %d\\n\323, ) 180.0 606.666 T
4 FF
(loc) 316.37 606.666 T
(k_value) 328.39 606.666 T
3 FF
(\);) 359.49 606.666 T
3 FF
([274]) 77.34 618.666 T
3 FF
(\(v) 180.0 618.666 T
(oid\) ) 188.13 618.666 T
1 FF
(memory_object_data_supply) 206.74 618.666 T
3 FF
( \() 330.62 618.666 T
4 FF
(contr) 336.45 618.666 T
(ol) 357.11 618.666 T
3 FF
(, ) 364.89 618.666 T
4 FF
(of) 369.89 618.666 T
(fset) 377.49 618.666 T
3 FF
(, ) 391.38 618.666 T
4 FF
(my_obj) 234.0 628.666 T
5 FF
<ae> 263.44 628.666 T
4 FF
(data) 273.31 628.666 T
3 FF
(, ) 291.09 628.666 T
4 FF
(length) 296.09 628.666 T
3 FF
(, F) 321.09 628.666 T
(ALSE, ) 330.91 628.666 T
4 FF
(loc) 360.91 628.666 T
(k_value) 372.931 628.666 T
3 FF
(, ) 404.031 628.666 T
(F) 234.0 638.666 T
(ALSE, MA) 238.82 638.666 T
(CH_POR) 284.531 638.666 T
(T_NULL\);) 322.271 638.666 T
3 FF
([275]) 77.34 650.666 T
3 FF
(break;) 180.0 650.666 T
3 FF
([276]) 77.34 662.666 T
3 FF
(case NETMEM_OBJ_CLEANING:) 144.0 662.666 T
3 FF
([277]) 77.34 674.666 T
3 FF
(case NETMEM_OBJ_FLUSHING:) 144.0 674.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 120 120
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(116 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
180 124.983994 360 9 CR
1 G
180 124.983994 360 9 NF
0 G
3 FF
(*/) 198.0 132.81 T
0.6667 G
225.09 129.48 M
225.09 124.23 L
216 129.48 L
225.09 134.73 L
F
540 129.48 M
225.09 129.48 L
S
0 0 612 792 CR
0 G
3 FF
(This will be handled when the cleaning or \337ushing completes.) 288.0 122.651 T
3 FF
([278]) 185.34 143.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(my_obj) 288.0 143.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 317.44 143.651 T
4 FF
(pending_k) 327.31 143.651 T
(ernel_access) 368.87 143.651 T
3 FF
( |= ) 420.52 143.651 T
4 FF
(access) 433.16 143.651 T
3 FF
(;) 459.26 143.651 T
3 FF
([279]) 185.34 155.651 T
4 FF
(my_obj) 288.0 155.651 T
5 FF
<ae> 317.44 155.651 T
4 FF
(pending_k) 327.31 155.651 T
(ernel_type) 368.87 155.651 T
3 FF
( = PENDING_TYPE_D) 411.08 155.651 T
(A) 507.42 155.651 T
(T) 513.531 155.651 T
(A;) 518.711 155.651 T
3 FF
([280]) 185.34 167.651 T
3 FF
(break;) 288.0 167.651 T
3 FF
([281]) 185.34 179.651 T
3 FF
(def) 252.0 179.651 T
(ault:) 264.67 179.651 T
3 FF
([282]) 185.34 191.651 T
3 FF
(printf \(\322Bad state %d\\n\323, ) 288.0 191.651 T
4 FF
(my_obj) 390.48 191.651 T
5 FF
<ae> 419.92 191.651 T
4 FF
(state) 429.79 191.651 T
3 FF
(\);) 448.68 191.651 T
3 FF
([283]) 185.34 203.651 T
3 FF
(break;) 288.0 203.651 T
3 FF
([284]) 185.34 215.651 T
3 FF
(}) 252.0 215.651 T
180 219.983887 360 9 CR
1 G
180 219.983887 360 9 NF
0 G
3 FF
(/*) 199.224 227.815 T
0.6667 G
530.91 224.48 M
530.91 229.73 L
540 224.48 L
530.91 219.23 L
F
530.91 224.48 M
216 224.48 L
S
180 238.983871 360 9 CR
1 G
180 238.983871 360 9 NF
0 G
3 FF
(*/) 198.0 246.81 T
0.6667 G
225.09 243.48 M
225.09 238.23 L
216 243.48 L
225.09 248.73 L
F
540 243.48 M
225.09 243.48 L
S
0 0 612 792 CR
0 G
3 FF
(Get rid of send right on control port.) 252.0 236.651 T
3 FF
([285]) 185.34 257.651 T
0 FF
(netmem_contr) 252.0 257.651 T
(ol_cleanup) 314.02 257.651 T
3 FF
( \() 360.14 257.651 T
4 FF
(my_obj) 365.97 257.651 T
3 FF
(\);) 395.41 257.651 T
3 FF
([286]) 185.34 269.651 T
3 FF
(return \(KERN_SUCCESS\);) 252.0 269.651 T
3 FF
([287]) 185.34 281.65 T
3 FF
(}) 216.0 281.65 T
180 303.650482 M 0.84903 0 32 (F) widthshow
185.41008 303.650482 M 0.84903 0 32 (or ) widthshow
0 FF
197.089111 303.650482 M 0.84903 0 32 (memory_object_data_unlock) widthshow
3 FF
321.519104 303.650482 M 0.84903 0 32 (, it follo) widthshow
354.917297 303.650482 M 0.84903 0 32 (ws that the k) widthshow
408.194458 303.650482 M 0.84903 0 32 (ernel holds the page, b) widthshow
501.650696 303.650482 M 0.84903 0 32 (ut wishes) widthshow
180 315.650452 M 0.691147 0 32 (more access. If not in the middle of a lock request sequence, we can grant it. Note \(line) widthshow
180 327.650452 M 0.43808 0 32 ([300]\) that no reply port is speci\336ed for the lock request that grants the access. Since the) widthshow
180 339.650391 M 1.251984 0 32 (page must be vie) widthshow
250.996094 339.650391 M 1.251984 0 32 (wed as entering the NETMEM_OBJ_KERNEL_WRITE state as soon) widthshow
(as we send this request, there is no sense w) 180.0 351.65 T
(aiting for a reply) 352.09 351.65 T
(.) 418.37 351.65 T
180 361.983643 360 9 CR
1 G
180 361.983643 360 9 NF
0 G
3 FF
(/*) 199.224 369.815 T
0.6667 G
530.91 366.48 M
530.91 371.73 L
540 366.48 L
530.91 361.23 L
F
530.91 366.48 M
216 366.48 L
S
180 380.983643 360 9 CR
1 G
180 380.983643 360 9 NF
0 G
3 FF
(*/) 198.0 388.81 T
0.6667 G
225.09 385.48 M
225.09 380.23 L
216 385.48 L
225.09 390.73 L
F
540 385.48 M
225.09 385.48 L
S
0 0 612 792 CR
0 G
3 FF
(Unlock request. The k) 216.0 378.65 T
(ernel has a read only page and w) 304.77 378.65 T
(ants to write.) 435.46 378.65 T
3 FF
([288]) 185.34 399.65 T
3 FF
(k) 216.0 399.65 T
(ern_return_t ) 220.9 399.65 T
0 FF
(memory_object_data_unlock) 272.83 399.65 T
3 FF
( \(abs_mem_obj_port_t ) 397.26 399.65 T
4 FF
(object) 490.59 399.65 T
3 FF
(, ) 515.03 399.65 T
(mem_cache_control_port_t ) 270.0 409.65 T
4 FF
(contr) 382.48 409.65 T
(ol) 403.14 409.65 T
3 FF
(, vm_of) 410.92 409.65 T
(fset_t ) 441.78 409.65 T
4 FF
(of) 466.5 409.65 T
(fset) 474.1 409.65 T
3 FF
(, vm_size_t ) 487.99 409.65 T
4 FF
(length) 270.0 419.65 T
3 FF
(, vm_prot_t ) 295.0 419.65 T
4 FF
(access) 344.17 419.65 T
3 FF
(\)) 370.27 419.65 T
3 FF
([289]) 185.34 431.65 T
3 FF
({) 216.0 431.65 T
3 FF
([290]) 185.34 443.65 T
4 FF
(netmem_obj_t) 252.0 443.65 T
(my_obj) 396.0 443.65 T
3 FF
(;) 425.44 443.65 T
3 FF
([291]) 185.34 455.65 T
3 FF
(vm_prot_t) 252.0 455.65 T
4 FF
(loc) 396.0 455.65 T
(k_value) 408.02 455.65 T
3 FF
(;) 439.12 455.65 T
3 FF
([292]) 185.34 467.65 T
3 FF
(printf \(\322data_unlock %d\\n\323, ) 252.0 467.65 T
4 FF
(access) 366.42 467.65 T
3 FF
(\);) 392.52 467.65 T
180 471.983521 360 9 CR
1 G
180 471.983521 360 9 NF
0 G
3 FF
(/*) 199.224 479.815 T
0.6667 G
530.91 476.48 M
530.91 481.73 L
540 476.48 L
530.91 471.23 L
F
530.91 476.48 M
216 476.48 L
S
180 490.983521 360 9 CR
1 G
180 490.983521 360 9 NF
0 G
3 FF
(*/) 198.0 498.81 T
0.6667 G
225.09 495.48 M
225.09 490.23 L
216 495.48 L
225.09 500.73 L
F
540 495.48 M
225.09 495.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check that it\325) 252.0 488.65 T
(s our object.) 305.89 488.65 T
3 FF
([293]) 185.34 509.65 T
3 FF
(if \(\() 252.0 509.65 T
4 FF
(my_obj) 267.27 509.65 T
3 FF
( = ) 296.71 509.65 T
0 FF
(netmem_lookup) 307.35 509.65 T
3 FF
( \() 376.24 509.65 T
4 FF
(object) 382.07 509.65 T
3 FF
(\)\) == NETMEM_OBJ_NULL\)) 406.51 509.65 T
3 FF
([294]) 185.34 521.65 T
3 FF
(return \(KERN_F) 288.0 521.65 T
(AILURE\);) 354.75 521.65 T
180 525.983521 360 9 CR
1 G
180 525.983521 360 9 NF
0 G
3 FF
(/*) 199.224 533.815 T
0.6667 G
530.91 530.48 M
530.91 535.73 L
540 530.48 L
530.91 525.23 L
F
530.91 530.48 M
216 530.48 L
S
180 544.983459 360 9 CR
1 G
180 544.983459 360 9 NF
0 G
3 FF
(*/) 198.0 552.81 T
0.6667 G
225.09 549.48 M
225.09 544.23 L
216 549.48 L
225.09 554.73 L
F
540 549.48 M
225.09 549.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check of) 252.0 542.65 T
(fset and length ar) 288.13 542.65 T
(guments.) 357.1 542.65 T
3 FF
([295]) 185.34 563.65 T
3 FF
(if \() 252.0 563.65 T
4 FF
(of) 263.94 563.65 T
(fset) 271.54 563.65 T
3 FF
( > 0 || ) 285.43 563.65 T
4 FF
(of) 310.07 563.65 T
(fset) 317.67 563.65 T
3 FF
( + ) 331.56 563.65 T
4 FF
(length) 342.2 563.65 T
3 FF
( > vm_page_size\)) 367.2 563.65 T
3 FF
([296]) 185.34 575.65 T
3 FF
(return \(KERN_F) 288.0 575.65 T
(AILURE\);) 354.75 575.65 T
180 579.983459 360 9 CR
1 G
180 579.983459 360 9 NF
0 G
3 FF
(/*) 199.224 587.815 T
0.6667 G
530.91 584.48 M
530.91 589.73 L
540 584.48 L
530.91 579.23 L
F
530.91 584.48 M
216 584.48 L
S
180 598.983398 360 9 CR
1 G
180 598.983398 360 9 NF
0 G
3 FF
(*/) 198.0 606.81 T
0.6667 G
225.09 603.48 M
225.09 598.23 L
216 603.48 L
225.09 608.73 L
F
540 603.48 M
225.09 603.48 L
S
0 0 612 792 CR
0 G
3 FF
(Can handle in read state, otherwise mark as pending.) 252.0 596.65 T
3 FF
([297]) 185.34 617.65 T
3 FF
(if \() 252.0 617.65 T
4 FF
(my_obj) 263.94 617.65 T
5 FF
<ae> 293.38 617.65 T
4 FF
(state) 303.25 617.65 T
3 FF
( == NETMEM_OBJ_READ\)) 322.14 617.65 T
3 FF
([298]) 185.34 629.65 T
3 FF
({) 252.0 629.65 T
180 633.983398 360 9 CR
1 G
180 633.983398 360 9 NF
0 G
3 FF
(/*) 199.224 641.815 T
0.6667 G
530.91 638.48 M
530.91 643.73 L
540 638.48 L
530.91 633.23 L
F
530.91 638.48 M
216 638.48 L
S
180 652.983398 360 9 CR
1 G
180 652.983398 360 9 NF
0 G
3 FF
(*/) 198.0 660.81 T
0.6667 G
225.09 657.48 M
225.09 652.23 L
216 657.48 L
225.09 662.73 L
F
540 657.48 M
225.09 657.48 L
S
0 0 612 792 CR
0 G
3 FF
(Drop the read page lock.) 288.0 650.65 T
3 FF
([299]) 185.34 671.65 T
3 FF
(printf \(\322lock_request: lock %d\\n\323, VM_PR) 288.0 671.65 T
(O) 460.08 671.65 T
(T_NONE\);) 466.9 671.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 121 121
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (117 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([300]) 77.34 115.667 T
3 FF
(\(v) 180.0 115.667 T
(oid\) ) 188.13 115.667 T
1 FF
(memory_object_lock_r) 206.74 115.667 T
(equest) 305.42 115.667 T
3 FF
( \() 332.64 115.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(contr) 338.47 115.667 T
(ol) 359.13 115.667 T
3 FF
(, ) 366.91 115.667 T
4 FF
(of) 371.91 115.667 T
(fset) 379.511 115.667 T
3 FF
(, ) 393.401 115.667 T
4 FF
(length) 398.401 115.667 T
3 FF
(, ) 423.401 115.667 T
(F) 234.0 125.667 T
(ALSE, F) 238.82 125.667 T
(ALSE, F) 273.641 125.667 T
(ALSE, VM_PR) 308.461 125.667 T
(O) 371.401 125.667 T
(T_NONE, ) 378.222 125.667 T
(MA) 234.0 135.667 T
(CH_POR) 249.71 135.667 T
(T_NULL\);) 287.451 135.667 T
3 FF
([301]) 77.34 147.667 T
4 FF
(my_obj) 180.0 147.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 209.44 147.667 T
4 FF
(state) 219.31 147.667 T
3 FF
( = NETMEM_OBJ_KERNEL_WRITE;) 238.2 147.667 T
3 FF
([302]) 77.34 159.667 T
3 FF
(}) 144.0 159.667 T
3 FF
([303]) 77.34 171.667 T
3 FF
(else if \() 144.0 171.667 T
4 FF
(my_obj) 173.99 171.667 T
5 FF
<ae> 203.43 171.667 T
4 FF
(state) 213.3 171.667 T
3 FF
( == NETMEM_OBJ_CLEANING || ) 232.19 171.667 T
4 FF
(my_obj) 198.0 181.667 T
5 FF
<ae> 227.44 181.667 T
4 FF
(state) 237.31 181.667 T
3 FF
( == NETMEM_OBJ_FLUSHING\)) 256.2 181.667 T
3 FF
([304]) 77.34 193.667 T
3 FF
({) 144.0 193.667 T
3 FF
([305]) 77.34 205.667 T
4 FF
(my_obj) 180.0 205.667 T
5 FF
<ae> 209.44 205.667 T
4 FF
(pending_k) 219.31 205.667 T
(ernel_access) 260.87 205.667 T
3 FF
( |= ) 312.52 205.667 T
4 FF
(access) 325.16 205.667 T
3 FF
(;) 351.26 205.667 T
3 FF
([306]) 77.34 217.667 T
4 FF
(my_obj) 180.0 217.667 T
5 FF
<ae> 209.44 217.667 T
4 FF
(pending_k) 219.31 217.667 T
(ernel_type) 260.87 217.667 T
3 FF
( = PENDING_TYPE_LOCK;) 303.08 217.667 T
3 FF
([307]) 77.34 229.667 T
3 FF
(}) 144.0 229.667 T
3 FF
([308]) 77.34 241.666 T
3 FF
(else) 144.0 241.666 T
3 FF
([309]) 77.34 253.666 T
3 FF
(printf \(\322Une) 180.0 253.666 T
(xpected state %d\\n\323, ) 229.0 253.666 T
4 FF
(my_obj) 313.98 253.666 T
5 FF
<ae> 343.42 253.666 T
4 FF
(state) 353.29 253.666 T
3 FF
(\);) 372.18 253.666 T
72 257.999817 360 9 CR
1 G
72 257.999817 360 9 NF
0 G
3 FF
(/*) 91.224 265.831 T
3 SL
0 SC
0.6667 G
422.91 262.5 M
422.91 267.75 L
432 262.5 L
422.91 257.25 L
F
422.91 262.5 M
108 262.5 L
S
72 276.999786 360 9 CR
1 G
72 276.999786 360 9 NF
0 G
3 FF
(*/) 90.0 284.826 T
0.6667 G
117.09 281.5 M
117.09 276.25 L
108 281.5 L
117.09 286.75 L
F
432 281.5 M
117.09 281.5 L
S
0 0 612 792 CR
0 G
3 FF
(Get rid of send right on control port.) 144.0 274.666 T
3 FF
([310]) 77.34 295.666 T
1 FF
(netmem_contr) 144.0 295.666 T
(ol_cleanup) 206.02 295.666 T
3 FF
( \() 252.14 295.666 T
4 FF
(my_obj) 257.97 295.666 T
3 FF
(\);) 287.41 295.666 T
3 FF
([311]) 77.34 307.666 T
3 FF
(return \(KERN_SUCCESS\);) 144.0 307.666 T
3 FF
([312]) 77.34 319.666 T
3 FF
(}) 108.0 319.666 T
1 FF
72 341.666382 M 2.00267 0 32 (memory_object_data_r) widthshow
171.790115 341.666382 M 2.00267 0 32 (etur) widthshow
189.410202 341.666382 M 2.00267 0 32 (n) widthshow
3 FF
194.9702 341.666382 M 2.00267 0 32 ( gi) widthshow
207.003006 341.666382 M 2.00267 0 32 (v) widthshow
211.853088 341.666382 M 2.00267 0 32 (es the manager a fresh cop) widthshow
328.116516 341.666382 M 2.00267 0 32 (y of the page. Since the) widthshow
72 353.666321 M 0.771973 0 32 (page w) widthshow
101.272034 353.666321 M 0.771973 0 32 (as virtually copied as part of the data message, the manager uses this page, free-) widthshow
72 365.666321 M 0.161545 0 32 (ing the old \(line [324]\). If the manager kno) widthshow
244.952515 365.666321 M 0.161545 0 32 (ws that it is not in the middle of a lock request) widthshow
72 377.66626 M 0.567276 0 32 (sequence, it follo) widthshow
141.484695 377.66626 M 0.567276 0 32 (ws that this page-out means that the k) widthshow
296.17569 377.66626 M 0.567276 0 32 (ernel is gi) widthshow
336.500366 377.66626 M 0.567276 0 32 (ving up its cop) widthshow
397.272278 377.66626 M 0.567276 0 32 (y; other-) widthshow
(wise the manager cannot be sure.) 72.0 389.666 T
72 399.999512 360 9 CR
1 G
72 399.999512 360 9 NF
0 G
3 FF
(/*) 91.224 407.831 T
0.6667 G
422.91 404.5 M
422.91 409.75 L
432 404.5 L
422.91 399.25 L
F
422.91 404.5 M
108 404.5 L
S
72 418.999512 360 9 CR
1 G
72 418.999512 360 9 NF
0 G
3 FF
(*/) 90.0 426.826 T
0.6667 G
117.09 423.5 M
117.09 418.25 L
108 423.5 L
117.09 428.75 L
F
432 423.5 M
117.09 423.5 L
S
0 0 612 792 CR
0 G
3 FF
(P) 108.0 416.666 T
(age-out) 113.41 416.666 T
3 FF
([313]) 77.34 437.666 T
3 FF
(k) 108.0 437.666 T
(ern_return_t ) 112.9 437.666 T
1 FF
(memory_object_data_r) 164.83 437.666 T
(etur) 264.62 437.666 T
(n) 282.24 437.666 T
3 FF
( \(abs_mem_obj_port_t ) 287.8 437.666 T
4 FF
(object) 381.13 437.666 T
3 FF
(, ) 405.57 437.666 T
(mem_cache_control_port_t ) 162.0 447.666 T
4 FF
(contr) 274.48 447.666 T
(ol) 295.14 447.666 T
3 FF
(, vm_of) 302.92 447.666 T
(fset_t ) 333.78 447.666 T
4 FF
(of) 358.5 447.666 T
(fset) 366.1 447.666 T
3 FF
(, pointer_t ) 379.99 447.666 T
4 FF
(data) 162.0 457.666 T
3 FF
(, vm_size_t ) 179.78 457.666 T
4 FF
(count) 228.39 457.666 T
3 FF
(, boolean_t ) 250.61 457.666 T
4 FF
(dirty) 297.55 457.666 T
3 FF
(, boolean_t ) 315.79 457.666 T
4 FF
(k) 362.73 457.666 T
(ernel_copy) 367.07 457.666 T
3 FF
(\)) 411.5 457.666 T
3 FF
([314]) 77.34 469.666 T
3 FF
({) 108.0 469.666 T
3 FF
([315]) 77.34 481.666 T
4 FF
(netmem_obj_t) 144.0 481.666 T
(my_obj) 288.0 481.666 T
3 FF
(;) 317.44 481.666 T
3 FF
([316]) 77.34 493.666 T
3 FF
(printf \(\322data_return\\n\323\);) 144.0 493.666 T
72 497.99942 360 9 CR
1 G
72 497.99942 360 9 NF
0 G
3 FF
(/*) 91.224 505.831 T
0.6667 G
422.91 502.5 M
422.91 507.75 L
432 502.5 L
422.91 497.25 L
F
422.91 502.5 M
108 502.5 L
S
72 516.99939 360 9 CR
1 G
72 516.99939 360 9 NF
0 G
3 FF
(*/) 90.0 524.826 T
0.6667 G
117.09 521.5 M
117.09 516.25 L
108 521.5 L
117.09 526.75 L
F
432 521.5 M
117.09 521.5 L
S
0 0 612 792 CR
0 G
3 FF
(Check that it\325) 144.0 514.666 T
(s our object.) 197.89 514.666 T
3 FF
([317]) 77.34 535.666 T
3 FF
(if \(\() 144.0 535.666 T
4 FF
(my_obj) 159.27 535.666 T
3 FF
( = ) 188.71 535.666 T
1 FF
(netmem_lookup) 199.35 535.666 T
3 FF
( \() 268.24 535.666 T
4 FF
(object) 274.07 535.666 T
3 FF
(\)\) == NETMEM_OBJ_NULL\)) 298.51 535.666 T
3 FF
([318]) 77.34 547.666 T
3 FF
(return \(KERN_F) 180.0 547.666 T
(AILURE\);) 246.75 547.666 T
72 551.99939 360 9 CR
1 G
72 551.99939 360 9 NF
0 G
3 FF
(/*) 91.224 559.831 T
0.6667 G
422.91 556.5 M
422.91 561.75 L
432 556.5 L
422.91 551.25 L
F
422.91 556.5 M
108 556.5 L
S
0 0 612 792 CR
0 G
3 FF
144 568.666016 M 8.69278 0 32 (Check of) widthshow
188.822922 568.666016 M 8.69278 0 32 (fset and length ar) widthshow
283.871368 568.666016 M 8.69278 0 32 (guments. F) widthshow
336.864227 568.666016 M 8.69278 0 32 (ailure return causes) widthshow
72 580.999329 360 9 CR
1 G
72 580.999329 360 9 NF
0 G
3 FF
(*/) 90.0 588.826 T
0.6667 G
117.09 585.5 M
117.09 580.25 L
108 585.5 L
117.09 590.75 L
F
432 585.5 M
117.09 585.5 L
S
0 0 612 792 CR
0 G
1 FF
(mach_msg_ser) 144.0 578.666 T
(v) 207.22 578.666 T
(er) 212.12 578.666 T
3 FF
( to de-allocate data for us.) 221.0 578.666 T
3 FF
([319]) 77.34 599.666 T
3 FF
(if \() 144.0 599.666 T
4 FF
(of) 155.94 599.666 T
(fset) 163.54 599.666 T
3 FF
( > 0 || ) 177.43 599.666 T
4 FF
(of) 202.07 599.666 T
(fset) 209.67 599.666 T
3 FF
( + ) 223.56 599.666 T
4 FF
(count) 234.2 599.666 T
3 FF
( > vm_page_size\)) 256.42 599.666 T
3 FF
([320]) 77.34 611.666 T
3 FF
({) 144.0 611.666 T
3 FF
([321]) 77.34 623.666 T
3 FF
(printf \(\322wrong data\\n\323\);) 180.0 623.666 T
3 FF
([322]) 77.34 635.666 T
3 FF
(return \(KERN_F) 180.0 635.666 T
(AILURE\);) 246.75 635.666 T
3 FF
([323]) 77.34 647.666 T
3 FF
(}) 144.0 647.666 T
72 651.999268 360 9 CR
1 G
72 651.999268 360 9 NF
0 G
3 FF
(/*) 91.224 659.83 T
0.6667 G
422.91 656.5 M
422.91 661.75 L
432 656.5 L
422.91 651.25 L
F
422.91 656.5 M
108 656.5 L
S
72 670.999268 360 9 CR
1 G
72 670.999268 360 9 NF
0 G
3 FF
(*/) 90.0 678.826 T
0.6667 G
117.09 675.5 M
117.09 670.25 L
108 675.5 L
117.09 680.75 L
F
432 675.5 M
117.09 675.5 L
S
0 0 612 792 CR
0 G
3 FF
(Handle the write. Sw) 144.0 668.666 T
(ap the data for our old cop) 228.33 668.666 T
(y) 333.76 668.666 T
(.) 338.11 668.666 T
3 FF
([324]) 77.34 689.666 T
3 FF
(\(v) 144.0 689.666 T
(oid\) ) 152.13 689.666 T
1 FF
(vm_deallocate) 170.74 689.666 T
3 FF
( \() 231.84 689.666 T
1 FF
(mach_task_self) 237.67 689.666 T
3 FF
( \(\), ) 303.22 689.666 T
4 FF
(my_obj) 317.38 689.666 T
5 FF
<ae> 346.82 689.666 T
4 FF
(data) 356.69 689.666 T
3 FF
(, ) 374.47 689.666 T
(vm_page_size\);) 198.0 699.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 122 122
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(118 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([325]) 185.34 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(my_obj) 252.0 113.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 281.44 113.651 T
4 FF
(data) 291.31 113.651 T
3 FF
( = ) 309.09 113.651 T
4 FF
(data) 319.73 113.651 T
3 FF
(;) 337.51 113.651 T
180 117.983994 360 9 CR
1 G
180 117.983994 360 9 NF
0 G
3 FF
(/*) 199.224 125.815 T
3 SL
0.6667 G
530.91 122.48 M
530.91 127.73 L
540 122.48 L
530.91 117.23 L
F
530.91 122.48 M
216 122.48 L
S
0 0 612 792 CR
0 G
3 FF
252 134.65062 M 0.404236 0 32 (Either in k) widthshow
294.928528 134.65062 M 0.404236 0 32 (ernel write state, or middle of a clean or \337ush. In latter case,) widthshow
180 146.983917 360 9 CR
1 G
180 146.983917 360 9 NF
0 G
3 FF
(*/) 198.0 154.81 T
0.6667 G
225.09 151.48 M
225.09 146.23 L
216 151.48 L
225.09 156.73 L
F
540 151.48 M
225.09 151.48 L
S
0 0 612 792 CR
0 G
3 FF
(state changes when that operation completes.) 252.0 144.651 T
3 FF
([326]) 185.34 165.651 T
3 FF
(if \() 252.0 165.651 T
4 FF
(my_obj) 263.94 165.651 T
5 FF
<ae> 293.38 165.651 T
4 FF
(state) 303.25 165.651 T
3 FF
( == NETMEM_OBJ_KERNEL_WRITE\)) 322.14 165.651 T
3 FF
([327]) 185.34 177.651 T
4 FF
(my_obj) 288.0 177.651 T
5 FF
<ae> 317.44 177.651 T
4 FF
(state) 327.31 177.651 T
3 FF
( = NETMEM_OBJ_SER) 346.2 177.651 T
(VER_WRITE;) 445.49 177.651 T
3 FF
([328]) 185.34 189.651 T
3 FF
(else if \() 252.0 189.651 T
4 FF
(my_obj) 281.99 189.651 T
5 FF
<ae> 311.43 189.651 T
4 FF
(state) 321.3 189.651 T
3 FF
( != NETMEM_OBJ_CLEANING && ) 340.19 189.651 T
4 FF
(my_obj) 306.0 199.651 T
5 FF
<ae> 335.44 199.651 T
4 FF
(state) 345.31 199.651 T
3 FF
( != NETMEM_OBJ_FLUSHING\)) 364.2 199.651 T
3 FF
([329]) 185.34 211.651 T
3 FF
(printf \(\322Une) 288.0 211.651 T
(xpected state %d\\n\323, ) 337.0 211.651 T
4 FF
(my_obj) 421.98 211.651 T
5 FF
<ae> 451.42 211.651 T
4 FF
(state) 461.29 211.651 T
3 FF
(\);) 480.18 211.651 T
180 215.983841 360 9 CR
1 G
180 215.983841 360 9 NF
0 G
3 FF
(/*) 199.224 223.815 T
0.6667 G
530.91 220.48 M
530.91 225.73 L
540 220.48 L
530.91 215.23 L
F
530.91 220.48 M
216 220.48 L
S
180 234.983826 360 9 CR
1 G
180 234.983826 360 9 NF
0 G
3 FF
(*/) 198.0 242.81 T
0.6667 G
225.09 239.48 M
225.09 234.23 L
216 239.48 L
225.09 244.73 L
F
540 239.48 M
225.09 239.48 L
S
0 0 612 792 CR
0 G
3 FF
(Get rid of send right on control port.) 252.0 232.65 T
3 FF
([330]) 185.34 253.65 T
0 FF
(netmem_contr) 252.0 253.65 T
(ol_cleanup) 314.02 253.65 T
3 FF
( \() 360.14 253.65 T
4 FF
(my_obj) 365.97 253.65 T
3 FF
(\);) 395.41 253.65 T
3 FF
([331]) 185.34 265.65 T
3 FF
(return \(KERN_SUCCESS\);) 252.0 265.65 T
3 FF
([332]) 185.34 277.65 T
3 FF
(}) 216.0 277.65 T
180 299.650391 M 0.167465 0 32 (The ) widthshow
0 FF
198.217468 299.650391 M 0.167465 0 32 (memory_object_lock_completed) widthshow
3 FF
336.517487 299.650391 M 0.167465 0 32 ( routine e) widthshow
374.472504 299.650391 M 0.167465 0 32 (xists mostly to perform deferred process-) widthshow
180 311.65033 M 1.386215 0 32 (ing. If the lock request w) widthshow
286.811157 311.65033 M 1.386215 0 32 (as a clean operation, it follo) widthshow
404.582367 311.65033 M 1.386215 0 32 (ws that the k) widthshow
459.471069 311.65033 M 1.386215 0 32 (ernel no longer has) widthshow
180 323.650269 M 0.314285 0 32 (write access \(and all modi\336ed data has been recei) widthshow
379.984436 323.650269 M 0.314285 0 32 (v) widthshow
384.834534 323.650269 M 0.314285 0 32 (ed\); if the lock request w) widthshow
486.006042 323.650269 M 0.314285 0 32 (as a \337ush op-) widthshow
180 335.650269 M 0.768661 0 32 (eration, the k) widthshow
233.927383 335.650269 M 0.768661 0 32 (ernel no longer holds the page at all. The interesting thing about this latter) widthshow
180 347.650238 M 1.049301 0 32 (condition \(line [347]\) is that, if there were a pending k) widthshow
407.853088 347.650238 M 1.049301 0 32 (ernel request for more access to) widthshow
180 359.650208 M 0.116837 0 32 (the page, the k) widthshow
238.570572 359.650208 M 0.116837 0 32 (ernel no longer simply w) widthshow
338.927979 359.650208 M 0.116837 0 32 (ants more access, it w) widthshow
426.775391 359.650208 M 0.116837 0 32 (ants the page back. The k) widthshow
528.899658 359.650208 M 0.116837 0 32 (er-) widthshow
180 371.650146 M 0.46463 0 32 (nel will send a page request \(follo) widthshow
318.067932 371.650146 M 0.46463 0 32 (wing its \337ushing of the page\), so the manager discards) widthshow
180 383.650085 M 0.789948 0 32 (the access request. The lock completed routine uses ) widthshow
0 FF
395.439606 383.650085 M 0.789948 0 32 (pending_op_execute) widthshow
3 FF
482.109619 383.650085 M 0.789948 0 32 ( to e) widthshow
500.759583 383.650085 M 0.789948 0 32 (x) widthshow
505.60968 383.650085 M 0.789948 0 32 (ecute all) widthshow
180 395.650024 M 0.359344 0 32 (pending client requests it can gi) widthshow
308.476868 395.650024 M 0.359344 0 32 (v) widthshow
313.326965 395.650024 M 0.359344 0 32 (en the page state. If there is a pending write request and) widthshow
180 407.649963 M 0.316193 0 32 (the k) widthshow
199.936249 407.649963 M 0.316193 0 32 (ernel still holds a cop) widthshow
286.651062 407.649963 M 0.316193 0 32 (y) widthshow
291.001434 407.649963 M 0.316193 0 32 (, a ne) widthshow
312.763977 407.649963 M 0.316193 0 32 (w lock request sequence must be started. Once all pend-) widthshow
(ing requests are processed, an) 180.0 419.65 T
(y k) 298.98 419.65 T
(ernel data requests can be honored.) 311.38 419.65 T
180 429.983215 360 9 CR
1 G
180 429.983215 360 9 NF
0 G
3 FF
(/*) 199.224 437.814 T
0.6667 G
530.91 434.48 M
530.91 439.73 L
540 434.48 L
530.91 429.23 L
F
530.91 434.48 M
216 434.48 L
S
180 448.983185 360 9 CR
1 G
180 448.983185 360 9 NF
0 G
3 FF
(*/) 198.0 456.809 T
0.6667 G
225.09 453.48 M
225.09 448.23 L
216 453.48 L
225.09 458.73 L
F
540 453.48 M
225.09 453.48 L
S
0 0 612 792 CR
0 G
3 FF
(Completion of a clean or \337ush operation.) 216.0 446.65 T
3 FF
([333]) 185.34 467.65 T
3 FF
(k) 216.0 467.65 T
(ern_return_t ) 220.9 467.65 T
0 FF
(memory_object_lock_completed) 272.83 467.65 T
3 FF
( \(abs_mem_obj_port_t ) 411.13 467.65 T
4 FF
(object) 504.46 467.65 T
3 FF
(, ) 528.9 467.65 T
(mem_cache_control_port_t ) 270.0 477.65 T
4 FF
(contr) 382.48 477.65 T
(ol) 403.14 477.65 T
3 FF
(, vm_of) 410.92 477.65 T
(fset_t ) 441.78 477.65 T
4 FF
(of) 466.5 477.65 T
(fset) 474.1 477.65 T
3 FF
(, vm_size_t ) 487.99 477.65 T
4 FF
(length) 270.0 487.65 T
3 FF
(\)) 295.0 487.65 T
3 FF
([334]) 185.34 499.65 T
3 FF
({) 216.0 499.65 T
3 FF
([335]) 185.34 511.65 T
4 FF
(netmem_obj_t) 252.0 511.65 T
(my_obj) 396.0 511.65 T
3 FF
(;) 425.44 511.65 T
3 FF
([336]) 185.34 523.65 T
3 FF
(vm_prot_t) 252.0 523.65 T
4 FF
(loc) 396.0 523.65 T
(k_value) 408.02 523.65 T
3 FF
(;) 439.12 523.65 T
3 FF
([337]) 185.34 535.65 T
3 FF
(printf \(\322lock_completed\\n\323\);) 252.0 535.65 T
180 539.983093 360 9 CR
1 G
180 539.983093 360 9 NF
0 G
3 FF
(/*) 199.224 547.814 T
0.6667 G
530.91 544.48 M
530.91 549.73 L
540 544.48 L
530.91 539.23 L
F
530.91 544.48 M
216 544.48 L
S
180 558.983032 360 9 CR
1 G
180 558.983032 360 9 NF
0 G
3 FF
(*/) 198.0 566.809 T
0.6667 G
225.09 563.48 M
225.09 558.23 L
216 563.48 L
225.09 568.73 L
F
540 563.48 M
225.09 563.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check that it\325) 252.0 556.65 T
(s our object.) 305.89 556.65 T
3 FF
([338]) 185.34 577.65 T
3 FF
(if \(\() 252.0 577.65 T
4 FF
(my_obj) 267.27 577.65 T
3 FF
( = ) 296.71 577.65 T
0 FF
(netmem_lookup) 307.35 577.65 T
3 FF
( \() 376.24 577.65 T
4 FF
(object) 382.07 577.65 T
3 FF
(\)\) == NETMEM_OBJ_NULL\)) 406.51 577.65 T
3 FF
([339]) 185.34 589.65 T
3 FF
(return \(KERN_F) 288.0 589.65 T
(AILURE\);) 354.75 589.65 T
180 593.983032 360 9 CR
1 G
180 593.983032 360 9 NF
0 G
3 FF
(/*) 199.224 601.814 T
0.6667 G
530.91 598.48 M
530.91 603.73 L
540 598.48 L
530.91 593.23 L
F
530.91 598.48 M
216 598.48 L
S
180 612.983032 360 9 CR
1 G
180 612.983032 360 9 NF
0 G
3 FF
(*/) 198.0 620.809 T
0.6667 G
225.09 617.48 M
225.09 612.23 L
216 617.48 L
225.09 622.73 L
F
540 617.48 M
225.09 617.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check of) 252.0 610.65 T
(fset and length ar) 288.13 610.65 T
(guments.) 357.1 610.65 T
3 FF
([340]) 185.34 631.65 T
3 FF
(if \() 252.0 631.65 T
4 FF
(of) 263.94 631.65 T
(fset) 271.54 631.65 T
3 FF
( > 0 || ) 285.43 631.65 T
4 FF
(of) 310.07 631.65 T
(fset) 317.67 631.65 T
3 FF
( + ) 331.56 631.65 T
4 FF
(length) 342.2 631.65 T
3 FF
( > vm_page_size\)) 367.2 631.65 T
3 FF
([341]) 185.34 643.65 T
3 FF
(return \(KERN_F) 288.0 643.65 T
(AILURE\);) 354.75 643.65 T
180 647.982971 360 9 CR
1 G
180 647.982971 360 9 NF
0 G
3 FF
(/*) 199.224 655.814 T
0.6667 G
530.91 652.48 M
530.91 657.73 L
540 652.48 L
530.91 647.23 L
F
530.91 652.48 M
216 652.48 L
S
0 0 612 792 CR
0 G
3 FF
252 664.649597 M 0.294113 0 32 (Action depends on what state we were in, b) widthshow
428.28302 664.649597 M 0.294113 0 32 (ut cleaning and \337ushing are) widthshow
180 676.98291 360 9 CR
1 G
180 676.98291 360 9 NF
0 G
3 FF
(*/) 198.0 684.809 T
0.6667 G
225.09 681.48 M
225.09 676.23 L
216 681.48 L
225.09 686.73 L
F
540 681.48 M
225.09 681.48 L
S
0 0 612 792 CR
0 G
3 FF
(similar) 252.0 674.65 T
(.) 279.23 674.65 T
3 FF
([342]) 185.34 695.65 T
3 FF
(if \() 252.0 695.65 T
4 FF
(my_obj) 263.94 695.65 T
5 FF
<ae> 293.38 695.65 T
4 FF
(state) 303.25 695.65 T
3 FF
( == NETMEM_OBJ_CLEANING\)) 322.14 695.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 123 123
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (119 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 108 360 9 CR
72 108 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 91.224 115.831 T
3 SL
0 SC
0.6667 G
422.91 112.5 M
422.91 117.75 L
432 112.5 L
422.91 107.25 L
F
422.91 112.5 M
108 112.5 L
S
72 126.999985 360 9 CR
1 G
72 126.999985 360 9 NF
0 G
3 FF
(*/) 90.0 134.826 T
0.6667 G
117.09 131.5 M
117.09 126.25 L
108 131.5 L
117.09 136.75 L
F
432 131.5 M
117.09 131.5 L
S
0 0 612 792 CR
0 G
3 FF
(K) 180.0 124.667 T
(ernel may ha) 186.97 124.667 T
(v) 238.42 124.667 T
(e read only cop) 243.27 124.667 T
(y of page.) 304.54 124.667 T
3 FF
([343]) 77.34 145.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(my_obj) 180.0 145.667 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 209.44 145.667 T
4 FF
(state) 219.31 145.667 T
3 FF
( = NETMEM_OBJ_READ;) 238.2 145.667 T
3 FF
([344]) 77.34 157.667 T
3 FF
(else if \() 144.0 157.667 T
4 FF
(my_obj) 173.99 157.667 T
5 FF
<ae> 203.43 157.667 T
4 FF
(state) 213.3 157.667 T
3 FF
( == NETMEM_OBJ_FLUSHING\)) 232.19 157.667 T
3 FF
([345]) 77.34 169.667 T
3 FF
({) 144.0 169.667 T
72 173.999939 360 9 CR
1 G
72 173.999939 360 9 NF
0 G
3 FF
(/*) 91.224 181.831 T
0.6667 G
422.91 178.5 M
422.91 183.75 L
432 178.5 L
422.91 173.25 L
F
422.91 178.5 M
108 178.5 L
S
72 192.999924 360 9 CR
1 G
72 192.999924 360 9 NF
0 G
3 FF
(*/) 90.0 200.826 T
0.6667 G
117.09 197.5 M
117.09 192.25 L
108 197.5 L
117.09 202.75 L
F
432 197.5 M
117.09 197.5 L
S
0 0 612 792 CR
0 G
3 FF
(K) 180.0 190.667 T
(ernel no longer has page.) 186.97 190.667 T
3 FF
([346]) 77.34 211.667 T
4 FF
(my_obj) 180.0 211.667 T
5 FF
<ae> 209.44 211.667 T
4 FF
(state) 219.31 211.667 T
3 FF
( = NETMEM_OBJ_SER) 238.2 211.667 T
(VER_WRITE;) 337.49 211.667 T
3 FF
([347]) 77.34 223.667 T
3 FF
(if \() 180.0 223.667 T
4 FF
(my_obj) 191.94 223.667 T
5 FF
<ae> 221.38 223.667 T
4 FF
(pending_k) 231.25 223.667 T
(ernel_type) 272.81 223.667 T
3 FF
( = ) 315.02 223.667 T
(PENDING_TYPE_LOCK\)) 234.0 233.667 T
([348]) 77.34 245.667 T
4 FF
(my_obj) 216.0 245.667 T
5 FF
<ae> 245.44 245.667 T
4 FF
(pending_k) 255.31 245.667 T
(ernel_access ) 296.87 245.667 T
3 FF
(= ) 351.02 245.667 T
(VM_PR) 270.0 255.667 T
(O) 302.94 255.667 T
(T_NONE;) 309.76 255.667 T
3 FF
([349]) 77.34 267.667 T
3 FF
(}) 144.0 267.667 T
3 FF
([350]) 77.34 279.666 T
3 FF
(else) 144.0 279.666 T
3 FF
([351]) 77.34 291.666 T
3 FF
({) 144.0 291.666 T
3 FF
([352]) 77.34 303.666 T
3 FF
(printf \(\322une) 180.0 303.666 T
(xpected state: %d\\n\323, ) 226.78 303.666 T
4 FF
(my_obj) 314.54 303.666 T
5 FF
<ae> 343.98 303.666 T
4 FF
(state) 353.85 303.666 T
3 FF
(\);) 372.74 303.666 T
3 FF
([353]) 77.34 315.666 T
3 FF
(return \(KERN_F) 180.0 315.666 T
(AILURE\);) 246.75 315.666 T
3 FF
([354]) 77.34 327.666 T
3 FF
(}) 144.0 327.666 T
72 331.999756 360 9 CR
1 G
72 331.999756 360 9 NF
0 G
3 FF
(/*) 91.224 339.831 T
0.6667 G
422.91 336.5 M
422.91 341.75 L
432 336.5 L
422.91 331.25 L
F
422.91 336.5 M
108 336.5 L
S
72 350.999756 360 9 CR
1 G
72 350.999756 360 9 NF
0 G
3 FF
(*/) 90.0 358.826 T
0.6667 G
117.09 355.5 M
117.09 350.25 L
108 355.5 L
117.09 360.75 L
F
432 355.5 M
117.09 355.5 L
S
0 0 612 792 CR
0 G
3 FF
(Handle pending client message operations.) 144.0 348.666 T
3 FF
([355]) 77.34 369.666 T
1 FF
(pending_op_execute) 144.0 369.666 T
3 FF
( \() 230.67 369.666 T
4 FF
(my_obj) 236.5 369.666 T
3 FF
(\);) 265.94 369.666 T
72 373.999725 360 9 CR
1 G
72 373.999725 360 9 NF
0 G
3 FF
(/*) 91.224 381.831 T
0.6667 G
422.91 378.5 M
422.91 383.75 L
432 378.5 L
422.91 373.25 L
F
422.91 378.5 M
108 378.5 L
S
72 392.999695 360 9 CR
1 G
72 392.999695 360 9 NF
0 G
3 FF
(*/) 90.0 400.826 T
0.6667 G
117.09 397.5 M
117.09 392.25 L
108 397.5 L
117.09 402.75 L
F
432 397.5 M
117.09 397.5 L
S
0 0 612 792 CR
0 G
3 FF
(Pending message write tak) 144.0 390.666 T
(es priority \(cleaning state only\).) 250.83 390.666 T
3 FF
([356]) 77.34 411.666 T
3 FF
(if \() 144.0 411.666 T
4 FF
(my_obj) 155.94 411.666 T
5 FF
<ae> 185.38 411.666 T
4 FF
(pending_op_queue) 195.25 411.666 T
3 FF
( != PENDING_OP_NULL\)) 271.35 411.666 T
3 FF
([357]) 77.34 423.666 T
3 FF
({) 144.0 423.666 T
72 427.999695 360 9 CR
1 G
72 427.999695 360 9 NF
0 G
3 FF
(/*) 91.224 435.831 T
0.6667 G
422.91 432.5 M
422.91 437.75 L
432 432.5 L
422.91 427.25 L
F
422.91 432.5 M
108 432.5 L
S
0 0 612 792 CR
0 G
3 FF
180 444.666321 M 1.069107 0 32 (Request k) widthshow
220.689163 444.666321 M 1.069107 0 32 (ernel to gi) widthshow
263.127502 444.666321 M 1.069107 0 32 (v) widthshow
267.9776 444.666321 M 1.069107 0 32 (e up all access to page. Ask for a reply) widthshow
72 456.999603 360 9 CR
1 G
72 456.999603 360 9 NF
0 G
3 FF
(*/) 90.0 464.826 T
0.6667 G
117.09 461.5 M
117.09 456.25 L
108 461.5 L
117.09 466.75 L
F
432 461.5 M
117.09 461.5 L
S
0 0 612 792 CR
0 G
3 FF
(when it\325) 180.0 454.666 T
(s \336nished.) 212.5 454.666 T
3 FF
([358]) 77.34 475.666 T
3 FF
(printf \(\322lock_request: clean, \337ush, lock %d\\n\323, ) 180.0 475.666 T
(VM_PR) 234.0 485.666 T
(O) 266.94 485.666 T
(T_ALL\);) 273.76 485.666 T
3 FF
([359]) 77.34 497.666 T
3 FF
(\(v) 180.0 497.666 T
(oid\) ) 188.13 497.666 T
1 FF
(memory_object_lock_r) 206.74 497.666 T
(equest) 305.42 497.666 T
3 FF
( \() 332.64 497.666 T
4 FF
(contr) 338.47 497.666 T
(ol) 359.13 497.666 T
3 FF
(, \(vm_of) 366.91 497.666 T
(fset_t\) ) 401.101 497.666 T
(0, vm_page_size, TR) 234.0 507.666 T
(UE, TR) 318.59 507.666 T
(UE, F) 349.3 507.666 T
(ALSE, ) 372.451 507.666 T
(VM_PR) 234.0 517.666 T
(O) 266.94 517.666 T
(T_ALL,) 273.76 517.666 T
4 FF
( my_obj) 306.81 517.666 T
5 FF
<ae> 338.75 517.666 T
4 FF
(abstr) 348.62 517.666 T
(act_port) 369.031 517.666 T
3 FF
(\);) 402.921 517.666 T
([360]) 77.34 529.666 T
4 FF
(my_obj) 180.0 529.666 T
5 FF
<ae> 209.44 529.666 T
4 FF
(state) 219.31 529.666 T
3 FF
( = NETMEM_OBJ_FLUSHING;) 238.2 529.666 T
3 FF
([361]) 77.34 541.666 T
3 FF
(}) 144.0 541.666 T
72 545.999512 360 9 CR
1 G
72 545.999512 360 9 NF
0 G
3 FF
(/*) 91.224 553.831 T
0.6667 G
422.91 550.5 M
422.91 555.75 L
432 550.5 L
422.91 545.25 L
F
422.91 550.5 M
108 550.5 L
S
72 564.999512 360 9 CR
1 G
72 564.999512 360 9 NF
0 G
3 FF
(*/) 90.0 572.826 T
0.6667 G
117.09 569.5 M
117.09 564.25 L
108 569.5 L
117.09 574.75 L
F
432 569.5 M
117.09 569.5 L
S
0 0 612 792 CR
0 G
3 FF
(Does the k) 144.0 562.666 T
(ernel w) 186.67 562.666 T
(ant the page?) 216.28 562.666 T
3 FF
([362]) 77.34 583.666 T
3 FF
(else if \() 144.0 583.666 T
4 FF
(my_obj) 173.99 583.666 T
5 FF
<ae> 203.43 583.666 T
4 FF
(pending_k) 213.3 583.666 T
(ernel_access) 254.86 583.666 T
3 FF
( != VM_PR) 306.51 583.666 T
(O) 353.42 583.666 T
(T_NONE\)) 360.241 583.666 T
3 FF
([363]) 77.34 595.666 T
3 FF
({) 144.0 595.666 T
3 FF
([364]) 77.34 607.666 T
3 FF
(if \() 180.0 607.666 T
4 FF
(my_obj) 191.94 607.666 T
5 FF
<ae> 221.38 607.666 T
4 FF
(pending_k) 231.25 607.666 T
(ernel_access) 272.81 607.666 T
3 FF
( &VM_PR) 324.46 607.666 T
(O) 367.68 607.666 T
(T_WRITE\)) 374.501 607.666 T
3 FF
([365]) 77.34 619.666 T
3 FF
({) 180.0 619.666 T
([366]) 77.34 631.666 T
4 FF
(loc) 216.0 631.666 T
(k_value) 228.02 631.666 T
3 FF
( = VM_PR) 259.12 631.666 T
(O) 302.7 631.666 T
(T_NONE;) 309.521 631.666 T
([367]) 77.34 643.666 T
4 FF
(my_obj) 216.0 643.666 T
5 FF
<ae> 245.44 643.666 T
4 FF
(state) 255.31 643.666 T
3 FF
( = ) 274.2 643.666 T
(NETMEM_OBJ_KERNEL_WRITE;) 270.0 653.666 T
3 FF
([368]) 77.34 665.666 T
3 FF
(}) 180.0 665.666 T
3 FF
([369]) 77.34 677.666 T
3 FF
(else) 180.0 677.666 T
3 FF
([370]) 77.34 689.666 T
3 FF
({) 180.0 689.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 124 124
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(120 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([371]) 185.34 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(loc) 324.0 113.651 T
(k_value) 336.02 113.651 T
3 FF
( = VM_PR) 367.12 113.651 T
(O) 410.7 113.651 T
(T_WRITE;) 417.521 113.651 T
([372]) 185.34 125.651 T
4 FF
(my_obj) 324.0 125.651 T
5 (Symbol) 10 1 mymakefontmetric
5 FF
<ae> 353.44 125.651 T
4 FF
(state) 363.31 125.651 T
3 FF
( = NETMEM_OBJ_READ;) 382.2 125.651 T
3 FF
([373]) 185.34 137.651 T
3 FF
(}) 288.0 137.651 T
3 FF
([374]) 185.34 149.651 T
4 FF
(my_obj) 288.0 149.651 T
5 FF
<ae> 317.44 149.651 T
4 FF
(pending_k) 327.31 149.651 T
(ernel_access) 368.87 149.651 T
3 FF
( = VM_PR) 420.52 149.651 T
(O) 464.1 149.651 T
(T_NONE;) 470.921 149.651 T
3 FF
([375]) 185.34 161.651 T
3 FF
(if \() 288.0 161.651 T
4 FF
(my_obj) 299.94 161.651 T
5 FF
<ae> 329.38 161.651 T
4 FF
(pending_k) 339.25 161.651 T
(ernel_type) 380.81 161.651 T
3 FF
( == ) 423.02 161.651 T
(PENDING_TYPE_LOCK\)) 342.0 171.651 T
3 FF
([376]) 185.34 183.651 T
3 FF
({) 288.0 183.651 T
([377]) 185.34 195.651 T
(printf \(\322lock_request: lock %d\\n\323, ) 324.0 195.651 T
4 FF
(loc) 463.14 195.651 T
(k_value) 475.16 195.651 T
3 FF
(\);) 506.26 195.651 T
([378]) 185.34 207.651 T
(\(v) 324.0 207.651 T
(oid\) ) 332.13 207.651 T
0 FF
(memory_object_lock_r) 350.74 207.651 T
(equest) 449.42 207.651 T
3 FF
( \() 476.64 207.651 T
4 FF
(contr) 482.47 207.651 T
(ol) 503.13 207.651 T
3 FF
(, ) 510.91 207.651 T
3 FF
(\(vm_of) 378.0 217.651 T
(fset_t\) 0, vm_page_size, ) 407.19 217.651 T
3 FF
(F) 378.0 227.651 T
(ALSE, F) 382.82 227.651 T
(ALSE, F) 417.641 227.651 T
(ALSE, ) 452.461 227.651 T
4 FF
(loc) 482.461 227.651 T
(k_value) 494.481 227.651 T
3 FF
(, ) 525.581 227.651 T
(MA) 378.0 237.65 T
(CH_POR) 393.71 237.65 T
(T_NULL\);) 431.451 237.65 T
3 FF
([379]) 185.34 249.65 T
3 FF
(}) 288.0 249.65 T
3 FF
([380]) 185.34 261.65 T
3 FF
(else) 288.0 261.65 T
3 FF
([381]) 185.34 273.65 T
3 FF
({) 288.0 273.65 T
([382]) 185.34 285.65 T
(printf \(\322data_supply: lock %d\\n\323, ) 324.0 285.65 T
4 FF
(loc) 460.37 285.65 T
(k_value) 472.39 285.65 T
3 FF
(\);) 503.49 285.65 T
([383]) 185.34 297.65 T
(\(v) 324.0 297.65 T
(oid\) ) 332.13 297.65 T
0 FF
(memory_object_data_supply) 350.74 297.65 T
3 FF
( \() 474.62 297.65 T
4 FF
(contr) 480.45 297.65 T
(ol) 501.11 297.65 T
3 FF
(, ) 508.89 297.65 T
3 FF
(\(vm_of) 378.0 307.65 T
(fset_t\) 0, ) 407.19 307.65 T
4 FF
(my_obj) 445.24 307.65 T
5 FF
<ae> 474.68 307.65 T
4 FF
(data) 484.55 307.65 T
3 FF
(, ) 502.33 307.65 T
(vm_page_size, F) 378.0 317.65 T
(ALSE, ) 445.03 317.65 T
4 FF
(loc) 475.03 317.65 T
(k_value) 487.051 317.65 T
3 FF
(, ) 518.151 317.65 T
(F) 378.0 327.65 T
(ALSE, MA) 382.82 327.65 T
(CH_POR) 428.531 327.65 T
(T_NULL\);) 466.271 327.65 T
3 FF
([384]) 185.34 339.65 T
3 FF
(}) 288.0 339.65 T
3 FF
([385]) 185.34 351.65 T
3 FF
(}) 252.0 351.65 T
180 355.983673 360 9 CR
1 G
180 355.983673 360 9 NF
0 G
3 FF
(/*) 199.224 363.815 T
3 SL
0.6667 G
530.91 360.48 M
530.91 365.73 L
540 360.48 L
530.91 355.23 L
F
530.91 360.48 M
216 360.48 L
S
180 374.983643 360 9 CR
1 G
180 374.983643 360 9 NF
0 G
3 FF
(*/) 198.0 382.81 T
0.6667 G
225.09 379.48 M
225.09 374.23 L
216 379.48 L
225.09 384.73 L
F
540 379.48 M
225.09 379.48 L
S
0 0 612 792 CR
0 G
3 FF
(Get rid of send right on control port.) 252.0 372.65 T
3 FF
([386]) 185.34 393.65 T
0 FF
(netmem_contr) 252.0 393.65 T
(ol_cleanup) 314.02 393.65 T
3 FF
( \() 360.14 393.65 T
4 FF
(my_obj) 365.97 393.65 T
3 FF
(\);) 395.41 393.65 T
3 FF
([387]) 185.34 405.65 T
3 FF
(return \(KERN_SUCCESS\);) 252.0 405.65 T
3 FF
([388]) 185.34 417.65 T
(}) 216.0 417.65 T
180 439.650269 M 0.12149 0 32 (Pro) widthshow
193.740082 439.650269 M 0.12149 0 32 (viding memory object synchronization is easy for this manager; the \337ushed page is al-) widthshow
(ready \322stable\323.) 180.0 451.65 T
([389]) 185.34 469.65 T
(k) 216.0 469.65 T
(ern_return_t ) 220.9 469.65 T
0 FF
(memory_object_synchr) 272.83 469.65 T
(onize ) 373.18 469.65 T
3 FF
(\(abs_mem_obj_port_t ) 397.9 469.65 T
4 FF
(object) 488.73 469.65 T
3 FF
(, ) 513.17 469.65 T
(mem_cache_control_port_t ) 270.0 479.65 T
4 FF
(contr) 382.48 479.65 T
(ol) 403.14 479.65 T
3 FF
(, vm_of) 410.92 479.65 T
(fset_t ) 441.78 479.65 T
4 FF
(of) 466.5 479.65 T
(fset) 474.1 479.65 T
3 FF
(, vm_size_t ) 487.99 479.65 T
4 FF
(length) 270.0 489.65 T
3 FF
(, vm_sync_t ) 295.0 489.65 T
4 FF
(sync_\337a) 346.39 489.65 T
(gs) 379.06 489.65 T
3 FF
(\)) 387.95 489.65 T
([390]) 185.34 501.65 T
({) 216.0 501.65 T
([391]) 185.34 513.65 T
4 FF
(netmem_obj_t) 252.0 513.65 T
(my_obj) 396.0 513.65 T
3 FF
(;) 425.44 513.65 T
([392]) 185.34 525.65 T
(printf \(\322synchronize\\n\323\);) 252.0 525.65 T
180 529.983521 360 9 CR
1 G
180 529.983521 360 9 NF
0 G
3 FF
(/*) 199.224 537.815 T
0.6667 G
530.91 534.48 M
530.91 539.73 L
540 534.48 L
530.91 529.23 L
F
530.91 534.48 M
216 534.48 L
S
180 548.983459 360 9 CR
1 G
180 548.983459 360 9 NF
0 G
3 FF
(*/) 198.0 556.81 T
0.6667 G
225.09 553.48 M
225.09 548.23 L
216 553.48 L
225.09 558.73 L
F
540 553.48 M
225.09 553.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check that it\325) 252.0 546.65 T
(s our object.) 305.89 546.65 T
([393]) 185.34 567.65 T
(if \(\() 252.0 567.65 T
4 FF
(my_obj) 267.27 567.65 T
3 FF
( = ) 296.71 567.65 T
0 FF
(netmem_lookup) 307.35 567.65 T
3 FF
( \() 376.24 567.65 T
4 FF
(object) 382.07 567.65 T
3 FF
(\)\) == NETMEM_OBJ_NULL\)) 406.51 567.65 T
([394]) 185.34 579.65 T
(return \(KERN_F) 288.0 579.65 T
(AILURE\);) 354.75 579.65 T
180 583.983459 360 9 CR
1 G
180 583.983459 360 9 NF
0 G
3 FF
(/*) 199.224 591.815 T
0.6667 G
530.91 588.48 M
530.91 593.73 L
540 588.48 L
530.91 583.23 L
F
530.91 588.48 M
216 588.48 L
S
180 602.983398 360 9 CR
1 G
180 602.983398 360 9 NF
0 G
3 FF
(*/) 198.0 610.81 T
0.6667 G
225.09 607.48 M
225.09 602.23 L
216 607.48 L
225.09 612.73 L
F
540 607.48 M
225.09 607.48 L
S
0 0 612 792 CR
0 G
3 FF
(Check of) 252.0 600.65 T
(fset and length ar) 288.13 600.65 T
(guments.) 357.1 600.65 T
([395]) 185.34 621.65 T
(if \() 252.0 621.65 T
4 FF
(of) 263.94 621.65 T
(fset) 271.54 621.65 T
3 FF
( > 0 || ) 285.43 621.65 T
4 FF
(of) 310.07 621.65 T
(fset) 317.67 621.65 T
3 FF
( + ) 331.56 621.65 T
4 FF
(count) 342.2 621.65 T
3 FF
( > ) 364.42 621.65 T
4 FF
(vm_pa) 375.06 621.65 T
(g) 401.62 621.65 T
(e_size) 406.52 621.65 T
3 FF
(\)) 430.96 621.65 T
([396]) 185.34 633.65 T
(return \(KERN_F) 288.0 633.65 T
(AILURE\);) 354.75 633.65 T
180 637.983398 360 9 CR
1 G
180 637.983398 360 9 NF
0 G
3 FF
(/*) 199.224 645.815 T
0.6667 G
530.91 642.48 M
530.91 647.73 L
540 642.48 L
530.91 637.23 L
F
530.91 642.48 M
216 642.48 L
S
180 656.983398 360 9 CR
1 G
180 656.983398 360 9 NF
0 G
3 FF
(*/) 198.0 664.81 T
0.6667 G
225.09 661.48 M
225.09 656.23 L
216 661.48 L
225.09 666.73 L
F
540 661.48 M
225.09 661.48 L
S
0 0 612 792 CR
0 G
3 FF
(Declare data stable.) 252.0 654.65 T
([397]) 185.34 675.65 T
(\(v) 252.0 675.65 T
(oid\) ) 260.13 675.65 T
0 FF
(memory_object_synchr) 278.74 675.65 T
(onize_completed) 379.09 675.65 T
3 FF
( \() 450.19 675.65 T
4 FF
(contr) 456.02 675.65 T
(ol) 476.68 675.65 T
3 FF
(, ) 484.46 675.65 T
4 FF
(of) 489.46 675.65 T
(fset) 497.061 675.65 T
3 FF
(, ) 510.951 675.65 T
4 FF
(length) 306.0 685.65 T
3 FF
(\);) 331.0 685.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 125 125
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (121 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 108 360 9 CR
72 108 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 91.224 115.831 T
3 SL
0 SC
0.6667 G
422.91 112.5 M
422.91 117.75 L
432 112.5 L
422.91 107.25 L
F
422.91 112.5 M
108 112.5 L
S
72 126.999985 360 9 CR
1 G
72 126.999985 360 9 NF
0 G
3 FF
(*/) 90.0 134.826 T
0.6667 G
117.09 131.5 M
117.09 126.25 L
108 131.5 L
117.09 136.75 L
F
432 131.5 M
117.09 131.5 L
S
0 0 612 792 CR
0 G
3 FF
(Get rid of send right on control port.) 144.0 124.667 T
([398]) 77.34 145.667 T
1 FF
(netmem_contr) 144.0 145.667 T
(ol_cleanup) 206.02 145.667 T
3 FF
( \() 252.14 145.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(my_obj) 257.97 145.667 T
3 FF
(\);) 287.41 145.667 T
([399]) 77.34 157.667 T
(return \(KERN_SUCCESS\);) 144.0 157.667 T
([400]) 77.34 169.667 T
(}) 108.0 169.667 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Non-Used Stubs) 72.0 199.0 T
72 207.999893 360 9 CR
1 G
72 207.999893 360 9 NF
0 G
3 FF
(/*) 91.224 215.831 T
0.6667 G
422.91 212.5 M
422.91 217.75 L
432 212.5 L
422.91 207.25 L
F
422.91 212.5 M
108 212.5 L
S
72 226.999878 360 9 CR
1 G
72 226.999878 360 9 NF
0 G
3 FF
(*/) 90.0 234.826 T
0.6667 G
117.09 231.5 M
117.09 226.25 L
108 231.5 L
117.09 236.75 L
F
432 231.5 M
117.09 231.5 L
S
0 0 612 792 CR
0 G
3 FF
(Not used by this pager) 108.0 224.667 T
3 FF
([401]) 77.34 245.667 T
(k) 108.0 245.667 T
(ern_return_t ) 112.9 245.667 T
1 FF
(memory_object_supply_completed) 164.83 245.667 T
3 FF
( \(abs_mem_obj_port_t ) 313.7 245.667 T
4 FF
(object) 162.0 255.667 T
3 FF
(, mem_cache_control_port_t ) 186.44 255.667 T
4 FF
(contr) 303.92 255.667 T
(ol) 324.58 255.667 T
3 FF
(, vm_of) 332.36 255.667 T
(fset_t ) 363.22 255.667 T
4 FF
(of) 387.94 255.667 T
(fset) 395.54 255.667 T
3 FF
(, ) 409.43 255.667 T
(vm_size_t ) 162.0 265.667 T
4 FF
(length) 205.61 265.667 T
3 FF
(, k) 230.61 265.667 T
(ern_return_t ) 240.51 265.667 T
4 FF
(r) 292.44 265.667 T
(esult) 295.96 265.667 T
3 FF
(, vm_of) 314.85 265.667 T
(fset_t ) 345.71 265.667 T
4 FF
(err) 370.43 265.667 T
(or_of) 382.201 265.667 T
(fset) 403.691 265.667 T
3 FF
(\)) 417.581 265.667 T
([402]) 77.34 277.666 T
({) 108.0 277.666 T
([403]) 77.34 289.666 T
(printf \(\322supply_completed\\n\323\);) 144.0 289.666 T
([404]) 77.34 301.666 T
(return \(KERN_F) 144.0 301.666 T
(AILURE\);) 210.75 301.666 T
([405]) 77.34 313.666 T
(}) 108.0 313.666 T
([406]) 77.34 325.666 T
(k) 108.0 325.666 T
(ern_return_t ) 112.9 325.666 T
1 FF
(memory_object_change_completed) 164.83 325.666 T
3 FF
( \(abs_mem_obj_port_t ) 315.35 325.666 T
4 FF
(object) 162.0 335.666 T
3 FF
(, mem_cache_control_port_t ) 186.44 335.666 T
4 FF
(memory_contr) 303.92 335.666 T
(ol) 361.79 335.666 T
3 FF
(, ) 369.57 335.666 T
(memory_object_\337a) 162.0 345.666 T
(v) 239.57 345.666 T
(or_t ) 244.37 345.666 T
4 FF
<df61766f72> 262.98 345.666 T
3 FF
(\)) 286.31 345.666 T
([407]) 77.34 357.666 T
({) 108.0 357.666 T
([408]) 77.34 369.666 T
(printf \(\322change_completed\323\);) 144.0 369.666 T
([409]) 77.34 381.666 T
(return \(KERN_F) 144.0 381.666 T
(AILURE\);) 210.75 381.666 T
([410]) 77.34 393.666 T
(}) 108.0 393.666 T
([411]) 77.34 405.666 T
(k) 108.0 405.666 T
(ern_return_t ) 112.9 405.666 T
1 FF
(memory_object_f) 164.83 405.666 T
(or) 239.55 405.666 T
(ce_copy_completed) 248.81 405.666 T
3 FF
( \(abs_mem_obj_port_t ) 331.57 405.666 T
4 FF
(object) 162.0 415.666 T
3 FF
(, mem_cache_control_port_t ) 186.44 415.666 T
4 FF
(memory_contr) 303.92 415.666 T
(ol) 361.79 415.666 T
3 FF
(, vm_of) 369.57 415.666 T
(fset_t ) 400.43 415.666 T
4 FF
(of) 162.0 425.666 T
(fset) 169.6 425.666 T
3 FF
(, vm_size_t ) 183.49 425.666 T
4 FF
(length) 232.1 425.666 T
3 FF
(\)) 257.1 425.666 T
([412]) 77.34 437.666 T
({) 108.0 437.666 T
([413]) 77.34 449.666 T
(printf \(\322force_cop) 144.0 449.666 T
(y_completed\323\);) 216.37 449.666 T
([414]) 77.34 461.666 T
(return \(KERN_F) 144.0 461.666 T
(AILURE\);) 210.75 461.666 T
([415]) 77.34 473.666 T
(}) 108.0 473.666 T
5 FF
(Ser) 72.0 503.0 T
(v) 89.208 503.0 T
(er Loop and Main Pr) 95.088 503.0 T
(ogram) 203.544 503.0 T
72 511.999573 360 9 CR
1 G
72 511.999573 360 9 NF
0 G
3 FF
(/*) 91.224 519.831 T
0.6667 G
422.91 516.5 M
422.91 521.75 L
432 516.5 L
422.91 511.25 L
F
422.91 516.5 M
108 516.5 L
S
0 0 612 792 CR
0 G
3 FF
108 528.666199 M 0.997925 0 32 (De-mux routine for ) widthshow
1 FF
191.253784 528.666199 M 0.997925 0 32 (mach_msg_ser) widthshow
254.473846 528.666199 M 0.997925 0 32 (v) widthshow
259.373901 528.666199 M 0.997925 0 32 (er) widthshow
3 FF
267.704224 528.666199 M 0.997925 0 32 (. This allo) widthshow
309.730194 528.666199 M 0.997925 0 32 (ws us to splice tw) widthshow
384.731934 528.666199 M 0.997925 0 32 (o interf) widthshow
414.789917 528.666199 M 0.997925 0 32 (aces) widthshow
72 540.999512 360 9 CR
1 G
72 540.999512 360 9 NF
0 G
3 FF
(*/) 90.0 548.826 T
0.6667 G
117.09 545.5 M
117.09 540.25 L
108 545.5 L
117.09 550.75 L
F
432 545.5 M
117.09 545.5 L
S
0 0 612 792 CR
0 G
3 FF
(into ) 108.0 538.666 T
1 FF
(mach_msg_ser) 126.06 538.666 T
(v) 189.28 538.666 T
(er) 194.18 538.666 T
3 FF
( \(\).) 203.06 538.666 T
3 FF
([416]) 77.34 559.666 T
3 FF
(boolean_t ) 108.0 559.666 T
1 FF
(netmem_demux) 149.94 559.666 T
3 FF
( \(mach_msg_header_t *) 218.26 559.666 T
4 FF
(inmsg) 314.35 559.666 T
3 FF
(, mach_msg_header_t ) 338.24 559.666 T
(*) 162.0 569.666 T
4 FF
(outmsg) 167.0 569.666 T
3 FF
(\)) 195.89 569.666 T
3 FF
([417]) 77.34 581.666 T
3 FF
({) 108.0 581.666 T
3 FF
([418]) 77.34 593.666 T
3 FF
(return \() 144.0 593.666 T
1 FF
(netmem_msg_ser) 173.71 593.666 T
(v) 248.03 593.666 T
(er) 252.93 593.666 T
3 FF
( \() 261.81 593.666 T
4 FF
(inmsg) 267.64 593.666 T
3 FF
(, ) 291.53 593.666 T
4 FF
(outmsg) 296.53 593.666 T
3 FF
(\) || ) 325.42 593.666 T
1 FF
(memory_object_ser) 198.0 603.666 T
(v) 282.31 603.666 T
(er) 287.21 603.666 T
3 FF
( \() 296.09 603.666 T
4 FF
(inmsg) 301.92 603.666 T
3 FF
(, ) 325.81 603.666 T
4 FF
(outmsg) 330.81 603.666 T
3 FF
(\)\);) 359.7 603.666 T
3 FF
([419]) 77.34 615.666 T
3 FF
(}) 108.0 615.666 T
72 619.99939 360 9 CR
1 G
72 619.99939 360 9 NF
0 G
3 FF
(/*) 91.224 627.831 T
0.6667 G
422.91 624.5 M
422.91 629.75 L
432 624.5 L
422.91 619.25 L
F
422.91 624.5 M
108 624.5 L
S
0 0 612 792 CR
0 G
3 FF
108 636.666016 M 1.453735 0 32 (Size of max message we\325) widthshow
214.955231 636.666016 M 1.453735 0 32 (re willing to recei) widthshow
289.886597 636.666016 M 1.453735 0 32 (v) widthshow
294.736664 636.666016 M 1.453735 0 32 (e or send. Ha) widthshow
351.65799 636.666016 M 1.453735 0 32 (v) widthshow
356.508057 636.666016 M 1.453735 0 32 (e to allo) widthshow
391.385681 636.666016 M 1.453735 0 32 (w enough) widthshow
108 646.665955 M 0.618439 0 32 (space for memory object messages from the k) widthshow
295.799133 646.665955 M 0.618439 0 32 (ernel. This number is on the high) widthshow
72 658.999268 360 9 CR
1 G
72 658.999268 360 9 NF
0 G
3 FF
(*/) 90.0 666.826 T
0.6667 G
117.09 663.5 M
117.09 658.25 L
108 663.5 L
117.09 668.75 L
F
432 663.5 M
117.09 663.5 L
S
0 0 612 792 CR
0 G
3 FF
(side.) 108.0 656.666 T
3 FF
([420]) 77.34 677.666 T
3 FF
(#de\336ne NETMEM_MAX_MSG_SIZE) 108.0 677.666 T
(512) 288.0 677.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 126 126
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(122 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
180 105.984009 360 9 CR
180 105.984009 360 9 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(/*) 199.224 113.815 T
3 SL
0.6667 G
530.91 110.48 M
530.91 115.73 L
540 110.48 L
530.91 105.23 L
F
530.91 110.48 M
216 110.48 L
S
0 0 612 792 CR
0 G
3 FF
216 122.650635 M 0.251953 0 32 (Main routine: initialize and loop fore) widthshow
365.049927 122.650635 M 0.251953 0 32 (v) widthshow
369.899994 122.650635 M 0.251953 0 32 (er handling messages. Ignore error returns) widthshow
180 134.983932 360 9 CR
1 G
180 134.983932 360 9 NF
0 G
3 FF
(*/) 198.0 142.81 T
0.6667 G
225.09 139.48 M
225.09 134.23 L
216 139.48 L
225.09 144.73 L
F
540 139.48 M
225.09 139.48 L
S
0 0 612 792 CR
0 G
3 FF
(from ) 216.0 132.651 T
0 FF
(mach_msg_ser) 237.94 132.651 T
(v) 301.16 132.651 T
(er) 306.06 132.651 T
3 FF
(.) 314.39 132.651 T
3 FF
([421]) 185.34 153.651 T
0 FF
(main) 216.0 153.651 T
3 FF
( \(\)) 237.67 153.651 T
3 FF
([422]) 185.34 165.651 T
({) 216.0 165.651 T
180 169.983902 360 9 CR
1 G
180 169.983902 360 9 NF
0 G
3 FF
(/*) 199.224 177.815 T
0.6667 G
530.91 174.48 M
530.91 179.73 L
540 174.48 L
530.91 169.23 L
F
530.91 174.48 M
216 174.48 L
S
180 188.983887 360 9 CR
1 G
180 188.983887 360 9 NF
0 G
3 FF
(*/) 198.0 196.81 T
0.6667 G
225.09 193.48 M
225.09 188.23 L
216 193.48 L
225.09 198.73 L
F
540 193.48 M
225.09 193.48 L
S
0 0 612 792 CR
0 G
3 FF
(Mak) 252.0 186.651 T
(e port set into which all \(one\) object are entered.) 270.23 186.651 T
([423]) 185.34 207.651 T
(\(v) 252.0 207.651 T
(oid\) ) 260.13 207.651 T
0 FF
(mach_port_allocate) 278.74 207.651 T
3 FF
( \() 363.17 207.651 T
0 FF
(mach_task_self) 369.0 207.651 T
3 FF
( \(\), ) 434.55 207.651 T
(MA) 306.0 217.651 T
(CH_POR) 321.71 217.651 T
(T_RIGHT_POR) 359.451 217.651 T
(T_SET) 424.961 217.651 T
(, &) 453.111 217.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(port_set) 465.891 217.651 T
3 FF
(\);) 498.671 217.651 T
([424]) 185.34 229.651 T
3 FF
(\(v) 252.0 229.651 T
(oid\) ) 260.13 229.651 T
0 FF
(init) 278.74 229.651 T
3 FF
( \(\);) 293.19 229.651 T
3 FF
([425]) 185.34 241.65 T
3 FF
(while \(1\)) 252.0 241.65 T
3 FF
([426]) 185.34 253.65 T
(\(v) 288.0 253.65 T
(oid\) ) 296.13 253.65 T
0 FF
(mach_msg_ser) 314.74 253.65 T
(v) 377.96 253.65 T
(er) 382.86 253.65 T
3 FF
( \() 391.74 253.65 T
0 FF
(netmem_demux) 397.57 253.65 T
3 FF
(, ) 465.89 253.65 T
(NETMEM_MAX_MSG_SIZE, ) 342.0 263.65 T
4 FF
(port_set) 471.44 263.65 T
3 FF
(, ) 504.22 263.65 T
(MA) 342.0 273.65 T
(CH_MSG_OPTION_NONE\);) 357.71 273.65 T
([427]) 185.34 285.65 T
(}) 216.0 285.65 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Sample Client) 180.0 314.984 T
180 323.983704 360 9 CR
1 G
180 323.983704 360 9 NF
0 G
3 FF
(/*) 199.224 331.815 T
0.6667 G
530.91 328.48 M
530.91 333.73 L
540 328.48 L
530.91 323.23 L
F
530.91 328.48 M
216 328.48 L
S
0 0 612 792 CR
0 G
3 FF
(File: ) 216.0 340.65 T
0 FF
(netmem_client) 236.84 340.65 T
3 FF
(.c) 299.6 340.65 T
(Author: Da) 216.0 350.65 T
(vid L. Black) 261.07 350.65 T
180 362.983521 360 9 CR
1 G
180 362.983521 360 9 NF
0 G
3 FF
(*/) 198.0 370.81 T
0.6667 G
225.09 367.48 M
225.09 362.23 L
216 367.48 L
225.09 372.73 L
F
540 367.48 M
225.09 367.48 L
S
0 0 612 792 CR
0 G
3 FF
(Simple client to demonstrate ) 216.0 360.65 T
0 FF
(netmem) 333.22 360.65 T
3 FF
( serv) 367.65 360.65 T
(er) 386.66 360.65 T
(.) 393.88 360.65 T
([1]) 195.34 381.65 T
(#include <mach.h>) 216.0 381.65 T
3 FF
([2]) 195.34 393.65 T
3 FF
(#include <mach_init.h>) 216.0 393.65 T
3 FF
([3]) 195.34 405.65 T
3 FF
(#include <serv) 216.0 405.65 T
(ers/netname.h>) 275.09 405.65 T
3 FF
([4]) 195.34 417.65 T
3 FF
(#include <stdio.h>) 216.0 417.65 T
3 FF
([5]) 195.34 429.65 T
3 FF
(#include \322) 216.0 429.65 T
0 FF
(netmem_defs) 257.38 429.65 T
3 FF
(.h\323) 314.03 429.65 T
3 FF
([6]) 195.34 441.65 T
0 FF
(main) 216.0 441.65 T
3 FF
( \(\)) 237.67 441.65 T
3 FF
([7]) 195.34 453.65 T
3 FF
({) 216.0 453.65 T
3 FF
([8]) 195.34 465.65 T
3 FF
(k) 252.0 465.65 T
(ern_return_t) 256.9 465.65 T
4 FF
(r) 396.0 465.65 T
3 FF
(;) 399.89 465.65 T
3 FF
([9]) 195.34 477.65 T
3 FF
(mach_port_t) 252.0 477.65 T
4 FF
(server_port) 396.0 477.65 T
3 FF
(;) 442.66 477.65 T
3 FF
([10]) 190.34 489.65 T
3 FF
(vm_address_t) 252.0 489.65 T
4 FF
(netmem_addr) 396.0 489.65 T
(ess) 450.62 489.65 T
3 FF
(;) 462.84 489.65 T
3 FF
([11]) 190.34 501.65 T
3 FF
(r = ) 252.0 501.65 T
0 FF
(netname_look_up) 265.97 501.65 T
3 FF
( \() 342.09 501.65 T
4 FF
(name_server_port) 347.92 501.65 T
3 FF
(, \322\322, NETMEM_N) 421.24 501.65 T
(AME, ) 495.32 501.65 T
(&) 306.0 511.649 T
4 FF
(server_port) 313.78 511.649 T
3 FF
(\);) 360.44 511.649 T
3 FF
([12]) 190.34 523.649 T
3 FF
(if \() 252.0 523.649 T
4 FF
(r) 263.94 523.649 T
3 FF
( != NETN) 267.83 523.649 T
(AME_SUCCESS\)) 308.11 523.649 T
3 FF
([13]) 190.34 535.649 T
3 FF
({) 252.0 535.649 T
3 FF
([14]) 190.34 547.649 T
0 FF
(mach_err) 288.0 547.649 T
(or) 329.47 547.649 T
3 FF
( \(\322Serv) 338.91 547.649 T
(er Look Up\323, ) 367.36 547.649 T
4 FF
(r) 422.9 547.649 T
3 FF
(\);) 426.79 547.649 T
3 FF
([15]) 190.34 559.649 T
3 FF
(e) 288.0 559.649 T
(xit \(\3201\);) 292.29 559.649 T
3 FF
([16]) 190.34 571.649 T
3 FF
(}) 252.0 571.649 T
180 575.982605 360 9 CR
1 G
180 575.982605 360 9 NF
0 G
3 FF
(/*) 199.224 583.814 T
0.6667 G
530.91 580.48 M
530.91 585.73 L
540 580.48 L
530.91 575.23 L
F
530.91 580.48 M
216 580.48 L
S
180 594.982544 360 9 CR
1 G
180 594.982544 360 9 NF
0 G
3 FF
(*/) 198.0 602.809 T
0.6667 G
225.09 599.48 M
225.09 594.23 L
216 599.48 L
225.09 604.73 L
F
540 599.48 M
225.09 599.48 L
S
0 0 612 792 CR
0 G
3 FF
(Deliberately map in an e) 252.0 592.649 T
(xtra page to e) 350.16 592.649 T
(x) 404.16 592.649 T
(ercise error path.) 409.01 592.649 T
3 FF
([17]) 190.34 613.649 T
4 FF
(netmem_addr) 252.0 613.649 T
(ess) 306.62 613.649 T
3 FF
( = 0;) 318.84 613.649 T
3 FF
([18]) 190.34 625.649 T
4 FF
(r) 252.0 625.649 T
3 FF
( = ) 255.89 625.649 T
0 FF
(vm_map) 266.53 625.649 T
3 FF
( \() 303.75 625.649 T
0 FF
(mach_task_self) 309.58 625.649 T
3 FF
( \(\), &) 375.13 625.649 T
4 FF
(netmem_addr) 397.07 625.649 T
(ess) 451.69 625.649 T
3 FF
(, 2 * ) 463.91 625.649 T
(vm_page_size, 0, TR) 306.0 635.649 T
(UE, ) 390.59 635.649 T
4 FF
(server_port) 408.92 635.649 T
3 FF
(, 0, F) 455.58 635.649 T
(ALSE, ) 475.401 635.649 T
(VM_PR) 306.0 645.649 T
(O) 338.94 645.649 T
(T_ALL, VM_PR) 345.76 645.649 T
(O) 414.251 645.649 T
(T_ALL, ) 421.071 645.649 T
(VM_INHERIT_NONE\);) 306.0 655.649 T
3 FF
([19]) 190.34 667.649 T
3 FF
(if \() 252.0 667.649 T
4 FF
(r) 263.94 667.649 T
3 FF
( != KERN_SUCCESS\)) 267.83 667.649 T
3 FF
([20]) 190.34 679.649 T
3 FF
({) 252.0 679.649 T
3 FF
([21]) 190.34 691.649 T
0 FF
(mach_err) 288.0 691.649 T
(or) 329.47 691.649 T
3 FF
( \(\322Object vm_map\323, ) 338.91 691.649 T
4 FF
(r) 422.78 691.649 T
3 FF
(\);) 426.67 691.649 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 127 127
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (123 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([22]) 82.34 115.667 T
3 FF
(e) 180.0 115.667 T
(xit \(\3201\);) 184.29 115.667 T
3 FF
([23]) 82.34 127.667 T
3 FF
(}) 144.0 127.667 T
3 FF
([24]) 82.34 139.667 T
3 FF
(printf \(\322Mapped at 0x%x\\n\323, ) 144.0 139.667 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(netmem_addr) 262.03 139.667 T
(ess) 316.65 139.667 T
3 FF
(\);) 328.87 139.667 T
72 143.999817 360 9 CR
1 G
72 143.999817 360 9 NF
0 G
3 FF
(/*) 91.224 151.831 T
3 SL
0 SC
0.6667 G
422.91 148.5 M
422.91 153.75 L
432 148.5 L
422.91 143.25 L
F
422.91 148.5 M
108 148.5 L
S
0 0 612 792 CR
0 G
3 FF
(Simple command format:) 144.0 160.666 T
(Letter of) 144.0 170.666 T
(fset data) 178.46 170.666 T
(Letter: p[ut], g[et], r[ead], w[rite]) 144.0 180.666 T
72 192.999573 360 9 CR
1 G
72 192.999573 360 9 NF
0 G
3 FF
(*/) 90.0 200.826 T
0.6667 G
117.09 197.5 M
117.09 192.25 L
108 197.5 L
117.09 202.75 L
F
432 197.5 M
117.09 197.5 L
S
0 0 612 792 CR
0 G
3 FF
(put and get are messages, read and write are memory) 144.0 190.666 T
(.) 355.51 190.666 T
3 FF
([25]) 82.34 211.666 T
3 FF
(printf \(\322Serv) 144.0 211.666 T
(er contacted. pgrw = put/get/read/write x = e) 194.67 211.666 T
(xit\\n\323\);) 372.98 211.666 T
3 FF
([26]) 82.34 223.666 T
3 FF
(for \(;;\)) 144.0 223.666 T
3 FF
([27]) 82.34 235.666 T
3 FF
({) 144.0 235.666 T
3 FF
([28]) 82.34 247.666 T
3 FF
(char) 180.0 247.666 T
4 FF
(cmd) 288.0 247.666 T
3 FF
(;) 304.66 247.666 T
3 FF
([29]) 82.34 259.666 T
3 FF
(int) 180.0 259.666 T
4 FF
(c) 288.0 259.666 T
3 FF
(, ) 292.44 259.666 T
4 FF
(of) 297.44 259.666 T
(fset) 305.04 259.666 T
3 FF
(, ) 318.93 259.666 T
4 FF
(data) 323.93 259.666 T
3 FF
(;) 341.71 259.666 T
3 FF
([30]) 82.34 271.666 T
3 FF
(printf \(\322pgrw> \323\);) 180.0 271.666 T
3 FF
([31]) 82.34 283.666 T
3 FF
(scanf \(\322%c %d\323, &) 180.0 283.666 T
4 FF
(cmd) 257.19 283.666 T
3 FF
(, &) 273.85 283.666 T
4 FF
(of) 286.63 283.666 T
(fset) 294.23 283.666 T
3 FF
(\);) 308.12 283.666 T
3 FF
([32]) 82.34 295.666 T
3 FF
(switch \() 180.0 295.666 T
4 FF
(cmd) 211.94 295.666 T
3 FF
(\)) 228.6 295.666 T
3 FF
([33]) 82.34 307.666 T
3 FF
({) 180.0 307.666 T
3 FF
([34]) 82.34 319.666 T
3 FF
(case \324p\325:) 180.0 319.666 T
([35]) 82.34 331.666 T
(scanf \(\322%d\323, &) 216.0 331.666 T
4 FF
(data) 277.92 331.666 T
3 FF
(\);) 295.7 331.666 T
([36]) 82.34 343.666 T
(printf \(\322put %d = %d\323, ) 216.0 343.666 T
4 FF
(of) 310.51 343.666 T
(fset) 318.11 343.666 T
3 FF
(, ) 332.0 343.666 T
4 FF
(data) 337.0 343.666 T
3 FF
(\);) 354.78 343.666 T
([37]) 82.34 355.665 T
4 FF
(r) 216.0 355.665 T
3 FF
( = ) 219.89 355.665 T
1 FF
(netmem_write) 230.53 355.665 T
3 FF
( \() 292.17 355.665 T
4 FF
(server_port) 298.0 355.665 T
3 FF
(, ) 344.66 355.665 T
4 FF
(of) 349.66 355.665 T
(fset) 357.26 355.665 T
3 FF
(, ) 371.15 355.665 T
4 FF
(data) 376.15 355.665 T
3 FF
(\);) 393.93 355.665 T
([38]) 82.34 367.665 T
(printf \(\322 result %d\\n\323, ) 216.0 367.665 T
4 FF
(r) 306.26 367.665 T
3 FF
(\);) 310.15 367.665 T
([39]) 82.34 379.665 T
(break;) 216.0 379.665 T
3 FF
([40]) 82.34 391.665 T
3 FF
(case \324g\325:) 180.0 391.665 T
([41]) 82.34 403.665 T
(printf \(\322get %d\323, ) 216.0 403.665 T
4 FF
(of) 285.98 403.665 T
(fset) 293.58 403.665 T
3 FF
(\);) 307.47 403.665 T
([42]) 82.34 415.665 T
4 FF
(r) 216.0 415.665 T
3 FF
( = ) 219.89 415.665 T
1 FF
(netmem_r) 230.53 415.665 T
(ead) 274.22 415.665 T
3 FF
( \() 289.22 415.665 T
4 FF
(server_port) 295.05 415.665 T
3 FF
(, ) 341.71 415.665 T
4 FF
(of) 346.71 415.665 T
(fset) 354.31 415.665 T
3 FF
(, &) 368.2 415.665 T
4 FF
(data) 380.98 415.665 T
3 FF
(\);) 398.76 415.665 T
([43]) 82.34 427.665 T
(printf \(\322 = %d result %d\\n\323, ) 216.0 427.665 T
4 FF
(data) 330.23 427.665 T
3 FF
(, ) 348.01 427.665 T
4 FF
(r) 353.01 427.665 T
3 FF
(\);) 356.9 427.665 T
([44]) 82.34 439.665 T
(break;) 216.0 439.665 T
3 FF
([45]) 82.34 451.665 T
3 FF
(case \324r\325:) 180.0 451.665 T
([46]) 82.34 463.665 T
4 FF
(data) 216.0 463.665 T
3 FF
( = * \(\(\(int *\) ) 233.78 463.665 T
4 FF
(netmem_addr) 285.8 463.665 T
(ess) 340.42 463.665 T
3 FF
(\) + ) 352.64 463.665 T
4 FF
(of) 366.61 463.665 T
(fset) 374.21 463.665 T
3 FF
(\);) 388.1 463.665 T
([47]) 82.34 475.665 T
(printf \(\322read %d = %d\\n\323, ) 216.0 475.665 T
4 FF
(of) 322.72 475.665 T
(fset) 330.32 475.665 T
3 FF
(, ) 344.21 475.665 T
4 FF
(data) 349.21 475.665 T
3 FF
(\);) 366.99 475.665 T
([48]) 82.34 487.665 T
(break;) 216.0 487.665 T
3 FF
([49]) 82.34 499.665 T
3 FF
(case \324w\325:) 180.0 499.665 T
([50]) 82.34 511.665 T
(scanf \(\322%d\323, &) 216.0 511.665 T
4 FF
(data) 277.92 511.665 T
3 FF
(\);) 295.7 511.665 T
([51]) 82.34 523.665 T
(* \(\(\(int *\)) 216.0 523.665 T
4 FF
(netmem_addr) 254.88 523.665 T
(ess) 309.5 523.665 T
3 FF
(\) + ) 321.72 523.665 T
4 FF
(of) 335.69 523.665 T
(fset) 343.29 523.665 T
3 FF
(\) = ) 357.18 523.665 T
4 FF
(data) 371.15 523.665 T
3 FF
(;) 388.93 523.665 T
([52]) 82.34 535.665 T
(printf \(\322write %d = %d\\n\323, ) 216.0 535.665 T
4 FF
(of) 326.06 535.665 T
(fset) 333.66 535.665 T
3 FF
(, ) 347.55 535.665 T
4 FF
(data) 352.55 535.665 T
3 FF
(\);) 370.33 535.665 T
([53]) 82.34 547.664 T
(break;) 216.0 547.664 T
3 FF
([54]) 82.34 559.664 T
3 FF
(case \324x\325:) 180.0 559.664 T
([55]) 82.34 571.664 T
(e) 216.0 571.664 T
(xit \(1\);) 220.29 571.664 T
3 FF
([56]) 82.34 583.664 T
3 FF
(def) 180.0 583.664 T
(ault:) 192.67 583.664 T
([57]) 82.34 595.664 T
(printf \(\322???\\n\323\);) 216.0 595.664 T
3 FF
([58]) 82.34 607.664 T
3 FF
(}) 180.0 607.664 T
3 FF
([59]) 82.34 619.664 T
3 FF
(while \(\() 180.0 619.664 T
4 FF
(c) 211.38 619.664 T
3 FF
( = getc \(stdin\)\) != \324\\n\325\);) 215.82 619.664 T
3 FF
([60]) 82.34 631.664 T
3 FF
(}) 144.0 631.664 T
72 635.997375 360 9 CR
1 G
72 635.997375 360 9 NF
0 G
3 FF
(/*) 90.0 643.829 T
0.6667 G
422.91 640.5 M
422.91 645.75 L
432 640.5 L
422.91 635.25 L
F
422.91 640.5 M
288 640.5 L
S
72 654.997314 360 9 CR
1 G
72 654.997314 360 9 NF
0 G
3 FF
(*/) 90.0 662.824 T
0.6667 G
297.09 659.5 M
297.09 654.25 L
288 659.5 L
297.09 664.75 L
F
432 659.5 M
297.09 659.5 L
S
0 0 612 792 CR
0 G
3 FF
(NO) 288.0 652.664 T
(TREA) 302.04 652.664 T
(CHED) 327.75 652.664 T
3 FF
([61]) 82.34 673.664 T
3 FF
(}) 108.0 673.664 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 128 128
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(124 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Mak) 180.0 114.984 T
(e\336le) 203.88 114.984 T
180 123.983963 360 9 CR
1 G
180 123.983963 360 9 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(/*) 199.224 131.815 T
3 SL
0.6667 G
530.91 128.48 M
530.91 133.73 L
540 128.48 L
530.91 123.23 L
F
530.91 128.48 M
216 128.48 L
S
0 0 612 792 CR
0 G
4 FF
(File: ) 216.0 140.651 T
0 FF
(Mak) 236.84 140.651 T
(e\336le) 256.74 140.651 T
4 FF
(Author: Da) 216.0 150.651 T
(vid L. Black) 261.07 150.651 T
216 160.650467 M 1.28894 0 32 (Mak) widthshow
234.230057 160.650467 M 1.28894 0 32 (e\336le for ) widthshow
0 FF
270.687927 160.650467 M 1.28894 0 32 (netmem) widthshow
4 FF
305.11795 160.650467 M 1.28894 0 32 ( e) widthshow
313.19696 160.650467 M 1.28894 0 32 (xample. A) widthshow
355.406311 160.650467 M 1.28894 0 32 (v) widthshow
360.206421 160.650467 M 1.28894 0 32 (oids use of mak) widthshow
427.023315 160.650467 M 1.28894 0 32 (e features for clarity) widthshow
511.040527 160.650467 M 1.28894 0 32 (. Mak) widthshow
535.559509 160.650467 M 1.28894 0 32 (e) widthshow
180 172.983719 360 9 CR
1 G
180 172.983719 360 9 NF
0 G
4 FF
(*/) 198.0 180.81 T
0.6667 G
225.09 177.48 M
225.09 172.23 L
216 177.48 L
225.09 182.73 L
F
540 177.48 M
225.09 177.48 L
S
0 0 612 792 CR
0 G
4 FF
(kno) 216.0 170.65 T
(ws ho) 230.75 170.65 T
(w to mak) 254.11 170.65 T
(e foo.o from foo.c \(cc \320c\).) 291.23 170.65 T
([1]) 195.34 191.65 T
(all: ) 216.0 191.65 T
0 FF
(netmem_client) 231.28 191.65 T
4 FF
( ) 294.04 191.65 T
0 FF
(netmem_pager) 296.54 191.65 T
4 FF
([2]) 195.34 203.65 T
0 FF
(netmem_pager) 216.0 203.65 T
4 FF
(:) 279.87 203.65 T
0 FF
( netmem_msg_ser) 282.65 203.65 T
(v) 359.47 203.65 T
(er) 364.37 203.65 T
4 FF
(.o ) 372.7 203.65 T
0 FF
(netmem_pager) 382.7 203.65 T
4 FF
(.o) 446.021 203.65 T
0 FF
( ) 453.521 203.65 T
(netmem_msg_r) 270.0 213.65 T
(eply_user) 335.91 213.65 T
4 FF
(.o) 376.47 213.65 T
4 FF
([3]) 195.34 225.65 T
4 FF
(cc \320o ) 252.0 225.65 T
0 FF
(netmem_pager) 275.88 225.65 T
4 FF
( ) 339.75 225.65 T
0 FF
(netmem_msg_ser) 342.25 225.65 T
(v) 416.57 225.65 T
(er) 421.47 225.65 T
4 FF
(.o) 429.8 225.65 T
0 FF
( ) 437.3 225.65 T
(netmem_msg_r) 306.0 235.65 T
(eply_user) 371.91 235.65 T
4 FF
(.o ) 412.47 235.65 T
0 FF
(netmem_pager) 422.47 235.65 T
4 FF
(.o \320lmach ) 485.791 235.65 T
4 FF
([4]) 195.34 247.65 T
0 FF
(netmem_pager) 216.0 247.65 T
4 FF
(.o:) 279.32 247.65 T
0 FF
( netmem_msg) 289.6 247.65 T
4 FF
(.h ) 348.75 247.65 T
0 FF
(netmem_defs) 358.75 247.65 T
4 FF
(.h ) 415.4 247.65 T
0 FF
(netmem_obj) 425.4 247.65 T
4 FF
(.h ) 478.72 247.65 T
0 FF
(netmem_pager) 270.0 257.65 T
4 FF
(.c ) 333.32 257.65 T
0 FF
(netmem_msg_r) 342.76 257.65 T
(eply) 408.67 257.65 T
4 FF
(.h) 425.801 257.65 T
4 FF
([5]) 195.34 269.65 T
4 FF
(cc \320c ) 252.0 269.65 T
0 FF
(netmem_pager) 275.32 269.65 T
4 FF
(.c) 338.64 269.65 T
4 FF
([6]) 195.34 281.65 T
0 FF
(netmem_client) 216.0 281.65 T
4 FF
(:) 278.76 281.65 T
0 FF
( netmem_msg_user) 281.54 281.65 T
4 FF
(.o ) 363.47 281.65 T
0 FF
(netmem_client) 373.47 281.65 T
4 FF
(.o) 436.23 281.65 T
4 FF
([7]) 195.34 293.65 T
4 FF
(cc \320o ) 252.0 293.65 T
0 FF
(netmem_client) 275.88 293.65 T
4 FF
( ) 338.64 293.65 T
0 FF
(netmem_msg_user) 341.14 293.65 T
4 FF
(.o ) 420.57 293.65 T
0 FF
(netmem_client) 430.57 293.65 T
4 FF
(.o \320lmach) 493.33 293.65 T
4 FF
([8]) 195.34 305.65 T
0 FF
(netmem_client) 216.0 305.65 T
4 FF
(.o:) 278.76 305.65 T
0 FF
( netmem_msg) 289.04 305.65 T
4 FF
(.h ) 348.19 305.65 T
0 FF
(netmem_defs) 358.19 305.65 T
4 FF
(.h ) 414.84 305.65 T
0 FF
(netmem_client) 424.84 305.65 T
4 FF
(.c) 487.6 305.65 T
4 FF
([9]) 195.34 317.65 T
4 FF
(cc \320c ) 252.0 317.65 T
0 FF
(netmem_client) 275.32 317.65 T
4 FF
(.c) 338.08 317.65 T
4 FF
([10]) 190.34 329.65 T
0 FF
(netmem_msg_ser) 216.0 329.65 T
(v) 290.32 329.65 T
(er) 295.22 329.65 T
4 FF
(.c ) 303.55 329.65 T
0 FF
(netmem_msg_user) 312.99 329.65 T
4 FF
(.c ) 392.421 329.65 T
0 FF
(netmem_msg) 401.861 329.65 T
4 FF
(.h:) 458.511 329.65 T
0 FF
( ) 468.791 329.65 T
(netmem_msg) 270.0 339.65 T
4 FF
(.defs) 326.65 339.65 T
4 FF
([11]) 190.34 351.649 T
4 FF
(mig \320serv) 252.0 351.649 T
(er ) 291.57 351.649 T
0 FF
(netmem_msg_ser) 301.84 351.649 T
(v) 376.16 351.649 T
(er) 381.06 351.649 T
4 FF
(.c \320user ) 389.391 351.649 T
0 FF
(netmem_msg_user) 422.991 351.649 T
4 FF
(.c ) 502.421 351.649 T
0 FF
(netmem_msg) 306.0 361.649 T
4 FF
(.defs) 362.65 361.649 T
4 FF
([12]) 190.34 373.649 T
0 FF
(netmem_msg_r) 216.0 373.649 T
(eply) 281.91 373.649 T
4 FF
(.h ) 299.04 373.649 T
0 FF
(netmem_msg_r) 309.04 373.649 T
(eply_user) 374.951 373.649 T
4 FF
(.c:) 415.511 373.649 T
0 FF
( netmem_msg_r) 425.231 373.649 T
(eply) 493.641 373.649 T
4 FF
(.defs) 510.771 373.649 T
4 FF
([13]) 190.34 385.649 T
4 FF
(mig \320user ) 252.0 385.649 T
0 FF
(netmem_msg_r) 294.22 385.649 T
(eply_user) 360.13 385.649 T
4 FF
(.c \320serv) 400.69 385.649 T
(er /de) 431.641 385.649 T
(v/null ) 453.881 385.649 T
0 FF
(netmem_msg_r) 306.0 395.649 T
(eply) 371.91 395.649 T
4 FF
(.defs) 389.04 395.649 T
3 FF
(Sample Output) 180.0 424.983 T
4 FF
180 441.649139 M 1.13121 0 32 (Start the pager and the client. \(The pager must be gi) widthshow
398.522278 441.649139 M 1.13121 0 32 (v) widthshow
403.372345 441.649139 M 1.13121 0 32 (en time to re) widthshow
456.886047 441.649139 M 1.13121 0 32 (gister itself with the) widthshow
(name serv) 180.0 453.649 T
(er) 220.67 453.649 T
(, so it is started \336rst.\)) 228.04 453.649 T
([1]) 195.34 471.649 T
(> ) 216.0 471.649 T
0 FF
(netmem_client) 224.14 471.649 T
4 FF
(> ) 396.0 471.649 T
0 FF
(netmem_pager) 404.14 471.649 T
4 FF
([2]) 195.34 483.649 T
4 FF
(Mapped at 0x1d000) 216.0 483.649 T
(init) 396.0 483.649 T
4 FF
([3]) 195.34 495.649 T
4 FF
(ready) 396.0 495.649 T
4 FF
([4]) 195.34 507.649 T
4 FF
(Serv) 216.0 507.649 T
(er contacted. pgrw = put/get/read/write x = e) 234.18 507.649 T
(xit) 412.49 507.649 T
0 FF
(netmem_write) 180.0 529.649 T
4 FF
(. P) 241.64 529.649 T
(age e) 252.05 529.649 T
(xists only in the manager) 272.72 529.649 T
(.) 372.72 529.649 T
4 FF
([5]) 195.34 547.649 T
4 FF
(pgrw> p 0 10) 216.0 547.649 T
(write) 396.0 547.649 T
4 FF
([6]) 195.34 559.649 T
4 FF
(put 0 = 10 result 0) 216.0 559.649 T
0 FF
(netmem_r) 180.0 581.649 T
(ead) 223.69 581.649 T
4 FF
(. P) 238.69 581.649 T
(age still only in the manager) 249.1 581.649 T
(.) 362.15 581.649 T
4 FF
([7]) 195.34 599.649 T
4 FF
(pgrw> g 0) 216.0 599.649 T
(read) 396.0 599.649 T
4 FF
([8]) 195.34 611.648 T
4 FF
(get 0 = 10 result 0) 216.0 611.648 T
180 633.648438 M 0.842392 0 32 (T) widthshow
185.31044 633.648438 M 0.842392 0 32 (ouch page. K) widthshow
239.78537 633.648438 M 0.842392 0 32 (ernel requests read-only cop) widthshow
355.232605 633.648438 M 0.842392 0 32 (y of page. Manager pro) widthshow
452.032288 633.648438 M 0.842392 0 32 (vides page. Both k) widthshow
528.899536 633.648438 M 0.842392 0 32 (er-) widthshow
(nel and manager ha) 180.0 645.648 T
(v) 257.83 645.648 T
(e current cop) 262.68 645.648 T
(y) 314.78 645.648 T
(.) 319.131 645.648 T
4 FF
([9]) 195.34 663.648 T
4 FF
(pgrw> r 0) 216.0 663.648 T
(data_request 1) 396.0 663.648 T
4 FF
([10]) 190.34 675.648 T
4 FF
(data_supply: lock 2) 396.0 675.648 T
4 FF
([11]) 190.34 687.648 T
4 FF
(read 0 = 10) 216.0 687.648 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 129 129
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (125 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Simple Memory Manager Example) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
1 FF
(netmem_r) 72.0 115.667 T
(ead) 115.69 115.667 T
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(. Manager can directly reply since it has a current cop) 130.69 115.667 T
(y) 345.25 115.667 T
(.) 349.601 115.667 T
3 FF
([12]) 82.34 133.667 T
3 FF
(pgrw> g 0) 108.0 133.667 T
(read) 288.0 133.667 T
3 FF
([13]) 82.34 145.667 T
3 FF
(get 0 = 10 result 0) 108.0 145.667 T
72 167.666443 M 0.559189 0 32 (Modify page. K) widthshow
136.468521 167.666443 M 0.559189 0 32 (ernel asks manager for write access. Write access granted. No) widthshow
388.661407 167.666443 M 0.559189 0 32 (w only the) widthshow
(k) 72.0 179.666 T
(ernel has a current cop) 76.9 179.666 T
(y) 167.32 179.666 T
(.) 171.67 179.666 T
3 FF
([14]) 82.34 197.666 T
3 FF
(pgrw> w 1 20) 108.0 197.666 T
(data_unlock 3) 288.0 197.666 T
3 FF
([15]) 82.34 209.666 T
3 FF
(lock_request: lock 0) 288.0 209.666 T
3 FF
([16]) 82.34 221.666 T
3 FF
(write 1 = 20) 108.0 221.666 T
(T) 72.0 243.666 T
(ouch page.) 77.31 243.666 T
3 FF
([17]) 82.34 261.666 T
3 FF
(pgrw> r 1) 108.0 261.666 T
3 FF
([18]) 82.34 273.666 T
3 FF
(read 1 = 20) 108.0 273.666 T
1 FF
72 295.665955 M 0.406067 0 32 (netmem_r) widthshow
115.690109 295.665955 M 0.406067 0 32 (ead) widthshow
3 FF
130.690109 295.665955 M 0.406067 0 32 (. Manager must ask k) widthshow
218.034439 295.665955 M 0.406067 0 32 (ernel for current cop) widthshow
301.062714 295.665955 M 0.406067 0 32 (y) widthshow
305.413086 295.665955 M 0.406067 0 32 (. Since the manager is only go-) widthshow
72 307.665894 M 0.362045 0 32 (ing to read the page, it does not ask the k) widthshow
239.110519 307.665894 M 0.362045 0 32 (ernel to \337ush its cop) widthshow
321.568756 307.665894 M 0.362045 0 32 (y) widthshow
325.919128 307.665894 M 0.362045 0 32 (, merely pro) widthshow
375.093292 307.665894 M 0.362045 0 32 (vide it and re-) widthshow
(mo) 72.0 319.666 T
(v) 84.63 319.666 T
(e write access.) 89.48 319.666 T
3 FF
([19]) 82.34 337.666 T
3 FF
(pgrw> g 1) 108.0 337.666 T
(read) 288.0 337.666 T
3 FF
([20]) 82.34 349.666 T
3 FF
(lock_request: clean, lock 2) 288.0 349.666 T
3 FF
([21]) 82.34 361.666 T
3 FF
(data_return) 288.0 361.666 T
3 FF
([22]) 82.34 373.666 T
3 FF
(lock_completed) 288.0 373.666 T
(Pending read done and reply generated.) 72.0 395.666 T
3 FF
([23]) 82.34 413.665 T
3 FF
(read) 288.0 413.665 T
3 FF
([24]) 82.34 425.665 T
3 FF
(read_reply) 288.0 425.665 T
3 FF
([25]) 82.34 437.665 T
3 FF
(get 1 = 20 result 0) 108.0 437.665 T
1 FF
72 459.665283 M 1.479263 0 32 (netmem_write) widthshow
3 FF
133.640015 459.665283 M 1.479263 0 32 (. Since the manager will modify the page, it must ask the k) widthshow
386.27124 459.665283 M 1.479263 0 32 (ernel to no) widthshow
(longer ha) 72.0 471.665 T
(v) 109.29 471.665 T
(e a cop) 114.14 471.665 T
(y) 142.36 471.665 T
(.) 146.711 471.665 T
3 FF
([26]) 82.34 489.665 T
3 FF
(pgrw> p 2 30) 108.0 489.665 T
(write) 288.0 489.665 T
3 FF
([27]) 82.34 501.665 T
3 FF
(lock_request: clean, \337ush, lock 7) 288.0 501.665 T
3 FF
([28]) 82.34 513.665 T
3 FF
(lock_completed) 288.0 513.665 T
(Pending write done here and reply generated.) 72.0 535.665 T
3 FF
([29]) 82.34 553.665 T
3 FF
(write) 288.0 553.665 T
3 FF
([30]) 82.34 565.665 T
3 FF
(write_reply) 288.0 565.665 T
3 FF
([31]) 82.34 577.665 T
3 FF
(put 2 = 30 result 0) 108.0 577.665 T
(Modify page. K) 72.0 599.665 T
(ernel asks manager for page with write access.) 135.35 599.665 T
3 FF
([32]) 82.34 617.665 T
3 FF
(pgrw> w 3 40) 108.0 617.665 T
(data_request 3) 288.0 617.665 T
3 FF
([33]) 82.34 629.665 T
3 FF
(data_supply: lock 0) 288.0 629.665 T
3 FF
([34]) 82.34 641.665 T
3 FF
(write 3 = 40) 108.0 641.665 T
1 FF
72 663.66449 M 1.479263 0 32 (netmem_write) widthshow
3 FF
133.640015 663.66449 M 1.479263 0 32 (. Since the manager will modify the page, it must ask the k) widthshow
386.27124 663.66449 M 1.479263 0 32 (ernel to no) widthshow
(longer ha) 72.0 675.664 T
(v) 109.29 675.664 T
(e a cop) 114.14 675.664 T
(y) 142.36 675.664 T
(. Here a full \337ush is necessary) 146.711 675.664 T
(.) 266.311 675.664 T
3 FF
([35]) 82.34 693.664 T
3 FF
(pgrw> p 4 50) 108.0 693.664 T
(write) 288.0 693.664 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 130 130
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(126 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
([36]) 190.34 113.651 T
3 FF
(lock_request: clean, \337ush, lock 7) 396.0 113.651 T
3 FF
([37]) 190.34 125.651 T
3 FF
(data_return) 396.0 125.651 T
3 FF
([38]) 190.34 137.651 T
3 FF
(lock_completed) 396.0 137.651 T
(Pending write done here.) 180.0 159.65 T
3 FF
([39]) 190.34 177.65 T
3 FF
(write) 396.0 177.65 T
3 FF
([40]) 190.34 189.65 T
3 FF
(write_reply) 396.0 189.65 T
3 FF
([41]) 190.34 201.65 T
3 FF
(put 4 = 50 result 0) 216.0 201.65 T
(Exit client. This will also send ) 180.0 223.65 T
0 FF
(memory_object_terminate) 304.17 223.65 T
3 FF
( to the manager) 417.46 223.65 T
(.) 478.84 223.65 T
3 FF
([42]) 190.34 241.65 T
3 FF
(pgrw> x 0) 216.0 241.65 T
(terminate) 396.0 241.65 T
(Start client ag) 180.0 263.65 T
(ain.) 235.5 263.65 T
3 FF
([43]) 190.34 281.65 T
3 FF
(> ) 216.0 281.65 T
0 FF
(netmem_client) 224.14 281.65 T
3 FF
([44]) 190.34 293.65 T
3 FF
(Mapped at 0x1d000) 216.0 293.65 T
(init) 396.0 293.65 T
3 FF
([45]) 190.34 305.65 T
3 FF
(ready) 396.0 305.65 T
3 FF
([46]) 190.34 317.65 T
3 FF
(Serv) 216.0 317.65 T
(er contacted. pgrw = put/get/...) 234.18 317.65 T
0 FF
(netmem_r) 180.0 339.65 T
(ead) 223.69 339.65 T
3 FF
(. Notice that the serv) 238.69 339.65 T
(er preserv) 321.58 339.65 T
(ed the page.) 361.13 339.65 T
3 FF
([47]) 190.34 357.65 T
3 FF
(pgrw> g 3) 216.0 357.65 T
(read) 396.0 357.65 T
3 FF
([48]) 190.34 369.65 T
3 FF
(get 3 = 40 result 0) 216.0 369.65 T
(T) 180.0 391.65 T
(ouch page. K) 185.31 391.65 T
(ernel requests read-only cop) 238.101 391.65 T
(y) 351.021 391.65 T
(.) 355.371 391.65 T
3 FF
([49]) 190.34 409.65 T
3 FF
(pgrw> r 4) 216.0 409.65 T
(data_request 1) 396.0 409.65 T
3 FF
([50]) 190.34 421.649 T
3 FF
(data_supply: lock 2) 396.0 421.649 T
3 FF
([51]) 190.34 433.649 T
3 FF
(read 4 = 50) 216.0 433.649 T
(Modify page. K) 180.0 455.649 T
(ernel asks manager for write access.) 243.35 455.649 T
3 FF
([52]) 190.34 473.649 T
3 FF
(pgrw> w 5 60) 216.0 473.649 T
(data_unlock 3) 396.0 473.649 T
3 FF
([53]) 190.34 485.649 T
3 FF
(lock_request: lock 0) 396.0 485.649 T
3 FF
([54]) 190.34 497.649 T
3 FF
(write 5 = 60) 216.0 497.649 T
180 519.649109 M 0.376053 0 32 (T) widthshow
185.31044 519.649109 M 0.376053 0 32 (ouch data within mapped windo) widthshow
314.884796 519.649109 M 0.376053 0 32 (w size b) widthshow
348.207031 519.649109 M 0.376053 0 32 (ut be) widthshow
368.153137 519.649109 M 0.376053 0 32 (yond memory object size. The k) widthshow
498.803467 519.649109 M 0.376053 0 32 (ernel does) widthshow
180 531.649048 M 0.666611 0 32 (not kno) widthshow
210.696747 531.649048 M 0.666611 0 32 (w that this is an error) widthshow
298.190125 531.649048 M 0.666611 0 32 (. The manager replies with ) widthshow
0 FF
410.943176 531.649048 M 0.666611 0 32 (memory_object_data_err) widthshow
519.613281 531.649048 M 0.666611 0 32 (or) widthshow
3 FF
529.053284 531.649048 M 0.666611 0 32 ( to) widthshow
(say that the page doesn\325) 180.0 543.649 T
(t e) 275.91 543.649 T
(xist.) 285.48 543.649 T
3 FF
([55]) 190.34 561.649 T
3 FF
(pgrw> r 1200) 216.0 561.649 T
(data_request 1) 396.0 561.649 T
3 FF
([56]) 190.34 573.649 T
3 FF
(data_error) 396.0 573.649 T
180 595.648804 M 0.789948 0 32 (The client tak) widthshow
236.469955 595.648804 M 0.789948 0 32 (es a memory error as a result. Its termination un-maps the \(only\) windo) widthshow
530.929504 595.648804 M 0.789948 0 32 (w) widthshow
537.499878 595.648804 M 0.789948 0 32 (,) widthshow
(which sends a ) 180.0 607.649 T
0 FF
(memory_object_terminate) 238.6 607.649 T
3 FF
( message to the manager) 351.89 607.649 T
(.) 449.65 607.649 T
3 FF
([57]) 190.34 625.649 T
3 FF
(Bus error \(core dumped\)) 216.0 625.649 T
(data_return) 396.0 625.649 T
3 FF
([58]) 190.34 637.649 T
3 FF
(terminate) 396.0 637.649 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 131 131
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (127 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Object Cache) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
72 121.999924 360 3.024002 CR
0 G
432 123.51 M
72 123.51 L
S
0 0 612 792 CR
3 (Times-Bold) 14 1 mymakefontmetric
3 FF
(Object Cache) 72.0 118.333 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 142.690552 M 0.666656 0 32 (The Mach k) widthshow
121.553375 142.690552 M 0.666656 0 32 (ernel, through its memory cache object, maintains a ph) widthshow
346.246674 142.690552 M 0.666656 0 32 (ysical memory cache) widthshow
72 154.690491 M 1.938629 0 32 (of pages for a gi) widthshow
144.484665 154.690491 M 1.938629 0 32 (v) widthshow
149.334747 154.690491 M 1.938629 0 32 (en memory object. The contents of this cache v) widthshow
353.723938 154.690491 M 1.938629 0 32 (aries o) widthshow
381.892639 154.690491 M 1.938629 0 32 (v) widthshow
386.742737 154.690491 M 1.938629 0 32 (er time, of) widthshow
72 166.69043 M 0.301849 0 32 (course, b) widthshow
108.201965 166.69043 M 0.301849 0 32 (ut the cache e) widthshow
163.657608 166.69043 M 0.301849 0 32 (xists as long as does the memory object. This is normally until the) widthshow
(last user of the object un-maps it.) 72.0 178.69 T
72 202.690308 M 0.762405 0 32 (V) widthshow
78.110611 202.690308 M 0.762405 0 32 (arious objects \(such as e) widthshow
178.210327 202.690308 M 0.762405 0 32 (x) widthshow
183.06041 202.690308 M 0.762405 0 32 (ecutable \336les and \336les that are read as soon as the) widthshow
388.824585 202.690308 M 0.762405 0 32 (y are writ-) widthshow
72 214.690247 M 1.342239 0 32 (ten\) w) widthshow
98.512299 214.690247 M 1.342239 0 32 (ould bene\336t from being kno) widthshow
215.291397 214.690247 M 1.342239 0 32 (wn to the k) widthshow
263.938171 214.690247 M 1.342239 0 32 (ernel e) widthshow
291.960571 214.690247 M 1.342239 0 32 (v) widthshow
296.810638 214.690247 M 1.342239 0 32 (en though the) widthshow
353.785217 214.690247 M 1.342239 0 32 (y \(temporarily\) are) widthshow
72 226.690186 M 0.290634 0 32 (not mapped by an) widthshow
144.10199 226.690186 M 0.290634 0 32 (y task. This beha) widthshow
212.544006 226.690186 M 0.290634 0 32 (vior can be achie) widthshow
281.196045 226.690186 M 0.290634 0 32 (v) widthshow
286.046143 226.690186 M 0.290634 0 32 (ed with the cacheability attrib) widthshow
405.878784 226.690186 M 0.290634 0 32 (ute set) widthshow
(via ) 72.0 238.69 T
1 FF
(memory_object_change_attrib) 86.72 238.69 T
(utes) 217.6 238.69 T
4 FF
(.) 234.82 238.69 T
72 262.690063 M 0.488388 0 32 (Objects mark) widthshow
125.988449 262.690063 M 0.488388 0 32 (ed as cacheable in this w) widthshow
227.470459 262.690063 M 0.488388 0 32 (ay are not af) widthshow
278.385773 262.690063 M 0.488388 0 32 (fected during normal operation. Ho) widthshow
421.449463 262.690063 M 0.488388 0 32 (w-) widthshow
72 274.690002 M 0.580551 0 32 (e) widthshow
76.19014 274.690002 M 0.580551 0 32 (v) widthshow
81.040222 274.690002 M 0.580551 0 32 (er) widthshow
88.410446 274.690002 M 0.580551 0 32 (, when the last task un-maps then, the) widthshow
242.584396 274.690002 M 0.580551 0 32 (y are k) widthshow
270.85556 274.690002 M 0.580551 0 32 (ept in a \(small\) k) widthshow
340.847839 274.690002 M 0.580551 0 32 (ernel cache of objects,) widthshow
72 286.689941 M 1.453049 0 32 (thereby preserving their ph) widthshow
184.339188 286.689941 M 1.453049 0 32 (ysical cache contents \(to the e) widthshow
311.144531 286.689941 M 1.453049 0 32 (xtent that their pages are not) widthshow
72 298.689911 M 0.122833 0 32 (e) widthshow
76.19014 298.689911 M 0.122833 0 32 (victed via normal system paging acti) widthshow
223.484451 298.689911 M 0.122833 0 32 (vity\). When a task does map them ag) widthshow
372.604309 298.689911 M 0.122833 0 32 (ain, no ) widthshow
1 FF
402.570007 298.689911 M 0.122833 0 32 (memo-) widthshow
72 310.68988 M 0.317413 0 32 (ry_object_notify) widthshow
4 FF
142.540009 310.68988 M 0.317413 0 32 ( message will be sent to the manager) widthshow
291.282135 310.68988 M 0.317413 0 32 (, since the) widthshow
332.037048 310.68988 M 0.317413 0 32 (y were ne) widthshow
371.292023 310.68988 M 0.317413 0 32 (v) widthshow
376.14209 310.68988 M 0.317413 0 32 (er terminated.) widthshow
4 FF
72 322.68988 M 0.373306 0 32 (If not mapped, though, at some future time the object will be terminated, with the appro-) widthshow
(priate message being sent to the manager) 72.0 334.69 T
(.) 235.86 334.69 T
72 358.689819 M 0.491409 0 32 (If an object is cacheable b) widthshow
178.387177 358.689819 M 0.491409 0 32 (ut not mapped, and the cacheable attrib) widthshow
338.045776 358.689819 M 0.491409 0 32 (ute is disabled \() widthshow
1 FF
402.570007 358.689819 M 0.491409 0 32 (memo-) widthshow
(ry_object_change_attrib) 72.0 370.69 T
(utes) 176.78 370.69 T
4 FF
(\), the object will be terminated.) 194.0 370.69 T
72 412.02301 360 3.024002 CR
432 413.53 M
72 413.53 L
S
0 0 612 792 CR
3 FF
(Pr) 72.0 408.356 T
(ecious P) 86.518 408.356 T
(ages) 134.986 408.356 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
72 432.713623 M 0.293228 0 32 (Pr) widthshow
81.630203 432.713623 M 0.293228 0 32 (ecious) widthshow
4 FF
107.180206 432.713623 M 0.293228 0 32 ( pages \(described in the ) widthshow
5 FF
205.56636 432.713623 M 0.293228 0 32 (K) widthshow
211.886551 432.713623 M 0.293228 0 32 (ernel Principles) widthshow
4 FF
276.339783 432.713623 M 0.293228 0 32 ( document\) create a v) widthshow
363.342834 432.713623 M 0.293228 0 32 (ariety of dif) widthshow
410.889465 432.713623 M 0.293228 0 32 <de63756c2d> widthshow
(ties in the page management protocols:) 72.0 444.714 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 72.0 462.714 T
4 FF
85.535995 462.713501 M 1.156693 0 32 (The memory manager can send multiple ) widthshow
5 FF
256.336182 462.713501 M 1.156693 0 32 (pr) widthshow
264.856384 462.713501 M 1.156693 0 32 (ecious) widthshow
4 FF
290.406372 462.713501 M 1.156693 0 32 ( pages with a single ) widthshow
1 FF
377.569824 462.713501 M 1.156693 0 32 (memory_ob-) widthshow
85.535995 474.71344 M 0.49942 0 32 (ject_data_supply) widthshow
4 FF
158.315994 474.71344 M 0.49942 0 32 ( call. The k) widthshow
204.704315 474.71344 M 0.49942 0 32 (ernel, ho) widthshow
239.943878 474.71344 M 0.49942 0 32 (we) widthshow
251.354019 474.71344 M 0.49942 0 32 (v) widthshow
256.204102 474.71344 M 0.49942 0 32 (er) widthshow
263.574341 474.71344 M 0.49942 0 32 (, may not accept them all for v) widthshow
389.020416 474.71344 M 0.49942 0 32 (arious rea-) widthshow
85.535995 486.713379 M 0.24025 0 32 (sons \(most lik) widthshow
142.036545 486.713379 M 0.24025 0 32 (ely because the k) widthshow
211.24736 486.713379 M 0.24025 0 32 (ernel already has one or the k) widthshow
330.328918 486.713379 M 0.24025 0 32 (ernel does not w) widthshow
396.769745 486.713379 M 0.24025 0 32 (ant one\).) widthshow
85.535995 498.713318 M 1.010208 0 32 (As such, the k) widthshow
145.126678 498.713318 M 1.010208 0 32 (ernel may be f) widthshow
205.537369 498.713318 M 1.010208 0 32 (aced with some pages it must return to the manager) widthshow
419.879578 498.713318 M 1.010208 0 32 (. It) widthshow
85.535995 510.713257 M 0.480301 0 32 (will do so with ) widthshow
1 FF
149.687195 510.713257 M 0.480301 0 32 (memory_object_data_r) widthshow
249.47731 510.713257 M 0.480301 0 32 (etur) widthshow
267.097412 510.713257 M 0.480301 0 32 (n) widthshow
4 FF
272.65741 510.713257 M 0.480301 0 32 ( calls. If the memory manager w) widthshow
405.129272 510.713257 M 0.480301 0 32 (ants to) widthshow
85.535995 522.713196 M 0.323563 0 32 (synchronize with this data return, it can do so by requesting a reply message from the) widthshow
85.535995 534.713135 M 2.807648 0 32 (data supply call. This reply) widthshow
204.716949 534.713135 M 2.807648 0 32 (,) widthshow
7 (Symbol) 10 1 mymakefontmetric
7 FF
207.216949 534.713135 M 2.807648 0 32 ( ) widthshow
1 FF
212.524597 534.713135 M 2.807648 0 32 (memory_object_supply_completed) widthshow
4 FF
361.394592 534.713135 M 2.807648 0 32 ( indicates which) widthshow
85.535995 546.713074 M 1.376144 0 32 (pages were accepted. The reply will follo) widthshow
258.77301 546.713074 M 1.376144 0 32 (w all data return messages resulting from) widthshow
85.535995 558.713013 M 0.535202 0 32 (the data supply) widthshow
146.50676 558.713013 M 0.535202 0 32 (, so the manager can use this reply message as the delimiter of the se-) widthshow
(quence.) 85.536 570.713 T
6 FF
<a5> 72.0 585.713 T
4 FF
85.535995 585.712891 M 1.46312 0 32 (When the k) widthshow
134.462296 585.712891 M 1.46312 0 32 (ernel e) widthshow
162.60556 585.712891 M 1.46312 0 32 (victs pages of the memory object, it must return to the manager) widthshow
85.535995 597.71283 M 1.206055 0 32 (both modi\336ed pages \() widthshow
5 FF
176.094162 597.71283 M 1.206055 0 32 (pr) widthshow
184.614365 597.71283 M 1.206055 0 32 (ecious) widthshow
4 FF
210.164368 597.71283 M 1.206055 0 32 ( or otherwise\) as well as ) widthshow
5 FF
316.820709 597.71283 M 1.206055 0 32 (pr) widthshow
325.340912 597.71283 M 1.206055 0 32 (ecious) widthshow
4 FF
350.89093 597.71283 M 1.206055 0 32 ( pages \(modi\336ed or) widthshow
85.535995 609.712769 M 0.233719 0 32 (not\). The ) widthshow
1 FF
125.163437 609.712769 M 0.233719 0 32 (memory_object_data_r) widthshow
224.953552 609.712769 M 0.233719 0 32 (etur) widthshow
242.573639 609.712769 M 0.233719 0 32 (n) widthshow
4 FF
248.133636 609.712769 M 0.233719 0 32 ( message has information to allo) widthshow
378.76239 609.712769 M 0.233719 0 32 (w the memo-) widthshow
(ry manager to be able to tell the dif) 85.536 621.713 T
(ference between these cases.) 225.816 621.713 T
6 FF
<a5> 72.0 636.713 T
4 FF
85.535995 636.712646 M 1.133041 0 32 (Gi) widthshow
95.286133 636.712646 M 1.133041 0 32 (v) widthshow
100.136215 636.712646 M 1.133041 0 32 (en the asynchronous nature of the memory management messages, it is possible) widthshow
85.535995 648.712585 M 0.947983 0 32 (that the memory object is terminated while the memory manager is trying to supply) widthshow
85.535995 660.712524 M 0.688095 0 32 (\() widthshow
5 FF
88.865997 660.712524 M 0.688095 0 32 (pr) widthshow
97.3862 660.712524 M 0.688095 0 32 (ecious) widthshow
4 FF
122.936203 660.712524 M 0.688095 0 32 (\) data to it \(by data supply messages to the memory cache control port\). T) widthshow
427 660.712524 M 0.688095 0 32 (o) widthshow
85.535995 672.712524 M 0.374069 0 32 (a) widthshow
89.776108 672.712524 M 0.374069 0 32 (v) widthshow
94.576218 672.712524 M 0.374069 0 32 (oid discarding these ) widthshow
5 FF
178.188431 672.712524 M 0.374069 0 32 (pr) widthshow
186.708633 672.712524 M 0.374069 0 32 (ecious) widthshow
4 FF
212.258636 672.712524 M 0.374069 0 32 ( pages, the k) widthshow
263.270905 672.712524 M 0.374069 0 32 (ernel gi) widthshow
293.6651 672.712524 M 0.374069 0 32 (v) widthshow
298.515198 672.712524 M 0.374069 0 32 (es the recei) widthshow
343.993469 672.712524 M 0.374069 0 32 (v) widthshow
348.843567 672.712524 M 0.374069 0 32 (e right to the memo-) widthshow
85.535995 684.712463 M 1.68338 0 32 (ry cache port to the memory manager in the ) widthshow
1 FF
278.146423 684.712463 M 1.68338 0 32 (memory_object_terminate) widthshow
4 FF
391.436462 684.712463 M 1.68338 0 32 ( message.) widthshow
(The memory manager must drain this port to re-obtain all of its ) 85.536 696.712 T
5 FF
(pr) 341.066 696.712 T
(ecious) 349.586 696.712 T
4 FF
( pages.) 375.136 696.712 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 132 132
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(128 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Bold) 14 1 mymakefontmetric
3 FF
(Synchr) 180.0 116.317 T
(onization with Multiple Objects, K) 222.532 116.317 T
(er) 429.466 116.317 T
(nels and ) 441.688 116.317 T
180 135.983856 360 3.024002 CR
0.25 SL
2 SC
540 137.5 M
180 137.5 L
S
0 0 612 792 CR
3 FF
(Thr) 180.0 132.317 T
(eads) 203.086 132.317 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
180 156.674484 M 0.408966 0 32 (The e) widthshow
202.749054 156.674484 M 0.408966 0 32 (xternal memory management protocol consists of asynchronous interactions so that) widthshow
180 168.674423 M 1.691742 0 32 (the maximum de) widthshow
250.453568 168.674423 M 1.691742 0 32 (gree of parallelism can be achie) widthshow
385.562439 168.674423 M 1.691742 0 32 (v) widthshow
390.412537 168.674423 M 1.691742 0 32 (ed. This places considerable b) widthshow
517.229614 168.674423 M 1.691742 0 32 (urden) widthshow
180 180.674362 M 0.894119 0 32 (upon the memory manager to correctly synchronize acti) widthshow
409.569 180.674362 M 0.894119 0 32 (vities upon its objects. Man) widthshow
523.275574 180.674362 M 0.894119 0 32 (y of) widthshow
180 192.674301 M 0.415649 0 32 (the concerns in) widthshow
240.971527 192.674301 M 0.415649 0 32 (v) widthshow
245.771637 192.674301 M 0.415649 0 32 (olv) widthshow
258.401733 192.674301 M 0.415649 0 32 (ed in writing a multi-threaded pager are the same as those for writing) widthshow
(an) 180.0 204.674 T
(y other multi-threaded serv) 189.29 204.674 T
(er) 297.73 204.674 T
(.) 304.95 204.674 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Multiple P) 180.0 236.008 T
(ages) 234.216 236.008 T
4 FF
180 252.674133 M 1.004333 0 32 (First of all, the manager must track the state of each page. F) widthshow
431.302124 252.674133 M 1.004333 0 32 (or each page, the manager) widthshow
180 264.674072 M 0.521271 0 32 (must track its o) widthshow
242.703949 264.674072 M 0.521271 0 32 (wnership and location \(which k) widthshow
370.779114 264.674072 M 0.521271 0 32 (ernels hold a cop) widthshow
440.282959 264.674072 M 0.521271 0 32 (y) widthshow
444.633331 264.674072 M 0.521271 0 32 (, whether the page is in) widthshow
180 276.674011 M 0.920746 0 32 (transit to backing store or other k) widthshow
318.18454 276.674011 M 0.920746 0 32 (ernels\) and an) widthshow
375.966125 276.674011 M 0.920746 0 32 (y outstanding operations upon the page.) widthshow
180 288.67395 M 0.628311 0 32 (Also, the manager must not attempt multiple simultaneous page-in or access changes on) widthshow
(the same page.) 180.0 300.674 T
180 324.673828 M 0.751114 0 32 (The manager is allo) widthshow
261.153503 324.673828 M 0.751114 0 32 (wed to operate on a set of pages in a gi) widthshow
423.934784 324.673828 M 0.751114 0 32 (v) widthshow
428.784851 324.673828 M 0.751114 0 32 (en interaction with the k) widthshow
528.899414 324.673828 M 0.751114 0 32 (er-) widthshow
180 336.673767 M 1.056595 0 32 (nel. Ho) widthshow
210.246735 336.673767 M 1.056595 0 32 (we) widthshow
221.656876 336.673767 M 1.056595 0 32 (v) widthshow
226.506958 336.673767 M 1.056595 0 32 (er) widthshow
233.877182 336.673767 M 1.056595 0 32 (, multiple ranges must not o) widthshow
350.680237 336.673767 M 1.056595 0 32 (v) widthshow
355.530334 336.673767 M 1.056595 0 32 (erlap. If a request supplies pages 2, 3 and 4,) widthshow
(for e) 180.0 348.674 T
(xample, a second request must not supply pages 4, 5 and 6.) 198.45 348.674 T
180 372.673645 M 0.426636 0 32 (It is an error to supply a page more than once, and the k) widthshow
408.176331 372.673645 M 0.426636 0 32 (ernel does not guarantee that the) widthshow
180 384.673584 M 0.226624 0 32 <de72737420726571756573742077696c6c20626520636f6d706c6574656c792070726f636573736564206265666f726520746865207365636f6e642e2049662061207061676520697320737570706c696564207468617420746865> widthshow
180 396.673523 M 0.623016 0 32 (k) widthshow
184.900055 396.673523 M 0.623016 0 32 (ernel still holds, the data supply is ignored. Ho) widthshow
376.294312 396.673523 M 0.623016 0 32 (we) widthshow
387.704468 396.673523 M 0.623016 0 32 (v) widthshow
392.554565 396.673523 M 0.623016 0 32 (er) widthshow
399.924774 396.673523 M 0.623016 0 32 (, the follo) widthshow
439.530945 396.673523 M 0.623016 0 32 (wing scenario will result) widthshow
(in page inconsistenc) 180.0 408.673 T
(y:) 260.95 408.673 T
6 (Times-Roman) 7 1 mymakefontmetric
6 FF
<a5> 180.0 426.673 T
4 FF
(The manager supplies a writable page to the k) 193.536 426.673 T
(ernel which is subsequently modi\336ed.) 377.286 426.673 T
6 FF
<a5> 180.0 441.673 T
4 FF
(The k) 193.536 441.673 T
(ernel decides to e) 216.486 441.673 T
(vict the modi\336ed page.) 285.936 441.673 T
6 FF
<a5> 180.0 456.673 T
4 FF
193.535995 456.673279 M 1.761047 0 32 (Not yet seeing the e) widthshow
279.760315 456.673279 M 1.761047 0 32 (victed page, the manager re-supplies the \(old contents of the\)) widthshow
(page.) 193.536 468.673 T
6 FF
<a5> 180.0 483.673 T
4 FF
(The k) 193.536 483.673 T
(ernel accepts this old page thereby ef) 216.486 483.673 T
(fecti) 364.526 483.673 T
(v) 382.046 483.673 T
(ely discarding the recent changes.) 386.896 483.673 T
5 FF
(Multiple Objects) 180.0 515.006 T
4 FF
180 531.673035 M 1.151962 0 32 (When the manager manages multiple objects, it is typical to create a port set that con-) widthshow
180 543.672974 M 1.251297 0 32 (tains the recei) widthshow
237.79274 543.672974 M 1.251297 0 32 (v) widthshow
242.642822 543.672974 M 1.251297 0 32 (e rights for the v) widthshow
313.498169 543.672974 M 1.251297 0 32 (arious abstract memory object ports to be used for the) widthshow
180 555.672913 M 0.959961 0 32 (serv) widthshow
196.510086 555.672913 M 0.959961 0 32 (er loop \() widthshow
0 FF
232.310013 555.672913 M 0.959961 0 32 (mach_msg_ser) widthshow
295.53009 555.672913 M 0.959961 0 32 (v) widthshow
300.430115 555.672913 M 0.959961 0 32 (er) widthshow
4 FF
309.31012 555.672913 M 0.959961 0 32 (\). The manager needs some translation table to translate) widthshow
180 567.672852 M 0.292084 0 32 (from port to memory object control structure. W) widthshow
375.504822 567.672852 M 0.292084 0 32 (ith care the manager can actually use the) widthshow
180 579.672852 M 0.70079 0 32 (memory object control structure address as the port name for the corresponding abstract) widthshow
(memory object port as discussed in CHAPTER 6.) 180.0 591.673 T
5 FF
(Multiple Thr) 180.0 623.006 T
(eads) 246.792 623.006 T
4 FF
180 639.672729 M 0.899124 0 32 (T) widthshow
185.31044 639.672729 M 0.899124 0 32 (o achie) widthshow
214.559708 639.672729 M 0.899124 0 32 (v) widthshow
219.40979 639.672729 M 0.899124 0 32 (e greater parallelism in the memory manager) widthshow
403.804779 639.672729 M 0.899124 0 32 (, aside from the use of asynchro-) widthshow
180 651.672668 M 1.450882 0 32 (nous interactions, the manager w) widthshow
317.623596 651.672668 M 1.450882 0 32 (ould typically use multiple threads. A simple minded) widthshow
180 663.672607 M 0.674973 0 32 (use of multiple threads is to assign each memory object to one and only one thread \(b) widthshow
532.219727 663.672607 M 0.674973 0 32 (ut) widthshow
180 675.672546 M 0.928299 0 32 (dif) widthshow
190.860138 675.672546 M 0.928299 0 32 (ferent objects or sets of objects to dif) widthshow
345.138367 675.672546 M 0.928299 0 32 (ferent threads\) thereby preserving the operation) widthshow
180 687.672485 M 0.608246 0 32 (ordering described in the pre) widthshow
297.153137 687.672485 M 0.608246 0 32 (vious sections. Ho) widthshow
371.729767 687.672485 M 0.608246 0 32 (we) widthshow
383.139893 687.672485 M 0.608246 0 32 (v) widthshow
387.98999 687.672485 M 0.608246 0 32 (er) widthshow
395.360229 687.672485 M 0.608246 0 32 (, this limits parallelism for an) widthshow
516.031494 687.672485 M 0.608246 0 32 (y gi) widthshow
531.669922 687.672485 M 0.608246 0 32 (v-) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 133 133
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (129 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Synchr) 72.0 56.824 T
(onization with Multiple Objects, K) 99.342 56.824 T
(er) 232.372 56.824 T
(nels and Thr) 240.229 56.824 T
(eads) 289.081 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666626 M 0.398636 0 32 (en object; the k) widthshow
134.475967 115.666626 M 0.398636 0 32 (ernel is fully capable of supporting operations on multiple pages of a sin-) widthshow
72 127.666565 M 0.263748 0 32 (gle object at the same time. The use of multiple threads to handle paging operations for a) widthshow
(single object requires special care.) 72.0 139.667 T
72 163.666443 M 2.567215 0 32 (As an e) widthshow
106.974518 163.666443 M 2.567215 0 32 (xample of the synchronization problem, consider the follo) widthshow
356.885193 163.666443 M 2.567215 0 32 (wing sequence of) widthshow
(e) 72.0 175.666 T
(v) 76.19 175.666 T
(ents:) 81.04 175.666 T
4 (Times-Roman) 7 1 mymakefontmetric
4 FF
<a5> 72.0 193.666 T
3 FF
(The k) 85.536 193.666 T
(ernel decides to e) 108.486 193.666 T
(vict a modi\336ed page.) 177.936 193.666 T
4 FF
<a5> 72.0 208.666 T
3 FF
(The k) 85.536 208.666 T
(ernel subsequently decides to read the page ag) 108.486 208.666 T
(ain.) 293.666 208.666 T
4 FF
<a5> 72.0 223.666 T
3 FF
85.535995 223.666199 M 1.952591 0 32 (Manager thread X recei) widthshow
185.823929 223.666199 M 1.952591 0 32 (v) widthshow
190.674011 223.666199 M 1.952591 0 32 (es the ) widthshow
1 FF
220.129196 223.666199 M 1.952591 0 32 (memory_object_data_r) widthshow
319.919312 223.666199 M 1.952591 0 32 (etur) widthshow
337.539398 223.666199 M 1.952591 0 32 (n) widthshow
3 FF
343.099396 223.666199 M 1.952591 0 32 ( message and is pre-) widthshow
3 FF
(empted before it can process the request.) 85.536 235.666 T
4 FF
<a5> 72.0 250.666 T
3 FF
85.535995 250.666077 M 1.275436 0 32 (Manager thread Y recei) widthshow
183.792465 250.666077 M 1.275436 0 32 (v) widthshow
188.642548 250.666077 M 1.275436 0 32 (es the ) widthshow
1 FF
216.743423 250.666077 M 1.275436 0 32 (memory_object_data_r) widthshow
316.533539 250.666077 M 1.275436 0 32 (equest) widthshow
3 FF
343.75354 250.666077 M 1.275436 0 32 ( message. Not realiz-) widthshow
(ing that the page had been modi\336ed, it returns the old cop) 85.536 262.666 T
(y of backing store.) 315.966 262.666 T
4 FF
<a5> 72.0 277.666 T
3 FF
(Thread X gets to run ag) 85.536 277.666 T
(ain, updating backing store.) 180.186 277.666 T
(In this case, the k) 72.0 301.666 T
(ernel does not recei) 141.61 301.666 T
(v) 219.39 301.666 T
(e the correct \(latest\) page contents.) 224.24 301.666 T
72 325.665833 M 0.357971 0 32 (Mach ports guarantee that the order that messages are en-queued onto a port \(from a sin-) widthshow
72 337.665771 M 0.114319 0 32 (gle source\) is the same order in which the) widthshow
239.394653 337.665771 M 0.114319 0 32 (y will be de-queued. Ho) widthshow
335.972076 337.665771 M 0.114319 0 32 (we) widthshow
347.382202 337.665771 M 0.114319 0 32 (v) widthshow
352.2323 337.665771 M 0.114319 0 32 (er) widthshow
359.602539 337.665771 M 0.114319 0 32 (, this is not neces-) widthshow
72 349.66571 M 1.291962 0 32 (sarily the same order in which a serv) widthshow
227.803833 349.66571 M 1.291962 0 32 (er will process them; that order is determined by) widthshow
72 361.665649 M 2.670853 0 32 (scheduling concerns. F) widthshow
169.121796 361.665649 M 2.670853 0 32 (or a memory manager to correctly maintain an) widthshow
373.457886 361.665649 M 2.670853 0 32 (y gi) widthshow
391.158875 361.665649 M 2.670853 0 32 (v) widthshow
396.008942 361.665649 M 2.670853 0 32 (en page,) widthshow
(though, it must process these operations in order) 72.0 373.666 T
(.) 265.32 373.666 T
72 397.665527 M 0.196609 0 32 (T) widthshow
77.31044 397.665527 M 0.196609 0 32 (o maintain this order) widthshow
160.550491 397.665527 M 0.196609 0 32 (, Mach IPC assigns sequence numbers to messages. These numbers) widthshow
72 409.665466 M 0.799179 0 32 (pro) widthshow
85.180084 409.665466 M 0.799179 0 32 (vide the order in which messages are de-queued from a source. F) widthshow
353.75116 409.665466 M 0.799179 0 32 (or a multi-threaded) widthshow
72 421.665405 M 2.06543 0 32 (manager to maintain operation order) widthshow
225.941956 421.665405 M 2.06543 0 32 (, it must synchronize ag) widthshow
329.423706 421.665405 M 2.06543 0 32 (ainst the memory object) widthshow
72 433.665344 M 0.839081 0 32 (structure. That is, the memory object structure maintains an operation sequence number) widthshow
72 445.665283 M 0.043289 0 32 (that is incremented whene) widthshow
176.580017 445.665283 M 0.043289 0 32 (v) widthshow
181.430099 445.665283 M 0.043289 0 32 (er an operation is processed. If a thread \(thread Y in the e) widthshow
411.449707 445.665283 M 0.043289 0 32 (xam-) widthshow
72 457.665222 M 0.671951 0 32 (ple sequence abo) widthshow
141.503998 457.665222 M 0.671951 0 32 (v) widthshow
146.35408 457.665222 M 0.671951 0 32 (e\) \336nds that the sequence number in its message is not one more than) widthshow
72 469.665161 M 0.79303 0 32 (the sequence number re\337ected in the memory object structure, it kno) widthshow
354.350464 469.665161 M 0.79303 0 32 (ws that some other) widthshow
72 481.6651 M 1.433029 0 32 (thread has the interv) widthshow
157.51918 481.6651 M 1.433029 0 32 (ening operation. The thread w) widthshow
283.401367 481.6651 M 1.433029 0 32 (ould then put its operation onto the) widthshow
(pending operation queue for that object.) 72.0 493.665 T
5 (Times-Bold) 12 1 mymakefontmetric
5 FF
(Multiple K) 72.0 524.998 T
(er) 128.04 524.998 T
(nels) 138.516 524.998 T
3 FF
72 541.664917 M 0.963593 0 32 (A manager that supports distrib) widthshow
201.754486 541.664917 M 0.963593 0 32 (uted memory spanning multiple k) widthshow
340.508911 541.664917 M 0.963593 0 32 (ernels \322simply\323 has to) widthshow
72 553.664856 M 0.525284 0 32 (track the state of each page on each k) widthshow
225.492355 553.664856 M 0.525284 0 32 (ernel, re) widthshow
258.527771 553.664856 M 0.525284 0 32 (v) widthshow
263.327881 553.664856 M 0.525284 0 32 (oking access and passing pages from ma-) widthshow
(chine to machine. Much of the mechanisms to support this ha) 72.0 565.665 T
(v) 317.61 565.665 T
(e already been discussed.) 322.46 565.665 T
72 589.664795 M 0.872986 0 32 (V) widthshow
78.110611 589.664795 M 0.872986 0 32 (arious additions w) widthshow
153.086639 589.664795 M 0.872986 0 32 (ould be necessary to FIGURE 2 to handle the multiple k) widthshow
386.696564 589.664795 M 0.872986 0 32 (ernels. The) widthshow
72 601.664795 M 1.142838 0 32 (manager may well need to track which k) widthshow
242.35994 601.664795 M 1.142838 0 32 (ernels hold the current page contents, not just) widthshow
72 613.664734 M 0.421829 0 32 (whether the \(single\) k) widthshow
160.645554 613.664734 M 0.421829 0 32 (ernel does. Only a single k) widthshow
269.304749 613.664734 M 0.421829 0 32 (ernel w) widthshow
299.33667 613.664734 M 0.421829 0 32 (ould hold the page if it has write) widthshow
72 625.664673 M 0.964966 0 32 (access. A page may be present with read access on multiple k) widthshow
328.564697 625.664673 M 0.964966 0 32 (ernels, changing the ) widthshow
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
414.219604 625.664673 M 0.964966 0 32 (both) widthshow
3 FF
(state into a ) 72.0 637.665 T
6 FF
(many) 117.83 637.665 T
3 FF
( state.) 139.49 637.665 T
(Additional transitions are meaningful:) 72.0 661.665 T
4 FF
<a5> 72.0 679.664 T
3 FF
85.535995 679.66449 M -0.002899 0 32 (If the manager itself needs the page, it must clean or \337ush all k) widthshow
336.468384 679.66449 M -0.002899 0 32 (ernels holding the page.) widthshow
4 FF
<a5> 72.0 694.664 T
3 FF
(A data request message from one of the k) 85.536 694.664 T
(ernels may \336nd the page in an) 251.506 694.664 T
(y state:) 371.336 694.664 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 134 134
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(130 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 216.0 113.651 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
229.535995 113.650635 M 0.594864 0 32 (If in the ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
265.480591 113.650635 M 0.594864 0 32 (mana) widthshow
287.600647 113.650635 M 0.594864 0 32 (g) widthshow
292.500702 113.650635 M 0.594864 0 32 (er) widthshow
4 FF
300.830688 113.650635 M 0.594864 0 32 ( state, the page w) widthshow
372.260223 113.650635 M 0.594864 0 32 (ould be pro) widthshow
418.850037 113.650635 M 0.594864 0 32 (vided to the requesting k) widthshow
520.009521 113.650635 M 0.594864 0 32 (ernel) widthshow
229.535995 125.650574 M 0.511246 0 32 (with appropriate access \(read implying a ) widthshow
5 FF
397.563477 125.650574 M 0.511246 0 32 (many) widthshow
4 FF
419.223511 125.650574 M 0.511246 0 32 ( state, write implying the ) widthshow
5 FF
523.999756 125.650574 M 0.511246 0 32 (k) widthshow
528.339783 125.650574 M 0.511246 0 32 (er-) widthshow
(nel) 229.536 137.651 T
4 FF
( state\).) 241.756 137.651 T
3 FF
<a5> 216.0 152.65 T
4 FF
229.535995 152.650452 M 0.469543 0 32 (If in a ) widthshow
5 FF
257.324646 152.650452 M 0.469543 0 32 (k) widthshow
261.664673 152.650452 M 0.469543 0 32 (ernel) widthshow
4 FF
282.214691 152.650452 M 0.469543 0 32 ( state \(current contents on some k) widthshow
419.35202 152.650452 M 0.469543 0 32 (ernel\), it is necessary to clean) widthshow
229.535995 164.650391 M 1.094086 0 32 (or \337ush that k) widthshow
287.998291 164.650391 M 1.094086 0 32 (ernel as appropriate to get current contents and to permit the) widthshow
(access requested of this additional k) 229.536 176.65 T
(ernel.) 373.576 176.65 T
3 FF
<a5> 216.0 191.65 T
4 FF
229.535995 191.650269 M 1.275253 0 32 (If in the ) widthshow
5 FF
267.521759 191.650269 M 1.275253 0 32 (many) widthshow
4 FF
289.181763 191.650269 M 1.275253 0 32 ( state \(no k) widthshow
337.067566 191.650269 M 1.275253 0 32 (ernel has write permission\) the page can be sup-) widthshow
229.535995 203.650208 M 0.378876 0 32 (plied to the ne) widthshow
287.362762 203.650208 M 0.378876 0 32 (w k) widthshow
302.361694 203.650208 M 0.378876 0 32 (ernel; the other k) widthshow
371.438385 203.650208 M 0.378876 0 32 (ernels need to be \337ushed only if the addi-) widthshow
(tional k) 229.536 215.65 T
(ernel requests write access.) 259.716 215.65 T
193.535995 230.650085 M 0.918121 0 32 (Note that a data request message from a k) widthshow
367.96106 230.650085 M 0.918121 0 32 (ernel only means that particular k) widthshow
506.591736 230.650085 M 0.918121 0 32 (ernel no) widthshow
(longer holds the page\321the other k) 193.536 242.65 T
(ernels may well still hold it.) 332.026 242.65 T
3 FF
<a5> 180.0 257.65 T
4 FF
193.535995 257.649963 M 0.782547 0 32 (A data unlock request can only \336nd the page in the ) widthshow
5 FF
407.944031 257.649963 M 0.782547 0 32 (many) widthshow
4 FF
429.604034 257.649963 M 0.782547 0 32 ( state. If a k) widthshow
479.56427 257.649963 M 0.782547 0 32 (ernel has write) widthshow
193.535995 269.649902 M 0.404312 0 32 (access to the page, it follo) widthshow
299.177704 269.649902 M 0.404312 0 32 (ws that no other k) widthshow
372.355011 269.649902 M 0.404312 0 32 (ernel holds the page and so no unlock re-) widthshow
193.535995 281.649841 M 0.404846 0 32 (quest is possible. Ho) widthshow
277.28067 281.649841 M 0.404846 0 32 (we) widthshow
288.690796 281.649841 M 0.404846 0 32 (v) widthshow
293.540894 281.649841 M 0.404846 0 32 (er) widthshow
300.911133 281.649841 M 0.404846 0 32 (, multiple k) widthshow
347.460876 281.649841 M 0.404846 0 32 (ernels may be holding a read-only cop) widthshow
503.090027 281.649841 M 0.404846 0 32 (y when a) widthshow
193.535995 293.64978 M 1.01738 0 32 (k) widthshow
198.43605 293.64978 M 1.01738 0 32 (ernel requests write access. It is necessary to \337ush the page from the other k) widthshow
516.119446 293.64978 M 1.01738 0 32 (ernels) widthshow
(before granting the write access.) 193.536 305.65 T
3 FF
<a5> 180.0 320.65 T
4 FF
193.535995 320.649658 M 0.511551 0 32 (It is meaningful to supply a read-only ) widthshow
5 FF
350.15686 320.649658 M 0.511551 0 32 (pr) widthshow
358.677063 320.649658 M 0.511551 0 32 (ecious) widthshow
4 FF
384.227051 320.649658 M 0.511551 0 32 ( page to the k) widthshow
440.053345 320.649658 M 0.511551 0 32 (ernel e) widthshow
467.245026 320.649658 M 0.511551 0 32 (v) widthshow
472.095093 320.649658 M 0.511551 0 32 (en for a memory) widthshow
193.535995 332.649597 M 1.963348 0 32 (object that permits modi\336cation. This might be done if the page e) widthshow
476.632935 332.649597 M 1.963348 0 32 (xisted on other) widthshow
(nodes.) 193.536 344.65 T
3 FF
<a5> 180.0 359.649 T
4 FF
193.535995 359.649475 M 0.557709 0 32 (It w) widthshow
209.823761 359.649475 M 0.557709 0 32 (ould be meaningful to clean a ) widthshow
5 FF
334.26001 359.649475 M 0.557709 0 32 (pr) widthshow
342.780212 359.649475 M 0.557709 0 32 (ecious) widthshow
4 FF
368.330231 359.649475 M 0.557709 0 32 ( page. The manager might do this so as to) widthshow
(recei) 193.536 371.649 T
(v) 212.716 371.649 T
(e the current contents of the page to be pro) 217.566 371.649 T
(vided to another k) 388.206 371.649 T
(ernel.) 460.596 371.649 T
180 395.649353 M 0.557587 0 32 (As it so happens it is more ef) widthshow
300.033264 395.649353 M 0.557587 0 32 <de6369656e7420746f20706c6163652061206d656d6f7279206d616e61676572206f6e2065616368206e6f6465207468617420636f6d2d> widthshow
180 407.649292 M 0.582275 0 32 (municate with each other at a higher le) widthshow
339.066101 407.649292 M 0.582275 0 32 (v) widthshow
343.916168 407.649292 M 0.582275 0 32 (el than the e) widthshow
394.113098 407.649292 M 0.582275 0 32 (xternal memory management proto-) widthshow
180 419.649231 M 0.66745 0 32 (col. F) widthshow
203.297531 419.649231 M 0.66745 0 32 (or e) widthshow
219.085068 419.649231 M 0.66745 0 32 (xample, if k) widthshow
268.370026 419.649231 M 0.66745 0 32 (ernel A holds a page that k) widthshow
379.474792 419.649231 M 0.66745 0 32 (ernel B w) widthshow
419.589752 419.649231 M 0.66745 0 32 (ants \(and the central manager) widthshow
180 431.64917 M 0.268433 0 32 (is on neither A nor B\), it is more ef) widthshow
322.706055 431.64917 M 0.268433 0 32 <de6369656e7420666f7220746865207061676520746f20747261> widthshow
422.438324 431.64917 M 0.268433 0 32 (v) widthshow
427.288391 431.64917 M 0.268433 0 32 (el from A directly to B than) widthshow
(from A to the manager and then to B. F) 180.0 443.649 T
(or a discussion of this, see:) 337.61 443.649 T
216 467.649048 M 1.69487 0 32 (F) widthshow
221.41008 467.649048 M 1.69487 0 32 (orin, A., et al., \322The Shared Memory Serv) widthshow
401.424255 467.649048 M 1.69487 0 32 (er) widthshow
408.794495 467.649048 M 1.69487 0 32 (,) widthshow
410.594879 467.649048 M 1.69487 0 32 <d320696e20> widthshow
5 FF
431.20462 467.649048 M 1.69487 0 32 (Pr) widthshow
440.754883 467.649048 M 1.69487 0 32 (oceedings of the W) widthshow
521.109802 467.649048 M 1.69487 0 32 (inter) widthshow
(1989) 216.0 479.649 T
4 FF
( ) 236.0 479.649 T
5 FF
(USENIX Confer) 238.5 479.649 T
(ence) 302.85 479.649 T
4 FF
(.) 321.17 479.649 T
180 520.982239 360 3.024002 CR
0.25 SL
2 SC
540 522.49 M
180 522.49 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Loose Consistency) 180.0 517.316 T
4 FF
180 541.672852 M 1.448318 0 32 (This chapter has discussed the use of k) widthshow
345.2883 541.672852 M 1.448318 0 32 (ernel mechanisms to maintain strict read\320write) widthshow
180 553.672791 M 1.159088 0 32 (consistenc) widthshow
221.510086 553.672791 M 1.159088 0 32 (y for shared memory) widthshow
307.927734 553.672791 M 1.159088 0 32 (. Not all memory managers need to maintain such strict) widthshow
(consistenc) 180.0 565.673 T
(y) 221.51 565.673 T
(.) 225.86 565.673 T
180 589.672668 M 0.233536 0 32 (The consistenc) widthshow
239.793625 589.672668 M 0.233536 0 32 (y so f) widthshow
262.380737 589.672668 M 0.233536 0 32 (ar described is referred to as ) widthshow
5 FF
379.291992 589.672668 M 0.233536 0 32 (strict) widthshow
4 FF
399.85199 589.672668 M 0.233536 0 32 ( consistenc) widthshow
444.095612 589.672668 M 0.233536 0 32 (y because there is abso-) widthshow
180 601.672607 M 1.052048 0 32 (lutely no w) widthshow
227.00415 601.672607 M 1.052048 0 32 (ay that a client could detect an) widthshow
354.806519 601.672607 M 1.052048 0 32 (y inconsistenc) widthshow
412.648682 601.672607 M 1.052048 0 32 (y) widthshow
416.999023 601.672607 M 1.052048 0 32 (. The manager re) widthshow
487.655334 601.672607 M 1.052048 0 32 (v) widthshow
492.455444 601.672607 M 1.052048 0 32 (ok) widthshow
502.355469 601.672607 M 1.052048 0 32 (es all ac-) widthshow
180 613.672546 M 0.80661 0 32 (cess to all other entities \(clients and k) widthshow
335.806335 613.672546 M 0.80661 0 32 (ernels\) whene) widthshow
392.173096 613.672546 M 0.80661 0 32 (v) widthshow
397.023193 613.672546 M 0.80661 0 32 (er an) widthshow
417.389893 613.672546 M 0.80661 0 32 (y entity needs to write so that) widthshow
180 625.672485 M 0.367126 0 32 (these other entities will f) widthshow
280.248566 625.672485 M 0.367126 0 32 (ault on their memory and re-fetch it, thereby recei) widthshow
482.605743 625.672485 M 0.367126 0 32 (ving the abso-) widthshow
180 637.672424 M 0.126221 0 32 (lute latest changes. All accesses to a page are serialized; at an) widthshow
427.278564 637.672424 M 0.126221 0 32 (y gi) widthshow
442.434906 637.672424 M 0.126221 0 32 (v) widthshow
447.284973 637.672424 M 0.126221 0 32 (en time their are multi-) widthshow
4 FF
180 649.672363 M 1.213486 0 32 (ple readers ) widthshow
228.516983 649.671814 8.330002 1 NF
4 FF
228.516983 649.672363 M 1.213486 0 32 (or) widthshow
4 FF
236.846985 649.672363 M 1.213486 0 32 ( a single writer) widthshow
299.647766 649.672363 M 1.213486 0 32 (. This brute force approach, ho) widthshow
428.485352 649.672363 M 1.213486 0 32 (we) widthshow
439.895477 649.672363 M 1.213486 0 32 (v) widthshow
444.745544 649.672363 M 1.213486 0 32 (er) widthshow
452.115784 649.672363 M 1.213486 0 32 (, is often o) widthshow
497.826324 649.672363 M 1.213486 0 32 (v) widthshow
502.676392 649.672363 M 1.213486 0 32 (erkill. Its) widthshow
180 661.672302 M 1.210815 0 32 (strict serialization reduces the parallelism with which the shared memory can be refer-) widthshow
180 673.672241 M 0.21579 0 32 (enced. Also, the use of the e) widthshow
293.894836 673.672241 M 0.21579 0 32 (xternal memory management protocols to ensure consistenc) widthshow
534.999695 673.672241 M 0.21579 0 32 (y) widthshow
180 685.67218 M 1.098404 0 32 (requires the mo) widthshow
244.256897 685.67218 M 1.098404 0 32 (v) widthshow
249.106979 685.67218 M 1.098404 0 32 (ement of whole pages where much smaller data mo) widthshow
463.254333 685.67218 M 1.098404 0 32 (v) widthshow
468.104401 685.67218 M 1.098404 0 32 (ement may do \(if) widthshow
(managed directly by the application\).) 180.0 697.672 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 135 135
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (131 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Loose Consistency) 72.0 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
72 115.666626 M 0.383301 0 32 (The issue in loosening consistenc) widthshow
207.26329 115.666626 M 0.383301 0 32 (y constraints \(that is, allo) widthshow
309.376648 115.666626 M 0.383301 0 32 (wing multiple readers ) widthshow
400.236542 115.666077 14.440002 1 NF
3 FF
400.236542 115.666626 M 0.383301 0 32 (and) widthshow
3 FF
414.676544 115.666626 M 0.383301 0 32 ( one) widthshow
72 127.666565 M 0.262451 0 32 (or more writers\) is whether) widthshow
181.51004 127.666565 M 0.262451 0 32 (, gi) widthshow
194.302628 127.666565 M 0.262451 0 32 (v) widthshow
199.15271 127.666565 M 0.262451 0 32 (en a set of clients, one of them can see inconsistent mem-) widthshow
3 FF
72 139.666504 M 0.655975 0 32 (ory v) widthshow
93.236115 139.666504 M 0.655975 0 32 (alues. That is, consider data v) widthshow
214.85614 139.666504 M 0.655975 0 32 (alues A and B k) widthshow
281.260101 139.666504 M 0.655975 0 32 (ept in separate shared memory pages) widthshow
72 151.666443 M 0.073624 0 32 (where client X modi\336es A and then B. If client Y fetches B and sees the ne) widthshow
373.148132 151.666443 M 0.073624 0 32 (w v) widthshow
387.691895 151.666443 M 0.073624 0 32 (alue, it fol-) widthshow
3 FF
72 163.666382 M 0.205795 0 32 (lo) widthshow
79.530136 163.666382 M 0.205795 0 32 (ws that Y should also see the ne) widthshow
208.760849 163.666382 M 0.205795 0 32 (w v) widthshow
223.436783 163.666382 M 0.205795 0 32 (alue for A since it w) widthshow
305.73584 163.666382 M 0.205795 0 32 (as modi\336ed \336rst. W) widthshow
384.843445 163.666382 M 0.205795 0 32 (ithout some) widthshow
72 175.666321 M 0.97995 0 32 (synchronization, it w) widthshow
158.019958 175.666321 M 0.97995 0 32 (ould be possible for client Y to see the old v) widthshow
344.219604 175.666321 M 0.97995 0 32 (alue of A. Of course,) widthshow
72 187.66626 M 0.686829 0 32 (this consistenc) widthshow
131.146912 187.66626 M 0.686829 0 32 (y is only meaningful to Y if it kno) widthshow
273.061676 187.66626 M 0.686829 0 32 (ws \(or cares\) that A is modi\336ed before) widthshow
(B.) 72.0 199.666 T
72 223.666138 M 0.832825 0 32 (One w) widthshow
99.112885 223.666138 M 0.832825 0 32 (ay to loosen the consistenc) widthshow
209.504272 223.666138 M 0.832825 0 32 (y constraints is for an application to tak) widthshow
373.274109 223.666138 M 0.832825 0 32 (e e) widthshow
385.337036 223.666138 M 0.832825 0 32 (xplicit con-) widthshow
72 235.666077 M 0.80661 0 32 (trol o) widthshow
94.046692 235.666077 M 0.80661 0 32 (v) widthshow
98.896774 235.666077 M 0.80661 0 32 (er when page images are updated on other nodes gi) widthshow
310.576416 235.666077 M 0.80661 0 32 (v) widthshow
315.426514 235.666077 M 0.80661 0 32 (en its o) widthshow
345.679871 235.666077 M 0.80661 0 32 (wn kno) widthshow
375.956604 235.666077 M 0.80661 0 32 (wledge of the) widthshow
72 247.666016 M 0.870743 0 32 (data dependencies. Another w) widthshow
195.032303 247.666016 M 0.870743 0 32 (ay is for the memory manager to track data references by) widthshow
72 259.665955 M 0.921051 0 32 (the v) widthshow
92.39119 259.665955 M 0.921051 0 32 (arious client \(nodes\). In this w) widthshow
218.546509 259.665955 M 0.921051 0 32 (ay) widthshow
227.336868 259.665955 M 0.921051 0 32 (, if the manager sends a ne) widthshow
338.973328 259.665955 M 0.921051 0 32 (w v) widthshow
354.364502 259.665955 M 0.921051 0 32 (alue of a page to a) widthshow
72 271.665894 M 0.341797 0 32 (node, it also sends ne) widthshow
158.387329 271.665894 M 0.341797 0 32 (w v) widthshow
173.199265 271.665894 M 0.341797 0 32 (alues \(or in) widthshow
218.473083 271.665894 M 0.341797 0 32 (v) widthshow
223.223221 271.665894 M 0.341797 0 32 (alidates old v) widthshow
276.986938 271.665894 M 0.341797 0 32 (alues\) of an) widthshow
324.170654 271.665894 M 0.341797 0 32 (y pages that it kno) widthshow
398.617981 271.665894 M 0.341797 0 32 (ws were) widthshow
72 283.665833 M 0.164642 0 32 (modi\336ed prior to the modi\336cation of the page it is sending. It is possible for a manager to) widthshow
72 295.665771 M 0.684921 0 32 (track the order of modi\336cation of pages via k) widthshow
257.899445 295.665771 M 0.684921 0 32 (ernel generated ) widthshow
1 FF
323.129303 295.665771 M 0.684921 0 32 (memory_object_unlock_-) widthshow
(r) 72.0 307.666 T
(equest) 76.26 307.666 T
3 FF
( messages. F) 103.48 307.666 T
(or a more detailed discussion of this \322causal ordered\323 memory) 154.16 307.666 T
(, see:) 403.181 307.666 T
108 331.665649 M 0.578003 0 32 (Bo) widthshow
119.570053 331.665649 M 0.578003 0 32 (yer) widthshow
131.940277 331.665649 M 0.578003 0 32 (, F) widthshow
142.278717 331.665649 M 0.578003 0 32 (., \322) widthshow
153.997162 331.665649 M 0.578003 0 32 (A Causal Distrib) widthshow
222.173279 331.665649 M 0.578003 0 32 (uted Shared Memory Based on External P) widthshow
393.801392 331.665649 M 0.578003 0 32 (agers,) widthshow
416.701782 331.665649 M 0.578003 0 32 <d320696e> widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(Pr) 108.0 343.666 T
(oceedings of the 1991) 117.55 343.666 T
3 FF
( ) 205.04 343.666 T
4 FF
(USENIX Mac) 207.54 343.666 T
(h Symposium) 262.1 343.666 T
3 FF
(.) 315.15 343.666 T
3 FF
72 367.665527 M 0.347672 0 32 (A sample use of loosened consistenc) widthshow
220.508453 367.665527 M 0.347672 0 32 (y appears in serv) widthshow
288.881561 367.665527 M 0.347672 0 32 (ers that maintain multiple copies of) widthshow
72 379.665466 M 0.999985 0 32 (data that need only be recent. Note that strict read\320write consistenc) widthshow
350.399963 379.665466 M 0.999985 0 32 (y required that only) widthshow
72 391.665405 M 0.815231 0 32 (one k) widthshow
94.655289 391.665405 M 0.815231 0 32 (ernel hold the modi\336ed contents of a page at a time; this means that the f) widthshow
397.583832 391.665405 M 0.815231 0 32 (ailure of) widthshow
72 403.665344 M 0.404617 0 32 (that k) widthshow
94.804672 403.665344 M 0.404617 0 32 (ernel damages the memory object. If a k) widthshow
258.607056 403.665344 M 0.404617 0 32 (ernel e) widthshow
285.691833 403.665344 M 0.404617 0 32 (victs modi\336ed page A which is sub-) widthshow
72 415.665283 M 1.459915 0 32 (sequently modi\336ed on some other k) widthshow
222.249634 415.665283 M 1.459915 0 32 (ernel without ha) widthshow
289.959595 415.665283 M 1.459915 0 32 (ving e) widthshow
315.889648 415.665283 M 1.459915 0 32 (victed modi\336ed page B, the) widthshow
72 427.665222 M 0.330582 0 32 (old contents of page B no longer correspond to the ne) widthshow
289.465973 427.665222 M 0.330582 0 32 (w v) widthshow
304.266693 427.665222 M 0.330582 0 32 (alue of page A. Loosening con-) widthshow
72 439.665161 M 0.175247 0 32 (sistenc) widthshow
99.070084 439.665161 M 0.175247 0 32 (y allo) widthshow
121.495468 439.665161 M 0.175247 0 32 (ws multiple modi\336ed copies to be k) widthshow
265.22699 439.665161 M 0.175247 0 32 (ept. Gi) widthshow
292.372375 439.665161 M 0.175247 0 32 (v) widthshow
297.222473 439.665161 M 0.175247 0 32 (en a f) widthshow
319.683044 439.665161 M 0.175247 0 32 (ailure of a cop) widthshow
377.588837 439.665161 M 0.175247 0 32 (y) widthshow
381.939209 439.665161 M 0.175247 0 32 (, the manag-) widthshow
72 451.6651 M 0.997238 0 32 (ers can reconstruct the latest v) widthshow
197.536346 451.6651 M 0.997238 0 32 (alues from recent v) widthshow
277.198212 451.6651 M 0.997238 0 32 (alues. It w) widthshow
320.472748 451.6651 M 0.997238 0 32 (ould be v) widthshow
359.537292 451.6651 M 0.997238 0 32 (ery dif) widthshow
386.664673 451.6651 M 0.997238 0 32 <de63756c7420746f20646f> widthshow
72 463.66507 M 1.164932 0 32 (this in general b) widthshow
139.45491 463.66507 M 1.164932 0 32 (ut v) widthshow
155.649979 463.66507 M 1.164932 0 32 (arious \322blackboard\323 serv) widthshow
257.239929 463.66507 M 1.164932 0 32 (ers with limited semantics ha) widthshow
378.359802 463.66507 M 1.164932 0 32 (v) widthshow
383.209869 463.66507 M 1.164932 0 32 (e been b) widthshow
418.659851 463.66507 M 1.164932 0 32 (uilt) widthshow
(that pro) 72.0 475.665 T
(vide this service.) 102.68 475.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 136 136
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(132 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Exter) 180.0 56.824 T
(nal Memory Managers) 201.357 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 137 137
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (133 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (CHAPTER 8) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (Netw) ashow
229.825195 116 M -0.479736 0 (ork Shared Memory ) ashow
180 146 M -0.479736 0 (Serv) ashow
221.713257 146 M -0.479736 0 (er) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666656 M 1.057816 0 32 (The most typical use of an e) widthshow
190.956985 367.666656 M 1.057816 0 32 (xternal memory manager is to pro) widthshow
331.906158 367.666656 M 1.057816 0 32 (vide shared memory be-) widthshow
72 379.666626 M 1.543045 0 32 (tween otherwise unrelated tasks. When this memory is to be shared between tasks on) widthshow
72 391.666626 M 1.073029 0 32 (multiple hosts, it is referred to as distrib) widthshow
238.751312 391.666626 M 1.073029 0 32 (uted shared memory or netmemory) widthshow
382.923798 391.666626 M 1.073029 0 32 (. Mach pro-) widthshow
72 403.666626 M 1.000748 0 32 (vides a standard e) widthshow
146.222336 403.666626 M 1.000748 0 32 (xternal memory manager serv) widthshow
268.764679 403.666626 M 1.000748 0 32 (er to pro) widthshow
304.496277 403.666626 M 1.000748 0 32 (vide such memory) widthshow
379.728119 403.666626 M 1.000748 0 32 (, suitable for) widthshow
72 415.666595 M 0.364639 0 32 (sharing between tasks on a single host, or between multiple hosts. This serv) widthshow
378.975769 415.666595 M 0.364639 0 32 (er is the Net-) widthshow
(Memory serv) 72.0 427.667 T
(er) 125.45 427.667 T
(.) 132.67 427.667 T
72 451.666565 M 1.232758 0 32 (T) widthshow
77.31044 451.666565 M 1.232758 0 32 (o share memory between tasks using the netmemory serv) widthshow
315.87262 451.666565 M 1.232758 0 32 (er) widthshow
323.242828 451.666565 M 1.232758 0 32 (, a task \336rst creates a net-) widthshow
72 463.666565 M 0.040848 0 32 (memory object with the ) widthshow
1 FF
169.933395 463.666565 M 0.040848 0 32 (netmemory_cr) widthshow
232.50351 463.666565 M 0.040848 0 32 (eate) widthshow
4 FF
249.713516 463.666565 M 0.040848 0 32 ( call. This netmemory object can be distrib) widthshow
420.889587 463.666565 M 0.040848 0 32 (ut-) widthshow
72 475.666534 M 1.428635 0 32 (ed to all interested tasks either directly by IPC between tasks or indirectly by using a) widthshow
(service such as the NetName serv) 72.0 487.667 T
(er) 206.53 487.667 T
(. ) 213.75 487.667 T
72 511.666504 M 0.432236 0 32 (Each task then \336nd its local netmemory serv) widthshow
252.355743 511.666504 M 0.432236 0 32 (er) widthshow
259.725952 511.666504 M 0.432236 0 32 (, and calls ) widthshow
1 FF
303.792664 511.666504 M 0.432236 0 32 (netmemory_cache) widthshow
4 FF
381.542694 511.666504 M 0.432236 0 32 ( on the local) widthshow
72 523.666504 M 0.943298 0 32 (serv) widthshow
88.510086 523.666504 M 0.943298 0 32 (er with the netmemory object to obtain a local Mach memory object corresponding) widthshow
72 535.666504 M 1.153595 0 32 (to the netmemory object. The ) widthshow
1 FF
198.307983 535.666504 M 1.153595 0 32 (netmemory_cache) widthshow
4 FF
276.057983 535.666504 M 1.153595 0 32 ( call allo) widthshow
312.555328 535.666504 M 1.153595 0 32 (ws the netmemory serv) widthshow
408.906189 535.666504 M 1.153595 0 32 (ers to) widthshow
72 547.666443 M 0.336304 0 32 (use more ef) widthshow
119.072754 547.666443 M 0.336304 0 32 <de6369656e7420616e64206d6f72652064697374726962> widthshow
212.931778 547.666443 M 0.336304 0 32 (uted protocols for maintaining object consistenc) widthshow
406.94339 547.666443 M 0.336304 0 32 (y than) widthshow
(the standard memory manager interf) 72.0 559.666 T
(ace. ) 217.42 559.666 T
72 583.666443 M 0.690643 0 32 (Finally) widthshow
99.690353 583.666443 M 0.690643 0 32 (, the resulting memory object should be gi) widthshow
273.154999 583.666443 M 0.690643 0 32 (v) widthshow
278.005066 583.666443 M 0.690643 0 32 (en to ) widthshow
1 FF
301.606384 583.666443 M 0.690643 0 32 (vm_map) widthshow
4 FF
338.826355 583.666443 M 0.690643 0 32 ( to map the object into) widthshow
72 595.666382 M 0.533829 0 32 (the caller's address space. Ag) widthshow
191.125366 595.666382 M 0.533829 0 32 (ain, the netmemory object is only for use by ) widthshow
1 FF
374.799835 595.666382 M 0.533829 0 32 (netmemory_-) widthshow
(cache) 72.0 607.666 T
4 FF
(; it should not be handed directly to ) 95.88 607.666 T
1 FF
(vm_map) 240.32 607.666 T
4 FF
(.) 277.54 607.666 T
72 631.666382 M 1.715958 0 32 (The netmemory object can be e) widthshow
206.229889 631.666382 M 1.715958 0 32 (xplicitly destro) widthshow
268.125916 631.666382 M 1.715958 0 32 (yed by calling ) widthshow
1 FF
332.433777 631.666382 M 1.715958 0 32 (netmemory_destr) widthshow
407.783875 631.666382 M 1.715958 0 32 (oy) widthshow
4 FF
417.783875 631.666382 M 1.715958 0 32 ( on) widthshow
72 643.666382 M 1.105423 0 32 (the ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
87.825424 643.666382 M 1.105423 0 32 (netmemory_contr) widthshow
157.91568 643.666382 M 1.105423 0 32 (ol) widthshow
4 FF
165.695679 643.666382 M 1.105423 0 32 ( port. This call is not necessary with the current implementation) widthshow
72 655.666382 M 0.341415 0 32 (of the netmemoryserv) widthshow
160.292923 655.666382 M 0.341415 0 32 (er which cleans up a netmemory object after the last k) widthshow
379.667175 655.666382 M 0.341415 0 32 (ernel has un-) widthshow
(mapped the object.) 72.0 667.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 138 138
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(134 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Netw) 180.0 56.824 T
(ork Shar) 199.899 56.824 T
(ed Memory Ser) 233.991 56.824 T
(v) 293.382 56.824 T
(er) 297.793 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.38829 0 32 (The current netmemory serv) widthshow
294.594971 113.650665 M 0.38829 0 32 (er is actually a compatibility front-end to the External Mem-) widthshow
(ory Manager library) 180.0 125.651 T
(.) 259.88 125.651 T
(The follo) 180.0 149.651 T
(wing is a routine which demonstrates ho) 216.69 149.651 T
(w to use the netmemory serv) 378.09 149.651 T
(er) 493.2 149.651 T
(.) 500.421 149.651 T
180 159.983963 360 9 CR
1 G
180 159.983963 360 9 NF
0 G
3 FF
(/*) 199.224 167.815 T
3 SL
0.6667 G
530.91 164.48 M
530.91 169.73 L
540 164.48 L
530.91 159.23 L
F
530.91 164.48 M
216 164.48 L
S
180 178.983948 360 9 CR
1 G
180 178.983948 360 9 NF
0 G
3 FF
(*/) 198.0 186.81 T
0.6667 G
225.09 183.48 M
225.09 178.23 L
216 183.48 L
225.09 188.73 L
F
540 183.48 M
225.09 183.48 L
S
0 0 612 792 CR
0 G
3 FF
(Create and map a shared object of gi) 216.0 176.651 T
(v) 362.1 176.651 T
(en size with netname ) 366.95 176.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(object_name) 453.6 176.651 T
3 FF
(.) 504.7 176.651 T
180 189.983948 360 9 CR
1 G
180 189.983948 360 9 NF
0 G
3 FF
(/*) 199.224 197.815 T
0.6667 G
530.91 194.48 M
530.91 199.73 L
540 194.48 L
530.91 189.23 L
F
530.91 194.48 M
216 194.48 L
S
0 0 612 792 CR
0 G
3 FF
216 206.650604 M 0.795364 0 32 (One task \(the \322master\323\) should call this routine with ) widthshow
4 FF
434.518311 206.650604 M 0.795364 0 32 (hostname) widthshow
3 FF
472.848297 206.650604 M 0.795364 0 32 ( = 0; the routine) widthshow
216 216.650589 M 2.076645 0 32 (will then create a netmemory object and re) widthshow
401.176636 216.650589 M 2.076645 0 32 (gister it with the netname serv) widthshow
532.229919 216.650589 M 2.076645 0 32 (er) widthshow
216 226.650574 M 1.176636 0 32 (under the supplied object name. All other tasks \(the \322sla) widthshow
450.799866 226.650574 M 1.176636 0 32 (v) widthshow
455.649933 226.650574 M 1.176636 0 32 (es\323\) call this routine) widthshow
180 238.983887 360 9 CR
1 G
180 238.983887 360 9 NF
0 G
3 FF
(*/) 198.0 246.81 T
0.6667 G
225.09 243.48 M
225.09 238.23 L
216 243.48 L
225.09 248.73 L
F
540 243.48 M
225.09 243.48 L
S
0 0 612 792 CR
0 G
3 FF
(with the ) 216.0 236.651 T
4 FF
(hostname) 251.0 236.651 T
3 FF
( where the master li) 289.33 236.651 T
(v) 367.95 236.651 T
(es.) 372.8 236.651 T
([59]) 190.34 257.651 T
(k) 216.0 257.651 T
(ern_return_t ) 220.9 257.651 T
0 FF
(map_object) 272.83 257.651 T
3 FF
( \(char* ) 322.82 257.651 T
4 FF
(object_name) 353.36 257.651 T
3 FF
(, char* ) 404.46 257.651 T
4 FF
(hostname) 434.17 257.651 T
3 FF
(, ) 472.5 257.651 T
(vm_address_t* ) 270.0 267.651 T
4 FF
(addr) 333.05 267.651 T
(ess) 351.57 267.651 T
3 FF
(, vm_size_t ) 363.79 267.651 T
4 FF
(size) 412.4 267.651 T
3 FF
(, vm_allocate_t ) 427.4 267.651 T
4 FF
(anywher) 491.56 267.651 T
(e) 525.63 267.651 T
3 FF
(\)) 530.07 267.651 T
([60]) 190.34 279.651 T
({) 216.0 279.651 T
([61]) 190.34 291.65 T
(k) 252.0 291.65 T
(ern_return_t) 256.9 291.65 T
4 FF
(kr) 396.0 291.65 T
3 FF
(;) 404.33 291.65 T
([62]) 190.34 303.65 T
(mach_port_t) 252.0 303.65 T
4 FF
(netmemory_server) 396.0 303.65 T
3 FF
(;) 470.42 303.65 T
([63]) 190.34 315.65 T
(mach_port_t) 252.0 315.65 T
4 FF
(memory_object) 396.0 315.65 T
3 FF
(;) 457.65 315.65 T
([64]) 190.34 327.65 T
(mach_port_t) 252.0 327.65 T
4 FF
(netmemory_object) 396.0 327.65 T
3 FF
(;) 469.87 327.65 T
([65]) 190.34 339.65 T
(mach_port_t) 252.0 339.65 T
4 FF
(netmemory_contr) 396.0 339.65 T
(ol) 466.09 339.65 T
3 FF
(;) 473.87 339.65 T
180 343.983765 360 9 CR
1 G
180 343.983765 360 9 NF
0 G
3 FF
(/*) 199.224 351.815 T
0.6667 G
530.91 348.48 M
530.91 353.73 L
540 348.48 L
530.91 343.23 L
F
530.91 348.48 M
216 348.48 L
S
0 0 612 792 CR
0 G
3 FF
252 360.650421 M 0.199158 0 32 (Find the local netmemory serv) widthshow
374.85672 360.650421 M 0.199158 0 32 (er) widthshow
382.077026 360.650421 M 0.199158 0 32 (. \(If this routine is used a lot, this v) widthshow
523.3396 360.650421 M 0.199158 0 32 (alue) widthshow
180 372.983734 360 9 CR
1 G
180 372.983734 360 9 NF
0 G
3 FF
(*/) 198.0 380.81 T
0.6667 G
225.09 377.48 M
225.09 372.23 L
216 377.48 L
225.09 382.73 L
F
540 377.48 M
225.09 377.48 L
S
0 0 612 792 CR
0 G
3 FF
(can be cached.\)) 252.0 370.65 T
([66]) 190.34 391.65 T
4 FF
(kr) 252.0 391.65 T
3 FF
( = ) 260.33 391.65 T
0 FF
(netname_look_up) 270.97 391.65 T
3 FF
( \() 347.09 391.65 T
4 FF
(name_server_port) 352.92 391.65 T
3 FF
(, \322\323, \322netmemoryserv) 426.24 391.65 T
(er\323,) 511.62 391.65 T
([67]) 190.34 403.65 T
( &) 396.0 403.65 T
4 FF
(netmemory_server) 406.28 403.65 T
3 FF
(\);) 480.7 403.65 T
([68]) 190.34 415.65 T
(if \() 252.0 415.65 T
4 FF
(kr) 263.94 415.65 T
3 FF
(\)) 272.27 415.65 T
([69]) 190.34 427.65 T
(return ) 288.0 427.65 T
4 FF
(kr) 314.38 427.65 T
3 FF
(;) 322.71 427.65 T
180 431.983673 360 9 CR
1 G
180 431.983673 360 9 NF
0 G
3 FF
(/*) 199.224 439.815 T
0.6667 G
530.91 436.48 M
530.91 441.73 L
540 436.48 L
530.91 431.23 L
F
530.91 436.48 M
216 436.48 L
S
0 0 612 792 CR
0 G
3 FF
252 448.65033 M 1.38382 0 32 (If a hostname is pro) widthshow
336.815369 448.65033 M 1.38382 0 32 (vided, then we are the sla) widthshow
445.174591 448.65033 M 1.38382 0 32 (v) widthshow
450.024658 448.65033 M 1.38382 0 32 (e and thus we simply) widthshow
252 458.65033 M 1.580811 0 32 (look up the netmemory object on the gi) widthshow
420.305817 458.65033 M 1.580811 0 32 (v) widthshow
425.155884 458.65033 M 1.580811 0 32 (en host by using the object) widthshow
252 468.650299 M 1.036911 0 32 (name. If a hostname is not pro) widthshow
379.441559 468.650299 M 1.036911 0 32 (vided, then we are the master and thus) widthshow
252 478.650269 M 0.918839 0 32 (ha) widthshow
261.240112 478.650269 M 0.918839 0 32 (v) widthshow
266.09021 478.650269 M 0.918839 0 32 (e the responsibility of creating a netmemory object and re) widthshow
504.999847 478.650269 M 0.918839 0 32 (gistering) widthshow
180 490.983582 360 9 CR
1 G
180 490.983582 360 9 NF
0 G
3 FF
(*/) 198.0 498.81 T
0.6667 G
225.09 495.48 M
225.09 490.23 L
216 495.48 L
225.09 500.73 L
F
540 495.48 M
225.09 495.48 L
S
0 0 612 792 CR
0 G
3 FF
(it with the netname service under the gi) 252.0 488.65 T
(v) 409.78 488.65 T
(en object name.) 414.63 488.65 T
([70]) 190.34 509.65 T
(if \() 252.0 509.65 T
4 FF
(hostname) 263.94 509.65 T
3 FF
(\)) 302.27 509.65 T
([71]) 190.34 521.65 T
({) 252.0 521.65 T
([72]) 190.34 533.65 T
4 FF
(kr) 288.0 533.65 T
3 FF
( = ) 296.33 533.65 T
0 FF
(netname_look_up) 306.97 533.65 T
3 FF
( \() 383.09 533.65 T
4 FF
(name_server_port) 388.92 533.65 T
3 FF
(, ) 462.24 533.65 T
4 FF
(hostname) 467.24 533.65 T
3 FF
(, ) 505.57 533.65 T
4 FF
(object_name) 342.0 543.65 T
3 FF
(, &) 393.1 543.65 T
4 FF
(netmemory_object) 405.88 543.65 T
3 FF
(\);) 479.75 543.65 T
([73]) 190.34 555.65 T
(if \() 288.0 555.65 T
4 FF
(kr) 299.94 555.65 T
3 FF
(\)) 308.27 555.65 T
([74]) 190.34 567.65 T
(return ) 324.0 567.65 T
4 FF
(kr) 350.38 567.65 T
3 FF
(;) 358.71 567.65 T
([75]) 190.34 579.65 T
(}) 252.0 579.65 T
([76]) 190.34 591.65 T
(else) 252.0 591.65 T
([77]) 190.34 603.65 T
({) 252.0 603.65 T
([78]) 190.34 615.65 T
4 FF
(kr) 288.0 615.65 T
3 FF
( = ) 296.33 615.65 T
0 FF
(netmemory_cr) 306.97 615.65 T
(eate ) 369.54 615.65 T
3 FF
(\() 389.25 615.65 T
4 FF
(netmemory_server) 392.58 615.65 T
3 FF
(, ) 466.6 615.65 T
4 FF
(size) 471.6 615.65 T
3 FF
(, ) 486.6 615.65 T
(&) 342.0 625.65 T
4 FF
(netmemory_object) 349.78 625.65 T
3 FF
(, &) 423.65 625.65 T
4 FF
(netmemory_contr) 436.43 625.65 T
(ol) 506.52 625.65 T
3 FF
(\);) 514.3 625.65 T
([79]) 190.34 637.65 T
(if \() 288.0 637.65 T
4 FF
(kr) 299.94 637.65 T
3 FF
(\)) 308.27 637.65 T
([80]) 190.34 649.65 T
(return ) 324.0 649.65 T
4 FF
(kr) 350.38 649.65 T
3 FF
(;) 358.71 649.65 T
([81]) 190.34 661.65 T
4 FF
(kr) 288.0 661.65 T
3 FF
( = ) 296.33 661.65 T
0 FF
(netname_check_in ) 306.97 661.65 T
3 FF
(\() 388.91 661.65 T
4 FF
(name_server_port) 392.24 661.65 T
3 FF
(, ) 465.56 661.65 T
4 FF
(object_name) 470.56 661.65 T
3 FF
(, ) 521.66 661.65 T
(MA) 342.0 671.65 T
(CH_POR) 357.71 671.65 T
(T_NULL, ) 395.451 671.65 T
4 FF
(netmemory_object) 438.221 671.65 T
3 FF
(\);) 512.091 671.65 T
([82]) 190.34 683.65 T
(if \() 288.0 683.65 T
4 FF
(kr) 299.94 683.65 T
3 FF
(\)) 308.27 683.65 T
([83]) 190.34 695.65 T
({) 288.0 695.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 139 139
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (135 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
2 (Times-Roman) 10 1 mymakefontmetric
2 FF
([84]) 82.34 115.667 T
1 FF
(netmemory_destr) 216.0 115.667 T
(oy ) 291.35 115.667 T
2 FF
(\() 303.85 115.667 T
3 (Times-Italic) 10 1 mymakefontmetric
3 FF
(netmemory_contr) 307.18 115.667 T
(ol) 377.27 115.667 T
2 FF
(\);) 385.05 115.667 T
([85]) 82.34 127.667 T
(return ) 216.0 127.667 T
3 FF
(kr) 242.38 127.667 T
2 FF
(;) 250.71 127.667 T
([86]) 82.34 139.667 T
(}) 180.0 139.667 T
([87]) 82.34 151.667 T
(}) 144.0 151.667 T
72 155.999939 360 9 CR
1 G
72 155.999939 360 9 NF
0 G
2 FF
(/*) 91.224 163.831 T
3 SL
0 SC
0.6667 G
422.91 160.5 M
422.91 165.75 L
432 160.5 L
422.91 155.25 L
F
422.91 160.5 M
108 160.5 L
S
72 174.999924 360 9 CR
1 G
72 174.999924 360 9 NF
0 G
2 FF
(*/) 90.0 182.826 T
0.6667 G
117.09 179.5 M
117.09 174.25 L
108 179.5 L
117.09 184.75 L
F
432 179.5 M
117.09 179.5 L
S
0 0 612 792 CR
0 G
2 FF
(Cache the object locally) 144.0 172.667 T
(. Note that e) 239.72 172.667 T
(v) 288.351 172.667 T
(en the master must do this.) 293.201 172.667 T
([88]) 82.34 193.667 T
3 FF
(kr) 144.0 193.667 T
2 FF
( = ) 152.33 193.667 T
1 FF
(netmemory_cache ) 162.97 193.667 T
2 FF
(\() 243.22 193.667 T
3 FF
(netmemory_server) 246.55 193.667 T
2 FF
(, ) 320.57 193.667 T
3 FF
(netmemory_object) 325.57 193.667 T
2 FF
(, ) 399.44 193.667 T
(&) 198.0 203.667 T
3 FF
(memory_object) 205.78 203.667 T
2 FF
(\);) 267.43 203.667 T
([89]) 82.34 215.667 T
(if \() 144.0 215.667 T
3 FF
(kr) 155.94 215.667 T
2 FF
(\)) 164.27 215.667 T
([90]) 82.34 227.667 T
(return ) 180.0 227.667 T
3 FF
(kr) 206.38 227.667 T
2 FF
(;) 214.71 227.667 T
72 231.999863 360 9 CR
1 G
72 231.999863 360 9 NF
0 G
2 FF
(/*) 91.224 239.831 T
0.6667 G
422.91 236.5 M
422.91 241.75 L
432 236.5 L
422.91 231.25 L
F
422.91 236.5 M
108 236.5 L
S
72 250.999847 360 9 CR
1 G
72 250.999847 360 9 NF
0 G
2 FF
(*/) 90.0 258.826 T
0.6667 G
117.09 255.5 M
117.09 250.25 L
108 255.5 L
117.09 260.75 L
F
432 255.5 M
117.09 255.5 L
S
0 0 612 792 CR
0 G
2 FF
(Map the object, either an) 144.0 248.667 T
(ywhere or at the supplied address.) 243.55 248.667 T
([91]) 82.34 269.667 T
(if \() 144.0 269.667 T
3 FF
(anywher) 155.94 269.667 T
(e) 190.01 269.667 T
2 FF
( == VM_ALLOCA) 194.45 269.667 T
(TE_ANYWHERE\)) 271.281 269.667 T
2 FF
([92]) 82.34 281.666 T
(*) 180.0 281.666 T
3 FF
(addr) 185.0 281.666 T
(ess) 203.52 281.666 T
2 FF
( = 0;) 215.74 281.666 T
72 285.999817 360 9 CR
1 G
72 285.999817 360 9 NF
0 G
2 FF
(/*) 90.0 293.831 T
0.6667 G
422.91 290.5 M
422.91 295.75 L
432 290.5 L
422.91 285.25 L
F
422.91 290.5 M
288 290.5 L
S
72 304.999817 360 9 CR
1 G
72 304.999817 360 9 NF
0 G
2 FF
(*/) 90.0 312.826 T
0.6667 G
297.09 309.5 M
297.09 304.25 L
288 309.5 L
297.09 314.75 L
F
432 309.5 M
297.09 309.5 L
S
0 0 612 792 CR
0 G
2 FF
(must be set) 288.0 302.666 T
([93]) 82.34 323.666 T
(kr = ) 144.0 323.666 T
1 FF
(vm_map ) 162.97 323.666 T
2 FF
(\() 202.69 323.666 T
1 FF
(mach_task_self ) 206.02 323.666 T
2 FF
(\(\), ) 274.07 323.666 T
3 FF
(addr) 285.73 323.666 T
(ess) 304.25 323.666 T
2 FF
(, ) 316.47 323.666 T
3 FF
(size) 321.47 323.666 T
2 FF
(, 0, ) 336.47 323.666 T
3 FF
(anywher) 351.47 323.666 T
(e) 385.54 323.666 T
2 FF
(, ) 389.98 323.666 T
3 FF
(memory_object) 198.0 333.666 T
2 FF
(, 0, F) 259.65 333.666 T
(ALSE, VM_PR) 279.47 333.666 T
(O) 342.411 333.666 T
(T_DEF) 349.231 333.666 T
(A) 378.491 333.666 T
(UL) 385.162 333.666 T
(T) 397.572 333.666 T
(, ) 402.942 333.666 T
(VM_PR) 198.0 343.666 T
(O) 230.94 343.666 T
(T_DEF) 237.76 343.666 T
(A) 267.021 343.666 T
(UL) 273.691 343.666 T
(T) 286.102 343.666 T
(, VM_INHERIT_SHARE\);) 291.472 343.666 T
([94]) 82.34 355.666 T
(if \() 144.0 355.666 T
3 FF
(kr) 155.94 355.666 T
2 FF
(\)) 164.27 355.666 T
([95]) 82.34 367.666 T
(return ) 180.0 367.666 T
3 FF
(kr) 206.38 367.666 T
2 FF
(;) 214.71 367.666 T
([96]) 82.34 379.666 T
(return KERN_SUCCESS;) 144.0 379.666 T
([97]) 82.34 391.666 T
(}) 108.0 391.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 140 140
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
2 SC
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(136 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Netw) 180.0 56.824 T
(ork Shar) 199.899 56.824 T
(ed Memory Ser) 233.991 56.824 T
(v) 293.382 56.824 T
(er) 297.793 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 141 141
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (137 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 115.999969 M 1.19989 0 (APPENDIX A) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 115.999969 M -0.479736 0 (MIG Language ) ashow
180 145.999924 M -0.479736 0 (Speci\336cation) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666626 M 0.175934 0 32 (The syntax of speci\336cation \336les is gi) widthshow
219.465744 367.666626 M 0.175934 0 32 (v) widthshow
224.315826 367.666626 M 0.175934 0 32 (en semi-formally in what can be vie) widthshow
368.981567 367.666626 M 0.175934 0 32 (wed as a slight-) widthshow
(ly e) 72.0 379.667 T
(xtended conte) 86.57 379.667 T
(xt free grammar) 142.24 379.667 T
(. ) 206.11 379.667 T
72 403.666504 M 0.677826 0 32 (Meta language description: The right hand side of a production rule is indented from its) widthshow
72 415.666443 M 1.31076 0 32 (left hand side \(its heading\). T) widthshow
195.614197 415.666443 M 1.31076 0 32 (erminal symbols are in plain font. Non-terminal symbols) widthshow
72 427.666382 M 0.060684 0 32 (are in bold font. Symbols in italics are non-terminal symbols not de\336ned within the gram-) widthshow
(mar b) 72.0 439.666 T
(ut that ha) 94.85 439.666 T
(v) 131.87 439.666 T
(e ob) 136.72 439.666 T
(vious de\336nitions:) 153.51 439.666 T
5 (Times-Roman) 7 1 mymakefontmetric
5 FF
<a5> 72.0 457.666 T
6 (Times-Italic) 10 1 mymakefontmetric
6 FF
(number) 85.536 457.666 T
4 FF
( - a string of digits from 0 to 9) 116.086 457.666 T
5 FF
<a5> 72.0 472.666 T
6 FF
85.535995 472.666199 M 0.475189 0 32 (identi\336er) widthshow
4 FF
121.645996 472.666199 M 0.475189 0 32 ( - a name consisting of upper and lo) widthshow
268.50766 472.666199 M 0.475189 0 32 (wer case letters, digits 0 to 9 and under-) widthshow
(scores, with the \336rst character being a letter or an underscore) 85.536 484.666 T
5 FF
<a5> 72.0 499.666 T
6 FF
85.535995 499.666077 M 1.583633 0 32 (string) widthshow
4 FF
108.875992 499.666077 M 1.583633 0 32 ( - a string of letters, numbers, slashes, periods, underscores, dollar signs and) widthshow
(dashes) 85.536 511.666 T
5 FF
<a5> 72.0 526.666 T
6 FF
85.535995 526.665955 M 0.751953 0 32 (quotedstring) widthshow
4 FF
136.095993 526.665955 M 0.751953 0 32 ( - a string of arbitrary characters \(other than \323 and ne) widthshow
354.877655 526.665955 M 0.751953 0 32 (w-line\) surrounded) widthshow
(by quotes) 85.536 538.666 T
5 FF
<a5> 72.0 553.666 T
6 FF
85.535995 553.665833 M 1.068649 0 32 (anglestring) widthshow
4 FF
131.095993 553.665833 M 1.068649 0 32 ( - a string of arbitrary characters \(other than > and ne) widthshow
354.56131 553.665833 M 1.068649 0 32 (w-line\) surrounded) widthshow
(by angle brack) 85.536 565.666 T
(ets \(<>\)) 144.306 565.666 T
5 FF
<a5> 72.0 580.666 T
6 FF
<de6c656e616d65> 85.536 580.666 T
4 FF
( - a ) 119.416 580.666 T
6 FF
(quotedstring ) 134.686 580.666 T
4 FF
(or an ) 187.746 580.666 T
6 FF
(anglestring) 210.516 580.666 T
4 FF
(The symbol) 72.0 604.666 T
7 (Symbol) 12 1 mymakefontmetric
7 FF
(e) 119.5 604.666 T
4 FF
( indicates an empty string.) 124.768 604.666 T
72 628.665588 M 0.69725 0 32 (Symbols within a single production are separated by blanks. Alternati) widthshow
356.885406 628.665588 M 0.69725 0 32 (v) widthshow
361.735474 628.665588 M 0.69725 0 32 (e productions are) widthshow
(listed on consecuti) 72.0 640.666 T
(v) 146.19 640.666 T
(e lines under a production rule heading. ) 151.04 640.666 T
72 664.665466 M 1.958542 0 32 (Comments may be included in \322) widthshow
6 FF
210.952713 664.665466 M 1.958542 0 32 (.defs\323) widthshow
4 FF
235.122711 664.665466 M 1.958542 0 32 ( \336le if surrounded by \322/*\323 and \322*/\323. The) widthshow
410.331146 664.665466 M 1.958542 0 32 (y are) widthshow
(parsed and remo) 72.0 676.665 T
(v) 137.94 676.665 T
(ed by ) 142.79 676.665 T
1 FF
(cpp) 167.23 676.665 T
4 FF
(. ) 182.79 676.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 142 142
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(138 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(MIG Language Speci\336cation) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650635 M 0.430634 0 32 (No attempt has been made to indicate in the grammar that types must be declared before) widthshow
(the) 180.0 125.651 T
(y are used. ) 192.07 125.651 T
0 FF
(Statements) 180.0 155.651 T
4 (Symbol) 12 1 mymakefontmetric
4 FF
(e) 216.0 179.65 T
0 FF
(Statements) 216.0 203.65 T
3 FF
( ) 263.21 203.65 T
0 FF
(Statement) 265.71 203.65 T
0 FF
(Statement) 180.0 233.65 T
0 FF
(Subsystem) 216.0 257.65 T
3 FF
(;) 261.56 257.65 T
0 FF
(W) 216.0 281.65 T
(aitT) 225.35 281.65 T
(ime) 242.95 281.65 T
3 FF
(;) 258.5 281.65 T
0 FF
(MsgOption) 216.0 305.65 T
3 FF
(;) 264.34 305.65 T
0 FF
(Ser) 216.0 329.65 T
(v) 230.34 329.65 T
(erPr) 235.24 329.65 T
(e\336x) 254.49 329.65 T
3 FF
(;) 269.49 329.65 T
0 FF
(UserPr) 216.0 353.65 T
(e\336x) 246.36 353.65 T
3 FF
(;) 261.36 353.65 T
0 FF
(Ser) 216.0 377.65 T
(v) 230.34 377.65 T
(erDemux) 235.24 377.65 T
3 FF
(;) 274.67 377.65 T
0 FF
(T) 216.0 401.65 T
(ypeDecl) 221.93 401.65 T
3 FF
(;) 255.81 401.65 T
0 FF
(RoutineDecl) 216.0 425.65 T
3 FF
(;) 268.77 425.65 T
(skip;) 216.0 449.65 T
0 FF
(Import) 216.0 473.65 T
3 FF
(;) 246.55 473.65 T
0 FF
(RCSDecl) 216.0 497.65 T
3 FF
(;) 254.88 497.65 T
(;) 216.0 521.65 T
0 FF
(Subsystem) 180.0 551.65 T
3 FF
(subsystem ) 216.0 575.65 T
0 FF
(SubsystemMods SubsystemName) 260.17 575.65 T
3 FF
( ) 402.67 575.65 T
0 FF
(SubsystemBase) 405.17 575.65 T
0 FF
(SubsystemMods) 180.0 605.65 T
4 FF
(e) 216.0 629.649 T
0 FF
(SubsystemMods) 216.0 653.649 T
3 FF
( ) 285.45 653.649 T
0 FF
(SubsystemMod) 287.95 653.649 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 143 143
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (139 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
1 FF
(SubsystemMod) 72.0 115.667 T
2 (Times-Roman) 10 1 mymakefontmetric
2 FF
(k) 108.0 139.667 T
(erneluser) 112.9 139.667 T
(k) 108.0 163.667 T
(ernelserv) 112.9 163.667 T
(er) 149.4 163.667 T
1 FF
(SubsystemName) 72.0 193.666 T
3 (Times-Italic) 10 1 mymakefontmetric
3 FF
(identi\336er) 108.0 217.666 T
2 FF
( ) 144.11 217.666 T
1 FF
(SubsystemBase) 72.0 247.666 T
3 FF
(number) 108.0 271.666 T
2 FF
( ) 138.55 271.666 T
1 FF
(W) 72.0 301.666 T
(aitT) 81.35 301.666 T
(ime) 98.95 301.666 T
2 FF
(w) 108.0 325.666 T
(aittime ) 115.12 325.666 T
3 FF
(string) 145.4 325.666 T
2 FF
(no) 108.0 349.666 T
(w) 117.75 349.666 T
(aittime) 124.87 349.666 T
1 FF
(MsgOption) 72.0 379.666 T
2 FF
(msgoption ) 108.0 403.666 T
3 FF
(string) 152.73 403.666 T
1 FF
(Ser) 72.0 433.666 T
(v) 86.34 433.666 T
(erPr) 91.24 433.666 T
(e\336x) 110.49 433.666 T
2 FF
(serv) 108.0 457.666 T
(erpre\336x ) 124.51 457.666 T
3 FF
(identi\336er) 158.11 457.666 T
1 FF
(UserPr) 72.0 487.666 T
(e\336x) 102.36 487.666 T
2 FF
(userpre\336x ) 108.0 511.666 T
3 FF
(identi\336er) 150.49 511.666 T
1 FF
(Ser) 72.0 541.666 T
(v) 86.34 541.666 T
(erDemux) 91.24 541.666 T
2 FF
(serv) 108.0 565.666 T
(erdemux ) 124.51 565.666 T
3 FF
(identi\336er) 162.0 565.666 T
1 FF
(Import) 72.0 595.666 T
1 FF
(ImportIndicant) 108.0 619.666 T
2 FF
( ) 174.67 619.666 T
3 FF
<de6c656e616d65> 177.17 619.666 T
1 FF
(ImportIndicant) 72.0 649.665 T
2 FF
(import) 108.0 673.665 T
(uimport) 108.0 697.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 144 144
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(140 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(MIG Language Speci\336cation) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(simport) 216.0 113.651 T
0 FF
(RCSDecl) 180.0 143.651 T
3 FF
(rcsid ) 216.0 167.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(quotedstring) 237.94 167.651 T
0 FF
(T) 180.0 197.65 T
(ypeDecl) 185.93 197.65 T
3 FF
(type ) 216.0 221.65 T
0 FF
(NamedT) 235.72 221.65 T
(ypeSpec) 272.2 221.65 T
0 FF
(NamedT) 180.0 251.65 T
(ypeSpec) 216.48 251.65 T
4 FF
(identi\336er) 216.0 275.65 T
3 FF
( = ) 252.11 275.65 T
0 FF
(T) 262.75 275.65 T
(ransT) 268.68 275.65 T
(ypeSpec) 293.501 275.65 T
0 FF
(T) 180.0 305.65 T
(ransT) 185.93 305.65 T
(ypeSpec) 210.751 305.65 T
0 FF
(T) 216.0 329.65 T
(ypeSpec) 221.93 329.65 T
3 FF
( ) 256.93 329.65 T
0 FF
(T) 216.0 353.65 T
(ransT) 221.93 353.65 T
(ypeSpec) 246.751 353.65 T
3 FF
( intran: ) 281.751 353.65 T
4 FF
(identi\336er) 312.861 353.65 T
3 FF
( ) 348.971 353.65 T
4 FF
(identi\336er) 351.471 353.65 T
3 FF
( \(i) 387.581 353.65 T
4 FF
(denti\336er\)) 396.191 353.65 T
0 FF
(T) 216.0 377.65 T
(ransT) 221.93 377.65 T
(ypeSpec) 246.751 377.65 T
3 FF
( outtran: ) 281.751 377.65 T
4 FF
(identi\336er identi\336er) 317.861 377.65 T
3 FF
( \(i) 392.581 377.65 T
4 FF
(denti\336er\)) 401.191 377.65 T
0 FF
(T) 216.0 401.65 T
(ransT) 221.93 401.65 T
(ypeSpec) 246.751 401.65 T
3 FF
( destructor: ) 281.751 401.65 T
4 FF
(identi\336er \(identi\336er\)) 329.521 401.65 T
0 FF
(T) 216.0 425.65 T
(ransT) 221.93 425.65 T
(ypeSpec) 246.751 425.65 T
3 FF
( ctype: ) 281.751 425.65 T
4 FF
(identi\336er) 311.191 425.65 T
0 FF
(T) 216.0 449.65 T
(ransT) 221.93 449.65 T
(ypeSpec) 246.751 449.65 T
3 FF
( cusertype: ) 281.751 449.65 T
4 FF
(identi\336er) 327.851 449.65 T
0 FF
(T) 216.0 473.65 T
(ransT) 221.93 473.65 T
(ypeSpec) 246.751 473.65 T
3 FF
( cserv) 281.751 473.65 T
(ertype: ) 305.201 473.65 T
4 FF
(identi\336er) 335.471 473.65 T
0 FF
(T) 180.0 503.65 T
(ypeSpec) 185.93 503.65 T
0 FF
(BasicT) 216.0 527.65 T
(ypeSpec) 244.71 527.65 T
3 FF
( ) 279.71 527.65 T
0 FF
(Pr) 216.0 551.65 T
(e) 226.37 551.65 T
(vT) 230.66 551.65 T
(ypeSpec) 241.591 551.65 T
3 FF
( ) 276.591 551.65 T
0 FF
(V) 216.0 575.65 T
(arArrayHead) 222.301 575.65 T
3 FF
( ) 280.621 575.65 T
0 FF
(T) 283.121 575.65 T
(ypeSpec) 289.051 575.65 T
(ArrayHead) 216.0 599.65 T
3 FF
( ) 264.88 599.65 T
0 FF
(T) 267.38 599.65 T
(ypeSpec) 273.31 599.65 T
3 FF
(^ ) 216.0 623.65 T
0 FF
(T) 223.19 623.65 T
(ypeSpec) 229.12 623.65 T
(StructHead) 216.0 647.65 T
3 FF
( ) 265.44 647.65 T
0 FF
(T) 267.94 647.65 T
(ypeSpec) 273.87 647.65 T
(CStringSpec) 216.0 671.65 T
3 FF
( ) 269.89 671.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 145 145
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (141 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
1 FF
(BasicT) 72.0 115.667 T
(ypeSpec) 100.71 115.667 T
1 FF
(PrimT) 108.0 139.667 T
(ype) 135.59 139.667 T
2 (Times-Roman) 10 1 mymakefontmetric
2 FF
( ) 150.59 139.667 T
1 FF
(PrimT) 108.0 163.667 T
(ype) 135.59 163.667 T
2 FF
( | ) 150.59 163.667 T
1 FF
(PrimT) 157.59 163.667 T
(ype) 185.181 163.667 T
1 FF
(PrimT) 72.0 193.667 T
(ype) 99.59 193.667 T
2 FF
(MA) 108.0 217.667 T
(CH_MSG_TYPE_BOOLEAN) 123.71 217.667 T
2 FF
(MA) 108.0 241.667 T
(CH_MSG_TYPE_INTEGER_8) 123.71 241.667 T
(MA) 108.0 265.666 T
(CH_MSG_TYPE_INTEGER_16) 123.71 265.666 T
(MA) 108.0 289.666 T
(CH_MSG_TYPE_INTEGER_32) 123.71 289.666 T
2 FF
(MA) 108.0 313.666 T
(CH_MSG_TYPE_INTEGER_64) 123.71 313.666 T
2 FF
(MA) 108.0 337.666 T
(CH_MSG_TYPE_CHAR) 123.71 337.666 T
(MA) 108.0 361.666 T
(CH_MSG_TYPE_BYTE) 123.71 361.666 T
2 FF
(MA) 108.0 385.666 T
(CH_MSG_TYPE_REAL_32) 123.71 385.666 T
(MA) 108.0 409.666 T
(CH_MSG_TYPE_REAL_64) 123.71 409.666 T
(MA) 108.0 433.666 T
(CH_MSG_TYPE_MO) 123.71 433.666 T
(VE_RECEIVE) 214.88 433.666 T
2 FF
(MA) 108.0 457.666 T
(CH_MSG_TYPE_COPY_SEND) 123.71 457.666 T
(MA) 108.0 481.666 T
(CH_MSG_TYPE_MAKE_SEND) 123.71 481.666 T
(MA) 108.0 505.666 T
(CH_MSG_TYPE_MO) 123.71 505.666 T
(VE_SEND) 214.88 505.666 T
(MA) 108.0 529.666 T
(CH_MSG_TYPE_MAKE_SEND_ONCE) 123.71 529.666 T
(MA) 108.0 553.666 T
(CH_MSG_TYPE_MO) 123.71 553.666 T
(VE_SEND_ONCE) 214.88 553.666 T
2 FF
(MA) 108.0 577.666 T
(CH_MSG_TYPE_POL) 123.71 577.666 T
(YMORPHIC) 217.161 577.666 T
1 FF
(IPCFlags) 72.0 607.666 T
3 (Symbol) 12 1 mymakefontmetric
3 FF
(e) 108.0 631.666 T
1 FF
(IPCFlags) 108.0 655.666 T
2 FF
(, notdealloc) 148.0 655.666 T
1 FF
(IPCFlags) 108.0 679.666 T
2 FF
(, dealloc) 148.0 679.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 146 146
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(142 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(MIG Language Speci\336cation) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
0 FF
(IPCFlags,) 216.0 113.651 T
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
( dealloc []) 258.5 113.651 T
0 FF
(IPCFlags,) 216.0 137.651 T
3 FF
( countinout) 258.5 137.651 T
0 FF
(IPCFlags,) 216.0 161.651 T
3 FF
( samecount) 258.5 161.651 T
0 FF
(IPCFlags,) 216.0 185.651 T
3 FF
( ph) 258.5 185.651 T
(ysicalcop) 270.95 185.651 T
(y) 308.62 185.651 T
0 FF
(IPCFlags,) 216.0 209.651 T
3 FF
( o) 258.5 209.651 T
(v) 265.85 209.651 T
(erwrite) 270.7 209.651 T
0 FF
(IPCFlags,) 216.0 233.651 T
3 FF
( retcode) 258.5 233.651 T
0 FF
(Pr) 180.0 263.651 T
(e) 190.37 263.651 T
(vT) 194.66 263.651 T
(ypeSpec) 205.591 263.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(identi\336er) 216.0 287.651 T
3 FF
( ) 252.11 287.651 T
0 FF
(V) 180.0 317.65 T
(arArrayHead) 186.301 317.65 T
3 FF
(array [] of) 216.0 341.65 T
(array [*] of) 216.0 365.65 T
(array [*: ) 216.0 389.65 T
0 FF
(IntExp) 252.65 389.65 T
3 FF
(] of) 282.66 389.65 T
0 FF
(ArrayHead) 180.0 419.65 T
3 FF
(array [I) 216.0 443.65 T
0 FF
(ntExp) 245.7 443.65 T
3 FF
(] of) 271.82 443.65 T
0 FF
(StructHead) 180.0 473.65 T
3 FF
(struct [I) 216.0 497.65 T
0 FF
(ntExp) 247.38 497.65 T
3 FF
(] of) 273.5 497.65 T
0 FF
(CStringSpec) 180.0 527.65 T
3 FF
(c_string [I) 216.0 551.65 T
0 FF
(ntExp) 257.38 551.65 T
3 FF
(]) 283.5 551.65 T
(c_string [*: I) 216.0 575.65 T
0 FF
(ntExp) 267.66 575.65 T
3 FF
(]) 293.78 575.65 T
0 FF
(IntExp) 180.0 605.65 T
0 FF
(IntExp) 216.0 629.65 T
3 FF
(+ ) 246.01 629.65 T
0 FF
(IntExp) 254.15 629.65 T
(IntExp) 216.0 653.65 T
3 FF
<d020> 246.01 653.65 T
0 FF
(IntExp) 253.51 653.65 T
(IntExp) 216.0 677.65 T
3 FF
(* ) 246.01 677.65 T
0 FF
(IntExp) 253.51 677.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 147 147
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (143 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
1 FF
(IntExp) 108.0 115.667 T
2 (Times-Roman) 10 1 mymakefontmetric
2 FF
(/ ) 138.01 115.667 T
1 FF
(IntExp) 143.29 115.667 T
3 (Times-Italic) 10 1 mymakefontmetric
3 FF
(number) 108.0 139.667 T
2 FF
( ) 138.55 139.667 T
2 FF
(\(I) 108.0 163.667 T
1 FF
(ntExp) 114.66 163.667 T
2 FF
(\)) 140.78 163.667 T
1 FF
(RoutineDecl) 72.0 193.666 T
2 FF
(Routine) 108.0 217.666 T
(SimpleRoutine) 108.0 241.666 T
1 FF
(Routine) 72.0 271.666 T
2 FF
(routine ) 108.0 295.666 T
3 FF
(identi\336er) 138.83 295.666 T
2 FF
( ) 174.94 295.666 T
1 FF
(Ar) 177.44 295.666 T
(guments) 189.0 295.666 T
1 FF
(SimpleRoutine) 72.0 325.666 T
2 FF
(simpleroutine ) 108.0 349.666 T
3 FF
(identi\336er) 165.5 349.666 T
2 FF
( ) 201.61 349.666 T
1 FF
(Ar) 204.11 349.666 T
(guments) 215.67 349.666 T
2 FF
(A) 72.0 379.666 T
1 FF
(r) 79.22 379.666 T
(guments) 83.56 379.666 T
2 FF
(\(\)) 108.0 403.666 T
(\(A) 108.0 427.666 T
1 FF
(r) 118.55 427.666 T
(gumentList) 122.89 427.666 T
2 FF
(\)) 171.78 427.666 T
1 FF
(Ar) 72.0 457.666 T
(gumentList) 83.56 457.666 T
1 FF
(Ar) 108.0 481.666 T
(gument) 119.56 481.666 T
2 FF
( ) 151.78 481.666 T
1 FF
(Ar) 108.0 505.666 T
(gument;) 119.56 505.666 T
2 FF
( ) 155.11 505.666 T
1 FF
(Ar) 157.61 505.666 T
(gumentList) 169.17 505.666 T
1 FF
(Ar) 72.0 535.666 T
(gument) 83.56 535.666 T
1 FF
(Dir) 108.0 559.666 T
(ection) 122.26 559.666 T
2 FF
( ) 147.81 559.666 T
3 FF
(identi\336er) 150.31 559.666 T
2 FF
( ) 186.42 559.666 T
1 FF
(Ar) 188.92 559.666 T
(gumentT) 200.48 559.666 T
(ype) 238.631 559.666 T
2 FF
( ) 253.631 559.666 T
1 FF
(IPCFlags) 256.131 559.666 T
1 FF
(Dir) 72.0 589.666 T
(ection) 86.26 589.666 T
4 (Symbol) 12 1 mymakefontmetric
4 FF
(e) 108.0 613.666 T
2 FF
(in) 108.0 637.665 T
(out) 108.0 661.665 T
(inout) 108.0 685.665 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 148 148
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(144 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(MIG Language Speci\336cation) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(requestport) 216.0 113.651 T
(replyport) 216.0 137.651 T
(sreplyport) 216.0 161.651 T
(ureplyport) 216.0 185.65 T
(w) 216.0 209.65 T
(aittime) 223.12 209.65 T
(msgoption) 216.0 233.65 T
(msgseqno) 216.0 257.65 T
3 FF
(serv) 216.0 281.65 T
(ersecid) 232.51 281.65 T
(usersecid) 216.0 305.65 T
0 FF
(Ar) 180.0 335.65 T
(gumentT) 191.56 335.65 T
(ype) 229.71 335.65 T
3 FF
(: ) 216.0 359.65 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(identi\336er) 221.28 359.65 T
3 FF
(: ) 216.0 383.65 T
0 FF
(NamedT) 221.28 383.65 T
(ypeSpec) 257.76 383.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 149 149
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (145 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (APPENDIX B) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (Standard MIG T) ashow
330.004761 116 M -0.479736 0 (ypes) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(This appendix pro) 72.0 367.667 T
(vides the de\336nition of the standard MIG data types.) 144.62 367.667 T
72 408.999939 360 3.024002 CR
432 410.51 M
72 410.51 L
S
0 0 612 792 CR
5 (Times-Bold) 14 1 mymakefontmetric
5 FF
(Pr) 72.0 405.333 T
(e-de\336ned T) 86.518 405.333 T
(ypenames) 152.767 405.333 T
4 FF
72 429.690613 M 0.310699 0 32 (MIG internally de\336nes the follo) widthshow
200.202942 429.690613 M 0.310699 0 32 (wing types. These types are almost ne) widthshow
353.737305 429.690613 M 0.310699 0 32 (v) widthshow
358.587372 429.690613 M 0.310699 0 32 (er directly used as) widthshow
72 441.690613 M 0.836868 0 32 (the type in an ar) widthshow
139.59758 441.690613 M 0.836868 0 32 (gument speci\336cation because their type names do not ha) widthshow
371.612671 441.690613 M 0.836868 0 32 (v) widthshow
376.462738 441.690613 M 0.836868 0 32 (e correspond-) widthshow
(ing named C data types.) 72.0 453.691 T
6 (Times-Bold) 12 1 mymakefontmetric
6 FF
(Scalar Data) 72.0 485.024 T
4 FF
(The follo) 72.0 501.691 T
(wing base types de\336ne non-k) 108.69 501.691 T
(ernel processed data v) 225.24 501.691 T
(alues.) 313.57 501.691 T
7 (Times-Roman) 7 1 mymakefontmetric
7 FF
<a5> 72.0 519.691 T
4 FF
85.535995 519.690552 M 1.463348 0 32 (MA) widthshow
101.246216 519.690552 M 1.463348 0 32 (CH_MSG_TYPE_BOOLEAN \321 a boolean v) widthshow
291.279755 519.690552 M 1.463348 0 32 (alue, stored in memory in 32 bits) widthshow
(b) 85.536 531.691 T
(ut transmitted as 1 byte) 90.336 531.691 T
7 FF
<a5> 72.0 546.691 T
4 FF
(MA) 85.536 546.691 T
(CH_MSG_TYPE_INTEGER_64 \321 an 8 byte inte) 101.246 546.691 T
(ger) 303.586 546.691 T
7 FF
<a5> 72.0 561.691 T
4 FF
(MA) 85.536 561.691 T
(CH_MSG_TYPE_INTEGER_32 \321 a 4 byte inte) 101.246 561.691 T
(ger) 298.586 561.691 T
7 FF
<a5> 72.0 576.69 T
4 FF
(MA) 85.536 576.69 T
(CH_MSG_TYPE_INTEGER_16 \321 a 2 byte inte) 101.246 576.69 T
(ger) 298.586 576.69 T
7 FF
<a5> 72.0 591.69 T
4 FF
(MA) 85.536 591.69 T
(CH_MSG_TYPE_INTEGER_8 \321 a 1 byte inte) 101.246 591.69 T
(ger) 293.586 591.69 T
7 FF
<a5> 72.0 606.69 T
4 FF
(MA) 85.536 606.69 T
(CH_MSG_TYPE_CHAR \321 a single byte character) 101.246 606.69 T
7 FF
<a5> 72.0 621.69 T
4 FF
(MA) 85.536 621.69 T
(CH_MSG_TYPE_BYTE \321 a single byte) 101.246 621.69 T
7 FF
<a5> 72.0 636.69 T
4 FF
(MA) 85.536 636.69 T
(CH_MSG_TYPE_REAL_32 \321 a single precision \337oating point v) 101.246 636.69 T
(alue) 366.276 636.69 T
7 FF
<a5> 72.0 651.69 T
4 FF
(MA) 85.536 651.69 T
(CH_MSG_TYPE_REAL_64 \321 a double precision \337oating point v) 101.246 651.69 T
(alue) 369.606 651.69 T
6 FF
(P) 72.0 683.024 T
(ort Rights) 79.092 683.024 T
4 FF
(The follo) 72.0 699.69 T
(wing base types de\336ne processing of port rights.) 108.69 699.69 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 150 150
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(146 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Standard MIG T) 180.0 56.824 T
(ypes) 244.846 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 7 1 mymakefontmetric
3 FF
<a5> 180.0 113.651 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
193.535995 113.650665 M 1.949234 0 32 (MA) widthshow
209.246216 113.650665 M 1.949234 0 32 (CH_MSG_TYPE_MO) widthshow
300.416504 113.650665 M 1.949234 0 32 (VE_RECEIVE \321 mo) widthshow
392.495056 113.650665 M 1.949234 0 32 (v) widthshow
397.345123 113.650665 M 1.949234 0 32 (e a recei) widthshow
434.303741 113.650665 M 1.949234 0 32 (v) widthshow
439.153809 113.650665 M 1.949234 0 32 (e right. This type has a) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
193.535995 125.65065 M 4.450684 0 32 (mac) widthshow
210.046082 125.65065 M 4.450684 0 32 (h_msg_descriptor_t) widthshow
4 FF
290.046082 125.65065 M 4.450684 0 32 ( type of MA) widthshow
352.158356 125.65065 M 4.450684 0 32 (CH_MSG_TYPE_MO) widthshow
443.328613 125.65065 M 4.450684 0 32 (VE_RECEIVE on the) widthshow
(sending side and MA) 193.536 137.651 T
(CH_MSG_TYPE_POR) 278.406 137.651 T
(T_RECEIVE when recei) 372.817 137.651 T
(ving.) 471.987 137.651 T
3 FF
<a5> 180.0 152.651 T
4 FF
193.535995 152.65062 M 0.836945 0 32 (MA) widthshow
209.246216 152.65062 M 0.836945 0 32 (CH_MSG_TYPE_COPY_SEND \321 send a cop) widthshow
403.044067 152.65062 M 0.836945 0 32 (y of a send right. This type has a) widthshow
5 FF
193.535995 164.650604 M 1.170609 0 32 (mac) widthshow
210.046082 164.650604 M 1.170609 0 32 (h_msg_descriptor_t) widthshow
4 FF
290.046082 164.650604 M 1.170609 0 32 ( type of MA) widthshow
342.318115 164.650604 M 1.170609 0 32 (CH_MSG_TYPE_COPY_SEND on the sending) widthshow
(side and MA) 193.536 176.651 T
(CH_MSG_TYPE_POR) 244.796 176.651 T
(T_SEND when recei) 339.207 176.651 T
(ving.) 422.267 176.651 T
3 FF
<a5> 180.0 191.651 T
4 FF
193.535995 191.650574 M 0.490341 0 32 (MA) widthshow
209.246216 191.650574 M 0.490341 0 32 (CH_MSG_TYPE_MAKE_SEND \321 mak) widthshow
378.45697 191.650574 M 0.490341 0 32 (e a send right from a recei) widthshow
485.559143 191.650574 M 0.490341 0 32 (v) widthshow
490.409241 191.650574 M 0.490341 0 32 (e right. This) widthshow
193.535995 203.650558 M 1.441956 0 32 (type has a ) widthshow
5 FF
240.351868 203.650558 M 1.441956 0 32 (mac) widthshow
256.861938 203.650558 M 1.441956 0 32 (h_msg_descriptor_t) widthshow
4 FF
336.861938 203.650558 M 1.441956 0 32 ( type of MA) widthshow
389.948059 203.650558 M 1.441956 0 32 (CH_MSG_TYPE_MAKE_SEND on) widthshow
(the sending side and MA) 193.536 215.651 T
(CH_MSG_TYPE_POR) 293.126 215.651 T
(T_SEND when recei) 387.537 215.651 T
(ving.) 470.597 215.651 T
3 FF
<a5> 180.0 230.651 T
4 FF
193.535995 230.650528 M 0.034286 0 32 (MA) widthshow
209.246216 230.650528 M 0.034286 0 32 (CH_MSG_TYPE_MO) widthshow
300.416504 230.650528 M 0.034286 0 32 (VE_SEND \321 mo) widthshow
372.555145 230.650528 M 0.034286 0 32 (v) widthshow
377.405212 230.650528 M 0.034286 0 32 (e a send right. This type has a ) widthshow
5 FF
499.04953 230.650528 M 0.034286 0 32 (mac) widthshow
515.559631 230.650528 M 0.034286 0 32 (h_ms-) widthshow
193.535995 242.650513 M 0.852921 0 32 (g_descriptor_t) widthshow
4 FF
252.425995 242.650513 M 0.852921 0 32 ( type of MA) widthshow
303.744995 242.650513 M 0.852921 0 32 (CH_MSG_TYPE_MO) widthshow
394.915253 242.650513 M 0.852921 0 32 (VE_SEND on the sending side and) widthshow
(MA) 193.536 254.65 T
(CH_MSG_TYPE_POR) 209.246 254.65 T
(T_SEND when recei) 303.657 254.65 T
(ving.) 386.717 254.65 T
3 FF
<a5> 180.0 269.65 T
4 FF
193.535995 269.650482 M 1.501694 0 32 (MA) widthshow
209.246216 269.650482 M 1.501694 0 32 (CH_MSG_TYPE_MAKE_SEND_ONCE \321 mak) widthshow
412.699646 269.650482 M 1.501694 0 32 (e a send-once right from a re-) widthshow
193.535995 281.650452 M 0.222122 0 32 (cei) widthshow
204.946136 281.650452 M 0.222122 0 32 (v) widthshow
209.796219 281.650452 M 0.222122 0 32 (e right. This type has a sending side ) widthshow
5 FF
357.393188 281.650452 M 0.222122 0 32 (mac) widthshow
373.90329 281.650452 M 0.222122 0 32 (h_msg_descriptor_t) widthshow
4 FF
453.90329 281.650452 M 0.222122 0 32 ( type of MA) widthshow
503.329895 281.650452 M 0.222122 0 32 (CH_MS-) widthshow
193.535995 293.650452 M 16.495621 0 32 (G_TYPE_MAKE_SEND_ONCE and a recei) widthshow
423.572998 293.650452 M 16.495621 0 32 (ving side type of) widthshow
(MA) 193.536 305.65 T
(CH_MSG_TYPE_POR) 209.246 305.65 T
(T_SEND_ONCE.) 303.657 305.65 T
3 FF
<a5> 180.0 320.65 T
4 FF
193.535995 320.650421 M 1.733322 0 32 (MA) widthshow
209.246216 320.650421 M 1.733322 0 32 (CH_MSG_TYPE_MO) widthshow
300.416504 320.650421 M 1.733322 0 32 (VE_SEND_ONCE \321 mo) widthshow
408.173218 320.650421 M 1.733322 0 32 (v) widthshow
413.023315 320.650421 M 1.733322 0 32 (e a send-once right. This type) widthshow
193.535995 332.650391 M 2.118683 0 32 (has a ) widthshow
5 FF
220.543365 332.650391 M 2.118683 0 32 (mac) widthshow
237.053452 332.650391 M 2.118683 0 32 (h_msg_descriptor_t) widthshow
4 FF
317.053467 332.650391 M 2.118683 0 32 ( type of MA) widthshow
372.169739 332.650391 M 2.118683 0 32 (CH_MSG_TYPE_MO) widthshow
463.339996 332.650391 M 2.118683 0 32 (VE_SEND_ONCE) widthshow
(on the sending side and MA) 193.536 344.65 T
(CH_MSG_TYPE_POR) 305.626 344.65 T
(T_SEND_ONCE when recei) 400.037 344.65 T
(ving.) 515.317 344.65 T
3 FF
<a5> 180.0 359.65 T
4 FF
193.535995 359.650391 M 0.352554 0 32 (MA) widthshow
209.246216 359.650391 M 0.352554 0 32 (CH_MSG_TYPE_POL) widthshow
302.696777 359.650391 M 0.352554 0 32 (YMORPHIC \321 names an) widthshow
408.874512 359.650391 M 0.352554 0 32 (y right. This type e) widthshow
485.964813 359.650391 M 0.352554 0 32 (xpands into a) widthshow
4 FF
193.535995 371.65036 M 0.230209 0 32 (pair of parameters when used, one for the name of the right to be sent \(C type ) widthshow
5 FF
510.159607 371.65036 M 0.230209 0 32 (mac) widthshow
526.669678 371.65036 M 0.230209 0 32 (h_-) widthshow
193.535995 383.65033 M 0.553055 0 32 (port_t) widthshow
4 FF
217.985992 383.65033 M 0.553055 0 32 (\), and one \(of C type ) widthshow
5 FF
306.564331 383.65033 M 0.553055 0 32 (mac) widthshow
323.074402 383.65033 M 0.553055 0 32 (h_msg_descriptor_t) widthshow
4 FF
403.074402 383.65033 M 0.553055 0 32 (\) specifying the disposition of the) widthshow
(right.) 193.536 395.65 T
180 419.65033 M 1.639938 0 32 (The follo) widthshow
218.330078 419.65033 M 1.639938 0 32 (wing three polymorphic right types can be de\336ned in terms of other b) widthshow
515.549438 419.65033 M 1.639938 0 32 (uilt-in) widthshow
(types b) 180.0 431.65 T
(ut are supplied as b) 208.41 431.65 T
(uilt-in as well.) 285.42 431.65 T
(type MA) 216.0 455.65 T
(CH_MSG_TYPE_POR) 251.43 455.65 T
(T_RECEIVE = ) 345.841 455.65 T
(MA) 270.0 467.65 T
(CH_MSG_TYPE_POL) 285.71 467.65 T
(YMORPHIC | ) 379.161 467.65 T
(MA) 270.0 479.65 T
(CH_MSG_TYPE_POR) 285.71 479.65 T
(T_RECEIVE;) 380.121 479.65 T
(type MA) 216.0 503.65 T
(CH_MSG_TYPE_POR) 251.43 503.65 T
(T_SEND = ) 345.841 503.65 T
(MA) 270.0 515.65 T
(CH_MSG_TYPE_POL) 285.71 515.65 T
(YMORPHIC | ) 379.161 515.65 T
(MA) 270.0 527.65 T
(CH_MSG_TYPE_POR) 285.71 527.65 T
(T_SEND;) 380.121 527.65 T
(type MA) 216.0 551.65 T
(CH_MSG_TYPE_POR) 251.43 551.65 T
(T_SEND_ONCE = ) 345.841 551.65 T
(MA) 270.0 563.65 T
(CH_MSG_TYPE_POL) 285.71 563.65 T
(YMORPHIC | ) 379.161 563.65 T
(MA) 270.0 575.65 T
(CH_MSG_TYPE_POR) 285.71 575.65 T
(T_SEND_ONCE;) 380.121 575.65 T
180 616.983459 360 3.024002 CR
0.25 SL
2 SC
540 618.5 M
180 618.5 L
S
0 0 612 792 CR
6 (Times-Bold) 14 1 mymakefontmetric
6 FF
(Standard De\336ned T) 180.0 613.317 T
(ypes) 297.209 613.317 T
4 FF
180 637.674133 M 0.233261 0 32 (The follo) widthshow
216.923401 637.674133 M 0.233261 0 32 (wing types are de\336ned in ) widthshow
0 FF
321.1297 637.674133 M 0.233261 0 32 (<mach/std_types.defs>) widthshow
4 FF
418.359711 637.674133 M 0.233261 0 32 (. These types are used in pref-) widthshow
180 649.674072 M 1.285782 0 32 (erence to MIG internally de\336ned types because these types ha) widthshow
438.812195 649.674072 M 1.285782 0 32 (v) widthshow
443.662262 649.674072 M 1.285782 0 32 (e corresponding C data) widthshow
(types, or ha) 180.0 661.674 T
(v) 226.18 661.674 T
(e the corresponding C data type named e) 231.03 661.674 T
(xplicitly) 393.9 661.674 T
(.) 426.591 661.674 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 151 151
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (147 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Standard De\336ned T) 72.0 56.824 T
(ypes) 147.349 56.824 T
0.25 SL
3.86 setmiterlimit
0 SC
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 108 360 594 NF
0 G
3 (Times-Bold) 12 1 mymakefontmetric
3 FF
(Integer and Data T) 72.0 117.0 T
(ypes) 169.44 117.0 T
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
(type ) 108.0 141.667 T
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
(c) 127.72 141.667 T
(har) 132.01 141.667 T
4 FF
( = MA) 145.9 141.667 T
(CH_MSG_TYPE_CHAR;) 172.25 141.667 T
(type ) 108.0 165.667 T
5 FF
(short) 127.72 165.667 T
4 FF
( = MA) 148.28 165.667 T
(CH_MSG_TYPE_INTEGER_16;) 174.63 165.667 T
(type ) 108.0 189.667 T
5 FF
(int) 127.72 189.667 T
4 FF
( = MA) 138.28 189.667 T
(CH_MSG_TYPE_INTEGER_32;) 164.63 189.667 T
(type ) 108.0 213.667 T
5 FF
(longint) 127.72 213.667 T
4 FF
( = MA) 156.06 213.667 T
(CH_MSG_TYPE_INTEGER_64;) 182.41 213.667 T
(type ) 108.0 237.667 T
5 FF
(boolean_t) 127.72 237.667 T
4 FF
( = MA) 167.72 237.667 T
(CH_MSG_TYPE_BOOLEAN;) 194.07 237.667 T
(type ) 108.0 261.667 T
5 FF
(unsigned) 127.72 261.667 T
4 FF
( = MA) 163.83 261.667 T
(CH_MSG_TYPE_INTEGER_32;) 190.18 261.667 T
(type ) 108.0 285.667 T
5 FF
(pointer_t) 127.72 285.667 T
4 FF
( = ^array[] of MA) 164.39 285.667 T
(CH_MSG_TYPE_BYTE;) 235.96 285.667 T
3 FF
(P) 72.0 317.0 T
(ort Right T) 79.092 317.0 T
(ypes) 136.201 317.0 T
4 FF
72 333.666565 M 0.25528 0 32 (The follo) widthshow
108.945419 333.666565 M 0.25528 0 32 (wing types de\336ne passage of speci\336c rights. Note that ) widthshow
5 FF
328.99295 333.666565 M 0.25528 0 32 (mac) widthshow
345.503052 333.666565 M 0.25528 0 32 (h_port_t) widthshow
4 FF
379.953033 333.666565 M 0.25528 0 32 ( def) widthshow
395.378357 333.666565 M 0.25528 0 32 (aults to a) widthshow
(send right cop) 72.0 345.667 T
(y) 128.56 345.667 T
(.) 132.91 345.667 T
(type ) 108.0 369.667 T
5 FF
(mac) 127.72 369.667 T
(h_port_t) 144.23 369.667 T
4 FF
( = MA) 178.68 369.667 T
(CH_MSG_TYPE_COPY_SEND;) 205.03 369.667 T
(type ) 108.0 393.667 T
5 FF
(mac) 127.72 393.667 T
(h_port_arr) 144.23 393.667 T
(ay_t) 188.53 393.667 T
4 FF
( = ^array[] of ) 205.75 393.667 T
5 FF
(mac) 261.61 393.667 T
(h_port_t) 278.12 393.667 T
4 FF
(;) 312.57 393.667 T
(type ) 108.0 417.666 T
5 FF
(mac) 127.72 417.666 T
(h_port_mo) 144.23 417.666 T
(ve_r) 188.02 417.666 T
(eceive_t) 205.42 417.666 T
4 FF
( = MA) 238.18 417.666 T
(CH_MSG_TYPE_MO) 264.531 417.666 T
(VE_RECEIVE ) 355.701 417.666 T
(ctype: ) 162.0 429.666 T
5 FF
(mac) 188.94 429.666 T
(h_port_t) 205.45 429.666 T
4 FF
(;) 239.9 429.666 T
(type ) 108.0 453.666 T
5 FF
(mac) 127.72 453.666 T
(h_port_copy_send_t) 144.23 453.666 T
4 FF
( = MA) 225.89 453.666 T
(CH_MSG_TYPE_COPY_SEND ctype: ) 252.24 453.666 T
5 FF
(mac) 162.0 465.666 T
(h_port_t) 178.51 465.666 T
4 FF
(;) 212.96 465.666 T
(type ) 108.0 489.666 T
5 FF
(mac) 127.72 489.666 T
(h_port_mak) 144.23 489.666 T
(e_send_t) 192.46 489.666 T
4 FF
( = MA) 228.01 489.666 T
(CH_MSG_TYPE_MAKE_SEND ctype: ) 254.36 489.666 T
5 FF
(mac) 162.0 501.666 T
(h_port_t) 178.51 501.666 T
4 FF
(;) 212.96 501.666 T
(type ) 108.0 525.666 T
5 FF
(mac) 127.72 525.666 T
(h_port_mo) 144.23 525.666 T
(ve_send_t) 188.02 525.666 T
4 FF
( = MA) 228.01 525.666 T
(CH_MSG_TYPE_MO) 254.36 525.666 T
(VE_SEND ctype: ) 345.531 525.666 T
5 FF
(mac) 162.0 537.666 T
(h_port_t) 178.51 537.666 T
4 FF
(;) 212.96 537.666 T
(type ) 108.0 561.666 T
5 FF
(mac) 127.72 561.666 T
(h_port_mak) 144.23 561.666 T
(e_send_once_t) 192.46 561.666 T
4 FF
( = ) 251.89 561.666 T
(MA) 162.0 573.666 T
(CH_MSG_TYPE_MAKE_SEND_ONCE ctype: ) 177.71 573.666 T
5 FF
(mac) 375.48 573.666 T
(h_port_t) 391.99 573.666 T
4 FF
(;) 426.44 573.666 T
(type ) 108.0 597.666 T
5 FF
(mac) 127.72 597.666 T
(h_port_mo) 144.23 597.666 T
(ve_send_once_t) 188.02 597.666 T
4 FF
( = ) 251.89 597.666 T
(MA) 162.0 609.666 T
(CH_MSG_TYPE_MO) 177.71 609.666 T
(VE_SEND_ONCE ctype: ) 268.88 609.666 T
5 FF
(mac) 374.98 609.666 T
(h_port_t) 391.491 609.666 T
4 FF
(;) 425.941 609.666 T
72 633.666321 M 0.800858 0 32 (The ne) widthshow
100.140945 633.666321 M 0.800858 0 32 (xt types de\336ne the polymorphic rights passage\321those requiring an additional ar-) widthshow
(gument to the MIG stub to specify the actual type of right being passed.) 72.0 645.666 T
(type ) 108.0 669.666 T
5 FF
(mac) 127.72 669.666 T
(h_port_r) 144.23 669.666 T
(eceive_t) 179.42 669.666 T
4 FF
( = MA) 212.18 669.666 T
(CH_MSG_TYPE_POR) 238.531 669.666 T
(T_RECEIVE ctype: ) 332.941 669.666 T
5 FF
(mac) 162.0 681.666 T
(h_port_t) 178.51 681.666 T
4 FF
(;) 212.96 681.666 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 152 152
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(148 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Standard MIG T) 180.0 56.824 T
(ypes) 244.846 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
(type ) 216.0 113.651 T
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
(mac) 235.72 113.651 T
(h_port_send_t) 252.23 113.651 T
3 FF
( = MA) 310.01 113.651 T
(CH_MSG_TYPE_POR) 336.36 113.651 T
(T_SEND ctype: ) 430.771 113.651 T
4 FF
(mac) 270.0 125.651 T
(h_port_t) 286.51 125.651 T
3 FF
(;) 320.96 125.651 T
(type ) 216.0 149.651 T
4 FF
(mac) 235.72 149.651 T
(h_port_send_once_t) 252.23 149.651 T
3 FF
( = MA) 333.89 149.651 T
(CH_MSG_TYPE_POR) 360.24 149.651 T
(T_SEND_ONCE ) 454.651 149.651 T
(ctype: ) 270.0 161.651 T
4 FF
(mac) 296.94 161.651 T
(h_port_t) 313.45 161.651 T
3 FF
(;) 347.9 161.651 T
180 185.650604 M 0.777283 0 32 (The follo) widthshow
217.467422 185.650604 M 0.777283 0 32 (wing port right type de\336nes a port right that is polymorphic to both the sender) widthshow
(and recei) 180.0 197.651 T
(v) 216.12 197.651 T
(er:) 220.97 197.651 T
(type ) 216.0 221.651 T
4 FF
(polymorphic) 235.72 221.651 T
3 FF
( = MA) 286.27 221.651 T
(CH_MSG_TYPE_POL) 312.62 221.651 T
(YMORPHIC;) 406.071 221.651 T
(type ) 216.0 245.651 T
4 FF
(mac) 235.72 245.651 T
(h_port_poly_t) 252.23 245.651 T
3 FF
( = MA) 308.9 245.651 T
(CH_MSG_TYPE_POL) 335.25 245.651 T
(YMORPHIC ctype: ) 428.701 245.651 T
4 FF
(mac) 270.0 257.651 T
(h_port_t) 286.51 257.651 T
3 FF
(;) 320.96 257.651 T
180 281.650513 M 0.194962 0 32 (When a port name \(v) widthshow
265.049927 281.650513 M 0.194962 0 32 (ersus the actual right\) is to be sent, the follo) widthshow
441.534729 281.650513 M 0.194962 0 32 (wing \(inte) widthshow
482.40979 281.650513 M 0.194962 0 32 (gral\) types are) widthshow
(used depending on the machine w) 180.0 293.651 T
(ord length:) 315.71 293.651 T
(type MA) 216.0 317.65 T
(CH_MSG_TYPE_POR) 251.43 317.65 T
(T_N) 345.841 317.65 T
(AME = ) 363.821 317.65 T
(MA) 270.0 329.65 T
(CH_MSG_TYPE_INTEGER_32;) 285.71 329.65 T
(type MA) 216.0 353.65 T
(CH_MSG_TYPE_POR) 251.43 353.65 T
(T_N) 345.841 353.65 T
(AME = ) 363.821 353.65 T
(MA) 270.0 365.65 T
(CH_MSG_TYPE_INTEGER_64;) 285.71 365.65 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 153 153
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (149 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (APPENDIX C) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
180 116 M -0.479736 0 (Service Serv) ashow
295.851379 116 M -0.479736 0 (er) ashow
1 G
72 360 360 344.015991 NF
0 G
4 (Times-Roman) 10 1 mymakefontmetric
4 FF
72 367.666656 M 0.884476 0 32 (Each task inherits a set of ) widthshow
5 (Times-Italic) 10 1 mymakefontmetric
5 FF
182.286865 367.666656 M 0.884476 0 32 (r) widthshow
185.807068 367.666656 M 0.884476 0 32 (e) widthshow
189.84729 367.666656 M 0.884476 0 32 (gister) widthshow
212.257492 367.666656 M 0.884476 0 32 (ed) widthshow
4 FF
221.697495 367.666656 M 0.884476 0 32 ( ports upon creation \() widthshow
1 FF
310.775391 367.666656 M 0.884476 0 32 (mach_ports_r) widthshow
370.58551 367.666656 M 0.884476 0 32 (egister) widthshow
4 FF
398.905518 367.666656 M 0.884476 0 32 (\). These) widthshow
72 379.666626 M 1.088486 0 32 (are \(send rights\) for the name serv) widthshow
215.56102 379.666626 M 1.088486 0 32 (er) widthshow
222.931244 379.666626 M 1.088486 0 32 (, an en) widthshow
251.08844 379.666626 M 1.088486 0 32 (vironment serv) widthshow
312.296997 379.666626 M 1.088486 0 32 (er and the service serv) widthshow
405.911072 379.666626 M 1.088486 0 32 (er) widthshow
413.131348 379.666626 M 1.088486 0 32 (. All) widthshow
72 391.666626 M 1.008789 0 32 (tasks in the system are intended to share the same name serv) widthshow
324.846802 391.666626 M 1.008789 0 32 (er \(that is the point of the) widthshow
72 403.666626 M 2.293503 0 32 (serv) widthshow
88.510086 403.666626 M 2.293503 0 32 (er\) whereas dif) widthshow
152.817245 403.666626 M 2.293503 0 32 (ferent groups of tasks may ha) widthshow
282.114868 403.666626 M 2.293503 0 32 (v) widthshow
286.964966 403.666626 M 2.293503 0 32 (e pri) widthshow
307.058594 403.666626 M 2.293503 0 32 (v) widthshow
311.808746 403.666626 M 2.293503 0 32 (ate en) widthshow
337.30249 403.666626 M 2.293503 0 32 (vironment serv) widthshow
399.716064 403.666626 M 2.293503 0 32 (ers. Al-) widthshow
72 415.666595 M 0.366821 0 32 (though an en) widthshow
123.993866 415.666595 M 0.366821 0 32 (vironment serv) widthshow
184.480774 415.666595 M 0.366821 0 32 (er has been written, it is not typically used \(and is not part of) widthshow
72 427.666565 M 0.372086 0 32 (the standard distrib) widthshow
149.204285 427.666565 M 0.372086 0 32 (ution\) so it is not discussed further) widthshow
289.217102 427.666565 M 0.372086 0 32 (. The name serv) widthshow
354.053467 427.666565 M 0.372086 0 32 (er w) widthshow
371.815613 427.666565 M 0.372086 0 32 (as discussed in) widthshow
(CHAPTER 2. This appendix discusses the purpose and need for the service serv) 72.0 439.667 T
(er) 392.63 439.667 T
(.) 399.85 439.667 T
72 463.666565 M 1.54422 0 32 (All tasks need access to the \(same\) name serv) widthshow
266.933868 463.666565 M 1.54422 0 32 (er) widthshow
274.154175 463.666565 M 1.54422 0 32 (. Gi) widthshow
290.448547 463.666565 M 1.54422 0 32 (v) widthshow
295.298615 463.666565 M 1.54422 0 32 (en a task whose re) widthshow
374.63559 463.666565 M 1.54422 0 32 (gistered name) widthshow
72 475.666534 M 1.077271 0 32 (serv) widthshow
88.510086 475.666534 M 1.077271 0 32 (er port names the name serv) widthshow
206.216537 475.666534 M 1.077271 0 32 (er) widthshow
213.586761 475.666534 M 1.077271 0 32 (, all tasks deri) widthshow
272.118713 475.666534 M 1.077271 0 32 (v) widthshow
276.968811 475.666534 M 1.077271 0 32 (ed from that task will inherit the port) widthshow
72 487.666504 M 1.046326 0 32 (and share access to the name serv) widthshow
212.528061 487.666504 M 1.046326 0 32 (er) widthshow
219.748367 487.666504 M 1.046326 0 32 (. Unfortunately) widthshow
281.245056 487.666504 M 1.046326 0 32 (, being a task itself, the name serv) widthshow
424.229431 487.666504 M 1.046326 0 32 (er) widthshow
72 499.666504 M 1.585342 0 32 (initializes itself after certain other tasks \(such as the init process, ) widthshow
1 FF
349.948792 499.666504 M 1.585342 0 32 (/etc/init) widthshow
4 FF
382.168793 499.666504 M 1.585342 0 32 (\) run. Thus,) widthshow
72 511.666504 M 1.449966 0 32 (most tasks, which deri) widthshow
165.540039 511.666504 M 1.449966 0 32 (v) widthshow
170.390121 511.666504 M 1.449966 0 32 (e indirectly from the init task will be missing the name serv) widthshow
424.229858 511.666504 M 1.449966 0 32 (er) widthshow
(\(and en) 72.0 523.666 T
(vironment serv) 101.31 523.666 T
(er\) port.) 161.43 523.666 T
72 547.666443 M 0.126602 0 32 (Because of this, the ports for the name and en) widthshow
255.47966 547.666443 M 0.126602 0 32 (vironment serv) widthshow
315.726349 547.666443 M 0.126602 0 32 (ers must be created \(and re) widthshow
423.669464 547.666443 M 0.126602 0 32 (g-) widthshow
72 559.666443 M 0.060654 0 32 (ister with the init process\) before the serv) widthshow
238.074677 559.666443 M 0.060654 0 32 (ers the ports name e) widthshow
318.1474 559.666443 M 0.060654 0 32 (xist. This mechanism is pro-) widthshow
(vided by the ) 72.0 571.666 T
5 FF
(service) 123.94 571.666 T
4 FF
( serv) 152.26 571.666 T
(er) 171.27 571.666 T
(.) 178.49 571.666 T
72 595.666382 M 1.438095 0 32 (The pri) widthshow
102.348236 595.666382 M 1.438095 0 32 (vile) widthshow
117.198318 595.666382 M 1.438095 0 32 (ged service serv) widthshow
184.344604 595.666382 M 1.438095 0 32 (er \() widthshow
1 FF
199.382706 595.666382 M 1.438095 0 32 (/mach_ser) widthshow
243.162766 595.666382 M 1.438095 0 32 (v) widthshow
248.06282 595.666382 M 1.438095 0 32 (ers/mach_init) widthshow
4 FF
306.392822 595.666382 M 1.438095 0 32 (\) is run as the \336rst process. It) widthshow
72 607.666382 M 0.578613 0 32 (creates the ports that will name the name and en) widthshow
269.267761 607.666382 M 0.578613 0 32 (vironment serv) widthshow
329.966461 607.666382 M 0.578613 0 32 (ers \(as well as itself\) and) widthshow
72 619.666382 M 1.076385 0 32 (forcibly re) widthshow
114.856476 619.666382 M 1.076385 0 32 (gisters them with its parent, thus placing these re) widthshow
318.577637 619.666382 M 1.076385 0 32 (gistered ports at the root of) widthshow
(the task deri) 72.0 631.666 T
(v) 120.63 631.666 T
(ation tree.) 125.38 631.666 T
72 655.666382 M 1.553802 0 32 (When the name or en) widthshow
163.345444 655.666382 M 1.553802 0 32 (vironment serv) widthshow
225.019333 655.666382 M 1.553802 0 32 (er is initialized, it re) widthshow
311.354614 655.666382 M 1.553802 0 32 (gisters itself with the service) widthshow
72 667.666321 M 0.22525 0 32 (serv) widthshow
88.510086 667.666321 M 0.22525 0 32 (er) widthshow
95.88031 667.666321 M 0.22525 0 32 (, making the port created by the service serv) widthshow
274.432434 667.666321 M 0.22525 0 32 (er its o) widthshow
301.853058 667.666321 M 0.22525 0 32 (wn. Only the name and en) widthshow
407.55954 667.666321 M 0.22525 0 32 (viron-) widthshow
72 679.666321 M 1.034927 0 32 (ment serv) widthshow
112.045013 679.666321 M 1.034927 0 32 (er ha) widthshow
132.590057 679.666321 M 1.034927 0 32 (v) widthshow
137.44014 679.666321 M 1.034927 0 32 (e need for the service serv) widthshow
247.144882 679.666321 M 1.034927 0 32 (er) widthshow
254.365189 679.666321 M 1.034927 0 32 (. It is important that these serv) widthshow
381.80484 679.666321 M 1.034927 0 32 (ers initialize) widthshow
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 154 154
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(150 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Ser) 180.0 56.824 T
(vice Ser) 192.906 56.824 T
(v) 223.056 56.824 T
(er) 227.466 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 105.984009 360 596.015991 NF
0 G
3 (Times-Roman) 10 1 mymakefontmetric
3 FF
180 113.650665 M 0.111267 0 32 (before user tasks are created as the service serv) widthshow
369.550262 113.650665 M 0.111267 0 32 (er will check-in the correct \(the \336rst\) serv-) widthshow
(ers to announce their desire to re) 180.0 125.651 T
(gister) 310.37 125.651 T
(.) 332.04 125.651 T
180 149.650635 M 1.096832 0 32 (Gi) widthshow
189.750137 149.650635 M 1.096832 0 32 (v) widthshow
194.60022 149.650635 M 1.096832 0 32 (en the service serv) widthshow
271.880798 149.650635 M 1.096832 0 32 (er port \(one of all task\325) widthshow
368.735291 149.650635 M 1.096832 0 32 (s re) widthshow
383.842224 149.650635 M 1.096832 0 32 (gistered ports\), ) widthshow
4 (Times-Italic) 10 1 mymakefontmetric
4 FF
448.525879 149.650635 M 1.096832 0 32 (service_server) widthshow
5 (Symbol) 10 1 mymakefontmetric
5 FF
506.835876 149.650635 M 1.096832 0 32 ( \256 ) widthshow
0 FF
523.899536 149.650635 M 1.096832 0 32 (ser-) widthshow
180 161.65062 M 0.327606 0 32 (vice_checkin) widthshow
3 FF
234.440002 161.65062 M 0.327606 0 32 ( re) widthshow
244.887695 161.65062 M 0.327606 0 32 (gisters a gi) widthshow
288.623047 161.65062 M 0.327606 0 32 (v) widthshow
293.473145 161.65062 M 0.327606 0 32 (en serv) widthshow
322.250824 161.65062 M 0.327606 0 32 (er) widthshow
329.47113 161.65062 M 0.327606 0 32 (. The name serv) widthshow
394.174042 161.65062 M 0.327606 0 32 (er) widthshow
401.54425 161.65062 M 0.327606 0 32 (, for e) widthshow
425.649567 161.65062 M 0.327606 0 32 (xample, locates the port that) widthshow
180 173.650604 M 1.561737 0 32 (will name it \(by \336nding the send right in its re) widthshow
379.357452 173.650604 M 1.561737 0 32 (gistered port set\) and uses this port to) widthshow
180 185.650589 M 1.26709 0 32 (name itself to the service serv) widthshow
305.325562 185.650589 M 1.26709 0 32 (er) widthshow
312.545837 185.650589 M 1.26709 0 32 (. The service serv) widthshow
386.727234 185.650589 M 1.26709 0 32 (er then returns recei) widthshow
469.968628 185.650589 M 1.26709 0 32 (v) widthshow
474.818726 185.650589 M 1.26709 0 32 (e rights for that) widthshow
180 197.650574 M 0.236206 0 32 (port so that the name serv) widthshow
284.071106 197.650574 M 0.236206 0 32 (er can no) widthshow
320.943665 197.650574 M 0.236206 0 32 (w respond to client name requests. \(Up until this time,) widthshow
(the service serv) 180.0 209.651 T
(er merely ignored requests on the name serv) 242.05 209.651 T
(er port.\).) 418.8 209.651 T
180 233.650543 M 0.619049 0 32 (The service serv) widthshow
246.618195 233.650543 M 0.619049 0 32 (er also pro) widthshow
289.916382 233.650543 M 0.619049 0 32 (vides a ) widthshow
4 FF
321.704468 233.650543 M 0.619049 0 32 (service_server ) widthshow
5 FF
383.133545 233.650543 M 0.619049 0 32 <ae20> widthshow
0 FF
396.122589 233.650543 M 0.619049 0 32 (ser) widthshow
408.792664 233.650543 M 0.619049 0 32 (vice_waitf) widthshow
451.862793 233.650543 M 0.619049 0 32 (or) widthshow
3 FF
461.302795 233.650543 M 0.619049 0 32 ( function that w) widthshow
526.109985 233.650543 M 0.619049 0 32 (aits) widthshow
(until the named serv) 180.0 245.651 T
(er is re) 261.23 245.651 T
(gistered.) 288.29 245.651 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 155 155
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
2 SL
3.86 setmiterlimit
0 G
432 45 M
72 45 L
S
2 SC
432 342 M
72 342 L
S
0.25 SL
432 720 M
72 720 L
S
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (151 ) widthshow
0 0 612 792 CR
1 G
72 99 360 225 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
72 116 M 1.19989 0 (APPENDIX D) ashow
3 (Times-Roman) 24 1 mymakefontmetric
3 FF
207 116 M -0.479736 0 (Function ) ashow
207 146 M -0.479736 0 (Inde) ashow
247.369263 146 M -0.479736 0 (x) ashow
1 G
72 360 360 342 NF
0 G
2 FF
(_start) 108.0 369.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 135.0 369.0 T
(50) 420.0 369.0 T
4 (Helvetica-Bold) 10 1 mymakefontmetric
4 FF
(C) 72.0 389.667 T
2 FF
(condition_alloc) 108.0 401.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 183.0 401.0 T
(55, 60) 402.0 401.0 T
(condition_broadcast) 108.0 414.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 207.0 414.0 T
(54, 74) 402.0 414.0 T
(condition_clear) 108.0 427.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 183.0 427.0 T
(55) 420.0 427.0 T
(condition_free) 108.0 440.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 180.0 440.0 T
(55) 420.0 440.0 T
(condition_init) 108.0 453.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 177.0 453.0 T
(55, 59, 73) 384.0 453.0 T
(condition_name) 108.0 466.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 186.0 466.0 T
(57) 420.0 466.0 T
(condition_set_name) 108.0 479.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 207.0 479.0 T
(57) 420.0 479.0 T
(condition_signal) 108.0 492.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 189.0 492.0 T
(54, 58, 59) 384.0 492.0 T
(condition_wait) 108.0 505.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . ) 180.0 505.0 T
(54, 55, 58, 60, 73, 74) 330.0 505.0 T
(cthread_count) 108.0 518.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 177.0 518.0 T
(51) 420.0 518.0 T
(cthread_data) 108.0 531.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 171.0 531.0 T
(51) 420.0 531.0 T
(cthread_detach) 108.0 544.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 183.0 544.0 T
(51, 59, 60, 82) 366.0 544.0 T
(cthread_exit) 108.0 557.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 168.0 557.0 T
(51, 60) 402.0 557.0 T
(cthread_fork) 108.0 570.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 171.0 570.0 T
(51, 56, 59, 60, 82) 348.0 570.0 T
(cthread_init) 108.0 583.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 168.0 583.0 T
(50) 420.0 583.0 T
(cthread_join) 108.0 596.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 168.0 596.0 T
(51) 420.0 596.0 T
(cthread_mach_msg) 108.0 609.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 204.0 609.0 T
(52) 420.0 609.0 T
(cthread_msg_active) 108.0 622.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 204.0 622.0 T
(52) 420.0 622.0 T
(cthread_msg_busy) 108.0 635.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 198.0 635.0 T
(52) 420.0 635.0 T
(cthread_name) 108.0 648.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 177.0 648.0 T
(57) 420.0 648.0 T
(cthread_self) 108.0 661.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 168.0 661.0 T
(51) 420.0 661.0 T
(cthread_set_data) 108.0 674.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 189.0 674.0 T
(51) 420.0 674.0 T
(cthread_set_kernel_limit) 108.0 687.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 228.0 687.0 T
(52, 56) 402.0 687.0 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 156 156
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(152 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Function Index) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 72 360 630 NF
0 G
3 (Times-Roman) 12 1 mymakefontmetric
3 FF
(cthread_set_limit) 216.0 81.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 300.0 81.0 T
(52) 528.0 81.0 T
(cthread_set_name) 216.0 94.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 303.0 94.0 T
(57) 528.0 94.0 T
(cthread_stack_size) 216.0 107.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 309.0 107.0 T
(51) 528.0 107.0 T
(cthread_unwire) 216.0 120.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 291.0 120.0 T
(52) 528.0 120.0 T
(cthread_wire) 216.0 133.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 279.0 133.0 T
(52) 528.0 133.0 T
(cthread_yield) 216.0 146.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 282.0 146.0 T
(52, 59) 510.0 146.0 T
4 (Helvetica-Bold) 10 1 mymakefontmetric
4 FF
(D) 180.0 166.667 T
3 FF
(do_mach_notify_dead_name) 216.0 178.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . ) 357.0 178.0 T
(42, 80) 510.0 178.0 T
(do_mach_notify_no_senders) 216.0 191.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . ) 357.0 191.0 T
(43, 79) 510.0 191.0 T
(do_mach_notify_port_deleted) 216.0 204.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . ) 363.0 204.0 T
(43, 80) 510.0 204.0 T
(do_mach_notify_send_once) 216.0 217.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . ) 354.0 217.0 T
(43, 80) 510.0 217.0 T
4 FF
(M) 180.0 237.667 T
3 FF
(mach_error) 216.0 249.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 273.0 249.0 T
(24) 528.0 249.0 T
(mach_host_self) 216.0 262.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 294.0 262.0 T
(3, 112) 510.0 262.0 T
(mach_msg) 216.0 275.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 270.0 275.0 T
(27, 32, 52) 492.0 275.0 T
(mach_msg_server) 216.0 288.0 T
(.) 306.0 288.0 T
309 287.999969 M -0.230804 0 32 (6, 25, 28, 30, 32, 33, 34, 44, 66, 76, 81, 82, 117, ) widthshow
(121, 122, 128) 216.0 301.0 T
(mach_port_allocate) 216.0 314.0 T
(. . . . . . . . . . . . . . . . ) 312.0 314.0 T
(27, 34, 44, 46, 75, 105, 122) 408.0 314.0 T
(mach_port_allocate_name) 216.0 327.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 345.0 327.0 T
(65, 70) 510.0 327.0 T
(mach_port_deallocate) 216.0 340.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 324.0 340.0 T
(84, 108) 504.0 340.0 T
(mach_port_destroy) 216.0 353.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 309.0 353.0 T
(46) 528.0 353.0 T
(mach_port_get_refs) 216.0 366.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 312.0 366.0 T
(84) 528.0 366.0 T
(mach_port_insert_right) 216.0 379.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 330.0 379.0 T
(76, 77) 510.0 379.0 T
(mach_port_mod_refs) 216.0 392.0 T
( . . . . . . . . . . . . . ) 321.0 392.0 T
(34, 39, 42, 78, 107, 113, 114) 402.0 392.0 T
(mach_port_move_member) 216.0 405.0 T
(. . . . . . . . . . . . . . . . . . . . . . . ) 348.0 405.0 T
(44, 77, 105) 486.0 405.0 T
(mach_port_request_notification) 216.0 418.0 T
(. . . . . . . . . . . . . . . . . . . . ) 372.0 418.0 T
(40, 77, 78) 492.0 418.0 T
(mach_port_set_attributes) 216.0 431.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 339.0 431.0 T
(44, 70) 510.0 431.0 T
(mach_ports_lookup) 216.0 444.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 312.0 444.0 T
(3) 534.0 444.0 T
(mach_ports_register) 216.0 457.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 315.0 457.0 T
(149) 522.0 457.0 T
(mach_reply_port) 216.0 470.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 300.0 470.0 T
(3) 534.0 470.0 T
(mach_task_self) 216.0 483.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 291.0 483.0 T
(3) 534.0 483.0 T
(mach_thread_self) 216.0 496.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 303.0 496.0 T
(3) 534.0 496.0 T
(memory_object_change_attributes) 216.0 509.0 T
(. . . . . . . . . . . . . . . . . . . . . . . ) 384.0 509.0 T
(127) 522.0 509.0 T
(memory_object_change_completed) 216.0 522.0 T
(. . . . . . . . . . . . . . . . . . . . . . ) 390.0 522.0 T
(121) 522.0 522.0 T
(memory_object_data_error) 216.0 535.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . ) 348.0 535.0 T
(115, 126) 498.0 535.0 T
(memory_object_data_request) 216.0 548.0 T
(. . . . . . . . . . . ) 360.0 548.0 T
(90, 91, 95, 97, 114, 129) 426.0 548.0 T
(memory_object_data_return) 216.0 561.0 T
(. . . . . . . . . . . ) 354.0 561.0 T
(91, 96, 97, 117, 127, 129) 420.0 561.0 T
(memory_object_data_supply) 216.0 574.0 T
( . . . . . . . . . . ) 357.0 574.0 T
(91, 92, 95, 115, 120, 127) 420.0 574.0 T
(memory_object_data_unavailable) 216.0 587.0 T
( . . . . . . . . . . . . . . . . ) 381.0 587.0 T
(95, 101, 115) 480.0 587.0 T
(memory_object_data_unlock) 216.0 600.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . ) 357.0 600.0 T
(97, 116) 504.0 600.0 T
(memory_object_destroy) 216.0 613.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 333.0 613.0 T
(89) 528.0 613.0 T
(memory_object_establish) 216.0 626.0 T
(. . . . . . . . . . . . . . . . . . . . ) 342.0 626.0 T
(89, 90, 104, 113) 462.0 626.0 T
(memory_object_force_copy) 216.0 639.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 354.0 639.0 T
(98) 528.0 639.0 T
(memory_object_lock_completed) 216.0 652.0 T
( . . . . . . . . . . . . . . . . . ) 375.0 652.0 T
(96, 107, 118) 480.0 652.0 T
(memory_object_lock_request) 216.0 665.0 T
(. . ) 360.0 665.0 T
(95, 96, 98, 110, 111, 117, 119, 120) 372.0 665.0 T
(memory_object_notify) 216.0 678.0 T
( . . . . . . . . . . . . . . ) 327.0 678.0 T
(89, 90, 104, 106, 112, 127) 414.0 678.0 T
(memory_object_rejected) 216.0 691.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 336.0 691.0 T
(90, 113) 504.0 691.0 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 157 157
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
1 G
72 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 8 1 mymakefontmetric
0 FF
(Mach 3 Server Writer\325s Guide) 72.0 732.707 T
1 (Times-Bold) 10 1 mymakefontmetric
1 FF
417 732.706665 M -2.5 0 32 (153 ) widthshow
1 G
72 49.824005 360 12.024002 NF
0 G
0.25 SL
3.86 setmiterlimit
432 63 M
72 63 L
S
2 SL
432 45 M
72 45 L
S
0.25 SL
2 SC
432 720 M
72 720 L
S
0 0 612 792 CR
1 G
72 72 360 630 NF
0 G
2 (Times-Roman) 12 1 mymakefontmetric
2 FF
(memory_object_representative) 108.0 81.0 T
(. . . . . . . . . . . . . . . . . . . . . . . ) 258.0 81.0 T
(90, 112) 396.0 81.0 T
(memory_object_server) 108.0 94.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 219.0 94.0 T
(121) 414.0 94.0 T
(memory_object_supply_completed) 108.0 107.0 T
( . . . . . . . . . . . . . . . . . . ) 279.0 107.0 T
(121, 127) 390.0 107.0 T
(memory_object_synchronize) 108.0 120.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 249.0 120.0 T
(120) 414.0 120.0 T
(memory_object_synchronize_completed) 108.0 133.0 T
(. . . . . . . . . . . . . . . . . . ) 306.0 133.0 T
(120) 414.0 133.0 T
(memory_object_terminate) 108.0 146.0 T
( . . . . . . . . . . . . ) 237.0 146.0 T
(89, 90, 97, 113, 126, 127) 312.0 146.0 T
(memory_object_unlock_request) 108.0 159.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . ) 264.0 159.0 T
(131) 414.0 159.0 T
(mig_reply_setup) 108.0 172.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 189.0 172.0 T
(6, 29) 408.0 172.0 T
(mutex_alloc) 108.0 185.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 168.0 185.0 T
(49, 50, 55, 60) 366.0 185.0 T
(mutex_clear) 108.0 198.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 168.0 198.0 T
(49, 55) 402.0 198.0 T
(mutex_free) 108.0 211.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 165.0 211.0 T
(49, 55) 402.0 211.0 T
(mutex_init) 108.0 224.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 162.0 224.0 T
(49, 55, 59, 73, 75) 348.0 224.0 T
(mutex_lock) 108.0 237.0 T
( . . . . . . . . . . . . ) 165.0 237.0 T
(50, 53, 54, 55, 58, 59, 60, 73, 74, 76, 78) 240.0 237.0 T
(mutex_name) 108.0 250.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 171.0 250.0 T
(57) 420.0 250.0 T
(mutex_set_name) 108.0 263.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 192.0 263.0 T
(57) 420.0 263.0 T
(mutex_try_lock) 108.0 276.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 186.0 276.0 T
(53) 420.0 276.0 T
(mutex_unlock) 108.0 289.0 T
( . . . . . . . . . . . . . . . . . . . ) 177.0 289.0 T
(50, 53, 54, 58, 60, 74, 77, 79) 294.0 289.0 T
3 (Helvetica-Bold) 10 1 mymakefontmetric
3 FF
(N) 72.0 309.667 T
2 FF
(netmemory_cache) 108.0 321.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 198.0 321.0 T
(133, 135) 390.0 321.0 T
(netmemory_create) 108.0 334.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 198.0 334.0 T
(133, 134) 390.0 334.0 T
(netmemory_destroy) 108.0 347.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 204.0 347.0 T
(133, 135) 390.0 347.0 T
(netname_check_in) 108.0 360.0 T
(. . . . . . . . . . . . . . . . . . . . . ) 198.0 360.0 T
(3, 27, 44, 82, 105, 134) 324.0 360.0 T
(netname_check_out) 108.0 373.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 204.0 373.0 T
(4) 426.0 373.0 T
(netname_look_up) 108.0 386.0 T
( . . . . . . . . . . . . . . . . . . . . . . ) 195.0 386.0 T
(3, 4, 45, 83, 122, 134) 330.0 386.0 T
(notify_server) 108.0 399.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 174.0 399.0 T
(44, 81) 402.0 399.0 T
3 FF
(S) 72.0 419.667 T
2 FF
(service_checkin) 108.0 431.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 186.0 431.0 T
(150) 414.0 431.0 T
(service_waitfor) 108.0 444.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 183.0 444.0 T
(150) 414.0 444.0 T
3 FF
(T) 72.0 464.667 T
2 FF
(task_create) 108.0 476.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 162.0 476.0 T
(97) 420.0 476.0 T
(task_get_ledger_port) 108.0 489.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 210.0 489.0 T
(113) 414.0 489.0 T
(task_get_special_port) 108.0 502.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 213.0 502.0 T
(3) 426.0 502.0 T
3 FF
(V) 72.0 522.667 T
2 FF
(vm_allocate) 108.0 534.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . ) 168.0 534.0 T
(33, 101, 109, 111, 115) 324.0 534.0 T
(vm_copy) 108.0 547.0 T
( . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 153.0 547.0 T
(97) 420.0 547.0 T
(vm_deallocate) 108.0 560.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 180.0 560.0 T
(24, 33, 89, 117) 360.0 560.0 T
(vm_map) 108.0 573.0 T
(. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ) 150.0 573.0 T
(89, 93, 122, 133, 135) 330.0 573.0 T
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer

%%Page: 158 158
%%PageBoundingBox: 0 0 612 792
%%PageFonts: (atend)
%%BeginPageSetup
%%PaperSize: Letter
/__NXsheetsavetoken save def
0 0 translate
gsave
 /__NXbasematrix matrix currentmatrix def
grestore
gsave
0 0 612 792 rectclip
[1 0 0 -1 0 792] concat
0 0 translate
%%EndPageSetup
FMBEGINPAGE
gsave
0 0 612 792 rectclip
/landscape false def
0 0 612 792 CR
0.25 SL
3.86 setmiterlimit
0 G
540 720 M
180 720 L
S
1 G
180 725.039978 360 11.951996 NF
0 G
0 (Times-Bold) 10 1 mymakefontmetric
0 FF
(154 ) 180.0 732.707 T
1 (Times-Bold) 8 1 mymakefontmetric
1 FF
(Mach 3 Server Writer\325s Guide) 324.0 732.707 T
1 G
180 49.824005 360 12.024002 NF
0 G
2 (Times-Bold) 9 1 mymakefontmetric
2 FF
(Function Index) 180.0 56.824 T
0 SC
540 63 M
180 63 L
S
2 SL
540 45 M
180 45 L
S
0 0 612 792 CR
1 G
180 72 360 630 NF
grestore
FMENDPAGE
grestore
showpage
__NXsheetsavetoken restore
%%PageTrailer
%%Trailer
%%Pages: 158 1
%%BoundingBox:0 0 612 792

